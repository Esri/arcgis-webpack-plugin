// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.17/esri/copyright.txt for details.
//>>built
(function(a,b){var h,l=function(){return"undefined"!==typeof v&&"function"!==typeof v?v:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),n=function(){},d=function(a){for(var b in a)return 0;return 1},g={}.toString,k=function(a){return"[object Function]"==g.call(a)},c=function(a){return"[object String]"==g.call(a)},e=function(a){return"[object Array]"==g.call(a)},f=function(a,b){if(a)for(var c=0;c<a.length;)b(a[c++])},r=function(a,b){for(var c in b)a[c]=b[c];return a},q=function(a,
b){return r(Error(a),{src:"dojoLoader",info:b})},m=1,y=function(){return"_"+m++},u=function(a,b,c){return aa(a,b,c,0,u)},v=l,t=v.document,p=t&&t.createElement("DiV"),x=u.has=function(a){return k(w[a])?w[a]=w[a](v,t,p):w[a]},w=x.cache=b.hasCache;k(a)&&(a=a(l));x.add=function(a,b,c,d){(void 0===w[a]||d)&&(w[a]=b);return c&&x(a)};x.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);x("host-webworker")&&(r(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(a,b){try{importScripts(a),b()}catch(Ca){console.info("failed to load resource ("+a+")"),console.error(Ca)}}});for(var z in a.has)x.add(z,a.has[z],0,1);u.async=1;var B=x("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");u.eval=function(a,b){return B(a+"\r\n//# sourceURL\x3d"+b)};var A={},H=u.signal=function(a,b){a=A[a];f(a&&a.slice(0),function(a){a.apply(null,
e(b)?b:[b])})};z=u.on=function(a,b){var c=A[a]||(A[a]=[]);c.push(b);return{remove:function(){for(var a=0;a<c.length;a++)if(c[a]===b){c.splice(a,1);break}}}};var D=[],C={},K=[],L={},O=u.map={},J=[],G={},E="",F={},M={},l={},I=0;if(!x("foreign-loader"))var R=function(a,b){b=!1!==b;var c,d,f,e;for(c in M)d=M[c],(f=c.match(/^url\:(.+)/))?F["url:"+Da(f[1],a)]=d:"*now"==c?e=d:"*noref"!=c&&(f=ca(c,a,!0),F[f.mid]=F["url:"+f.url]=d);e&&e(da(a));b&&(M={})};var P=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(a){return"\\"+a})},S=function(a,b){b.splice(0,b.length);for(var c in a)b.push([c,a[c],new RegExp("^"+P(c)+"(/|$)"),c.length]);b.sort(function(a,b){return b[3]-a[3]});return b},W=function(a,b){f(a,function(a){b.push([c(a[0])?new RegExp("^"+P(a[0])+"$"):a[0],a[1]])})},T=function(a){var b=a.name;b||(b=a,a={name:b});a=r({main:"main"},a);a.location=a.location?a.location:b;a.packageMap&&(O[b]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));L[b]=a},Q=[],X=function(a,b,d){for(var e in a){"waitSeconds"==
e&&(u.waitms=1E3*(a[e]||0));"cacheBust"==e&&(E=a[e]?c(a[e])?a[e]:(new Date).getTime()+"":"");if("baseUrl"==e||"combo"==e)u[e]=a[e];a[e]!==w&&(u.rawConfig[e]=a[e],"has"!=e&&x.add("config-"+e,a[e],0,b))}u.baseUrl||(u.baseUrl="./");/\/$/.test(u.baseUrl)||(u.baseUrl+="/");for(e in a.has)x.add(e,a.has[e],0,b);f(a.packages,T);for(var k in a.packagePaths)f(a.packagePaths[k],function(a){var b=k+"/"+a;c(a)&&(a={name:a});a.location=b;T(a)});S(r(O,a.map),J);f(J,function(a){a[1]=S(a[1],[]);"*"==a[0]&&(J.star=
a)});S(r(C,a.paths),K);W(a.aliases,D);if(!x("foreign-loader")){if(b)Q.push({config:a.config});else for(e in a.config)b=na(e,d),b.config=r(b.config||{},a.config[e]);a.cache&&(R(),M=a.cache,R(0,!!a.cache["*noref"]))}H("config",[a,u.rawConfig])};if(x("dojo-cdn")){var U=t.getElementsByTagName("script");h=0;for(var N,Y,V,Z;h<U.length;)if(N=U[h++],(V=N.getAttribute("src"))&&(Z=V.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(Y=Z[3]||"",b.baseUrl=b.baseUrl||Y,I=N),V=N.getAttribute("data-dojo-config")||N.getAttribute("djConfig"))l=
u.eval("({ "+V+" })","data-dojo-config"),I=N}u.rawConfig={};X(b,1);x("dojo-cdn")&&((L.dojo.location=Y)&&(Y+="/"),L.dijit.location=Y+"../dijit/",L.dojox.location=Y+"../dojox/");X(a,1);X(l,1);if(!x("foreign-loader"))var ba=function(a){va(function(){f(a.deps,Ea)})},aa=function(a,b,d,f,k){var g;if(c(a)){if((g=na(a,f,!0))&&g.executed)return g.result;throw q("undefinedModule",a);}e(a)||(X(a,0,f),a=b,b=d);if(e(a))if(a.length){d="require*"+y();for(var m,p=[],t=0;t<a.length;)m=a[t++],p.push(na(m,f));g=r(ga("",
d,0,""),{injected:2,deps:p,def:b||n,require:f?f.require:u,gc:1});G[g.mid]=g;ba(g);var h=ra&&!0;va(function(){wa(g,h)});g.executed||ea.push(g);xa()}else b&&b();return k},da=function(a){if(!a)return u;var b=a.require;b||(b=function(c,d,e){return aa(c,d,e,a,b)},a.require=r(b,u),b.module=a,b.toUrl=function(b){return Da(b,a)},b.toAbsMid=function(b){return qa(b,a)});return b},ea=[],oa=[],fa={},pa=function(a){a.injected=1;fa[a.mid]=1;a.url&&(fa[a.url]=a.pack||1);Ka()},ja=function(a){a.injected=2;delete fa[a.mid];
a.url&&delete fa[a.url];d(fa)&&La()},ka=u.idle=function(){return!oa.length&&d(fa)&&!ea.length&&!ra};var ia=function(a,b){if(b)for(var c=0;c<b.length;c++)if(b[c][2].test(a))return b[c];return 0},la=function(a){var b=[],c,d;for(a=a.replace(/\\/g,"/").split("/");a.length;)c=a.shift(),".."==c&&b.length&&".."!=d?(b.pop(),d=b[b.length-1]):"."!=c&&b.push(d=c);return b.join("/")},ga=function(a,b,c,d){return{pid:a,mid:b,pack:c,url:d,executed:0,def:0}},ma=function(a,b,c,d,e,g,m,r,u,p){var t,h,w,n;n=/^\./.test(a);
if(/(^\/)|(\:)|(\.js$)/.test(a)||n&&!b)return ga(0,a,0,a);a=la(n?b.mid+"/../"+a:a);if(/^\./.test(a))throw q("irrationalPath",a);p||n||!g.star||(w=ia(a,g.star[1]));!w&&b&&(w=(w=ia(b.mid,g))&&ia(a,w[1]));w&&(a=w[1]+a.substring(w[3]));b=(Z=a.match(/^([^\/]+)(\/(.+))?$/))?Z[1]:"";(t=c[b])?a=b+"/"+(h=Z[3]||t.main):b="";var y=0;f(r,function(b){var c=a.match(b[0]);c&&0<c.length&&(y=k(b[1])?a.replace(b[0],b[1]):b[1])});if(y)return ma(y,0,c,d,e,g,m,r,u);if(c=d[a])return u?ga(c.pid,c.mid,c.pack,c.url):d[a];
d=(w=ia(a,m))?w[1]+a.substring(w[3]):b?("/"===t.location.slice(-1)?t.location.slice(0,-1):t.location)+"/"+h:a;/(^\/)|(\:)/.test(d)||(d=e+d);return ga(b,a,t,la(d+".js"))},ca=function(a,b,c){return ma(a,b,L,G,u.baseUrl,J,K,D,void 0,c)};if(!x("foreign-loader"))var ha=function(a,b,c){return a.normalize?a.normalize(b,function(a){return qa(a,c)}):qa(b,c)},sa=0,na=function(a,b,c){var d,e;(d=a.match(/^(.+?)\!(.*)$/))?(e=na(d[1],b,c),5!==e.executed||e.load||ya(e),e.load?(d=ha(e,d[2],b),a=e.mid+"!"+(e.dynamic?
++sa+"!":"")+d):(d=d[2],a=e.mid+"!"+ ++sa+"!waitingForPlugin"),a={plugin:e,mid:a,req:da(b),prid:d}):a=ca(a,b);return G[a.mid]||!c&&(G[a.mid]=a)};var qa=u.toAbsMid=function(a,b){return ca(a,b).mid},Da=u.toUrl=function(a,b){b=ca(a+"/x",b);var c=b.url;return Fa(0===b.pid?a:c.substring(0,c.length-5))};if(!x("foreign-loader")){var Ga={injected:2,executed:5,def:3,result:3};Y=function(a){return G[a]=r({mid:a},Ga)};var Ma=Y("require"),Na=Y("exports"),Oa=Y("module"),ta={},za=0,ya=function(a){var b=a.result;
a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Pa=function(a){var b={};f(a.loadQ,function(c){var d=ha(a,c.prid,c.req.module),e=a.dynamic?c.mid.replace(/waitingForPlugin$/,d):a.mid+"!"+d,d=r(r({},c),{mid:e,prid:d,injected:0});G[e]&&G[e].injected||Ha(G[e]=d);b[c.mid]=G[e];ja(c);delete G[c.mid]});a.loadQ=0;var c=function(a){for(var c=a.deps||[],d=0;d<c.length;d++)(a=b[c[d].mid])&&(c[d]=a)},d;for(d in G)c(G[d]);f(ea,c)},Aa=function(a){u.trace("loader-finish-exec",[a.mid]);a.executed=
5;a.defOrder=za++;a.loadQ&&(ya(a),Pa(a));for(h=0;h<ea.length;)ea[h]===a?ea.splice(h,1):h++;/^require\*/.test(a.mid)&&delete G[a.mid]},Qa=[],wa=function(a,b){if(4===a.executed)return u.trace("loader-circular-dependency",[Qa.concat(a.mid).join("-\x3e")]),!a.def||b?ta:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return ta;var c=a.mid,d=a.deps||[],e,f=[],g=0;for(a.executed=4;e=d[g++];){e=e===Ma?da(a):e===Na?a.cjs.exports:e===Oa?a.cjs:wa(e,b);if(e===ta)return a.executed=0,u.trace("loader-exec-module",
["abort",c]),ta;f.push(e)}u.trace("loader-run-factory",[a.mid]);b=a.def;f=k(b)?b.apply(null,f):b;a.result=void 0===f&&a.cjs?a.cjs.exports:f;Aa(a)}return a.result},ra=0,va=function(a){try{ra++,a()}catch(Ja){throw Ja;}finally{ra--}ka()&&H("idle",[])},xa=function(){ra||va(function(){for(var a,b,c=0;c<ea.length;)a=za,b=ea[c],wa(b),a!=za?c=0:c++})}}var Fa="function"==typeof a.fixupUrl?a.fixupUrl:function(a){a+="";return a+(E?(/\?/.test(a)?"\x26":"?")+E:"")};void 0===x("dojo-loader-eval-hint-url")&&x.add("dojo-loader-eval-hint-url",
1);var Ha=function(a){var b=a.plugin;5!==b.executed||b.load||ya(b);var c=function(b){a.result=b;ja(a);Aa(a);xa()};b.load?b.load(a.prid,a.req,c):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],ea.unshift(b),Ea(b))},ua=0,Ra=function(a,b){x("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));a===ua?ua.call(null):u.eval(a,x("dojo-loader-eval-hint-url")?b.url:b.mid)},Ea=function(a){var b=a.mid,c=a.url;if(!(a.executed||a.injected||fa[b]||a.url&&(a.pack&&fa[a.url]===a.pack||1==fa[a.url])))if(pa(a),a.plugin)Ha(a);
else{var d=function(){Sa(a);if(2!==a.injected){if(x("dojo-enforceDefine")){H("error",q("noDefine",a));return}ja(a);r(a,Ga);u.trace("loader-define-nonmodule",[a.url])}xa()};(ua=F[b]||F["url:"+a.url])?(u.trace("loader-inject",["cache",a.mid,c]),Ra(ua,a),d()):(u.trace("loader-inject",["script",a.mid,c]),u.injectUrl(Fa(c),d,a))}},Ia=function(a,b,c){u.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return H("error",q("multipleDefine",a)),a;r(a,{deps:b,def:c,cjs:{id:a.mid,uri:a.url,exports:a.result=
{},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var d=0;b[d];d++)b[d]=na(b[d],a);ja(a);k(c)||b.length||(a.result=c,Aa(a));return a},Sa=function(a,b){for(var c=[],d,e;oa.length;)e=oa.shift(),b&&(e[0]=b.shift()),d=e[0]&&na(e[0])||a,c.push([d,e[1],e[2]]);R(a);f(c,function(a){ba(Ia.apply(null,a))})},La=n,Ka=n;x("dom");if(x("dom")){var Ba=function(a,b,c,d){a.addEventListener(b,d,!1);return function(){a.removeEventListener(b,d,!1)}},Ta=Ba(window,"load","onload",function(){u.pageLoaded=
1;try{"complete"!=t.readyState&&(t.readyState="complete")}catch(Ua){}Ta()}),U=t.getElementsByTagName("script");for(h=0;!I;)/^dojo/.test((N=U[h++])&&N.type)||(I=N);u.injectUrl=function(a,b,c){c=c.node=t.createElement("script");var d=Ba(c,"load","onreadystatechange",function(a){a=a||window.event;var c=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(c.readyState))d(),e(),b&&b()}),e=Ba(c,"error","onerror",function(b){d();e();H("error",q("scriptError: "+a,[a,b]))});c.type="text/javascript";
c.charset="utf-8";c.src=a;I.parentNode.insertBefore(c,I);return c}}u.log=n;u.trace=n;x("foreign-loader")?N=n:(N=function(a,b,d){var e=arguments.length,f=["require","exports","module"],g=[0,a,b];1==e?g=[0,k(a)?f:[],a]:2==e&&c(a)?g=[a,k(b)?f:[],b]:3==e&&(g=[a,b,d]);u.trace("loader-define",g.slice(0,2));(e=g[0]&&na(g[0]))&&!fa[e.mid]?ba(Ia(e,g[1],g[2])):oa.push(g)},N.amd={vendor:"dojotoolkit.org"});r(r(u,b.loaderPatch),a.loaderPatch);z("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+
":",a[b]);console.log(".")}}catch(Ca){}});r(u,{uid:y,cache:F,packs:L});v.define||(v.define=N,v.require=u,x("foreign-loader")||(f(Q,function(a){X(a)}),N=l.deps||a.deps||b.deps,a=l.callback||a.callback||b.callback,u.boot=N||a?[N||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,baseUrl:"dojo",hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr",
"cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",
name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd",name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"esri/config":function(){define(["require","exports","@dojo/framework/has/has","./core/global","./core/object"],function(a,b,h,l,n){h.add("postmessage",!1,!0);a={applicationUrl:l.location&&l.location.href,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",
workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};l.esriConfig&&n.deepMerge(a,l.esriConfig,!0);a.request.corsEnabledServers=[];a.request.corsEnabledServers.push=
function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return a})},"@dojo/framework/has/has":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],a)})(function(a,b){function h(a){a=a.toLowerCase();return!!(a in
k||a in b.testCache||b.testFunctions[a])}function l(a,c,d){void 0===d&&(d=!1);var e=a.toLowerCase();if(h(e)&&!d&&!(e in k))throw new TypeError('Feature "'+a+'" exists and overwrite not true.');"function"===typeof c?b.testFunctions[e]=c:(b.testCache[e]=c,delete b.testFunctions[e])}function n(a){var c=a.toLowerCase();if(c in k)a=k[c];else if(b.testFunctions[c])a=b.testCache[c]=b.testFunctions[c].call(null),delete b.testFunctions[c];else if(c in b.testCache)a=b.testCache[c];else throw new TypeError('Attempt to detect unregistered has feature "'+
a+'"');return a}Object.defineProperty(b,"__esModule",{value:!0});var d=a("tslib"),g=a("../shim/global");b.testCache={};b.testFunctions={};a=(g.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in g.default&&delete g.default.DojoHasEnvironment;var k=a?"function"===typeof a?a.apply(g.default):a:{};b.load=function(a,b,c,d){a?b([a],c):c()};b.normalize=function(a,b){function c(a){var b=d[e++];if(":"===b)return null;if("?"===d[e++]){if(!a&&n(b))return c();c(!0);return c(a)}return b}var d=
a.match(/[\?:]|[^:\?]*/g)||[],e=0;return(a=c())&&b(a)};b.exists=h;b.add=l;b.default=n;l("public-path",void 0);l("dojo-debug",!1);l("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);l("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});l("fetch","fetch"in g.default&&"function"===typeof g.default.fetch,!0);l("es6-array",function(){return["from","of"].every(function(a){return a in g.default.Array})&&["findIndex",
"find","copyWithin"].every(function(a){return a in g.default.Array.prototype})},!0);l("es6-array-fill",function(){return"fill"in g.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);l("es7-array",function(){return"includes"in g.default.Array.prototype},!0);l("es6-map",function(){if("function"===typeof g.default.Map)try{var a=new g.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&n("es6-symbol")&&"function"===typeof a.values&&"function"===typeof a.entries}catch(f){}return!1},
!0);l("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===typeof g.default.Math[a]})},!0);l("es6-math-imul",function(){return"imul"in g.default.Math?-5===Math.imul(4294967295,5):!1},!0);l("es6-object",function(){return n("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===typeof g.default.Object[a]})},!0);l("es2017-object",function(){return["values",
"entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof g.default.Object[a]})},!0);l("es-observable",function(){return"undefined"!==typeof g.default.Observable},!0);l("es6-promise",function(){return"undefined"!==typeof g.default.Promise&&n("es6-symbol")},!0);l("es2018-promise-finally",function(){return n("es6-promise")&&"undefined"!==typeof g.default.Promise.prototype.finally},!0);l("es6-set",function(){if("function"===typeof g.default.Set){var a=new g.default.Set([1]);
return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&n("es6-symbol")}return!1},!0);l("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===typeof g.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===typeof g.default.String.prototype[a]})},!0);l("es6-string-raw",function(){function a(a){for(var b=1;b<arguments.length;b++);b=d.__spread(a);b.raw=a.raw;return b}if("raw"in g.default.String){var b=
a(c||(c=d.__makeTemplateObject(["a\n",""],["a\\n",""])),1);b.raw=["a\\n"];return"a\\n"===g.default.String.raw(b,42)}return!1},!0);l("es2017-string",function(){return["padStart","padEnd"].every(function(a){return"function"===typeof g.default.String.prototype[a]})},!0);l("es6-symbol",function(){return"undefined"!==typeof g.default.Symbol&&"symbol"===typeof Symbol()},!0);l("es6-weakmap",function(){if("undefined"!==typeof g.default.WeakMap){var a={},b={},c=new g.default.WeakMap([[a,1]]);Object.freeze(a);
return 1===c.get(a)&&c.set(b,2)===c&&n("es6-symbol")}return!1},!0);l("microtasks",function(){return n("es6-promise")||0||n("dom-mutationobserver")},!0);l("postmessage",function(){return"undefined"!==typeof g.default.window&&"function"===typeof g.default.postMessage},!0);l("raf",function(){return"function"===typeof g.default.requestAnimationFrame},!0);l("setimmediate",function(){return"undefined"!==typeof g.default.setImmediate},!0);l("dom-mutationobserver",function(){if(n("host-browser")&&(g.default.MutationObserver||
g.default.WebKitMutationObserver)){var a=document.createElement("div"),b=new (g.default.MutationObserver||g.default.WebKitMutationObserver)(function(){});b.observe(a,{attributes:!0});a.style.setProperty("display","block");return!!b.takeRecords().length}return!1},!0);l("dom-webanimation",function(){return n("host-browser")&&void 0!==g.default.Animation&&void 0!==g.default.KeyframeEffect},!0);l("abort-controller",function(){return"undefined"!==typeof g.default.AbortController});l("abort-signal",function(){return"undefined"!==
typeof g.default.AbortSignal});l("dom-intersection-observer",function(){return n("host-browser")&&void 0!==g.default.IntersectionObserver},!0);l("dom-resize-observer",function(){return n("host-browser")&&void 0!==g.default.ResizeObserver},!0);l("dom-pointer-events",function(){return n("host-browser")&&void 0!==g.default.onpointerdown},!0);l("build-elide",!1);var c})},"tslib/tslib":function(){var a,b,h,l,n,d,g,k,c,e,f,r,q,m,y,u,v,t,p,x,w,z,B;(function(a){function b(a,b){a!==c&&("function"===typeof Object.create?
Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0);return function(c,d){return a[c]=b?b(c,d):d}}var c="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(d){a(b(c,b(d)))}):"object"===typeof module&&"object"===typeof module.exports?a(b(c,b(module.exports))):a(b(c))})(function(A){var H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};a=function(a,b){function c(){this.constructor=a}H(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};h=function(a,b){var c={},d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var e=
0;for(d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]])}return c};l=function(a,b,c,d){var e=arguments.length,f=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,g;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(a,b,c,d);else for(var k=a.length-1;0<=k;k--)if(g=a[k])f=(3>e?g(f):3<e?g(b,c,f):g(b,c))||f;return 3<e&&f&&Object.defineProperty(b,c,f),f};n=function(a,b){return function(c,
d){b(c,d,a)}};d=function(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,b)};g=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,f){function g(a){try{m(d.next(a))}catch(R){f(R)}}function k(a){try{m(d["throw"](a))}catch(R){f(R)}}function m(a){a.done?c(a.value):e(a.value).then(g,k)}m((d=d.apply(a,b||[])).next())})};k=function(a,b){function c(a){return function(b){return d([a,b])}}
function d(c){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,g&&(k=c[0]&2?g["return"]:c[0]?g["throw"]||((k=g["return"])&&k.call(g),0):g.next)&&!(k=k.call(g,c[1])).done)return k;if(g=0,k)c=[c[0]&2,k.value];switch(c[0]){case 0:case 1:k=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++;g=c[1];c=[0];continue;case 7:c=e.ops.pop();e.trys.pop();continue;default:if(!(k=e.trys,k=0<k.length&&k[k.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&
(!k||c[1]>k[0]&&c[1]<k[3]))e.label=c[1];else if(6===c[0]&&e.label<k[1])e.label=k[1],k=c;else if(k&&e.label<k[2])e.label=k[2],e.ops.push(c);else{k[2]&&e.ops.pop();e.trys.pop();continue}}c=b.call(a,e)}catch(I){c=[6,I],g=0}finally{f=k=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},f,g,k,m;return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this}),
m};B=function(a,b,c,d){void 0===d&&(d=c);a[d]=b[c]};c=function(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])};e=function(a){var b="function"===typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"===typeof a.length)return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.");};f=function(a,b){var c="function"===typeof Symbol&&a[Symbol.iterator];
if(!c)return a;a=c.call(a);var d,e=[],f;try{for(;(void 0===b||0<b--)&&!(d=a.next()).done;)e.push(d.value)}catch(G){f={error:G}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error;}}return e};r=function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(f(arguments[b]));return a};q=function(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var a=Array(a),d=0,b=0;b<c;b++)for(var e=arguments[b],f=0,k=e.length;f<k;f++,d++)a[d]=e[f];return a};m=function(a){return this instanceof
m?(this.v=a,this):new m(a)};y=function(a,b,c){function d(a){r[a]&&(q[a]=function(b){return new Promise(function(c,d){1<u.push([a,b,c,d])||e(a,b)})})}function e(a,b){try{var c=r[a](b);c.value instanceof m?Promise.resolve(c.value.v).then(f,k):g(u[0][2],c)}catch(W){g(u[0][3],W)}}function f(a){e("next",a)}function k(a){e("throw",a)}function g(a,b){(a(b),u.shift(),u.length)&&e(u[0][0],u[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=c.apply(a,b||[]),q,
u=[];return q={},d("next"),d("throw"),d("return"),q[Symbol.asyncIterator]=function(){return this},q};u=function(a){function b(b,e){c[b]=a[b]?function(c){return(d=!d)?{value:m(a[b](c)),done:"return"===b}:e?e(c):c}:e}var c,d;return c={},b("next"),b("throw",function(a){throw a;}),b("return"),c[Symbol.iterator]=function(){return this},c};v=function(a){function b(b){f[b]=a[b]&&function(d){return new Promise(function(e,f){d=a[b](d);c(e,f,d.done,d.value)})}}function c(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,
done:c})},b)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=a[Symbol.asyncIterator],f;return d?d.call(a):(a="function"===typeof e?e(a):a[Symbol.iterator](),f={},b("next"),b("throw"),b("return"),f[Symbol.asyncIterator]=function(){return this},f)};t=function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};p=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=
a[c]);b["default"]=a;return b};x=function(a){return a&&a.__esModule?a:{"default":a}};w=function(a,b){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return b.get(a)};z=function(a,b,c){if(!b.has(a))throw new TypeError("attempted to set private field on non-instance");b.set(a,c);return c};A("__extends",a);A("__assign",b);A("__rest",h);A("__decorate",l);A("__param",n);A("__metadata",d);A("__awaiter",g);A("__generator",k);A("__exportStar",c);A("__createBinding",B);A("__values",
e);A("__read",f);A("__spread",r);A("__spreadArrays",q);A("__await",m);A("__asyncGenerator",y);A("__asyncDelegator",u);A("__asyncValues",v);A("__makeTemplateObject",t);A("__importStar",p);A("__importDefault",x);A("__classPrivateFieldGet",w);A("__classPrivateFieldSet",z)})},"@dojo/framework/shim/global":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports"],
a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();b.default=a})},"esri/core/global":function(){define(["require","exports"],function(a,b){var h;a=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();
if(null===(h=null===a||void 0===a?void 0:a.performance)||void 0===h||!h.now){var l=a.performance=a.performance||{};if(l.webkitNow)l.now=function(){return l.webkitNow()};else if(l.mozNow)l.now=function(){return l.mozNow()};else if(l.msNow)l.now=function(){return l.msNow()};else if(l.oNow)l.now=function(){return l.oNow()};else{var n;n=l.timing&&l.timing.navigationStart?l.timing.navigationStart:Date.now();l.now=function(){return Date.now()-n}}}return a})},"esri/core/object":function(){define(["require",
"exports","./lang"],function(a,b,h){function l(a,b,k){for(var c=0;c<a.length;c++){var d=a[c];if(null==k)return;if(!(d in k))if(b)k[d]={};else return;k=k[d]}return k}function n(a,b,k){return b?Object.keys(b).reduce(function(a,d){var c=a[d],e=b[d];if(c===e)return a;if(void 0===c)return a[d]=h.clone(e),a;if(Array.isArray(e)||Array.isArray(a))c=c?Array.isArray(c)?a[d]=c.concat():a[d]=[c]:a[d]=[],e&&(Array.isArray(e)||(e=[e]),k?e.forEach(function(a){-1===c.indexOf(a)&&c.push(a)}):a[d]=e.concat());else if(e&&
"object"===typeof e)a[d]=n(c,e,k);else if(!a.hasOwnProperty(d)||b.hasOwnProperty(d))a[d]=e;return a},a||{}):a}Object.defineProperty(b,"__esModule",{value:!0});b.setDeepValue=b.getDeepValue=b.deepMerge=void 0;b.deepMerge=function(a,b,k){void 0===k&&(k=!1);return n(a,b,k)};b.getDeepValue=function(a,b){if(null!=b)return b[a]||l(a.split("."),!1,b)};b.setDeepValue=function(a,b,k){var c=a.split(".");a=c.pop();(k=l(c,!0,k))&&a&&(k[a]=b)}})},"esri/core/lang":function(){define(["require","exports","./typedArrayUtil"],
function(a,b,h){function l(a,b){var c;if(b)for(c in a)a.hasOwnProperty(c)&&(void 0===a[c]?delete a[c]:a[c]instanceof Object&&l(a[c],!0));else for(c in a)a.hasOwnProperty(c)&&void 0===a[c]&&delete a[c];return a}function n(a){if(!a||"object"!==typeof a||"function"===typeof a)return a;if(h.isInt8Array(a)||h.isUint8Array(a)||h.isUint8ClampedArray(a)||h.isInt16Array(a)||h.isUint16Array(a)||h.isInt32Array(a)||h.isUint32Array(a)||h.isFloat32Array(a)||h.isFloat64Array(a))return h.slice(a);if(a instanceof
Date)return new Date(a.getTime());if(a instanceof ArrayBuffer)return a.slice(0,a.byteLength);if(a instanceof Map){var b=new Map;a.forEach(function(a,c){b.set(c,n(a))});return b}if(a instanceof Set){var c=new Set;a.forEach(function(a){c.add(n(a))});return c}return"function"===typeof a.clone?a.clone():"function"===typeof a.map&&"function"===typeof a.forEach?a.map(n):"function"===typeof a.notifyChange&&"function"===typeof a.watch?a.clone():d({},a,n)}function d(a,b,c){var d,f,k={};for(d in b){f=b[d];
var g=!(d in k)||k[d]!==f;if(!(d in a)||a[d]!==f&&g)a[d]=c?c(f):f}return a}Object.defineProperty(b,"__esModule",{value:!0});b.mixin=b.equals=b.clone=b.fixJson=void 0;b.fixJson=l;b.clone=n;b.equals=function(a,b){return a===b||"number"===typeof a&&isNaN(a)&&"number"===typeof b&&isNaN(b)||"function"===typeof(a||{}).getTime&&"function"===typeof(b||{}).getTime&&a.getTime()===b.getTime()||!1};b.mixin=function(a){void 0===a&&(a={});for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(c=0;c<b.length;c++)d(a,
b[c]);return a}})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.estimateSize=b.toArray=b.isFloat64Array=b.isFloat32Array=b.isUint32Array=b.isInt32Array=b.isUint16Array=b.isInt16Array=b.isUint8ClampedArray=b.isUint8Array=b.isInt8Array=b.isArrayBuffer=b.slice=b.forEach=void 0;b.forEach=function(a,b){if(a.forEach)a.forEach(b);else for(var h=0;h<a.length;h++)b(a[h],h,a)};b.slice=function(a,b,n){if(a.slice)return a.slice(b,
n);void 0===b?b=0:(0>b&&(b+=a.length),b=Math.min(a.length,Math.max(0,b)));void 0===n?n=a.length:(0>n&&(n+=a.length),n=Math.min(a.length,Math.max(0,n)));n=Math.max(0,n-b);for(var d=new a.constructor(n),g=0;g<n;g++)d[g]=a[b+g];return d};b.isArrayBuffer=function(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name};b.isInt8Array=function(a){return a instanceof Int8Array||a&&a.constructor&&"Int8Array"===a.constructor.name};b.isUint8Array=function(a){return a instanceof
Uint8Array||a&&a.constructor&&"Uint8Array"===a.constructor.name};b.isUint8ClampedArray=function(a){return a instanceof Uint8ClampedArray||a&&a.constructor&&"Uint8ClampedArray"===a.constructor.name};b.isInt16Array=function(a){return a instanceof Int16Array||a&&a.constructor&&"Int16Array"===a.constructor.name};b.isUint16Array=function(a){return a instanceof Uint16Array||a&&a.constructor&&"Uint16Array"===a.constructor.name};b.isInt32Array=function(a){return a instanceof Int32Array||a&&a.constructor&&
"Int32Array"===a.constructor.name};b.isUint32Array=function(a){return a instanceof Uint32Array||a&&a.constructor&&"Uint32Array"===a.constructor.name};b.isFloat32Array=function(a){return a instanceof Float32Array||a&&a.constructor&&"Float32Array"===a.constructor.name};b.isFloat64Array=function(a){return a instanceof Float64Array||a&&a.constructor&&"Float64Array"===a.constructor.name};b.toArray=function(a){for(var b=Array(a.length),n=0;n<a.length;n++)b[n]=a[n];return b};b.estimateSize=function(a){return a?
128+a.buffer.byteLength+64:0}})},"esri/kernel":function(){define(["require","exports","./core/has","./support/revision","@dojo/framework/shim/Promise"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.setId=b.id=b.revision=b.workerMessages=b.version=void 0;Object.defineProperty(b,"revision",{enumerable:!0,get:function(){return l.commitHash}});b.version="4.17";b.workerMessages={request:function(b,d){return(new Promise(function(b,d){a(["./request"],b,d)})).then(function(a){var k=
b.options||{};k.responseType="array-buffer";k.signal=null===d||void 0===d?void 0:d.signal;return a(b.url,k)}).then(function(a){return{result:{data:a.data,ssl:a.ssl},transferList:[a.data]}})}};b.setId=function(a){b.id=a};h("host-webworker")||(console.debug("Using ArcGIS API for JavaScript "+b.version+" [Date: "+l.buildDate+", Revision: "+l.commitHash.slice(0,8)+"]"),(h("edge")||h("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"))})},"esri/core/has":function(){define("require exports tslib ../config ./global ../views/webgl/context-util".split(" "),
function(a,b,h,l,n,d){function g(a){return"function"===typeof r[a]?r[a]=r[a](n):r[a]}function k(){if(q)return q;q={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1,version:0};var a=document.createElement("canvas");if(!a)return q;var b=d.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");
!b&&(b=d.createContext(a,{},"webgl"))&&(q.majorPerformanceCaveat=!0);if(!b)return q;a=b.getParameter(b.VERSION);if(!a)return q;if(a=a.match(/^WebGL\s+([\d.]*)/)){q.version=parseFloat(a[1]);q.available=.94<=q.version;if(a=b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT))q.supportsHighPrecisionFragment=0<a.precision;q.supportsVertexShaderSamplers=0<b.getParameter(b.MAX_VERTEX_TEXTURE_IMAGE_UNITS);q.supportsElementIndexUint=null!==b.getExtension("OES_element_index_uint");q.supportsStandardDerivatives=
null!==b.getExtension("OES_standard_derivatives");q.supportsInstancedArrays=null!==b.getExtension("ANGLE_instanced_arrays");q.supportsTextureFloat=null!==b.getExtension("OES_texture_float");q.supportsColorBufferFloat=null!==b.getExtension("WEBGL_color_buffer_float")}q.maxTextureSize=b.getParameter(b.MAX_TEXTURE_SIZE);return q}function c(){if(m)return m;m={available:!1,version:0};var a=document.createElement("canvas");if(!a)return m;a=d.createContext(a,{},"webgl2");if(!a)return m;m.available=!0;a=
a.getParameter(a.VERSION);if(!a)return m;if(a=a.match(/^WebGL\s+([\d.]*)/))m.version=parseFloat(a[1]);return m}var e,f,r;l.has||(null===(e=n.dojoConfig)||void 0===e?0:e.has)?(r=h.__assign(h.__assign({},null===(f=n.dojoConfig)||void 0===f?void 0:f.has),l.has),delete l.has):r={};g.add=function(a,b,c,d){if(d||"undefined"===typeof r[a])r[a]=b;return c&&g(a)};g.cache=r;(function(){g.add("host-webworker","undefined"!==typeof n.WorkerGlobalScope&&self instanceof n.WorkerGlobalScope);var a="undefined"!==
typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;g.add("host-browser",a);g.add("dom",a);if(g("host-browser")){var b=navigator,a=b.userAgent,b=b.appVersion,c=parseFloat(b);g.add("edge",parseFloat(a.split("Edge/")[1])||void 0);g.add("webkit",!g("edge")&&parseFloat(a.split("WebKit/")[1])||void 0);g.add("chrome",!g("edge")&&!0&&parseFloat(a.split("Chrome/")[1])||void 0);g.add("safari",0<=b.indexOf("Safari")&&!g("chrome")&&
!g("edge")?parseFloat(b.split("Version/")[1]):void 0);g.add("mac",0<=b.indexOf("Macintosh"));if(a.match(/(iPhone|iPod|iPad)/)){var d=RegExp.$1.replace(/P/,"p"),e=a.match(/OS ([\d_]+)/)?RegExp.$1:"1",e=parseFloat(e.replace(/_/,".").replace(/_/g,""));g.add(d,e);g.add("ios",e)}g.add("trident",parseFloat(b.split("Trident/")[1])||void 0);g("webkit")||(0<=a.indexOf("Opera")&&g.add("opera",9.8<=c?parseFloat(a.split("Version/")[1])||c:c),0<=a.indexOf("Gecko")&&!g("trident")&&!g("edge")&&g.add("mozilla",c),
g("mozilla")&&g.add("ff",parseFloat(a.split("Firefox/")[1]||a.split("Minefield/")[1])||void 0))}})();g.add("esri-deprecation-warnings",!0);(function(){if(n.navigator){var a=navigator.userAgent,b=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=a.match(/iPhone/i);b&&g.add("esri-mobile",b);a&&g.add("esri-iPhone",a);g.add("esri-geolocation",!!navigator.geolocation)}g.add("esri-canvas-svg-support",!g("trident"));g.add("esri-secure-context",function(){if("isSecureContext"in n)return n.isSecureContext;
if(n.location&&n.location.origin)return 0===n.location.origin.indexOf("https:")});g.add("esri-wasm","WebAssembly"in n);g.add("esri-shared-array-buffer",function(){var a=!1===n.crossOriginIsolated;return"SharedArrayBuffer"in n&&!a});g.add("esri-atomics","Atomics"in n);g.add("esri-workers","Worker"in n);g.add("esri-text-decoder","TextDecoder"in n);g.add("esri-text-encoder","TextEncoder"in n);g.add("featurelayer-advanced-symbols",!1);g.add("featurelayer-pbf",!1);g.add("feature-layers-workers",!0);g.add("mapview-transitions-duration",
200);g("host-webworker")||(g.add("esri-abortable-fetch","fetch"in n&&"signal"in new Request("https://www.arcgis.com")),g.add("csp-restrictions",function(){try{new Function}catch(v){return!0}return!1}),g.add("esri-image-decode",function(){if("decode"in new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';a.decode().then(function(){g.add("esri-image-decode",!0,!0,!0)}).catch(function(){g.add("esri-image-decode",
!1,!0,!0)})}else return!1}),g.add("esri-url-encodes-apostrophe",function(){var a=n.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),g.add("esri-webgl",function(){return k().available}),g.add("esri-webgl-high-precision-fragment",function(){return k().supportsHighPrecisionFragment}),g.add("esri-webgl-vertex-shader-samplers",function(){return k().supportsVertexShaderSamplers}),g.add("esri-webgl-element-index-uint",function(){return k().supportsElementIndexUint}),g.add("esri-webgl-standard-derivatives",
function(){return k().supportsStandardDerivatives}),g.add("esri-webgl-texture-float",function(){return k().supportsTextureFloat}),g.add("esri-webgl-color-buffer-float",function(){return k().supportsColorBufferFloat}),g.add("esri-webgl-instanced-arrays",function(){return k().supportsInstancedArrays}),g.add("esri-webgl-major-performance-caveat",function(){return k().majorPerformanceCaveat}),g.add("esri-featurelayer-webgl",!0),g.add("esri-featurelayer-webgl-labeling",!0),g.add("esri-webgl2",function(){return c().available}),
g.add("esri-webgl-max-texture-size",function(){return k().maxTextureSize}))})();var q=null,m=null;return g})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(a,b){function h(a,b,c){void 0===b&&(b={});var d;switch(c){case "webgl":d=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":d=["webgl2"];break;default:d=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}c=null;for(var f=0;f<d.length;f++){var k=d[f];try{c=a.getContext(k,b)}catch(q){}if(c)break}return c}
function l(a,b){(a=a.parentNode)&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+b+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(b,"__esModule",{value:!0});b.createContext=b.createContextOrErrorHTML=void 0;b.createContextOrErrorHTML=function(a,b,c){void 0===b&&(b={});if(!window.WebGLRenderingContext)return l(a,
n),null;b=h(a,b,c);return b?b:(l(a,d),null)};b.createContext=h;var n='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',d='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},"esri/support/revision":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",
{value:!0});b.commitHash=b.buildDate=void 0;b.buildDate="20201008";b.commitHash="3b15977c78c9617adfbfc855fb83fd0578fc4149"})},"@dojo/framework/shim/Promise":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var h=a("tslib"),
l=a("./global"),n=a("./support/queue");a("./Symbol");a=a("../has/has");b.ShimPromise=l.default.Promise;b.isThenable=function(a){return a&&"function"===typeof a.then};a.default("es6-promise")||(l.default.Promise=b.ShimPromise=(d=function(){function a(d){var c=this;this.state=1;this[Symbol.toStringTag]="Promise";var e=!1,f=[],k=function(a){f&&f.push(a)},g=function(a,b){1===c.state&&(c.state=a,c.resolvedValue=b,k=n.queueMicroTask,f&&0<f.length&&n.queueMicroTask(function(){if(f){for(var a=f.length,b=
0;b<a;++b)f[b].call(null);f=null}}))},m=function(a,d){1!==c.state||e||(b.isThenable(d)?(d.then(g.bind(null,0),g.bind(null,2)),e=!0):g(a,d))};this.then=function(b,d){return new a(function(a,e){k(function(){var f=2===c.state?d:b;if("function"===typeof f)try{a(f(c.resolvedValue))}catch(x){e(x)}else 2===c.state?e(c.resolvedValue):a(c.resolvedValue)})})};try{d(m.bind(null,0),m.bind(null,2))}catch(y){g(2,y)}}a.all=function(d){return new this(function(c,e){function f(a,b){g[a]=b;++m;u||m<n||c(g)}function k(c,
d){++n;b.isThenable(d)?d.then(f.bind(null,c),e):a.resolve(d).then(f.bind(null,c))}var g=[],m=0,n=0,u=!0,l=0;try{for(var t=h.__values(d),p=t.next();!p.done;p=t.next())k(l,p.value),l++}catch(z){x={error:z}}finally{try{p&&!p.done&&(w=t.return)&&w.call(t)}finally{if(x)throw x.error;}}(u=!1,m<n)||c(g);var x,w})};a.race=function(b){return new this(function(c,d){try{for(var e=h.__values(b),k=e.next();!k.done;k=e.next()){var g=k.value;g instanceof a?g.then(c,d):a.resolve(g).then(c)}}catch(u){m={error:u}}finally{try{k&&
!k.done&&(n=e.return)&&n.call(e)}finally{if(m)throw m.error;}}var m,n})};a.reject=function(a){return new this(function(b,d){d(a)})};a.resolve=function(a){return new this(function(b){b(a)})};a.prototype.catch=function(a){return this.then(void 0,a)};return a}(),d[Symbol.species]=b.ShimPromise,d));a.default("es2018-promise-finally")||(l.default.Promise.prototype.finally=function(a){return this.then(a&&function(b){return Promise.resolve(a()).then(function(){return b})},a&&function(b){return Promise.resolve(a()).then(function(){throw b;
})})});b.default=b.ShimPromise;var d})},"@dojo/framework/shim/support/queue":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],a)})(function(a,b){function h(a){a&&a.isActive&&a.callback&&a.callback()}function l(a,b){return{destroy:function(){this.destroy=function(){};a.isActive=!1;a.callback=null;b&&b()}}}Object.defineProperty(b,
"__esModule",{value:!0});var n=a("../global"),d=a("../../has/has"),g,k;b.queueTask=function(){function a(a){a={isActive:!0,callback:a};var d=c(a);return l(a,b&&function(){b(d)})}var b,c;if(d.default("postmessage")){var k=[];n.default.addEventListener("message",function(a){a.source===n.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),k.length&&h(k.shift()))});c=function(a){k.push(a);n.default.postMessage("dojo-queue-message","*")}}else d.default("setimmediate")?(b=n.default.clearImmediate,
c=function(a){return setImmediate(h.bind(null,a))}):(b=n.default.clearTimeout,c=function(a){return setTimeout(h.bind(null,a),0)});return d.default("microtasks")?a:function(b){g();return a(b)}}();if(!d.default("microtasks")){var c=!1;k=[];g=function(){c||(c=!0,b.queueTask(function(){c=!1;if(k.length)for(var a=void 0;a=k.shift();)h(a)}))}}b.queueAnimationTask=function(){function a(a){a={isActive:!0,callback:a};var b=requestAnimationFrame(h.bind(null,a));return l(a,function(){cancelAnimationFrame(b)})}
return d.default("raf")?d.default("microtasks")?a:function(b){g();return a(b)}:b.queueTask}();b.queueMicroTask=function(){var a;if(d.default("host-node"))a=function(a){n.default.process.nextTick(h.bind(null,a))};else if(d.default("es6-promise"))a=function(a){n.default.Promise.resolve(a).then(h)};else if(d.default("dom-mutationobserver")){var b=n.default.MutationObserver||n.default.WebKitMutationObserver,c=document.createElement("div"),q=[];(new b(function(){for(;0<q.length;){var a=q.shift();a&&a.isActive&&
a.callback&&a.callback()}})).observe(c,{attributes:!0});a=function(a){q.push(a);c.setAttribute("queueStatus","1")}}else a=function(a){g();k.push(a)};return function(b){b={isActive:!0,callback:b};a(b);return l(b)}}()})},"@dojo/framework/shim/Symbol":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],a)})(function(a,
b){function h(a){return a&&("symbol"===typeof a||"Symbol"===a["@@toStringTag"])||!1}Object.defineProperty(b,"__esModule",{value:!0});var l=a("../has/has"),n=a("./global"),d=a("./support/util");b.Symbol=n.default.Symbol;if(!l.default("es6-symbol")){var g=function(a){if(!h(a))throw new TypeError(a+" is not a symbol");return a},k=Object.defineProperties,c=Object.defineProperty,e=Object.create,f=Object.prototype,r={},q=function(){var a=e(null);return function(b){for(var e=0,k;a[String(b)+(e||"")];)++e;
b+=String(e||"");a[b]=!0;k="@@"+b;Object.getOwnPropertyDescriptor(f,k)||c(f,k,{set:function(a){c(this,k,d.getValueDescriptor(a))}});return k}}(),m=function u(a){if(this instanceof m)throw new TypeError("TypeError: Symbol is not a constructor");return u(a)};b.Symbol=n.default.Symbol=function v(a){if(this instanceof v)throw new TypeError("TypeError: Symbol is not a constructor");var b=Object.create(m.prototype);a=void 0===a?"":String(a);return k(b,{__description__:d.getValueDescriptor(a),__name__:d.getValueDescriptor(q(a))})};
c(b.Symbol,"for",d.getValueDescriptor(function(a){return r[a]?r[a]:r[a]=b.Symbol(String(a))}));k(b.Symbol,{keyFor:d.getValueDescriptor(function(a){var b;g(a);for(b in r)if(r[b]===a)return b}),hasInstance:d.getValueDescriptor(b.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:d.getValueDescriptor(b.Symbol.for("isConcatSpreadable"),!1,!1),iterator:d.getValueDescriptor(b.Symbol.for("iterator"),!1,!1),match:d.getValueDescriptor(b.Symbol.for("match"),!1,!1),observable:d.getValueDescriptor(b.Symbol.for("observable"),
!1,!1),replace:d.getValueDescriptor(b.Symbol.for("replace"),!1,!1),search:d.getValueDescriptor(b.Symbol.for("search"),!1,!1),species:d.getValueDescriptor(b.Symbol.for("species"),!1,!1),split:d.getValueDescriptor(b.Symbol.for("split"),!1,!1),toPrimitive:d.getValueDescriptor(b.Symbol.for("toPrimitive"),!1,!1),toStringTag:d.getValueDescriptor(b.Symbol.for("toStringTag"),!1,!1),unscopables:d.getValueDescriptor(b.Symbol.for("unscopables"),!1,!1)});k(m.prototype,{constructor:d.getValueDescriptor(b.Symbol),
toString:d.getValueDescriptor(function(){return this.__name__},!1,!1)});k(b.Symbol.prototype,{toString:d.getValueDescriptor(function(){return"Symbol ("+g(this).__description__+")"}),valueOf:d.getValueDescriptor(function(){return g(this)})});c(b.Symbol.prototype,b.Symbol.toPrimitive,d.getValueDescriptor(function(){return g(this)}));c(b.Symbol.prototype,b.Symbol.toStringTag,d.getValueDescriptor("Symbol",!1,!1,!0));c(m.prototype,b.Symbol.toPrimitive,d.getValueDescriptor(b.Symbol.prototype[b.Symbol.toPrimitive],
!1,!1,!0));c(m.prototype,b.Symbol.toStringTag,d.getValueDescriptor(b.Symbol.prototype[b.Symbol.toStringTag],!1,!1,!0))}b.isSymbol=h;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(a){b.Symbol[a]||Object.defineProperty(b.Symbol,a,d.getValueDescriptor(b.Symbol.for(a),!1,!1))});b.default=b.Symbol})},"@dojo/framework/shim/support/util":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?
(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.getValueDescriptor=function(a,b,n,d){void 0===b&&(b=!1);void 0===n&&(n=!0);void 0===d&&(d=!0);return{value:a,enumerable:b,writable:n,configurable:d}};b.wrapNative=function(a){return function(b){for(var n=[],d=1;d<arguments.length;d++)n[d-1]=arguments[d];return a.apply(b,n)}}})},"esri/core/workers/RemoteClient":function(){define("require exports ../Error ../events ../promiseUtils ./registry ./utils ../../views/support/Scheduler".split(" "),
function(a,b,h,l,n,d,g,k){var c=g.MessageType.CLOSE,e=g.MessageType.ABORT,f=g.MessageType.INVOKE,r=g.MessageType.RESPONSE,q=g.MessageType.OPEN_PORT,m=g.MessageType.ON,y=function(){function a(a){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===g.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,
0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<b.length;a++){var c=b[a];this._cancelledJobIds.has(c.jobId)||this._invoke(c)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function a(a,b){var c=this;this._port=a;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new y(function(a){return c._onInvokeMessage(a)});
this._responseQueue=[];this._client=b.client;this._onMessage=this._onMessage.bind(this);this._channel=b.channel;b.scheduler&&(this._frameTask=b.scheduler.registerTask(k.Task.REMOTE_CLIENT,function(a){return c._update(a)},function(){return 0<c._responseQueue.length}));this._port.addEventListener("message",this._onMessage);this._port.start()}a.connect=function(b){var c=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===typeof b.default?new b.default:b;var d=new a(c.port1,{channel:c,
client:b});"object"===typeof b&&"remoteClient"in b&&(b.remoteClient=d);a.clients.set(d,b);return c.port2};a.loadWorker=function(a){return(a=d.registry[a])?a():n.resolve(null)};a.prototype.close=function(){this._post({type:c});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};a.prototype.invoke=function(a,b,c){var d=this,k=c&&c.signal,m=c&&c.transferList;if(!this._port)return n.reject(new h("worker:port-closed","Cannot call invoke('"+a+"'), port is closed",{methodName:a,data:b}));
var r=g.newJobId();return n.create(function(c,g){var q=n.onAbortOrThrow(k,function(){var a,b=d._outJobs.get(r);b&&(d._outJobs.delete(r),null===(a=b.abortHandle)||void 0===a?void 0:a.remove(),d._post({type:e,jobId:r}),g(n.createAbortError()))});d._outJobs.set(r,{resolve:c,reject:g,abortHandle:q,debugInfo:a});d._post({type:f,jobId:r,methodName:a,abortable:null!=k},b,m)})};a.prototype.on=function(a,b){function c(a){b(a.data)}var d=new MessageChannel;this._port.postMessage({type:g.MessageType.ON,eventType:a,
port:d.port2},[d.port2]);d.port1.addEventListener("message",c);d.port1.start();return{remove:function(){d.port1.postMessage({type:g.MessageType.CLOSE});d.port1.close();d.port1.removeEventListener("message",c)}}};a.prototype.openPort=function(){var a=new MessageChannel;this._post({type:q,port:a.port2});return a.port1};a.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){var b;
null===(b=a.abortHandle)||void 0===b?void 0:b.remove();a.reject(n.createAbortError("Worker closing, aborting job calling '"+a.debugInfo+"'"))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};a.prototype._onMessage=function(a){if(a=g.receiveMessage(a))switch(a.type){case r:this._onResponseMessage(a);break;case f:this._invokeQueue.push(a);break;case e:this._onAbortMessage(a);
break;case c:this._onCloseMessage();break;case q:this._onOpenPortMessage(a);break;case m:this._onOnMessage(a)}};a.prototype._onAbortMessage=function(a){var b=this._inJobs,c=a.jobId,d=b.get(c);this._invokeQueue.push(a);d&&(d.controller&&d.controller.abort(),b.delete(c))};a.prototype._onCloseMessage=function(){var b=this._client;this._close();b&&"destroy"in b&&a.clients.get(this)===b&&b.destroy();a.clients.delete(this);b&&b.remoteClient&&(b.remoteClient=null)};a.prototype._onInvokeMessage=function(a){var b=
this,c=a.methodName,d=a.jobId,e=a.data;a=a.abortable?n.createAbortController():null;var f=this._inJobs,k=this._client,m=k[c],q;try{if(!m&&c&&-1!==c.indexOf("."))for(var u=c.split("."),h=0;h<u.length-1;h++)k=k[u[h]],m=k[u[h+1]];if("function"!==typeof m)throw new TypeError(c+" is not a function");q=m.call(k,e,{client:this,signal:a?a.signal:null})}catch(K){this._post({type:r,jobId:d,error:g.toInvokeError(K)});return}n.isPromiseLike(q)?(f.set(d,{controller:a,promise:q}),q.then(function(a){f.has(d)&&(f.delete(d),
b._post({type:r,jobId:d},a))},function(a){f.has(d)&&(f.delete(d),n.isAbortError(a)||b._post({type:r,jobId:d,error:g.toInvokeError(a||{message:"Error encountered at method "+c})}))})):this._post({type:r,jobId:d},q)};a.prototype._onOpenPortMessage=function(b){new a(b.port,{client:this._client})};a.prototype._onOnMessage=function(a){var b=a.port,c=this._client.on(a.eventType,function(a){b.postMessage(a)}),d=l.on(a.port,"message",function(a){g.receiveMessage(a).type===g.MessageType.CLOSE&&(d.remove(),
c.remove(),b.close())})};a.prototype._onResponseMessage=function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};a.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};a.prototype._handleResponse=function(a){var b,c=a.jobId,d=a.error;a=a.data;var e=this._outJobs;if(e.has(c)){var f=e.get(c);e.delete(c);null===(b=f.abortHandle)||void 0===b?void 0:b.remove();d?f.reject(h.fromJSON(JSON.parse(d))):
f.resolve(a)}};a.prototype._post=function(a,b,c){return g.postMessage(this._port,a,b,c)};a.clients=new Map;return a}()})},"esri/core/Error":function(){define("require exports tslib ./lang ./Logger ./Message".split(" "),function(a,b,h,l,n,d){a=function(a){function b(c,d,f){var e=a.call(this,c,d,f)||this;return e instanceof b?e:new b(c,d,f)}h.__extends(b,a);b.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,
function(a,b){if(b&&"object"===typeof b&&"function"===typeof b.toJSON)return b;try{return l.clone(b)}catch(f){return"[object]"}}))}}catch(c){throw n.getLogger("esri.core.Error").error(c),c;}return{name:this.name,message:this.message,details:this.details}};b.fromJSON=function(a){return new b(a.name,a.message,a.details)};return b}(d);a.prototype.type="error";return a})},"esri/core/Logger":function(){define("require exports tslib ../config ./has ./maybe ./string @dojo/framework/shim/Promise".split(" "),
function(a,b,h,l,n,d,g){var k={info:0,warn:1,error:2,none:3};return function(){function a(b){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=b.level&&(this.level=b.level);null!=b.writer&&(this.writer=b.writer);this._module=b.module;a._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this._parent=a.getLogger(this.module.slice(0,b)))}Object.defineProperty(a.prototype,"module",{get:function(){return this._module},
enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0});a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._log.apply(this,h.__spreadArrays(["error","always"],a))};a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._log.apply(this,h.__spreadArrays(["warn","always"],a))};a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=
arguments[b];this._log.apply(this,h.__spreadArrays(["info","always"],a))};a.prototype.errorOnce=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._log.apply(this,h.__spreadArrays(["error","once"],a))};a.prototype.warnOnce=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._log.apply(this,h.__spreadArrays(["warn","once"],a))};a.prototype.infoOnce=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._log.apply(this,h.__spreadArrays(["info",
"once"],a))};a.prototype.errorOncePerTick=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._log.apply(this,h.__spreadArrays(["error","oncePerTick"],a))};a.prototype.warnOncePerTick=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._log.apply(this,h.__spreadArrays(["warn","oncePerTick"],a))};a.prototype.infoOncePerTick=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._log.apply(this,h.__spreadArrays(["info","oncePerTick"],a))};
Object.defineProperty(a,"test",{get:function(){return{resetLoggers:function(b){void 0===b&&(b={});var c=a._loggers;a._loggers=b;return c},set throttlingDisabled(b){a._throttlingDisabled=b}}},enumerable:!1,configurable:!0});a.getLogger=function(b){var c=a._loggers[b];c||(c=new a({module:b}));return c};a.prototype._log=function(b,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];if(this._matchLevel(b)){if("always"!==c&&!a._throttlingDisabled){var e=this._argsToKey(d),f=this._loggedMessages[b].get(e);
if("once"===c&&null!=f||"oncePerTick"===c&&f&&f>=a._tickCounter)return;this._loggedMessages[b].set(e,a._tickCounter);a._scheduleTickCounterIncrement()}e=0;for(f=l.log.interceptors;e<f.length;e++)if(f[e].apply(void 0,h.__spreadArrays([b,this.module],d)))return;this._inheritedWriter().apply(void 0,h.__spreadArrays([b,this.module],d))}};a.prototype._parentWithMember=function(a,b){for(var c=this;d.isSome(c);){var e=c[a];if(d.isSome(e))return e;c=c.parent}return b};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",
this._consoleWriter)};a.prototype._consoleWriter=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];console[a].apply(console,h.__spreadArrays(["["+b+"]"],c))};a.prototype._matchLevel=function(a){return k[this._parentWithMember("level",l.log.level?l.log.level:"warn")]<=k[a]};a.prototype._argsToKey=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return g.numericHash(JSON.stringify(a,function(a,b){return"object"!==typeof b||Array.isArray(b)?b:"[Object]"}))};
a._scheduleTickCounterIncrement=function(){a._tickCounterScheduled||(a._tickCounterScheduled=!0,Promise.resolve().then(function(){a._tickCounter++;a._tickCounterScheduled=!1}))};a._loggers={};a._tickCounter=0;a._tickCounterScheduled=!1;a._throttlingDisabled=!1;return a}()})},"esri/core/maybe":function(){define(["require","exports"],function(a,b){function h(a,b,d){return null!=a?d(a):b}Object.defineProperty(b,"__esModule",{value:!0});b.assumeNonNull=b.get=b.mapSomeFirst=b.andThen=b.mapOr=b.forEachSome=
b.mapMany=b.mapSome=b.nullifyNonnullableForDispose=b.removeMaybe=b.disposeMaybe=b.destroyMaybe=b.unwrapOr=b.unwrap=b.applySome=b.isUndefined=b.isNone=b.isSome=b.none=void 0;b.none=null;b.isSome=function(a){return null!=a};b.isNone=function(a){return null==a};b.isUndefined=function(a){return void 0===a};b.applySome=function(a,b){return null!=a?b(a):null};b.unwrap=function(a){return a};b.unwrapOr=function(a,b){return null!=a?a:"function"===typeof b?b():b};b.destroyMaybe=function(a){null!=a&&a.destroy();
return null};b.disposeMaybe=function(a){null!=a&&a.dispose();return null};b.removeMaybe=function(a){null!=a&&a.remove();return null};b.nullifyNonnullableForDispose=function(a){return null};b.mapSome=function(a,b){var d=[];a.forEach(function(a){a=b(a);null!=a&&d.push(a)});return d};b.mapMany=function(a,b){for(var d=[],g=0;g<a.length;g++)d.push(h(a[g],null,b));return d};b.forEachSome=function(a,b){for(var d=0;d<a.length;d++)h(a[d],null,b)};b.mapOr=h;b.andThen=function(a,b){return null!=a?b(a):null};
b.mapSomeFirst=function(a,b){for(var d=0;d<a.length;d++){var g=b(a[d]);if(null!=g)return g}return null};b.get=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];for(var d=a,g=0;g<b.length&&d;)d=d[b[g++]];return d};b.assumeNonNull=function(a){return a}})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(a,b,h,l){function n(a){return null==a?"":a}Object.defineProperty(b,"__esModule",{value:!0});b.numericHash=b.escapeRegExpString=
b.replace=void 0;var d=/\{([^\}]+)\}/g;Object.defineProperty(b,"endsWith",{enumerable:!0,get:function(){return l.endsWith}});Object.defineProperty(b,"startsWith",{enumerable:!0,get:function(){return l.startsWith}});Object.defineProperty(b,"padEnd",{enumerable:!0,get:function(){return l.padEnd}});Object.defineProperty(b,"padStart",{enumerable:!0,get:function(){return l.padStart}});Object.defineProperty(b,"includes",{enumerable:!0,get:function(){return l.includes}});b.replace=function(a,b){return a.replace(d,
"object"===typeof b?function(a,d){return n(h.getDeepValue(d,b))}:function(a,d){return n(b(d))})};b.escapeRegExpString=function(a,b){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return b&&-1!==b.indexOf(a)?a:"\\"+a})};b.numericHash=function(a){for(var b=0,c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b|=0;return b}})},"@dojo/framework/shim/string":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):
"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var h=a("tslib"),l=a("./global"),n=a("../has/has");a=a("./support/util");b.HIGH_SURROGATE_MIN=55296;b.HIGH_SURROGATE_MAX=56319;b.LOW_SURROGATE_MIN=56320;b.LOW_SURROGATE_MAX=57343;if(n.default("es6-string")&&n.default("es6-string-raw"))b.fromCodePoint=l.default.String.fromCodePoint,b.raw=l.default.String.raw,b.codePointAt=
a.wrapNative(l.default.String.prototype.codePointAt),b.endsWith=a.wrapNative(l.default.String.prototype.endsWith),b.includes=a.wrapNative(l.default.String.prototype.includes),b.normalize=a.wrapNative(l.default.String.prototype.normalize),b.repeat=a.wrapNative(l.default.String.prototype.repeat),b.startsWith=a.wrapNative(l.default.String.prototype.startsWith);else{var d=function(a,b,c,d,f){void 0===f&&(f=!1);if(null==b)throw new TypeError("string."+a+" requires a valid string to search against.");a=
b.length;return[b,String(c),Math.min(Math.max(d!==d?f?a:0:d,0),a)]};b.fromCodePoint=function(){for(var a=0;a<arguments.length;a++);a=arguments.length;if(!a)return"";for(var d=String.fromCharCode,c=[],e=-1,f="";++e<a;){var r=Number(arguments[e]);if(!(isFinite(r)&&Math.floor(r)===r&&0<=r&&1114111>=r))throw RangeError("string.fromCodePoint: Invalid code point "+r);65535>=r?c.push(r):(r-=65536,c.push((r>>10)+b.HIGH_SURROGATE_MIN,r%1024+b.LOW_SURROGATE_MIN));if(e+1===a||16384<c.length)f+=d.apply(null,
c),c.length=0}return f};b.raw=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var c=a.raw,d="",f=b.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var g=0,q=c.length;g<q;g++)d+=c[g]+(g<f&&g<q-1?b[g]:"");return d};b.codePointAt=function(a,d){void 0===d&&(d=0);if(null==a)throw new TypeError("string.codePointAt requries a valid string.");var c=a.length;d!==d&&(d=0);if(!(0>d||d>=c)){var e=a.charCodeAt(d);return e>=
b.HIGH_SURROGATE_MIN&&e<=b.HIGH_SURROGATE_MAX&&c>d+1&&(a=a.charCodeAt(d+1),a>=b.LOW_SURROGATE_MIN&&a<=b.LOW_SURROGATE_MAX)?1024*(e-b.HIGH_SURROGATE_MIN)+a-b.LOW_SURROGATE_MIN+65536:e}};b.endsWith=function(a,b,c){if(""===b)return!0;if("undefined"===typeof c)c=a.length;else if(null===c||isNaN(c))return!1;c=h.__read(d("endsWith",a,b,c,!0),3);a=c[0];b=c[1];c=c[2];var e=c-b.length;return 0>e?!1:a.slice(e,c)===b};b.includes=function(a,b,c){void 0===c&&(c=0);c=h.__read(d("includes",a,b,c),3);a=c[0];b=c[1];
c=c[2];return-1!==a.indexOf(b,c)};b.repeat=function(a,b){void 0===b&&(b=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");b!==b&&(b=0);if(0>b||Infinity===b)throw new RangeError("string.repeat requires a non-negative finite count.");for(var c="";b;)b%2&&(c+=a),1<b&&(a+=a),b>>=1;return c};b.startsWith=function(a,b,c){void 0===c&&(c=0);b=String(b);c=h.__read(d("startsWith",a,b,c),3);a=c[0];b=c[1];c=c[2];var e=c+b.length;return e>a.length?!1:a.slice(c,e)===b}}n.default("es2017-string")?
(b.padEnd=a.wrapNative(l.default.String.prototype.padEnd),b.padStart=a.wrapNative(l.default.String.prototype.padStart)):(b.padEnd=function(a,d,c){void 0===c&&(c=" ");if(null===a||void 0===a)throw new TypeError("string.repeat requires a valid string.");if(Infinity===d)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===d||void 0===d||0>d)d=0;a=String(a);d-=a.length;0<d&&(a+=b.repeat(c,Math.floor(d/c.length))+c.slice(0,d%c.length));return a},b.padStart=function(a,d,
c){void 0===c&&(c=" ");if(null===a||void 0===a)throw new TypeError("string.repeat requires a valid string.");if(Infinity===d)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===d||void 0===d||0>d)d=0;a=String(a);d-=a.length;0<d&&(a=b.repeat(c,Math.floor(d/c.length))+c.slice(0,d%c.length)+a);return a})})},"esri/core/Message":function(){define(["require","exports","./object"],function(a,b,h){function l(a,b){return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,
function(a,d){if(""===d)return"$";a=h.getDeepValue(d,b);a=null==a?"":a;if("undefined"===typeof a)throw Error('could not find key "'+d+'" in template');return a.toString()})}return function(){function a(b,g,k){this.name=b;this.details=k;this.message=void 0;this instanceof a&&(this.message=g&&l(g,k)||"")}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"esri/core/events":function(){define(["require","exports"],function(a,b){function h(a){return a&&("function"===
typeof a.on||"function"===typeof a.addEventListener)}function l(a,b,g){if(!h(a))throw new TypeError("target is not a Evented or EventTarget object");if("on"in a)return a.on(b,g);if(Array.isArray(b)){for(var d=b.slice(),c=0;c<d.length;c++)a.addEventListener(d[c],g);return{remove:function(){for(var b=0;b<d.length;b++)a.removeEventListener(d[b],g)}}}a.addEventListener(b,g);return{remove:function(){a.removeEventListener(b,g)}}}Object.defineProperty(b,"__esModule",{value:!0});b.eventKey=b.ieKeyNormalizationMap=
b.pausable=b.once=b.on=b.isEventTarget=void 0;b.isEventTarget=h;b.on=l;b.once=function(a,b,g){if(!h(a))throw new TypeError("target is not a Evented or EventTarget object");if("once"in a)return a.once(b,g);var d=l(a,b,function(b){d.remove();g.call(a,b)});return{remove:function(){d.remove()}}};b.pausable=function(a,b,g){var d=!1,c=l(a,b,function(b){d||g.call(a,b)});return{resume:function(){d=!1},pause:function(){d=!0},remove:function(){c.remove()}}};b.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",
Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};b.eventKey=function(a){a=a.key;return b.ieKeyNormalizationMap[a]||a}})},"esri/core/promiseUtils":function(){define("require exports tslib @dojo/framework/shim/AbortController ./clock ./Error ./events ./Logger ./maybe @dojo/framework/shim/Promise".split(" "),function(a,b,h,l,n,d,g,k,c){function e(a){return Promise.all(a)}
function f(a){return new Promise(function(b,c){try{a(b,c)}catch(K){Promise.resolve().then(function(){return c(K)})}})}function r(a){void 0===a&&(a="Aborted");return new d("AbortError",a)}function q(){return new l.default}function m(a){if(u(a))throw r();}function y(a){return c.isSome(a)?"aborted"in a?a:a.signal:a}function u(a){a=y(a);return c.isSome(a)&&a.aborted}function v(a,b){a=y(a);if(!c.isNone(a))if(a.aborted)b();else return g.once(a,"abort",function(){return b()})}function t(a){return a&&"AbortError"===
a.name}function p(){var a=null,b=f(function(b,c){a={promise:void 0,resolve:b,reject:c}});a.promise=b;return a}function x(a){if(a){if("function"!==typeof a.forEach){var b=Object.keys(a),c=b.map(function(b){return a[b]});return x(c).then(function(a){var c={};b.forEach(function(b,d){return c[b]=a[d]});return c})}var d=w;return f(function(b){var c=[],e=a.length;0===e&&b(c);a.forEach(function(a){var f={promise:a||d(a)};c.push(f);f.promise.then(function(a){f.value=a}).catch(function(a){f.error=a}).then(function(){--e;
0===e&&b(c)})})})}}function w(a){void 0===a&&(a=void 0);return Promise.resolve(a)}function z(a,b,c){void 0===b&&(b=void 0);var d=q();v(c,function(){return d.abort()});return f(function(c,e){var f=setTimeout(function(){f=0;c(b)},a);v(d,function(){f&&(clearTimeout(f),e(r()))})})}function B(a){return a&&"object"===typeof a&&"then"in a&&"function"===typeof a.then?a:w(a)}Object.defineProperty(b,"__esModule",{value:!0});b.always=b.createResolver=b.debounce=b.when=b.isPromiseLike=b.timeout=b.after=b.resolve=
b.reject=b.first=b.eachAlwaysValues=b.isThenable=b.eachAlways=b.createDeferred=b.logOnError=b.ignoreAbortErrors=b.isAbortError=b.onAbortOrThrow=b.onAbort=b.throwIfNotAbortError=b.throwIfAbortError=b.isAborted=b.throwIfAborted=b.createAbortController=b.createAbortError=b.create=b.filter=b.all=void 0;var A=k.getLogger("esri");b.all=e;b.filter=function(a,b){var c=a.slice();return e(a.map(function(a,c){return b(a,c)})).then(function(a){return c.filter(function(b,c){return a[c]})})};b.create=f;b.createAbortError=
r;b.createAbortController=q;b.throwIfAborted=m;b.isAborted=u;b.throwIfAbortError=function(a){if(t(a))throw a;};b.throwIfNotAbortError=function(a){if(!t(a))throw a;};b.onAbort=v;b.onAbortOrThrow=function(a,b){a=y(a);if(!c.isNone(a))return m(a),g.once(a,"abort",function(){return b(r())})};b.isAbortError=t;b.ignoreAbortErrors=function(a){return a.catch(function(a){if(!t(a))throw a;})};b.logOnError=function(a,b){return a.catch(function(a){t(a)||(b=c.isSome(b)?b:A,b.error(a))})};b.createDeferred=p;b.eachAlways=
x;b.isThenable=function(a){return a&&"function"===typeof a.then};b.eachAlwaysValues=function(a){return x(a).then(function(a){return a.filter(function(a){return!!a.value}).map(function(a){return a.value})})};b.first=function(a){return a&&a.length?f(function(b,c){for(var d=0;d<a.length;d++)a[d].then(b,c)}):w()};b.reject=function(a){return Promise.reject(a)};b.resolve=w;b.after=z;b.timeout=function(a,b,c,e){var f=c&&"abort"in c?c:null;null!=e||f||(e=c);var m=setTimeout(function(){m=0;f&&f.abort()},b),
k=function(){throw e||new d("promiseUtils:timeout","The wrapped promise did not resolve within "+b+" ms");};return a.then(function(a){if(0===m)throw k();clearTimeout(m);return a},function(a){clearTimeout(m);throw 0===m?k():a;})};b.isPromiseLike=function(a){return a&&"function"===typeof a.then};b.when=B;b.debounce=function(a,b){void 0===b&&(b=-1);var d,e,f,m,k=null,g=function(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];if(d)return e=u,m&&m.reject(r()),m=p(),u=c.assumeNonNull(m.promise),
k&&(t=k,k=null,t.abort()),u;f=m||p();m=null;if(0<b){var w=q(),n=d=B(a.apply(void 0,h.__spreadArrays(u,[w.signal])));z(b).then(function(){d===n&&(m?w.abort():k=w)})}else d=1,d=B(a.apply(void 0,u));var u=function(){var a=e;e=f=d=k=null;null!=a&&g.apply(void 0,a)},t=d,y=f;t.then(u,u);t.then(y.resolve,y.reject);return c.assumeNonNull(y.promise)};return g};b.createResolver=function(){var a,b,c=f(function(c,d){a=c;b=d}),d=function(b){a(b)};d.resolve=function(b){return a(b)};d.reject=function(a){return b(a)};
d.timeout=function(a,b){return n.default.setTimeout(function(){return d.reject(b)},a)};d.promise=c;return d};b.always=function(a,b){return a.then(b,b)}})},"@dojo/framework/shim/AbortController":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});
var h=a("./global"),l=a("../has/has"),n=a("./array");b.ShimAbortSignal=h.default.AbortSignal;l.default("abort-signal")||(h.default.AbortSignal=b.ShimAbortSignal=function(){function a(){this._aborted=!1;this.listeners={}}Object.defineProperty(a.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});a.prototype.addEventListener=function(a,b){a in this.listeners||(this.listeners[a]=[]);this.listeners[a].push(b)};a.prototype.removeEventListener=function(a,b){if(a in
this.listeners){var c=n.findIndex(this.listeners[a],function(a){return a===b});0<=c&&this.listeners[a].splice(c,1)}};a.prototype.dispatchEvent=function(a){var b=this,c=a.type;"abort"===c&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,a));if(!(c in this.listeners))return!1;this.listeners[c].forEach(function(c){setTimeout(function(){return c.call(b,a)},0)});return!a.preventDefault};return a}());b.ShimAbortController=h.default.AbortController;l.default("abort-controller")||
(h.default.AbortController=b.ShimAbortController=function(){function a(){this.signal=new b.ShimAbortSignal}a.prototype.abort=function(){var a;try{a=new Event("abort")}catch(k){"undefined"!==typeof document?(a=document.createEvent("Event"),a.initEvent("abort",!1,!1)):a={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(a)};return a}());b.default=b.ShimAbortController})},"@dojo/framework/shim/array":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=
a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var h=a("tslib"),l=a("./global"),n=a("./iterator"),d=a("./number"),g=a("../has/has");a=a("./support/util");if(g.default("es6-array")&&g.default("es6-array-fill"))b.from=l.default.Array.from,b.of=l.default.Array.of,b.copyWithin=a.wrapNative(l.default.Array.prototype.copyWithin),
b.fill=a.wrapNative(l.default.Array.prototype.fill),b.find=a.wrapNative(l.default.Array.prototype.find),b.findIndex=a.wrapNative(l.default.Array.prototype.findIndex);else{var k=function(a){if(isNaN(a))return 0;a=Number(a);isFinite(a)&&(a=Math.floor(a));return Math.min(Math.max(a,0),d.MAX_SAFE_INTEGER)},c=function(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},e=function(a,b){return 0>a?Math.max(b+a,0):Math.min(a,b)};b.from=function(a,b,c){if(null==a)throw new TypeError("from: requires an array-like object");
b&&c&&(b=b.bind(c));c=k(a.length);var d="function"===typeof this?Object(new this(c)):Array(c);if(!n.isArrayLike(a)&&!n.isIterable(a))return d;if(n.isArrayLike(a)){if(0===c)return[];for(var e=0;e<a.length;e++)d[e]=b?b(a[e],e):a[e]}else{e=0;try{for(var f=h.__values(a),r=f.next();!r.done;r=f.next()){var g=r.value;d[e]=b?b(g,e):g;e++}}catch(w){q={error:w}}finally{try{r&&!r.done&&(x=f.return)&&x.call(f)}finally{if(q)throw q.error;}}}void 0!==a.length&&(d.length=c);return d;var q,x};b.of=function(){for(var a=
[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Array.prototype.slice.call(a)};b.copyWithin=function(a,b,d,m){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");var f=k(a.length);b=e(c(b),f);d=e(c(d),f);m=e(void 0===m?f:c(m),f);m=Math.min(m-d,f-b);f=1;b>d&&b<d+m&&(f=-1,d+=m-1,b+=m-1);for(;0<m;)d in a?a[b]=a[d]:delete a[b],b+=f,d+=f,m--;return a};b.fill=function(a,b,d,m){var f=k(a.length);d=e(c(d),f);for(m=e(void 0===m?f:c(m),f);d<m;)a[d++]=b;return a};b.find=
function(a,c,d){c=b.findIndex(a,c,d);return-1!==c?a[c]:void 0};b.findIndex=function(a,b,c){var d=k(a.length);if(!b)throw new TypeError("find: second argument must be a function");c&&(b=b.bind(c));for(c=0;c<d;c++)if(b(a[c],c,a))return c;return-1}}g.default("es7-array")?b.includes=a.wrapNative(l.default.Array.prototype.includes):b.includes=function(a,b,c){void 0===c&&(c=0);var e;e=a.length;e=Number(e);isNaN(e)?e=0:(isFinite(e)&&(e=Math.floor(e)),e=Math.min(Math.max(e,0),d.MAX_SAFE_INTEGER));for(;c<
e;++c){var f=a[c];if(b===f||b!==b&&f!==f)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],a)})(function(a,b){function h(a){return a&&"function"===typeof a[Symbol.iterator]}function l(a){return a&&"number"===typeof a.length}function n(a){if(h(a))return a[Symbol.iterator]();
if(l(a))return new k(a)}Object.defineProperty(b,"__esModule",{value:!0});a("./Symbol");var d=a("./string"),g={done:!0,value:void 0},k=function(){function a(a){this._nextIndex=-1;h(a)?this._nativeIterator=a[Symbol.iterator]():this._list=a}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:g:g};a.prototype[Symbol.iterator]=function(){return this};return a}();b.ShimIterator=k;b.isIterable=
h;b.isArrayLike=l;b.get=n;b.forOf=function(a,b,f){function c(){e=!0}var e=!1;if(l(a)&&"string"===typeof a)for(var k=a.length,g=0;g<k;++g){var u=a[g];if(g+1<k){var h=u.charCodeAt(0);h>=d.HIGH_SURROGATE_MIN&&h<=d.HIGH_SURROGATE_MAX&&(u+=a[++g])}b.call(f,u,a,c);if(e)break}else if(k=n(a))for(g=k.next();!g.done;){b.call(f,g.value,a,c);if(e)break;g=k.next()}}})},"@dojo/framework/shim/number":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==
a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],a)})(function(a,b){function h(a){return"number"===typeof a&&n.default.isFinite(a)}function l(a){return h(a)&&Math.floor(a)===a}Object.defineProperty(b,"__esModule",{value:!0});var n=a("./global");b.EPSILON=1;b.MAX_SAFE_INTEGER=Math.pow(2,53)-1;b.MIN_SAFE_INTEGER=-b.MAX_SAFE_INTEGER;b.isNaN=function(a){return"number"===typeof a&&n.default.isNaN(a)};b.isFinite=h;b.isInteger=l;b.isSafeInteger=function(a){return l(a)&&
Math.abs(a)<=b.MAX_SAFE_INTEGER}})},"esri/core/clock":function(){define(["require","exports","./global"],function(a,b,h){function l(a){return{setTimeout:function(b,g){var d=a.setTimeout(b,g);return{remove:function(){return a.clearTimeout(d)}}}}}Object.defineProperty(b,"__esModule",{value:!0});b.wrap=void 0;b.wrap=l;b.default=l(h)})},"esri/core/workers/registry":function(){define(["require","exports","@dojo/framework/shim/Promise"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.registry=
void 0;b.registry={geometryEngineWorker:function(){return new Promise(function(b,l){a(["../../geometry/geometryEngineWorker"],b,l)})},CSVSourceWorker:function(){return new Promise(function(b,l){a(["../../layers/graphics/sources/support/CSVSourceWorker"],b,l)})},EdgeProcessingWorker:function(){return new Promise(function(b,l){a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],b,l)})},ElevationSamplerWorker:function(){return new Promise(function(b,l){a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],
b,l)})},GeoJSONSourceWorker:function(){return new Promise(function(b,l){a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],b,l)})},LercWorker:function(){return new Promise(function(b,l){a(["../../layers/support/LercWorker"],b,l)})},MemorySourceWorker:function(){return new Promise(function(b,l){a(["../../layers/graphics/sources/support/MemorySourceWorker"],b,l)})},PBFDecoderWorker:function(){return new Promise(function(b,l){a(["../../views/3d/support/PBFDecoderWorker"],b,l)})},Pipeline:function(){return new Promise(function(b,
l){a(["../../views/2d/layers/features/Pipeline"],b,l)})},PointCloudWorker:function(){return new Promise(function(b,l){a(["../../views/3d/layers/PointCloudWorker"],b,l)})},RasterWorker:function(){return new Promise(function(b,l){a(["../../layers/support/RasterWorker"],b,l)})},SceneLayerWorker:function(){return new Promise(function(b,l){a(["../../views/3d/layers/SceneLayerWorker"],b,l)})},WorkerTileHandler:function(){return new Promise(function(b,l){a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],
b,l)})}}})},"esri/core/workers/utils":function(){define(["require","exports","../has"],function(a,b,h){function l(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}function n(a){if(!a||!a.length)return null;if(h("esri-workers-arraybuffer-transfer"))return a;a=a.filter(function(a){return!(a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name)});return a.length?a:null}Object.defineProperty(b,"__esModule",{value:!0});b.receiveMessage=b.postMessage=b.toInvokeError=
b.isTranferableResult=b.newJobId=b.MessageType=void 0;var d;(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.ABORT=7]="ABORT";a[a.CLOSE=8]="CLOSE";a[a.OPEN_PORT=9]="OPEN_PORT";a[a.ON=10]="ON"})(d=b.MessageType||(b.MessageType={}));var g=0;b.newJobId=function(){return g++};b.isTranferableResult=l;b.toInvokeError=function(a){return a?"string"===typeof a?
JSON.stringify({name:"message",message:a}):a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,message:a.message,details:a.details||{stack:a.stack}}):null};b.postMessage=function(a,b,e,f){b.type===d.OPEN_PORT?a.postMessage(b,[b.port]):b.type!==d.INVOKE&&b.type!==d.RESPONSE?a.postMessage(b):(l(e)?(f=n(e.transferList),b.data=e.result):(f=n(f),b.data=e),f?a.postMessage(b,f):a.postMessage(b))};b.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},"esri/views/support/Scheduler":function(){define("require exports tslib @dojo/framework/shim/number ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/PooledArray ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/PromiseQueue ./debugFlags".split(" "),
function(a,b,h,l,n,d,g,k,c,e,f,r,q){function m(a){return a in b.taskPriorities?b.taskPriorities[a]:"number"===typeof a?a:1}var y;Object.defineProperty(b,"__esModule",{value:!0});b.noBudget=b.TaskState=b.TestTaskHandle=b.getTaskPriority=b.taskPriorities=b.Task=b.newScheduler=void 0;var u=d.getLogger("esri.views.support.Scheduler");b.newScheduler=function(a){return new t.Scheduler(a)};(function(a){a.REMOTE_CLIENT="remote client";a.STREAM_DATA_LOADER="stream data loader";a.ELEVATION_QUERY="elevation query";
a.TERRAIN_SURFACE="terrain surface";a.SURFACE_GEOMETRY_UPDATES="surface geometry updates";a.I3S_CONTROLLER="I3S controller";a.POINT_CLOUD_LAYER="point cloud";a.FEATURE_TILE_FETCHER="feature fetcher";a.FEATURE_FETCH_QUEUE="feature fetch queue";a.GRAPHICS_CORE="Graphics3D";a.LABELER="labeler";a.GRAPHICS_DECONFLICTOR="graphics deconflictor";a.FILTER_VISIBILITY="Graphics3D filter visibility";a.FEATURE_QUERY_ENGINE="feature query";a.SCALE_VISIBILITY="Graphics3D scale visibility";a.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";
a.POINT_OF_INTEREST_FREQUENT="POI frequent";a.POINT_OF_INTEREST_INFREQUENT="POI infrequent";a.FEATURE_TILE_TREE="feature tile tree";a.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";a.ELEVATION_ALIGNMENT="elevation alignment";a.TEXT_TEXTURE_ATLAS="text texture atlas";a.TEXTURE_UNLOAD="texture unload";a.OVERLAY_MANAGER="overlay manager";a.LINE_OF_SIGHT_TOOL="line of sight tool";a.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";a.ELEVATION_PROFILE="elevation profile";a[a.TEST_PRIO=
1]="TEST_PRIO"})(a=b.Task||(b.Task={}));b.taskPriorities=(y={},y[a.REMOTE_CLIENT]=1,y[a.STREAM_DATA_LOADER]=1,y[a.FEATURE_FETCH_QUEUE]=1,y[a.ELEVATION_QUERY]=1,y[a.TERRAIN_SURFACE]=2,y[a.SURFACE_GEOMETRY_UPDATES]=2,y[a.I3S_CONTROLLER]=4,y[a.POINT_CLOUD_LAYER]=4,y[a.FEATURE_TILE_FETCHER]=4,y[a.GRAPHICS_CORE]=6,y[a.LABELER]=6,y[a.GRAPHICS_DECONFLICTOR]=6,y[a.FILTER_VISIBILITY]=8,y[a.FEATURE_QUERY_ENGINE]=8,y[a.SCALE_VISIBILITY]=8,y[a.FRUSTUM_VISIBILITY]=8,y[a.POINT_OF_INTEREST_FREQUENT]=6,y[a.POINT_OF_INTEREST_INFREQUENT]=
30,y[a.FEATURE_TILE_TREE]=16,y[a.FEATURE_TILE_TREE_ACTIVE]=1,y[a.ELEVATION_ALIGNMENT]=12,y[a.TEXT_TEXTURE_ATLAS]=12,y[a.TEXTURE_UNLOAD]=12,y[a.OVERLAY_MANAGER]=12,y[a.LINE_OF_SIGHT_TOOL]=16,y[a.LINE_OF_SIGHT_TOOL_INTERACTIVE]=1,y);b.getTaskPriority=m;y=function(){function a(){}a.prototype.remove=function(){};a.prototype.schedule=function(a){return c.when(a())};a.prototype.reschedule=function(a){return c.when(a())};return a}();b.TestTaskHandle=y;var v=1E3/30,t;(function(a){var d=function(){function a(a){var b=
this;this._now=a;this._budget=null;this._state=1;this._tasks=new k;this._runQueue=new k;this._load=0;this._idleStateCallbacks=new k;this._idleUpdatesStartFired=!1;this._maxReschedule=x;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=e.init(q,"SCHEDULER_LOG_SLOW_TASKS",function(a){return b._debug=a});this._budget=new w(a);var c=this,d;this._test={get state(){return g.isNone(d)?c._state:d},set state(a){d=a},FRAME_SAFETY_BUDGET:5,INTERACTING_BUDGET:v,IDLE_BUDGET:100,get budget(){return c._budget.budget},
usedBudget:0,startTime:0,updateTask:function(a){return b._updateTask(a)},getState:function(a){return b._getState(a)},getRuntime:function(a){return b._getRuntime(a)}}}a.prototype.destroy=function(){this._debugHandle&&this._debugHandle.remove()};a.prototype.registerTask=function(a,b,c){var d=m(a);a=new t(this,a,b,c,d);this._tasks.push(a);return a};a.prototype.registerIdleStateCallbacks=function(a,b){var c=this,d={idleBegin:a,idleEnd:b};this._idleStateCallbacks.push(d);2===this.state&&this._idleUpdatesStartFired&&
d.idleBegin();var e=this;return{remove:function(){return c._removeIdleStateCallbacks(d)},set idleBegin(a){e._idleUpdatesStartFired&&(d.idleEnd(),2===e._state&&a());d.idleBegin=a},set idleEnd(a){d.idleEnd=a}}};Object.defineProperty(a.prototype,"now",{get:function(){return this._now()},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"load",{get:function(){return this._load},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"state",{get:function(){return g.isNone(this._test.state)?
this._state:this._test.state},set:function(a){this._state!==a&&(this._state=a,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEachSimple(function(a){return a.idleEnd()})))},enumerable:!1,configurable:!0});a.prototype.updateBudget=function(a){this._test.usedBudget=0;this._test.startTime=a.elapsedFrameTime;this._safetyBudget=5;var b=a.frameDuration,c=1;switch(this.state){case 2:this._safetyBudget=0;b=Math.max(100,a.frameDuration);c=30;break;case 1:b=
Math.max(v,a.frameDuration)}b-=a.elapsedFrameTime+this._safetyBudget;if(2!==this.state&&0>b&&!this._forceTask)return this._forceTask=!0,!1;b=Math.max(b,c);this._budget.reset(b,this.state);this._maxReschedule=x;this._updateLoad();return this._schedule()};a.prototype.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEachSimple(function(a){return a.idleBegin()}));this._runIdle();break;case 1:this._runInteracting();
break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};a.prototype._removeIdleStateCallbacks=function(a){this._idleUpdatesStartFired&&a.idleEnd();this._idleStateCallbacks.removeUnordered(a)};a.prototype.removeTask=function(a){this._tasks.removeUnordered(a);this._runQueue.removeUnordered(a)};a.prototype._updateTask=function(a){this._tasks.forEachSimple(function(b){b.name===a&&b.setPriority(a)})};a.prototype._getState=function(a){if(this._runQueue.some(function(b){return b.name===
a}))return p.SCHEDULED;var b=p.IDLE;this._tasks.forEachSimple(function(c){c.name===a&&c.needsUpdate&&(1>=c.schedulePriority?b=p.READY:b!==p.READY&&(b=p.WAITING))});return b};a.prototype._getRuntime=function(a){var b=0;this._tasks.forEachSimple(function(c){c.name===a&&(b+=c.runtime)});return b};a.prototype._runIdle=function(){this._run()};a.prototype._runInteracting=function(){this._run()};a.prototype._runAnimating=function(){this._run()};a.prototype._updateLoad=function(){var a=this._tasks.reduce(function(a,
b){return b.needsUpdate?++a:a},0);this._load=.9*this._load+a*(1-.9)};a.prototype._schedule=function(){var a=this;if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(function(a){if(a.needsUpdate)return!0;a.schedulePriority=a.priority;return!1});for(var b=function(){var b=!1,d=0;c._tasks.forEachSimple(function(c){if(0!==c.schedulePriority&&c.needsUpdate)switch(b=!0,d=Math.max(d,c.priority),c.schedulePriority){case 1:c.schedulePriority=0;a._runQueue.push(c);break;default:--c.schedulePriority}});
if(!b)return{value:!1};c._maxReschedule===x&&(c._maxReschedule=d);--c._maxReschedule},c=this;0===this._runQueue.length;){var d=b();if("object"===typeof d)return d.value}return!0};a.prototype._run=function(){do for(;0<this._runQueue.length;){var a=this._runQueue.pop();this._budget.resetProgress();var b=this._budget.now();try{a.processQueue(this._budget),!this._budget.done&&a.needsUpdate&&a.update(this._budget)}catch(K){u.error('Exception in task "'+a.name+'"',K)}a.schedulePriority=a.priority;a.runtime+=
this._budget.now()-b;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",a.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining)return}while(this._schedule())};Object.defineProperty(a.prototype,"test",{get:function(){return this._test},enumerable:!1,configurable:!0});return a}();a.Scheduler=d;var t=function(a){function d(b,c,d,e,f){var m=a.call(this,{})||this;m._scheduler=b;m.name=c;m.update=d;m._needsUpdateCB=e;m._priority=f;m.runtime=
0;m._queue=new r.default;m.updating=!1;m.schedulePriority=m._priority;return m}h.__extends(d,a);d.prototype.normalizeCtorArgs=function(){return{}};d.prototype.remove=function(){this.processQueue(b.noBudget);this._scheduler.removeTask(this)};Object.defineProperty(d.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0});d.prototype.setPriority=function(a){this.name=a;this._priority=m(a);0!==this.schedulePriority&&(this.schedulePriority=this._priority)};Object.defineProperty(d.prototype,
"task",{get:function(){return this.name},set:function(a){this.setPriority(a)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"needsUpdate",{get:function(){return 0<this._queue.length||this._needsUpdateCB()},enumerable:!1,configurable:!0});d.prototype.schedule=function(a,b){this.updating=!0;return this._queue.push(function(){c.throwIfAborted(b);return a()})};d.prototype.reschedule=function(a,b){this.updating=!0;return this._queue.unshift(function(){c.throwIfAborted(b);return a()})};
d.prototype.processQueue=function(a){for(;!a.done&&this._queue.process();)a.madeProgress();0===this._queue.length&&(this.updating=!1)};h.__decorate([f.property()],d.prototype,"updating",void 0);return d=h.__decorate([f.subclass("esri.views.support.SchedulerTask")],d)}(n),w=function(){function a(a){this.now=a;this._budget=this._begin=0;this._state=2;this._didWork=!1;this._enabled=!0}a.prototype.run=function(a){if(this.done)return!1;!0===a()&&(this._didWork=!0);return!0};Object.defineProperty(a.prototype,
"done",{get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"budget",{get:function(){return this._budget},enumerable:!1,configurable:!0});a.prototype.madeProgress=function(){this._didWork=!0};Object.defineProperty(a.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=
a},enumerable:!1,configurable:!0});a.prototype.reset=function(a,b){this._begin=this.now();this._budget=a;this._state=b;this._didWork=!1};Object.defineProperty(a.prototype,"remaining",{get:function(){return Math.max(this._budget-this.elapsed,0)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"elapsed",{get:function(){return this.now()-this._begin},enumerable:!1,configurable:!0});a.prototype.resetProgress=function(){this._didWork=!1};Object.defineProperty(a.prototype,"hasProgressed",
{get:function(){return this._didWork},enumerable:!1,configurable:!0});return a}();a.Budget=w})(t||(t={}));var p;(function(a){a.SCHEDULED="s";a.READY="r";a.WAITING="w";a.IDLE="i"})(p=b.TaskState||(b.TaskState={}));b.noBudget=function(){var a=new t.Budget(function(){return performance.now()});a.enabled=!1;return a}();var x=l.MAX_SAFE_INTEGER})},"esri/core/Accessor":function(){define("require exports tslib ./deprecate ./Logger ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,h,l,n,d,g,k,c,e,f,r,q){function m(a){var b=typeof a;if(null==a)return{value:a};if(Array.isArray(a))return{type:[a[0]],value:null};if("object"===b)return a.constructor&&a.constructor.__accessorMetadata__||a instanceof Date?{type:a.constructor,value:a}:a;if("boolean"===b)return{type:Boolean,value:a};if("string"===b)return{type:String,value:a};if("number"===b)return{type:Number,value:a};if("function"===b)return{type:a,value:null}}return function(){function a(){for(var b=[],c=0;c<arguments.length;c++)b[c]=
arguments[c];if(this.constructor===a)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new k.default(this)});0<b.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,b));if(e.interceptor)e.interceptor.onInstanceConstruct(this)}a.createSubclass=function(a){void 0===a&&(a={});if(Array.isArray(a))throw Error("Multi-inheritance unsupported since 4.16");
var b=a.properties,c=a.declaredClass,d=a.constructor;delete a.declaredClass;delete a.properties;delete a.constructor;var e=this,f=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];c=a.apply(this,b)||this;c.inherited=null;d&&d.apply(c,b);return c}h.__extends(b,a);return b}(e);g.getOwnClassMetadata(f.prototype);var k=function(b){var c=a[b];f.prototype[b]="function"===typeof c?function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];d=this.inherited;this.inherited=
function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(e.prototype[b])return e.prototype[b].apply(this,a)};var f=void 0;try{f=c.apply(this,a)}catch(L){throw this.inherited=d,L;}this.inherited=d;return f}:a[b]},u;for(u in a)k(u);for(u in b)k=m(b[u]),r.property(k)(f.prototype,u);return q.subclass(c)(f)};a.prototype.postscript=function(a){var b=this.__accessor__;a=b.ctorArgs||a;b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()};a.prototype.initialize=
function(){};a.prototype.destroy=function(){if(!this.destroyed&&(f.removeTarget(this),this.__accessor__.destroy(),e.interceptor))e.interceptor.onInstanceDestroy(this)};Object.defineProperty(a.prototype,"initialized",{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"constructed",{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,
"destroyed",{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1},enumerable:!1,configurable:!0});a.prototype.get=function(a){return d.default(this,a)};a.prototype.hasOwnProperty=function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)};a.prototype.isInstanceOf=function(a){l.deprecatedFunction(n.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"});return this instanceof a};a.prototype.keys=
function(){return this.__accessor__?this.__accessor__.keys():[]};a.prototype.set=function(a,b){c.default(this,a,b);return this};a.prototype.watch=function(a,b,c){return f.default(this,a,b,c)};a.prototype._clearOverride=function(a){return this.__accessor__.clearOverride(a)};a.prototype._override=function(a,b){return this.__accessor__.override(a,b)};a.prototype._isOverridden=function(a){return this.__accessor__.isOverridden(a)};a.prototype.notifyChange=function(a){this.__accessor__.propertyInvalidated(a)};
a.prototype._get=function(a){return this.__accessor__.internalGet(a)};a.prototype._set=function(a,b){this.__accessor__.internalSet(a,b);return this};return a}()})},"esri/core/deprecate":function(){define(["require","exports","./has"],function(a,b,h){function l(a,b,k){void 0===k&&(k={});if(h("esri-deprecation-warnings")){var c=k.replacement,d=k.version,f=k.see;k=k.warnOnce;c&&(b+="\n\t\ud83d\udee0\ufe0f Replacement: "+c);d&&(b+="\n\t\u2699\ufe0f Version: "+d);f&&(b+="\n\t\ud83d\udd17 See "+f+" for more details.");
c=b;d=k;void 0===d&&(d=!1);d&&n.has(c)||(d&&n.add(c),a.warn("\ud83d\uded1 DEPRECATED - "+c))}}Object.defineProperty(b,"__esModule",{value:!0});b.deprecated=b.deprecatedProperty=b.deprecatedFunction=b.deprecatedModule=void 0;var n=new Set;b.deprecatedModule=function(a,b,k){void 0===k&&(k={});h("esri-deprecation-warnings")&&l(a,"Module: "+b,k)};b.deprecatedFunction=function(a,b,k){void 0===k&&(k={});if(h("esri-deprecation-warnings")){var c=k.moduleName;l(a,"Function: "+((c?c+"::":"")+b+"()"),k)}};b.deprecatedProperty=
function(a,b,k){void 0===k&&(k={});if(h("esri-deprecation-warnings")){var c=k.moduleName;l(a,"Property: "+((c?c+"::":"")+b),k)}};b.deprecated=l})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(a,b,h){function l(a,b,d){a="?"===a[a.length-1]?a.slice(0,-1):a;if(null!=d.getItemAt||Array.isArray(d)){var c=parseInt(a,10);if(!isNaN(c))return Array.isArray(d)?d[c]:d.getItemAt(c)}c=h.getProperties(d);return b?h.isPropertyDeclared(c,a)?c.get(a):d[a]:h.isPropertyDeclared(c,
a)?c.internalGet(a):d[a]}function n(a,b,d,f){if(null==a)return a;if((a=l(b[f],d,a))||!(f<b.length-1))return f===b.length-1?a:n(a,b,d,f+1)}function d(a,b,d,f){void 0===d&&(d=!1);void 0===f&&(f=0);return"string"===typeof b&&-1===b.indexOf(".")?l(b,d,a):n(a,h.pathToArray(b),d,f)}function g(a,b){return d(a,b,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.exists=b.get=b.valueOf=void 0;b.valueOf=d;b.get=g;b.exists=function(a,b){return void 0!==d(b,a,!0)};b.default=g})},"esri/core/accessorSupport/utils":function(){define(["require",
"exports","../handleUtils","../lang","../maybe"],function(a,b,h,l,n){function d(a,b,f){return b?Object.keys(b).reduce(function(a,c){var e=null,k="merge";f&&(e=f.path?f.path+"."+c:c,k=f.policy(e));if("replace"===k)return a[c]=b[c],a;if(void 0===a[c])return a[c]=l.clone(b[c]),a;var g=a[c],k=b[c];if(g===k)return a;if(Array.isArray(k)||Array.isArray(a))g=g?Array.isArray(g)?a[c]=g.concat():a[c]=[g]:a[c]=[],k&&(Array.isArray(k)||(k=[k]),k.forEach(function(a){-1===g.indexOf(a)&&g.push(a)}));else if(k&&"object"===
typeof k)if(f){var r=f.path;f.path=n.assumeNonNull(e);a[c]=d(g,k,f);f.path=r}else a[c]=d(g,k,null);else if(!a.hasOwnProperty(c)||b.hasOwnProperty(c))a[c]=k;return a},a||{}):a}function g(a){return Array.isArray(a)?a:a.split(".")}function k(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}Object.defineProperty(b,"__esModule",{value:!0});b.once=b.parse=b.parseConditionalPath=b.splitPath=
b.pathToArray=b.pathToStringOrArray=b.merge=b.isPropertyDeclared=b.getProperties=void 0;b.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};b.isPropertyDeclared=function(a,b){return null!=a&&a.metadatas&&null!=a.metadatas[b]};b.merge=function(a,b,f){return f?d(a,b,{policy:f,path:""}):d(a,b,null)};b.pathToStringOrArray=function(a){return!a||"string"===typeof a&&-1===a.indexOf(".")?a:g(a)};b.pathToArray=g;b.splitPath=k;b.parseConditionalPath=function(a){if(-1===
a.indexOf("?"))return null;a=g(a);for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];b[c]="?"===d[d.length-1];b[c]&&(a[c]=d.slice(0,-1))}return{fullPath:a.join("."),conditional:b}};b.parse=function(a,b,d,g){b=k(b);return Array.isArray(b)?(b=b.map(function(b){return g(a,b.trim(),d)}),h.handlesGroup(b)):g(a,b.trim(),d)};b.once=function(a){var b=!1;return function(){b||(b=!0,a())}}})},"esri/core/handleUtils":function(){define(["require","exports","./maybe"],function(a,b,h){function l(a){return{remove:function(){a&&
(a(),a=void 0)}}}Object.defineProperty(b,"__esModule",{value:!0});b.timeoutHandle=b.destroyHandle=b.refHandle=b.makeHandle=b.handlesGroup=void 0;b.handlesGroup=function(a){return l(function(){return a.forEach(function(a){return h.isSome(a)&&a.remove()})})};b.makeHandle=l;b.refHandle=function(a){return l(function(){var b=a();h.isSome(b)&&b.remove()})};b.destroyHandle=function(a){return l(function(){return a.destroy()})};b.timeoutHandle=function(a,b){var d=setTimeout(a,b);return{remove:function(){return clearTimeout(d)}}}})},
"esri/core/accessorSupport/metadata":function(){define(["require","exports","../lang","../maybe","./utils"],function(a,b,h,l,n){function d(a){var b=a.constructor.__accessorMetadata__,c=Object.prototype.hasOwnProperty.call(a.constructor,"__accessorMetadata__");if(!b)b=new e({}),Object.defineProperty(a.constructor,"__accessorMetadata__",{value:b,enumerable:!1,configurable:!0,writable:!0});else if(!c){var c=Object.create(b.properties),d=b.autoDestroy,f;for(f in c)c[f]=h.clone(c[f]);b=new e(c);b.autoDestroy=
d;Object.defineProperty(a.constructor,"__accessorMetadata__",{value:b,enumerable:!1,configurable:!0,writable:!0})}return l.assumeNonNull(a.constructor.__accessorMetadata__)}function g(a){return d(a).properties}function k(a){return f.test(a)?"replace":"merge"}function c(a){return r.test(a)?k(a.slice(11)):"merge"}Object.defineProperty(b,"__esModule",{value:!0});b.mergeProperty=b.merge=b.setPropertyMetadata=b.getOwnPropertyMetadata=b.getOwnPropertiesMetadata=b.getOwnClassMetadata=b.ClassMetadata=void 0;
var e=function(){return function(a){this.autoDestroy=!1;this.properties=a}}();b.ClassMetadata=e;b.getOwnClassMetadata=d;b.getOwnPropertiesMetadata=g;b.getOwnPropertyMetadata=function(a,b){a=g(a);var c=a[b];c||(c=a[b]={});return c};b.setPropertyMetadata=function(a,b,c){g(a)[b]=c};b.merge=function(a,b){return n.merge(a,b,c)};b.mergeProperty=function(a,b){return n.merge(a,b,k)};var f=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,r=/^properties\./})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),
function(a,b,h,l,n,d,g,k,c){Object.defineProperty(b,"__esModule",{value:!0});n.getLogger("esri.core.accessorSupport.Properties");a=function(){function a(a){this.host=a;this._origin=6;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new c.Store;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;g.instanceCreated(this.host,this.metadatas)};
a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++){var d=c[b],e=a[d];if(e){for(;0<e.length;)e.pop().propertyDestroyed(this,d);a[d]=null}}if(this.autoDestroy)for(d in this.metadatas)(a=this.internalGet(d))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[d].nonNullable||this.internalSet(d,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==
this.lifecycle},enumerable:!1,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};a.prototype.get=function(a){var b=this.metadatas[a],c=b.get;return!this.store.has(a)||c&&this.dirties[a]?c?(b=c.call(this.host),this.store.set(a,b,1),this.propertyCommitted(a),b):b.value:this.store.get(a)};a.prototype.getterComputed=function(a,b){var c;if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);b=null===(c=b.get)||void 0===
c?void 0:c.call(this.host);this.store.set(a,b,1);this.propertyCommitted(a);return b};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":k.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,b){return this.setAtOrigin(a,
b,this.initialized?this._origin:0)};a.prototype.setAtOrigin=function(a,b,c){if(this.metadatas[a]){var d=this.store.get(a);l.equals(b,d)&&c===this.store.originOf(a)&&this.store.has(a,c)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,b,c),this.propertyCommitted(a))}};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return Object.keys(this.metadatas)};a.prototype.override=function(a,b){if(this.metadatas[a]){this.overridden||
(this.overridden={});var c=this.metadatas[a];if(!c.nonNullable||null!=b){if(c=c.cast){b=this.cast(c,b);var c=b.valid,d=b.value;e.release(b);if(!c)return;b=d}this.overridden[a]=!0;this.internalSet(a,b)}}};a.prototype.set=function(a,b){if(this.metadatas[a]){var c=this.metadatas[a];if(!c.nonNullable||null!=b){var d=c.set;if(c=c.cast){b=this.cast(c,b);var c=b.valid,f=b.value;e.release(b);if(!c)return;b=f}d?d.call(this.host,b):this.internalSet(a,b)}}};a.prototype.setDefaultOrigin=function(a){this._origin=
k.nameToId(a)};a.prototype.getDefaultOrigin=function(){return k.idToName(this._origin)};a.prototype.propertyInvalidated=function(a){var b=this.dirties;this.isOverridden(a)||(b[a]=!0);if(b=this.cursors&&this.cursors[a])for(var c=0;c<b.length;c++)b[c].propertyInvalidated(this,a)};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,a)};a.prototype.addCursor=function(a,b){this.cursors||(this.cursors=
{});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};a.prototype.removeCursor=function(a,b){var c=this.cursors;if(c){var d=c[a];d&&(d.splice(d.indexOf(b),1),0===d.length&&(c[a]=null))}};a.prototype.cast=function(a,b){var c=e.acquire();c.valid=!0;c.value=b;a&&(c.value=a.call(this.host,b,c));return c};return a}();h=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var e=new d(h);b.default=
a})},"esri/core/ObjectPool":function(){define(["require","exports","tslib"],function(a,b,h){return function(){function a(a,b,g,k,c){void 0===k&&(k=1);void 0===c&&(c=0);this.ctor=a;this.acquireFunction=b;this.releaseFunction=g;this.allocationSize=k;this._pool=Array(c);this._initialSize=c;if(this.ctor)for(a=0;a<c;a++)this._pool[a]=new this.ctor;this.allocationSize=Math.max(k,1)}a.prototype.destroy=function(){this.prune(0)};a.prototype.acquire=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=
arguments[d];d=this.ctor;if(a.test.disabled)d=new d;else{if(0===this._pool.length)for(var g=this.allocationSize,k=0;k<g;k++)this._pool[k]=new d;d=this._pool.pop()}this.acquireFunction?this.acquireFunction.apply(this,h.__spreadArrays([d],b)):d&&d.acquire&&"function"===typeof d.acquire&&d.acquire.apply(d,b);return d};a.prototype.release=function(b){b&&!a.test.disabled&&(this.releaseFunction?this.releaseFunction(b):b&&b.release&&"function"===typeof b.release&&b.release(),this._pool.push(b))};a.prototype.prune=
function(a){void 0===a&&(a=this._initialSize);if(!(a>=this._pool.length)){for(var b=a;b<this._pool.length;++b)this._dispose(this._pool[b]);this._pool.length=a}};a.prototype._dispose=function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.test={disabled:!1};return a}()})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/computedProperty","./extensions/serializableProperty"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.instanceCreated=
b.processClassMetadatas=b.processPrototypeMetadatas=void 0;var n=[h.default,l.default];b.processPrototypeMetadatas=function(a,b){for(var d=0;d<n.length;d++){var c=n[d];if(c.processPrototypePropertyMetadata)for(var e in a)c.processPrototypePropertyMetadata(e,a[e],a,b)}};b.processClassMetadatas=function(a,b){for(var d=0;d<n.length;d++){var c=n[d];if(c.processClassPropertyMetadata)for(var e in a)c.processClassPropertyMetadata(e,a[e],a,b)}};b.instanceCreated=function(a,b){for(var d=Object.getOwnPropertyNames(b),
c=0;c<n.length;c++){var e=n[c];e.instanceCreated&&e.instanceCreated(a,b,d)}}})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(a,b,h,l,n,d){Object.defineProperty(b,"__esModule",{value:!0});b.ComputedPropertyExtension=void 0;l.getLogger("esri.core.accessorSupport.extensions.computedProperty");b.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,c,e){b.dependsOn&&b.dependsOn.length&&
(b.wire=d.create(b.dependsOn,function(b){var c;return null===(c=n.getProperties(b))||void 0===c?void 0:c.propertyInvalidated(a)}))},instanceCreated:function(a,b,c){for(var d=0;d<c.length;d++){var f=b[c[d]];f.wire&&f.wire(a)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/wire":function(){define(["require","exports","../maybe","./utils"],function(a,b,h,l){function n(a,b,k){b=l.splitPath(b);if(Array.isArray(b)){for(var f=[],g=0;g<b.length;g++)f.push((new d(b[g],k)).install(a));
return new c(f)}a=(new d(b,k)).install(a);return new e(a)}Object.defineProperty(b,"__esModule",{value:!0});b.wire=b.create=void 0;var d=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=l.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=l.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;return this}a.prototype.install=
function(a){a=this.chain?new k(this,a):new g(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),g=function(){function a(a,b){var c;this.binding=a;this.target=b;null===(c=l.getProperties(b))||void 0===c?void 0:c.addCursor(this.binding.path,this)}a.prototype.destroy=function(){var a;this.target&&(null===(a=l.getProperties(this.target))||void 0===a?void 0:a.removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,
b){var c;null===(c=l.getProperties(this.target))||void 0===c?void 0:c.removeCursor(b,this)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(){this.binding&&this.binding.notify(this.target)};return a}(),k=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=h.assumeNonNull(l.getProperties(b));a=a.chain[0];this.stack.push({properties:this.properties,propertyName:a});this.properties.addCursor(a,
this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=
function(a,b){for(var c=this.stack,d=c[c.length-1];d.properties!==a&&d.propertyName!==b;)d.properties.removeCursor(d.propertyName,this),c.pop(),d=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=l.getProperties(b))&&this.binding.chain&&a.length<this.binding.chain.length){var c=this.binding.chain[a.length];
this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[c]||(this.stack.push({properties:b,propertyName:c}),b.addCursor(c,this),this.moveForward())}};return a}(),c=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),e=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor=h.destroyMaybe(this.cursor)};return a}();b.create=function(a,b){a=l.splitPath(a);
if(Array.isArray(a)){for(var f=[],k=0;k<a.length;k++)f.push(new d(a[k],b));return function(a){for(var b=[],d=0;d<f.length;d++)b[d]=f[d].install(a);return new c(b)}}var g=new d(a,b);return function(a){return new e(g.install(a))}};b.wire=n;b.default=n})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,b,h,l,n,d,g){function k(a,b,d){var c=a&&a.json;a&&a.json&&a.json.origins&&d&&(a=a.json.origins[d.origin])&&("any"===b||b in a)&&(c=a);return c}Object.defineProperty(b,"__esModule",{value:!0});b.SerializablePropertyExtension=b.originSpecificPropertyDefinition=b.originSpecificWritePropertyDefinition=b.originSpecificReadPropertyDefinition=void 0;b.originSpecificReadPropertyDefinition=function(a,b){return k(a,"read",b)};b.originSpecificWritePropertyDefinition=function(a,b){return k(a,"write",
b)};b.originSpecificPropertyDefinition=k;b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b){if(d.process(b)){l.process(b);if(b.type)if(b.type){a=0;for(var c=b.type;Array.isArray(c)&&!h.isOneOf(c);)c=c[0],a++;a={type:c,ndimArray:a}}else a=void 0;else if(b.types){a=0;for(c=b.types;Array.isArray(c);)c=c[0],a++;a={types:c,ndimArray:a}}else a=void 0;if(b.json.origins)for(var e in b.json.origins)c=b.json.origins[e],n.create(a,c,!1),g.create(a,c);n.create(a,b.json,!0);g.create(a,
b.json)}}};b.default=b.SerializablePropertyExtension})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../compilerUtils","../Logger"],function(a,b,h,l){function n(a){return null==a?a:new Date(a)}function d(a){return null==a?a:!!a}function g(a){return null==a?a:a.toString()}function k(a){if(null==a)return a;a=parseFloat(a);return isNaN(a)?0:a}function c(a){return null==a?a:Math.round(parseFloat(a))}function e(a){return a&&a.constructor&&void 0!==a.constructor.__accessorMetadata__}
function f(a,b){return null!=b&&a&&!(b instanceof a)}function r(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function q(a,b){var c;(c=!b||!b.constructor)||(c=b.constructor,c=!(c&&"isCollection"in c));if(c)return m(a,b)?b:new a(b);c=r(a.prototype.itemType);var d=r(b.constructor.prototype.itemType);if(!c)return b;if(!d)return new a(b);if(c===d)return b;if(c.prototype.isPrototypeOf(d.prototype))return new a(b);m(a,b);return b}function m(a,b){return e(b)?(K.error("Accessor#set",
"Assigning an instance of '"+(b.declaredClass||"unknown")+"' which is not a subclass of '"+u(a)+"'"),!0):!1}function y(a,b){return null==b?b:a&&"isCollection"in a?q(a,b):f(a,b)?m(a,b)?b:new a(b):b}function u(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}function v(a){switch(a){case Number:return k;case L:return c;case Boolean:return d;case String:return g;case Date:return n;default:return y.bind(null,a)}}function t(a,b){var c=v(a);return 1===arguments.length?c:c(b)}function p(a,b,
c){return 1===arguments.length?p.bind(null,a):b?Array.isArray(b)?b.map(function(b){return a(b,c)}):[a(b,c)]:b}function x(a,b,c){return 0!==b&&Array.isArray(c)?c.map(function(c){return x(a,b-1,c)}):a(c)}function w(a,b,c){if(2===arguments.length)return w.bind(null,a,b);if(!c)return c;c=x(a,b,c);for(var d=b,e=c;0<d&&Array.isArray(e);)d--,e=e[0];if(void 0!==e)for(e=0;e<d;e++)c=[c];return c}function z(a,b){if(2===arguments.length)return z(a).call(null,b);for(var c=new Set,d=a.filter(function(a){return"function"!==
typeof a}),e=a.filter(function(a){return"function"===typeof a}),k=0;k<a.length;k++){var g=a[k];"string"!==typeof g&&"number"!==typeof g||c.add(g)}var m=null,p=null;return function(a,b){if(null==a)return a;var k=typeof a,g="string"===k||"number"===k;if(g&&(c.has(a)||e.some(function(a){return"string"===k&&a===String||"number"===k&&a===Number}))||"object"===k&&e.some(function(b){return!f(a,b)}))return a;g&&d.length?(m||(m=d.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),K.error("Accessor#set",
"'"+a+"' is not a valid value for this property, only the following values are valid: "+m)):"object"===typeof a&&e.length?(p||(p=e.map(function(a){return u(a)}).join(", ")),K.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+p)):K.error("Accessor#set","'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function B(a,b){if(2===arguments.length)return B(a).call(null,b);var c={},d=[],k=[],g;for(g in a.typeMap){var m=a.typeMap[g];c[g]=
t(m);d.push(u(m));k.push(g)}var p="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(b){if(a.base&&!f(a.base,b)||null==b)return b;var g=p(b)||a.defaultKeyValue,m=c[g];if(!m)return K.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+d.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+k.join("', '")+"'")+")"),null;if(!f(a.typeMap[g],b))return b;if("string"===typeof a.key&&!e(b)){var g={},u;for(u in b)u!==a.key&&(g[u]=
b[u]);return m(g)}return m(b)}}function A(a){switch(a.type){case "native":return t(a.value);case "array":return p(A(a.value));case "one-of":return H(a);default:return h.neverReached(a),null}}function H(a){var b=null;return function(c,d){if(C(c,a))return c;null==b&&(b=D(a));K.error("Accessor#set","Invalid property value, value needs to be of type "+b);d&&(d.valid=!1);return null}}function D(a){switch(a.type){case "native":switch(a.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";
case L:return"integer";case Date:return"date";default:return u(a.value)}case "array":return"array of "+D(a.value);case "one-of":return a=a.values.map(function(a){return D(a)}),"one of "+a.slice(0,a.length-1)+" or "+a[a.length-1];default:h.neverReached(a)}return"unknown"}function C(a,b){if(null==a)return!0;switch(b.type){case "native":switch(b.value){case Number:case L:return"number"===typeof a;case Boolean:return"boolean"===typeof a;case String:return"string"===typeof a}return a instanceof b.value;
case "array":return Array.isArray(a)?!a.some(function(a){return!C(a,b.value)}):!1;case "one-of":return b.values.some(function(b){return C(a,b)})}}Object.defineProperty(b,"__esModule",{value:!0});b.ensureLongFormType=b.isLongFormType=b.types=b.Integer=b.ensureOneOfType=b.ensureOneOf=b.isOneOf=b.ensureNArray=b.ensureNArrayTyped=b.ensureArray=b.ensureArrayTyped=b.ensureType=b.ensureClass=b.requiresType=b.isClassedType=b.ensureInteger=b.ensureNumber=b.ensureString=b.ensureBoolean=b.ensureDate=void 0;
var K=l.getLogger("esri.core.Accessor");b.ensureDate=n;b.ensureBoolean=d;b.ensureString=g;b.ensureNumber=k;b.ensureInteger=c;b.isClassedType=e;b.requiresType=f;b.ensureClass=y;b.ensureType=t;b.ensureArrayTyped=p;b.ensureArray=function(a,b){return 1===arguments.length?p(t.bind(null,a)):p(t.bind(null,a),b)};b.ensureNArrayTyped=w;b.ensureNArray=function(a,b,c){return 2===arguments.length?w(t.bind(null,a),b):w(t.bind(null,a),b,c)};b.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;
return!("string"===b||"number"===b||"function"===b&&1<a.length)}):!1};b.ensureOneOf=z;b.ensureOneOfType=B;var L=function(){return function(){}}();b.Integer=L;b.types={native:function(a){return{type:"native",value:a}},array:function(a){return{type:"array",value:a}},oneOf:function(a){return{type:"one-of",values:a}}};b.isLongFormType=function(a){if(!(a&&"type"in a))return!1;switch(a.type){case "native":case "array":case "one-of":return!0;default:h.neverReachedSilent(a)}return!1};b.ensureLongFormType=
A;b.default=t})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(a,b,h){Object.defineProperty(b,"__esModule",{value:!0});b.tuple=b.typeCast=b.neverReachedSilent=b.neverReached=void 0;b.neverReached=function(a){};b.neverReachedSilent=function(a){};b.typeCast=function(a){return function(){return a}};b.tuple=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a}})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=void 0;b.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,h={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var d=b[a];h[a].forEach(function(a){b[a]=d});delete b[a]}};for(var d in h)a(d)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("require exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,
b,h,l,n,d,g){function k(a){var b,d,e,f=null!==(b=a.ndimArray)&&void 0!==b?b:0;if(1<f)return r(a);if(1===f)return q(a);if("type"in a&&m(a.type)){b=null===(e=null===(d=a.type.prototype)||void 0===d?void 0:d.itemType)||void 0===e?void 0:e.Type;var k=q("function"===typeof b?{type:b}:{types:b});return function(b,c,d){return(b=k(b,c,d))?new a.type(b):b}}return c(a)}function c(a){return"type"in a?e(a.type):v(a.types)}function e(a){return a.prototype.read?function(b,c,d){if(null==b)return b;c=typeof b;if("object"!==
c)t.error("Expected JSON value of type 'object' to deserialize type '"+a.prototype.declaredClass+"', but got '"+c+"'");else return c=new a,c.read(b,d),c}:a.fromJSON}function f(a,b,c,d){return 0!==d&&Array.isArray(b)?b.map(function(b){return f(a,b,c,d-1)}):a(b,void 0,c)}function r(a){var b,d=c(a),e=f.bind(null,d),k=null!==(b=a.ndimArray)&&void 0!==b?b:0;return function(a,b,c){if(null==a)return a;a=e(a,c,k);b=k;for(c=a;0<b&&Array.isArray(c);)b--,c=c[0];if(void 0!==c)for(c=0;c<b;c++)a=[a];return a}}
function q(a){var b=c(a);return function(a,c,d){if(null==a)return a;if(Array.isArray(a)){c=[];for(var e=0;e<a.length;e++){var f=b(a[e],void 0,d);void 0!==f&&c.push(f)}return c}a=b(a,void 0,d);return void 0!==a?[a]:void 0}}function m(a){return g.isCollection(a)?(a=a.prototype.itemType)&&a.Type?"function"===typeof a.Type?y(a.Type):u(a.Type):!1:!1}function y(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||m(a))}function u(a){for(var b in a.typeMap)if(!y(a.typeMap[b]))return!1;
return!0}function v(a){var b,c=null,e=null!==(b=a.errorContext)&&void 0!==b?b:"type";return function(b,f,k){if(null==b)return b;f=typeof b;if("object"!==f)t.error("Expected JSON value of type 'object' to deserialize, but got '"+f+"'");else{if(!c){var g,m;f={};for(var u in a.typeMap){var q=a.typeMap[u],r=d.getOwnClassMetadata(q.prototype);if("function"!==typeof a.key&&(r=r.properties[a.key]))if((null===(g=r.json)||void 0===g?0:g.type)&&Array.isArray(r.json.type)&&1===r.json.type.length&&"string"===
typeof r.json.type[0]&&(f[r.json.type[0]]=q),(r=null===(m=r.json)||void 0===m?void 0:m.write)&&r.writer){var p=r.target,p="string"===typeof p?p:a.key,h={};r.writer(u,h,p);h[p]&&(f[h[p]]=q)}else f[u]=q}c=f}g=a.key;if("string"===typeof g){if(m=(g=b[g])?c[g]:a.defaultKeyValue?a.typeMap[a.defaultKeyValue]:void 0)return g=new m,g.read(b,k),g;g="Type '"+(g||"unknown")+"' is not supported";k&&k.messages&&b&&k.messages.push(new n(e+":unsupported",g,{definition:b,context:k}));t.error(g)}}}}Object.defineProperty(b,
"__esModule",{value:!0});b.createTypeReader=b.create=void 0;var t=h.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");b.create=function(a,b,c){var d,e;!a||!c&&!b.read||null!==(d=b.read)&&void 0!==d&&d.reader||!1===(null===(e=b.read)||void 0===e?void 0:e.enabled)||(c="types"in a?u(a.types):y(a.type),c&&l.setDeepValue("read.reader",k(a),b))};b.createTypeReader=k})},"esri/core/Warning":function(){define(["require","exports","tslib","./Message"],function(a,b,h,l){a=function(a){function b(d,
k,c){var e=a.call(this,d,k,c)||this;return e instanceof b?e:new b(d,k,c)}h.__extends(b,a);return b}(l);a.prototype.type="warning";return a})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isCollection=void 0;b.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require",
"exports"],function(a,b){function h(a){a.name&&(a.read?"object"===typeof a.read?void 0===a.read.source&&(a.read.source=a.name):a.read={source:a.name}:a.read={source:a.name},a.write?"object"===typeof a.write?void 0===a.write.target&&(a.write.target=a.name):a.write={target:a.name}:a.write={target:a.name})}function l(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&(a.read.enabled=
!0)}function n(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=void 0;b.process=function(a){a.json||(a.json={});l(a.json);n(a.json);h(a.json);if(a.json.origins)for(var b in a.json.origins)l(a.json.origins[b]),n(a.json.origins[b]),h(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require",
"exports","../../../object","./type"],function(a,b,h,l){function n(a,b,c,e){h.setDeepValue(c,d(a,e),b)}function d(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?g(a):a}function g(a){return-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a}function k(a,b,c,e){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return d(a,e)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[d(a,e)];h.setDeepValue(c,
a,b)}function c(a,b,e){return 0!==e&&Array.isArray(a)?a.map(function(a){return c(a,b,e-1)}):d(a,b)}function e(a){return function(b,d,e,f){if(null===b)b=null;else{b=c(b,f,a);f=a;for(var k=b;0<f&&Array.isArray(k);)f--,k=k[0];if(void 0!==k)for(k=0;k<f;k++)b=[b]}h.setDeepValue(e,b,d)}}Object.defineProperty(b,"__esModule",{value:!0});b.numberToJSON=b.create=void 0;b.create=function(a,b){var c;if(b.write&&!b.write.writer&&(!1!==b.write.enabled||b.write.overridePolicy)){var d=null!==(c=null===a||void 0===
a?void 0:a.ndimArray)&&void 0!==c?c:0;a&&(1===d||"type"in a&&l.isCollection(a.type))?b.write.writer=k:b.write.writer=1<d?e(d):n}};b.numberToJSON=g})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports","../maybe"],function(a,b,h){function l(a){switch(a){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function n(a){switch(a){case 0:return"defaults";case 2:return"service";
case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return h.assumeNonNull(void 0)}Object.defineProperty(b,"__esModule",{value:!0});b.idToWritableName=b.writableNameToId=b.idToReadableName=b.readableNameToId=b.idToName=b.nameToId=b.OriginIdNum=void 0;b.OriginIdNum=7;b.nameToId=l;b.idToName=n;b.readableNameToId=function(a){return l(a)};b.idToReadableName=function(a){return n(a)};b.writableNameToId=function(a){return l(a)};b.idToWritableName=function(a){return n(a)}})},
"esri/core/accessorSupport/Store":function(){define(["require","exports","../arrayUtils","../lang"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.Store=void 0;a=function(){function a(){this._values=new Map}a.prototype.clone=function(b){var d=new a;this._values.forEach(function(a,c){b&&b.has(c)||d.set(c,l.clone(a))});return d};a.prototype.get=function(a){return this._values.get(a)};a.prototype.originOf=function(){return 6};a.prototype.keys=function(){return h.keysOfMap(this._values)};
a.prototype.set=function(a,b){this._values.set(a,b)};a.prototype.delete=function(a){this._values.delete(a)};a.prototype.has=function(a){return this._values.has(a)};a.prototype.forEach=function(a){this._values.forEach(a)};return a}();b.Store=a})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(a,b,h,l){function n(a){return a}function d(a,b){void 0===b&&(b=n);if(a&&0!==a.length){for(var c=a[0],d=b(c),e=1;e<a.length;++e){var f=a[e],k=
Number(b(f));k>d&&(d=k,c=f)}return c}}function g(a,b,c,d){d=d||q;for(var e=Math.max(0,d.last-10),f=e;f<c;++f)if(a[f]===b)return d.last=f;c=Math.min(e,c);for(f=0;f<c;++f)if(a[f]===b)return d.last=f;return-1}function k(a){return a?(y.seed=a,function(){return y.getFloat()}):Math.random}function c(a,b){return-1===a.indexOf(b)}function e(a,b,c){return!a.some(b.bind(null,c))}function f(a){return a}Object.defineProperty(b,"__esModule",{value:!0});b.remove=b.fromMapValues=b.keysOfSet=b.keysOfMap=b.shuffle=
b.pickRandom=b.removeUnorderedMany=b.removeUnordered=b.indexOf=b.PositionHint=b.flatten=b.binaryFindClosest=b.binaryIndexOf=b.range=b.constant=b.splitIntoChunks=b.intersect=b.difference=b.equals=b.unique=b.min=b.max=b.last=b.first=b.includes=b.from=b.findIndex=b.find=void 0;Object.defineProperty(b,"find",{enumerable:!0,get:function(){return h.find}});Object.defineProperty(b,"findIndex",{enumerable:!0,get:function(){return h.findIndex}});Object.defineProperty(b,"from",{enumerable:!0,get:function(){return h.from}});
Object.defineProperty(b,"includes",{enumerable:!0,get:function(){return h.includes}});b.first=function(a){if(a)return 0<a.length?a[0]:void 0};b.last=function(a){if(a){var b=a.length;return 0<b?a[b-1]:void 0}};b.max=d;b.min=function(a,b){void 0===b&&(b=n);return d(a,function(a){return-b(a)})};b.unique=function(a,b){return b?a.filter(function(a,c,d){return h.findIndex(d,b.bind(null,a))===c}):a.filter(function(a,b,c){return c.indexOf(a)===b})};b.equals=function(a,b,c){if(!a&&!b)return!0;if(!a||!b||a.length!==
b.length)return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.difference=function(a,b,d){var f;d?(f=b.filter(e.bind(null,a,d)),a=a.filter(e.bind(null,b,d))):(f=b.filter(c.bind(null,a)),a=a.filter(c.bind(null,b)));return{added:f,removed:a}};b.intersect=function(a,b,c){return a&&b?c?a.filter(function(a){return-1<h.findIndex(b,function(b){return c(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};b.splitIntoChunks=
function(a,b){var c=a.length;if(0===c)return[];for(var d=[],e=0;e<c;e+=b)d.push(a.slice(e,e+b));return d};var r=!!Array.prototype.fill;b.constant=function(a,b){if(r)return Array(a).fill(b);for(var c=Array(a),d=0;d<a;d++)c[d]=b;return c};b.range=function(a,b){void 0===b&&(b=a,a=0);for(var c=Array(b-a),d=a;d<b;d++)c[d-a]=d;return c};b.binaryIndexOf=function(a,b,c){for(var d=a.length,e=0,f=d-1;e<f;){var k=e+Math.floor((f-e)/2);b>a[k]?e=k+1:f=k}f=a[e];return c?b>=a[d-1]?-1:f===b?e:e-1:f===b?e:-1};b.binaryFindClosest=
function(a,b,c){if(a&&0!==a.length){var d=a.length-1,e=a[0];if(b<=c(e))return e;e=a[d];if(b>=c(e))return e;for(var f=0,e=0,k=d;f<k;){var e=f+Math.floor((k-f)/2),g=a[e],m=c(g);if(m===b)return g;if(b<m){if(0<e){var k=a[e-1],q=c(k);if(b>q)return b-q>=m-b?g:k}k=e}else{if(e<d&&(f=a[e+1],q=c(f),b<q))return b-m>=q-b?f:g;f=e+1}}return a[e]}};b.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};a=function(){return function(){this.last=0}}();b.PositionHint=a;var q=new a;b.indexOf=
g;b.removeUnordered=function(a,b,c,d){var e=null==c?a.length:c;d=g(a,b,e,d);if(-1!==d)return a[d]=a[e-1],null==c&&a.pop(),b};var m=new Set;b.removeUnorderedMany=function(a,b,c,d,e,f){void 0===c&&(c=a.length);void 0===d&&(d=b.length);if(0===d||0===c)return c;m.clear();for(var k=0;k<d;++k)m.add(b[k]);e=e||q;for(k=b=Math.max(0,e.last-10);k<c;++k)if(m.has(a[k])&&(f&&f.push(a[k]),m.delete(a[k]),a[k]=a[c-1],--c,--k,0===m.size||0===c))return m.clear(),c;for(k=0;k<b;++k)if(m.has(a[k])&&(f&&f.push(a[k]),m.delete(a[k]),
a[k]=a[c-1],--c,--k,0===m.size||0===c))return m.clear(),c;m.clear();return c};b.pickRandom=function(a,b,c){var d=a.length;if(b>=d)return a.slice(0);c=k(c);for(var e=new Set,f=[];f.length<b;){var g=Math.floor(c()*d);e.has(g)||(e.add(g),f.push(a[g]))}return f};b.shuffle=function(a,b){b=k(b);for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}return a};var y=new l;b.keysOfMap=function(a){var b=Array(a.size),c=0;a.forEach(function(a,d){return b[c++]=d});return b};b.keysOfSet=
function(a,b){void 0===b&&(b=f);var c=Array(a.size),d=0;a.forEach(function(a){return c[d++]=b(a)});return c};b.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),c=0;a.forEach(function(a){return b[c++]=a});return b};b.remove=function(a,b){var c=a.indexOf(b);return-1!==c?(a.splice(c,1),b):null}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(a,b){return function(){function a(a){void 0===a&&(a=1);this._seed=a}Object.defineProperty(a.prototype,
"seed",{set:function(b){this._seed=null==b?Math.random()*a._m:b},enumerable:!1,configurable:!0});a.prototype.getInt=function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=function(){return this.getInt()/(a._m-1)};a.prototype.getIntRange=function(a,b){return Math.round(this.getFloatRange(a,b))};a.prototype.getFloatRange=function(b,h){h-=b;var d=this.getInt()/a._m;return b+Math.floor(d*h)};a._m=2147483647;a._a=48271;a._c=0;return a}()})},"esri/core/accessorSupport/set":function(){define(["require",
"exports","../has","../Logger","./get"],function(a,b,h,l,n){function d(a,b,c){if(a&&b)if("object"===typeof b){c=0;for(var e=Object.getOwnPropertyNames(b);c<e.length;c++){var f=e[c];d(a,f,b[f])}}else-1!==b.indexOf(".")?(b=b.split("."),f=b.splice(b.length-1,1)[0],d(n.default(a,b),f,c)):a[b]=c}Object.defineProperty(b,"__esModule",{value:!0});b.set=void 0;l.getLogger("esri.core.accessorSupport.set");b.set=d;b.default=d})},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],
function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.interceptor=void 0;b.interceptor=null})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(a,b,h,l,n,d,g,k,c){function e(a){t.has(a)?p.splice(p.indexOf(a),1):t.add(a);p.push(a);x||(x=d.schedule(r))}function f(a){if(!a.removed){var b=a.callback,c=a.path,d=a.oldValue,e=a.target,f=g.valueOf(e,a.propertyPath,!0);l.equals(d,
f)||(a.oldValue=f,b.call(e,f,d,c,e))}}function r(){for(var a=10;x&&a--;){x=null;var b=p;p=v.acquire();t.clear();for(var c=v.acquire(),d=0,e=b;d<e.length;d++){var k=e[d],g=k.uid;f(k);g===k.uid&&k.removed&&c.push(k)}for(d=0;d<p.length;d++)k=p[d],k.removed&&(c.push(k),t.delete(k),p.splice(d,1),--d);for(d=0;d<c.length;d++)u.pool.release(c[d]);v.release(b);v.release(c);w.forEach(function(a){return a()})}}function q(a,b,d){var f=k.parse(a,b,d,function(a,b,d){var m=g.valueOf(a,b,!0),q,r,t=c.wire(a,b,function(a,
b){a.__accessor__.destroyed||q&&q.uid!==r?f.remove():(q||(q=u.pool.acquire(a,b,m,d),r=q.uid,m=null),e(q))});return{remove:k.once(function(){t.remove();q&&(q.uid!==r||q.removed||(q.removed=!0,e(q)),q=null);f=t=m=null})}});return f}function m(a,b,d){var e=k.parse(a,b,d,function(a,b,d){var f=g.valueOf(a,b,!0),k=!1;return c.wire(a,b,function(a,b){if(!a||a.__accessor__.destroyed)e.remove();else if(!k&&b){k=!0;var c=g.valueOf(a,b,!0);l.equals(f,c)||d.call(a,c,f,b,a);f=g.valueOf(a,b,!0);k=!1}})});return e}
function y(a,b,c,d){void 0===d&&(d=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:d?m(a,b,c):q(a,b,c)}Object.defineProperty(b,"__esModule",{value:!0});b.isValueInUse=b.watch=b.afterDispatch=b.dispatch=b.removeTarget=b.dispatchTarget=void 0;var u=function(){function a(){this.uid=0;this.callback=this.oldValue=this.path=this.target=null;this.removed=!1;this.propertyPath=null}a.prototype.acquire=function(b,c,d,e){this.target=b;this.path=c;this.oldValue=d;this.callback=e;this.propertyPath=
k.pathToStringOrArray(c);this.uid=++a.uid;this.removed=!1};a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new n.ReentrantObjectPool(a);a.uid=0;return a}(),v=new h,t=new Set,p=v.acquire(),x;b.dispatchTarget=function(a){for(var b=v.copy(p),c=0;c<b.length;c++){var d=b[c];d.target===a&&(f(d),t.delete(d),p.splice(p.indexOf(d),1))}};b.removeTarget=function(a){for(var b=0;b<p.length;b++){var c=p[b];c.target===
a&&(c.removed=!0)}};b.dispatch=r;var w=new Set;b.afterDispatch=function(a){w.add(a);return{remove:function(){w.delete(a)}}};b.watch=y;b.isValueInUse=function(a){return p.some(function(b){return b.oldValue===a})};b.default=y})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(a,b,h){function l(a){a.length=0}var n=Array.prototype.splice;a=function(){function a(a,b){void 0===a&&(a=50);void 0===b&&(b=50);this._pool=new h(Array,void 0,l,b,a)}a.prototype.acquire=function(){return this._pool.acquire()};
a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);n.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.prototype.prune=function(){this._pool.prune(0)};a.acquire=function(){return d.acquire()};a.copy=function(a){return d.copy(a)};a.release=function(a){return d.release(a)};a.prune=function(){d.prune()};return a}();var d=new a(100);return a})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","tslib","./maybe","./ObjectPool"],
function(a,b,h,l,n){Object.defineProperty(b,"__esModule",{value:!0});b.ReentrantObjectPool=void 0;a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._set=new Set;return b}h.__extends(b,a);b.prototype.destroy=function(){a.prototype.destroy.call(this);this._set=l.nullifyNonnullableForDispose(this._set)};b.prototype.acquire=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.prototype.acquire.apply(this,b);this._set.delete(b);return b};b.prototype.release=
function(b){b&&!this._set.has(b)&&(a.prototype.release.call(this,b),this._set.add(b))};b.prototype._dispose=function(b){this._set.delete(b);a.prototype._dispose.call(this,b)};return b}(n);b.ReentrantObjectPool=a})},"esri/core/scheduling":function(){define("require exports ./maybe ./nextTick ./PooledArray ./promiseUtils".split(" "),function(a,b,h,l,n,d){function g(a){void 0===a&&(a=performance.now());b.debug.rafId=null;0<p.length&&(b.debug.rafId=k());b.debug.executeFrameTasks(a)}function k(){return b.debug.requestNextFrame?
b.debug.requestNextFrame(f):f()}function c(){p.forEachSimple(function(a){a.removed&&w.push(a)});p.removeUnorderedMany(w.data,w.length);w.clear()}function e(){for(;t.length;){var a=h.assumeNonNull(t.shift());a.isActive&&a.callback()}b.debug.willDispatch=!1}function f(){return requestAnimationFrame(g)}Object.defineProperty(b,"__esModule",{value:!0});b.waitTicks=b.requestNextFrame=b.setFrameDuration=b.addFrameTask=b.schedule=b.debug=b.FrameTaskHandle=void 0;var r=function(){return function(a){this.phases=
a;this.paused=!1;this.ticks=-1;this.removed=!1}}(),q=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),m=-1,y=0,u={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},v=["prepare","preRender","render","postRender","update"],t=[],p=new n,x=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused=!0};a.prototype.resume=function(){this._task.paused=!1};
return a}();b.FrameTaskHandle=x;b.debug={frameTasks:p,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);p.forEachSimple(function(a){a.removed=!0});a&&c()},dispatch:e,executeFrameTasks:function(a){void 0===a&&(a=performance.now());0>m&&(m=a);var b=a-m,d=0<y?y:1E3/60,e=Math.max(0,b-d);m=a;for(var f=function(c){var f=v[c];p.forEachSimple(function(k){var g;k.paused||k.removed||(0===c&&k.ticks++,k.phases[f]&&(u.time=a,u.deltaTime=0===k.ticks?0:b,u.elapsedFrameTime=
performance.now()-a,u.frameDuration=d-e,null===(g=k.phases[f])||void 0===g?void 0:g.call(k,u)))})},k=0;k<v.length;k++)f(k);c()}};b.schedule=function(a){a=new q(a);t.push(a);b.debug.willDispatch||(b.debug.willDispatch=!0,l(e));return a};b.addFrameTask=function(a){a=new r(a);p.push(a);b.debug.rafId||(m=-1,b.debug.rafId=k());return new x(a)};b.setFrameDuration=function(a){y=Math.max(0,a)};b.requestNextFrame=k;var w=new n;b.waitTicks=function(a,b){void 0===a&&(a=1);var c=d.createResolver(),e=function(){d.isAborted(b)?
c.reject(d.createAbortError()):0===a?c():(--a,l(function(){return e()}))};e();return c.promise}})},"esri/core/nextTick":function(){define(["require","exports","./global","@dojo/framework/shim/Promise"],function(a,b,h){function l(a){d.push(a);1===d.length&&n(function(){for(var a=0,b=g;a<b.length;a++)(0,b[a])();a=d.slice();for(b=d.length=0;b<a.length;b++)(0,a[b])()})}var n=function(){return h.queueMicrotask?h.queueMicrotask:function(a){h.Promise.resolve().then(a)}}(),d=[],g=[];(function(a){a.before=
function(a){g.push(a);return{remove:function(){g=g.filter(function(b){return b!==a})}}}})(l||(l={}));return l})},"esri/core/PooledArray":function(){define(["require","exports","tslib","./arrayUtils","./HeapSort"],function(a,b,h,l,n){return function(){function a(a){var b=this;this.data=[];this._length=0;this._allocator=void 0;this._deallocator=function(){return null};this._shrink=function(){};this._hint=new l.PositionHint;a&&(a.initialSize&&(this.data=Array(a.initialSize)),a.allocator&&(this._allocator=
a.allocator),void 0!==a.deallocator&&(this._deallocator=a.deallocator),a.shrink&&(this._shrink=function(){b.data.length>1.5*b.length&&(b.data.length=Math.floor(1.1*b.length))}))}a.prototype.toArray=function(){return this.data.slice(0,this.length)};a.prototype.getItemAt=function(a){if(!(0>a||a>=this._length))return this.data[a]};Object.defineProperty(a.prototype,"length",{get:function(){return this._length},set:function(a){if(a>this._length)if(this._allocator)for(;this._length<a;)this.data[this._length++]=
this._allocator(this.data[this._length]);else this._length=a;else{if(this._deallocator)for(var b=a;b<this._length;++b)this.data[b]=this._deallocator(this.data[b]);this._length=a;this._shrink()}},enumerable:!1,configurable:!0});a.prototype.clear=function(){this.length=0};a.prototype.prune=function(){this.clear();this.data=[]};a.prototype.push=function(a){this.data[this._length++]=a};a.prototype.pushArray=function(a,b){void 0===b&&(b=a.length);for(var c=0;c<b;c++)this.data[this._length++]=a[c]};a.prototype.fill=
function(a,b){for(var c=0;c<b;c++)this.data[this._length++]=a};a.prototype.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));var a=this.data[this._length];++this._length;return a};a.prototype.pop=function(){if(0!==this.length){var a=this.data[this.length-1];--this.length;this._shrink();return a}};a.prototype.iterableRemoveMany=function(a){var b,c;return h.__generator(this,function(d){switch(d.label){case 0:b=[],c=0,d.label=1;case 1:if(!(c<this.length)||
c>=this.length)return[3,4];0>l.indexOf(a.data,this.data[c],a.length,a._hint)&&b.push(this.data[c]);return[4];case 2:d.sent(),d.label=3;case 3:return++c,[3,1];case 4:return this.data=b,this._length=this.data.length,[2]}})};a.prototype.remove=function(a){var b=l.indexOf(this.data,a,this.length,this._hint);if(-1!==b)return this.data.splice(b,1),--this.length,a};a.prototype.removeUnordered=function(a){a=l.removeUnordered(this.data,a,this.length,this._hint);void 0!==a&&--this.length;return a};a.prototype.removeUnorderedIndex=
function(a){if(!(a>=this.length||0>a))return this.swapElements(a,this.length-1),this.pop()};a.prototype.removeUnorderedMany=function(a,b,c){void 0===b&&(b=a.length);this.length=l.removeUnorderedMany(this.data,a,this.length,b,this._hint,c)};a.prototype.front=function(){if(0!==this.length)return this.data[0]};a.prototype.back=function(){if(0!==this.length)return this.data[this.length-1]};a.prototype.swapElements=function(a,b){var c;a>=this.length||b>=this.length||a===b||(c=[this.data[b],this.data[a]],
this.data[a]=c[0],this.data[b]=c[1])};a.prototype.sort=function(a){n.sort(this.data,0,this.length,a)};a.prototype.iterableSort=function(a){return n.iterableSort(this.data,0,this.length,a)};a.prototype.some=function(a,b){for(var c=0;c<this.length;++c)if(a.call(b,this.data[c],c,this.data))return!0;return!1};a.prototype.filterInPlace=function(a,b){for(var c=0,d=0;d<this._length;++d){var f=this.data[d];a.call(b,f,d,this.data)&&(this.data[d]=this.data[c],this.data[c]=f,c++)}if(this._deallocator)for(d=
c;d<this._length;d++)this.data[d]=this._deallocator(this.data[d]);this._length=c;return this};a.prototype.forEachSimple=function(a,b){for(var c=this.length,d=this.data,f=0;f<c;++f)a.call(b,d[f],f,d)};a.prototype.iterableForEach=function(){var a;return h.__generator(this,function(b){switch(b.label){case 0:a=0,b.label=1;case 1:return a<this.length?[4,this.data[a]]:[3,4];case 2:b.sent(),b.label=3;case 3:return++a,[3,1];case 4:return[2]}})};a.prototype.map=function(a,b){for(var c=Array(this.length),d=
0;d<this.length;++d)c[d]=a.call(b,this.data[d],d,this.data);return c};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.data[c],c,this.data);return b};return a}()})},"esri/core/HeapSort":function(){define(["require","exports","tslib"],function(a,b,h){var l;(function(a){function b(a,b,d,f){for(var c=b,e=d>>>1,m=a[c-1];b<=e;){b=c<<1;b<d&&0>f(a[b-1],a[b])&&++b;var k=a[b-1];if(0>=f(k,m))break;a[c-1]=k;c=b}a[c-1]=m}function g(a,b){return a<b?-1:a>b?1:0}a.sort=function(a,c,d,f){void 0===
c&&(c=0);void 0===d&&(d=a.length);void 0===f&&(f=g);for(var e=d>>>1;e>c;e--)b(a,e,d,f);for(var k=c+1,e=d-1;e>c;e--)d=a[c],a[c]=a[e],a[e]=d,b(a,k,e,f)};a.iterableSort=function(a,c,d,f){var e,k,m;return h.__generator(this,function(q){switch(q.label){case 0:void 0===c&&(c=0),void 0===d&&(d=a.length),void 0===f&&(f=g),e=d>>>1,q.label=1;case 1:if(!(e>c))return[3,4];b(a,e,d,f);return[4];case 2:q.sent(),q.label=3;case 3:return e--,[3,1];case 4:k=c+1,e=d-1,q.label=5;case 5:if(!(e>c))return[3,8];m=a[c];a[c]=
a[e];a[e]=m;b(a,k,e,f);return[4];case 6:q.sent(),q.label=7;case 7:return e--,[3,5];case 8:return[2]}})}})(l||(l={}));return l})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,h,l,n,d,g){function k(a){var b=0,c=a;if(l.isLongFormType(a))return l.ensureLongFormType(a);for(;Array.isArray(c)&&1===c.length&&"string"!==typeof c[0]&&"number"!==typeof c[0];)c=c[0],b++;return l.isOneOf(c)?0===
b?l.ensureOneOf(c):l.ensureNArrayTyped(l.ensureOneOf(c),b):1===b?l.ensureArray(c):1<b?l.ensureNArray(c,b):a.from?a.from:l.default(a)}function c(a,b){return function(c){c=+a(c);null!=b.step&&(c=Math.round(c/b.step)*b.step);null!=b.min&&(c=Math.max(b.min,c));null!=b.max&&(c=Math.min(b.max,c));return c}}Object.defineProperty(b,"__esModule",{value:!0});b.ensureRange=b.propertyJSONMeta=b.property=void 0;var e=h.getLogger("esri.core.accessorSupport.decorators.property");b.property=function(a){void 0===
a&&(a={});return function(b,f,m){if(b===Function.prototype)throw Error("Inappropriate use of @property() on a static field: "+b.name+"."+f+". Accessor does not support static properties.");var q=d.getOwnPropertyMetadata(b,f);m&&(m.get||m.set?(q.get=m.get||q.get,q.set=m.set||q.set):"value"in m&&("value"in a&&e.warn('@property() will redefine the value of "'+f+'" on "'+b.constructor.name+'" already defined in the metadata',a),q.value=a.value=m.value));null!=a.readOnly&&(q.readOnly=a.readOnly);if(b=
a.aliasOf){var r="string"===typeof b?b:b.source;b="string"===typeof b?null:!0===b.overridable;var h;q.dependsOn=[r];q.get=function(){var a=n.default(this,r);if("function"===typeof a){h||(h=r.split(".").slice(0,-1).join("."));var b=n.default(this,h);b&&(a=a.bind(b))}return a};q.readOnly||(q.set=b?function(a){void 0!==a?this._override(f,a):this._clearOverride(f)}:function(a){g.default(this,r,a)})}b=a.type;m=a.types;q.cast||(b?q.cast=k(b):m&&(Array.isArray(m)?q.cast=l.ensureArrayTyped(l.ensureOneOfType(m[0])):
q.cast=l.ensureOneOfType(m)));a.range&&(q.cast=c(q.cast,a.range));d.mergeProperty(q,a)}};b.propertyJSONMeta=function(a,b,c){a=d.getOwnPropertyMetadata(a,c);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a};b.ensureRange=c})},"esri/core/accessorSupport/decorators/subclass":function(){define("require exports tslib ../../has ../extensions ../metadata".split(" "),function(a,b,h,l,n,d){function g(a,b){return null==b.get?void 0===
b.value?function(){return this.__accessor__.store.get(a)}:function(){var c=this.__accessor__.store;return c.has(a)?c.get(a):b.value}:function(){return this.__accessor__.getterComputed(a,b)}}function k(a){var b=a.prototype,c=b.declaredClass,e=d.getOwnClassMetadata(b).properties;n.processClassMetadatas(e,c);for(var f={},b=function(a){var b=e[a];f[a]={enumerable:!0,configurable:!0,get:g(a,b),set:function(c){var d=this.__accessor__;if(void 0===d)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,
writable:!0,value:c});else if(!Object.isFrozen(this)){if(d.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===d.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);d.set(a,c)}}}},c=0,k=Object.getOwnPropertyNames(e);c<k.length;c++)b(k[c]);Object.defineProperties(a.prototype,f)}Object.defineProperty(b,"__esModule",{value:!0});b.processClass=
b.subclass=void 0;var c=new Set,e=new Set;b.subclass=function(a){return function(b){b.prototype.declaredClass=a;n.processPrototypeMetadatas(d.getOwnClassMetadata(b.prototype).properties,a);k(b);for(var f=[],m=[],g=b.prototype;g;)g.hasOwnProperty("initialize")&&!c.has(g.initialize)&&(c.add(g.initialize),f.push(g.initialize)),g.hasOwnProperty("destroy")&&!e.has(g.destroy)&&(e.add(g.destroy),m.push(g.destroy)),g=Object.getPrototypeOf(g);c.clear();e.clear();g=function(a){function b(){for(var c=[],d=0;d<
arguments.length;d++)c[d]=arguments[d];d=a.apply(this,c)||this;if(d.constructor===b&&"function"===typeof d.postscript){f.length&&Object.defineProperty(d,"initialize",{enumerable:!1,configurable:!0,value:function(){for(var a=f.length-1;0<=a;a--)f[a].call(this)}});if(m.length){var e=!1;Object.defineProperty(d,"destroy",{enumerable:!1,configurable:!0,value:function(){if(!e){e=!0;for(var a=0;a<m.length;a++)m[a].call(this)}}})}d.postscript.apply(d,c)}return d}h.__extends(b,a);return b}(b);g.__accessorMetadata__=
d.getOwnClassMetadata(b.prototype);g.prototype.declaredClass=a;return g}};b.processClass=k})},"esri/core/watchUtils":function(){define(["require","exports","./events","./lang","./promiseUtils"],function(a,b,h,l,n){function d(a,b,c,d,e){e=a.watch(b,function(b,e,f,m){if(!c||c(b))null===d||void 0===d?void 0:d.call(a,b,e,f,m)},e);if(Array.isArray(b))for(var f=0;f<b.length;f++){var m=a.get(b[f]);c&&c(m)&&(null===d||void 0===d?void 0:d.call(a,m,m,b,a))}else m=a.get(b),c&&c(m)&&(null===d||void 0===d?void 0:
d.call(a,m,m,b,a));return e}function g(a,b,c,e,f){function m(){r&&(r.remove(),r=null)}var k="function"===typeof e?e:null,g="object"===typeof e?e:null;"boolean"===typeof e&&(f=e);var q=!1,r,t=n.createDeferred();n.onAbort(g,function(){m();t.reject(n.createAbortError())});e={then:t.promise.then.bind(t.promise),catch:t.promise.catch.bind(t.promise),remove:m};Object.freeze(e);r=d(a,b,c,function(b,c,d,e){q=!0;m();k&&k.call(a,b,c,d,e);t.resolve({value:b,oldValue:c,propertyName:d,target:e})},f);q&&m();return e}
function k(a){return!!a}function c(a){return!a}function e(a){return!0===a}function f(a){return!1===a}function r(a){return void 0!==a}function q(a){return void 0===a}function m(a,b,c,d){var e=Array.isArray(b)?b:-1<b.indexOf(",")?b.split(","):[b];b=a.watch(b,c,d);for(d=0;d<e.length;d++){var f=e[d].trim().replace(y,"$1"),m=a.get(f);c.call(a,m,m,f,a)}return b}Object.defineProperty(b,"__esModule",{value:!0});b.on=b.pausable=b.whenEqualOnce=b.whenEqual=b.whenUndefinedOnce=b.whenUndefined=b.whenDefinedOnce=
b.whenDefined=b.whenFalseOnce=b.whenFalse=b.whenTrueOnce=b.whenTrue=b.whenNotOnce=b.whenNot=b.whenOnce=b.when=b.once=b.watch=b.init=b.whenValidOnce=void 0;b.whenValidOnce=g;var y=/\?(\.|$)/g;b.init=m;b.watch=function(a,b,c,d){return a.watch(b,c,d)};b.once=function(a,b,c,d){return g(a,b,null,c,d)};b.when=function(a,b,c,e){return d(a,b,k,c,e)};b.whenOnce=function(a,b,c,d){return g(a,b,k,c,d)};b.whenNot=function(a,b,e,f){return d(a,b,c,e,f)};b.whenNotOnce=function(a,b,d,e){return g(a,b,c,d,e)};b.whenTrue=
function(a,b,c,f){return d(a,b,e,c,f)};b.whenTrueOnce=function(a,b,c,d){return g(a,b,e,c,d)};b.whenFalse=function(a,b,c,e){return d(a,b,f,c,e)};b.whenFalseOnce=function(a,b,c,d){return g(a,b,f,c,d)};b.whenDefined=function(a,b,c,e){return d(a,b,r,c,e)};b.whenDefinedOnce=function(a,b,c,d){return g(a,b,r,c,d)};b.whenUndefined=function(a,b,c,e){return d(a,b,q,c,e)};b.whenUndefinedOnce=function(a,b,c,d){return g(a,b,q,c,d)};b.whenEqual=function(a,b,c,e,f){return d(a,b,function(a){return l.equals(c,a)},
e,f)};b.whenEqualOnce=function(a,b,c,d,e){return g(a,b,function(a){return l.equals(c,a)},d,e)};b.pausable=function(a,b,c,d){var e=!1,f=a.watch(b,function(b,d,f,m){e||c.call(a,b,d,f,m)},d);return{remove:function(){f.remove()},pause:function(){e=!0},resume:function(){e=!1}}};b.on=function(a,b,c,d,e,f,k){function g(b){var d=q[b];d&&(f&&f(d.target,b,a,c),d.handle.remove(),delete q[b])}var q={},r=m(a,b,function(b,f,m){g(m);h.isEventTarget(b)&&(q[m]={handle:h.on(b,c,d),target:b},e&&e(b,m,a,c))},k);return{remove:function(){r.remove();
for(var a in q)g(a)}}}})},"esri/core/accessorSupport/decorators":function(){define("require exports tslib ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer ./decorators/persistable".split(" "),function(a,b,h,l,n,d,g,k,c,e,f,r,q,m){Object.defineProperty(b,"__esModule",{value:!0});h.__exportStar(l,b);h.__exportStar(n,b);h.__exportStar(d,
b);h.__exportStar(g,b);h.__exportStar(k,b);h.__exportStar(c,b);h.__exportStar(e,b);h.__exportStar(f,b);h.__exportStar(r,b);h.__exportStar(q,b);h.__exportStar(m,b)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","tslib","./property"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=void 0;b.aliasOf=function(a,b){a=b?h.__assign(h.__assign({},b),{source:a}):a;return l.property({aliasOf:a})}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(a,b,h){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=void 0;b.autoDestroy=function(){return function(a,b){h.getOwnClassMetadata(a).autoDestroy=!0;return a[b]}}})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(a,b,h,l){function n(a){var b="__accessorMetadata__"in a?h.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);if("number"===
typeof a[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return d.apply(this,a)}}function d(a,b,d,k){l.getOwnPropertyMetadata(a,b).cast=k}function g(a){return function(b,c){l.getOwnPropertyMetadata(b,a).cast=b[c]}}Object.defineProperty(b,"__esModule",{value:!0});b.cast=void 0;var k=Object.prototype.toString;b.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===k.call(a[0]))return n(a[0]);
if(1===a.length&&"string"===typeof a[0])return g(a[0])}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports","../../deprecate","../../has","../../Logger"],function(a,b,h,l,n){Object.defineProperty(b,"__esModule",{value:!0});b.declared=void 0;b.declared=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];if(0<b.length)throw Error("Multi-inheritance unsupported since 4.16");l("esri-deprecation-warnings")&&h.deprecated(n.getLogger("esri.core.accessorSupport.decorators"),
"'extends declared(superclass)' syntax",{version:"4.16",see:"https://arcg.is/T8fr4"});return a}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require","exports","../../jsonMap","./property"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.enumeration=void 0;b.enumeration=function(a,b){void 0===b&&(b={ignoreUnknown:!0});a=a instanceof h.JSONMap?a:new h.JSONMap(a,b);return l.property({type:(null===b||void 0===b?0:b.ignoreUnknown)?a.apiValues:String,readOnly:null===
b||void 0===b?void 0:b.readOnly,json:{type:a.jsonValues,read:(null===b||void 0===b?0:b.readOnly)?!1:{reader:a.read},write:{writer:a.write}}})}})},"esri/core/jsonMap":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.strict=b.JSONMap=void 0;var h=function(){function a(a,b){var d=this;void 0===b&&(b={ignoreUnknown:!1});this.jsonToAPI=a;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);
this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return d.fromJSON(a)};this.write=function(a,b,e){a=d.toJSON(a);void 0!==a&&(b[e]=a)};this.write.isJSONMapWriter=!0}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var b={},g;for(g in a)b[a[g]]=
g;return b};a.prototype.getKeysSorted=function(a){var b=[],g;for(g in a)b.push(g);b.sort();return b};return a}();b.JSONMap=h;b.strict=function(){return function(a){return new h(a,{ignoreUnknown:!0})}};b.default=h})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.reader=void 0;b.reader=function(a,b,g){var d,c;void 0===b||Array.isArray(b)?(c=a,g=b,d=[void 0]):(c=b,
d=Array.isArray(a)?a:[a]);return function(a,b){var e=a.constructor.prototype;d.forEach(function(d){d=l.propertyJSONMeta(a,d,c);d.read&&"object"!==typeof d.read&&(d.read={});h.setDeepValue("read.reader",e[b],d);g&&(d.read.source=(d.read.source||[]).concat(g))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.shared=void 0;b.shared=function(a){return function(b,h){b[h]=a}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require",
"exports","../../object","./property"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.writer=void 0;b.writer=function(a,b,g){var d,c;void 0===b?(c=a,d=[void 0]):"string"!==typeof b?(c=a,d=[void 0],g=b):(c=b,d=Array.isArray(a)?a:[a]);return function(a,b){var e=a.constructor.prototype;d.forEach(function(d){d=l.propertyJSONMeta(a,d,c);d.write&&"object"!==typeof d.write&&(d.write={});g&&h.setDeepValue("write.target",g,d);h.setDeepValue("write.writer",e[b],d)})}}})},"esri/core/accessorSupport/decorators/persistable":function(){define("require exports tslib ../../maybe ../../multiOriginJSONSupportUtils ../../urlUtils ../../uuid ../metadata ../PropertyOrigin ./property ../../../portal/support/resourceUtils ../../../support/persistableUrlUtils @dojo/framework/shim/Promise".split(" "),
function(a,b,h,l,n,d,g,k,c,e,f,r){function q(a,b,e){var g=k.getOwnPropertyMetadata(b,e);return{type:String,read:function(a,b,c){a=r.read(a,b,c);if(g.type===String)return a;if("function"===typeof g.type)return new g.type({url:a})},write:{writer:function(b,k,q,t){if(t&&t.resources){var p;p=l.isNone(b)?null:"string"===typeof b?b:b.url;p=p?r.toJSON(p,h.__assign(h.__assign({},t),{verifyItemRelativeUrls:t&&t.verifyItemRelativeUrls?{writtenUrls:t.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null})):
null;var w=g.type!==String&&(!n.isMultiOriginJSONMixin(this)||t&&t.origin&&this.originIdOf(e)>c.nameToId(t.origin));if(t&&t.portalItem&&l.isSome(p)&&!d.isAbsolute(p))if(w){var w=t.portalItem.resourceFromPath(p),x=u(b,p,t),z=f.resourceContentExtension(x),v=d.getPathExtension(w.path);z!==v?m(this,e,b,p,k,q,t,a):(y(this,e,w,x,t.resources.toUpdate),k[q]=p)}else t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(p)}),k[q]=p;else t&&t.portalItem&&(l.isNone(p)||l.isSome(r.itemIdFromResourceUrl(p))||
d.isBlobProtocol(p)||w)?m(this,e,b,p,k,q,t,a):k[q]=p}else k[q]="string"===typeof b?r.toJSON(b,t):b.write({},t)}}}}function m(a,b,c,e,m,k,q,r){var h=g.generateUUID();c=u(c,e,q);var t=d.join(l.get(r,"prefix"),h);r=t+"."+f.resourceContentExtension(c);var p=q.portalItem.resourceFromPath(r);d.isBlobProtocol(e)&&q.resources.pendingOperations.push(v(e).then(function(a){p.path=t+"."+f.resourceContentExtension(a);m[k]=p.itemRelativeUrl}).catch(function(){}));y(a,b,p,c,q.resources.toAdd);m[k]=p.itemRelativeUrl}
function y(a,b,c,d,e){e.push({resource:c,content:d,finish:function(c){"string"===typeof a[b]?a[b]=c.url:a[b].url=c.url}})}function u(a,b,c){return"string"===typeof a?{url:b}:new Blob([JSON.stringify(a.toJSON(c))],{type:"application/json"})}function v(b){return h.__awaiter(this,void 0,void 0,function(){var c,d;return h.__generator(this,function(e){switch(e.label){case 0:return[4,new Promise(function(b,c){a(["../../../request"],b,c)})];case 1:return c=e.sent(),[4,c(b,{responseType:"blob"})];case 2:return d=
e.sent().data,[2,d]}})})}Object.defineProperty(b,"__esModule",{value:!0});b.persistable=void 0;b.persistable=function(a){var b=l.isSome(a)&&a.origins?a.origins:[void 0];return function(c,d){var f;a:if(l.isSome(a)&&"resource"===a.type)f=q(a,c,d);else{switch(l.isSome(a)&&a.type?a.type:"other"){case "other":f={read:!0,write:!0};break a;case "url":f={read:r.read,write:r.write};break a}f=void 0}for(var m=0;m<b.length;m++){var k=e.propertyJSONMeta(c,b[m],d),g;for(g in f)k[g]=f[g]}}}})},"esri/core/multiOriginJSONSupportUtils":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isMultiOriginJSONMixin=void 0;b.isMultiOriginJSONMixin=function(a){return a&&"getAtOrigin"in a&&"originOf"in a}})},"esri/core/urlUtils":function(){define("require exports tslib ../config ./Error ./global ./Logger ./maybe ./string".split(" "),function(a,b,h,l,n,d,g,k,c){function e(a){var b={path:null,query:null},c=new Z(a),d=a.indexOf("?");null===c.query?b.path=a:(b.path=a.substring(0,d),b.query=f(c.query));c.fragment&&(b.hash=
c.fragment,null===c.query&&(b.path=b.path.substring(0,b.path.length-(c.fragment.length+1))));return b}function f(a){var b={},c=0;for(a=a.split("\x26");c<a.length;c++){var d=a[c];if(d){var e=d.indexOf("\x3d"),f=void 0,m=void 0;0>e?(f=decodeURIComponent(d),m=""):(f=decodeURIComponent(d.slice(0,e)),m=decodeURIComponent(d.slice(e+1)));d=b[f];"string"===typeof d&&(d=b[f]=[d]);Array.isArray(d)?d.push(m):b[f]=m}}return b}function r(a){return a&&"object"===typeof a&&"toJSON"in a&&"function"===typeof a.toJSON}
function q(a,b){return a?b&&"function"===typeof b?Object.keys(a).map(function(c){return encodeURIComponent(c)+"\x3d"+encodeURIComponent(b(c,a[c]))}).join("\x26"):Object.keys(a).map(function(c){var d=a[c];if(null==d)return"";var e=encodeURIComponent(c)+"\x3d";return(c=b&&b[c])?e+encodeURIComponent(c(d)):Array.isArray(d)?d.map(function(a){return r(a)?e+encodeURIComponent(JSON.stringify(a)):e+encodeURIComponent(a)}).join("\x26"):r(d)?e+encodeURIComponent(JSON.stringify(d)):e+encodeURIComponent(d)}).filter(function(a){return a}).join("\x26"):
""}function m(a){var b=a.indexOf("?");-1!==b?(ba.path=a.slice(0,b),ba.query=a.slice(b+1)):(ba.path=a,ba.query=null);return ba}function y(a){a=m(a).path;a&&"/"===a[a.length-1]||(a+="/");a=F(a,!0);return a=a.toLowerCase()}function u(a){var b=S.proxyRules;a=y(a);for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c].urlPrefix))return b[c]}function v(a){a=x(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function t(a,b,c){void 0===c&&(c=!1);a=R(a);b=R(b);return!c&&a.scheme!==
b.scheme||null==a.host||null==b.host?!1:a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port}function p(a,c,d){void 0===c&&(c=b.appBaseUrl);return L(a)?d&&d.preserveProtocolRelative?a:"http"===b.appUrl.scheme&&b.appUrl.authority===z(a).slice(2)?"http:"+a:"https:"+a:O(a)?a:k.assumeNonNull(w("/"===a[0]?M(c):c,a))}function x(a){a=a.trim();a=p(a);if(/^https?:\/\//i.test(a)){var b=m(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,
"$1www.$2");return a=I(a)}function w(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if((b=a.filter(k.isSome))&&b.length){a=[];if(B(b[0])){var c=b[0],d=c.indexOf("//");-1!==d&&(a.push(c.slice(0,d+1)),X.test(b[0])&&(a[0]+="/"),b[0]=c.slice(d+2))}else"/"===b[0][0]&&a.push("");b=b.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(c=0;c<b.length;c++)d=b[c],".."===d&&0<a.length&&".."!==a[a.length-1]?a.pop():(!d&&c===b.length-1||d&&("."!==d||0===a.length))&&a.push(d);return a.join("/")}}
function z(a,b){void 0===b&&(b=!1);if(A(a)||H(a))return null;var c=a.indexOf("://");if(-1===c&&L(a))c=2;else if(-1!==c)c+=3;else return null;c=a.indexOf("/",c);-1!==c&&(a=a.slice(0,c));b&&(a=F(a,!0));return a}function B(a){return L(a)||O(a)}function A(a){return null!=a&&"blob:"===a.slice(0,5)}function H(a){return"data:"===a.slice(0,5)}function D(a){a=C(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer}function C(a){return(a=
a.match(aa))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function K(a){var b=D(a);if(!b)return null;a=C(a);return new Blob([b],{type:a.mediaType})}function L(a){return null!=a&&void 0!==a&&"/"===a[0]&&"/"===a[1]}function O(a){return W.test(a)}function J(a){return T.test(a)||"http"===b.appUrl.scheme&&L(a)}function G(a){return L(a)?"https:"+a:a.replace(T,"https:")}function E(){return"https"===b.appUrl.scheme}function F(a,b){void 0===b&&(b=!1);if(L(a))return a.slice(2);a=a.replace(W,"");b&&1<a.length&&
"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function M(a){var b=a.indexOf("//"),b=a.indexOf("/",b+2);return-1===b?a:a.slice(0,b)}function I(a){var d=S.httpsDomains;if(!J(a))return a;var e=a.indexOf("/",7),f;f=-1===e?a:a.slice(0,e);f=f.toLowerCase().slice(7);if(U.test(f))if(c.endsWith(f,":80"))f=f.slice(0,-3),a=a.replace(":80","");else return a;if("http"===b.appUrl.scheme&&f===b.appUrl.authority&&!N.test(a))return a;if(E()&&f===b.appUrl.authority||d&&d.some(function(a){return f===a||c.endsWith(f,
"."+a)})||E()&&!u(a))a=G(a);return a}function R(a){if("string"===typeof a)return new Z(p(a));a.scheme||(a.scheme=b.appUrl.scheme);return a}Object.defineProperty(b,"__esModule",{value:!0});b.getPathExtension=b.removeQueryParameter=b.addQueryParameters=b.addQueryParameter=b.removeQueryParameters=b.isSVG=b.changeDomain=b.removeTrailingSlash=b.removeFile=b.isAppHTTPS=b.toHTTPS=b.toHTTP=b.hasProtocol=b.isProtocolRelative=b.downloadDataAsFile=b.dataToBlob=b.makeData=b.dataComponents=b.dataToArrayBuffer=
b.isDataProtocol=b.isBlobProtocol=b.isAbsolute=b.getOrigin=b.join=b.normalize=b.makeRelative=b.makeAbsolute=b.isTrustedServer=b.hasSameOrigin=b.getInterceptor=b.hasSamePortal=b.getProxyRule=b.addProxyRule=b.addProxy=b.getProxyUrl=b.objectToQuery=b.queryToObject=b.urlToObject=b.appBaseUrl=b.trustedServersUrlCache=b.appUrl=b.Url=void 0;var P=g.getLogger("esri.core.urlUtils"),S=l.request,W=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,T=/^\s*http:/i,Q=/^\s*https:/i,X=/^\s*file:/i,U=/:\d+$/,N=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,
Y=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,V=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,Z=function(){function a(a){void 0===a&&(a="");this.uri=a;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;a=k.assumeNonNull(this.uri.match(Y));this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&
(a=k.assumeNonNull(this.authority.match(V)),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)}a.prototype.toString=function(){return this.uri};return a}();b.Url=Z;b.appUrl=new Z(l.applicationUrl);b.trustedServersUrlCache={};b.appBaseUrl=function(){var a=k.assumeNonNull(b.appUrl.path),a=a.substring(0,a.lastIndexOf(a.split("/")[a.split("/").length-1]));return""+(b.appUrl.scheme+"://"+b.appUrl.host+(null!=b.appUrl.port?":"+b.appUrl.port:""))+a}();b.urlToObject=
e;b.queryToObject=f;b.objectToQuery=q;b.getProxyUrl=function(a){void 0===a&&(a=!1);var c,d=S.proxyUrl;if("string"===typeof a){if(c=a,c=Q.test(c)||"https"===b.appUrl.scheme&&L(c),a=u(a))d=a.proxyUrl}else c=!!a;if(!d)throw P.warn("esri/config: esriConfig.request.proxyUrl is not set."),new n("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");c&&E()&&(d=G(d));return e(d)};b.addProxy=function(a){var b=u(a),c=void 0,d;b&&(d=m(b.proxyUrl),c=d.path,d=d.query?f(d.query):null);
c&&(b=e(a),a=c+"?"+b.path,(c=q(h.__assign(h.__assign({},d),b.query)))&&(a=a+"?"+c));return a};var ba={path:"",query:""};b.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:y(a.urlPrefix)};for(var b=S.proxyRules,c=a.urlPrefix,d=b.length,e=0;e<b.length;e++){var f=b[e].urlPrefix;if(0===c.indexOf(f)){if(c.length===f.length)return-1;d=e;break}0===f.indexOf(c)&&(d=e+1)}b.splice(d,0,a);return d};b.getProxyRule=u;b.hasSamePortal=function(a,b){a=v(a);b=v(b);return F(a)===F(b)};b.getInterceptor=function(a){var b=
function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&c.startsWith(a,b)},d=S.interceptors;if(d)for(var e=0;e<d.length;e++){var f=d[e];if(Array.isArray(f.urls)){if(f.urls.some(b))return f}else if(b(f.urls))return f}return null};b.hasSameOrigin=t;b.isTrustedServer=function(a){if("string"===typeof a)if(B(a))a=R(a);else return!0;if(t(a,b.appUrl))return!0;for(var c=S.trustedServers||[],d=0;d<c.length;d++){var e;e=c[d];b.trustedServersUrlCache[e]||(O(e)||L(e)?b.trustedServersUrlCache[e]=
[new Z(p(e))]:b.trustedServersUrlCache[e]=[new Z("http://"+e),new Z("https://"+e)]);e=b.trustedServersUrlCache[e];for(var f=0;f<e.length;f++)if(t(a,e[f]))return!0}return!1};b.makeAbsolute=p;b.makeRelative=function(a,c,d){void 0===c&&(c=b.appBaseUrl);if(!B(a))return a;var e=x(a),f=e.toLowerCase();c=x(c).toLowerCase().replace(/\/+$/,"");if((d=d?x(d).toLowerCase().replace(/\/+$/,""):null)&&0!==c.indexOf(d))return a;for(var m=function(a,b,c){c=a.indexOf(b,c);return-1===c?a.length:c},k=m(f,"/",f.indexOf("//")+
2),g=-1;f.slice(0,k+1)===c.slice(0,k)+"/";){g=k+1;if(k===f.length)break;k=m(f,"/",k+1)}if(-1===g||d&&g<d.length)return a;a=e.slice(g);e=c.slice(g-1).replace(/[^/]+/g,"").length;if(0<e)for(f=0;f<e;f++)a="../"+a;else a="./"+a;return a};b.normalize=x;b.join=w;b.getOrigin=z;b.isAbsolute=B;b.isBlobProtocol=A;b.isDataProtocol=H;b.dataToArrayBuffer=D;var aa=/^data:(.*?)(;base64)?,(.*)$/;b.dataComponents=C;b.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+
","+a.data};b.dataToBlob=K;b.downloadDataAsFile=function(a,b){var c;a:if(c=document.createElement("a"),"download"in c){var e=null;if(d.URL&&d.URL.createObjectURL){e=K(a);if(!e){c=!1;break a}e=d.URL.createObjectURL(e)}c.download=b;c.href=e||a;c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);e&&d.URL.revokeObjectURL(e);c=void 0}else c=!1;c||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(K(a),b)};b.isProtocolRelative=L;b.hasProtocol=O;b.toHTTP=
function(a){return L(a)?"http:"+a:a.replace(Q,"http:")};b.toHTTPS=G;b.isAppHTTPS=E;b.removeFile=function(a){var b=0;if(B(a)){var c=a.indexOf("//");-1!==c&&(b=c+2)}c=a.lastIndexOf("/");return c<b?a:a.slice(0,c+1)};b.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};b.changeDomain=function(a,b,c){if(!(b&&c&&a&&B(a)))return a;var d=a.indexOf("//"),e=a.indexOf("/",d+2),f=a.indexOf(":",d+2),e=Math.min(0>e?a.length:e,0>f?a.length:f);if(a.slice(d+2,e).toLowerCase()!==b.toLowerCase())return a;
b=a.slice(0,d+2);a=a.slice(e);return""+b+c+a};b.isSVG=function(a){return ea.test(a)};b.removeQueryParameters=function(a,b){a=e(a);var c=Object.keys(a.query||{});0<c.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+c.join(", ")+".");return a.path};b.addQueryParameter=function(a,b,c){a=e(a);var d=a.query||{};d[b]=String(c);return a.path+"?"+q(d)};b.addQueryParameters=function(a,b){a=e(a);var c=a.query||{},d;for(d in b)c[d]=
b[d];return(b=q(c))?a.path+"?"+b:a.path};b.removeQueryParameter=function(a,b){var c=e(a),d=c.path,c=c.query;if(!c)return a;delete c[b];return(a=q(c))?d+"?"+a:d};b.getPathExtension=function(a){return k.isNone(a)?null:(a=a.match(da))?a[1]:null};var da=/.*?\.([^\/]*)$/,ea=/(^data:image\/svg|\.svg$)/i})},"esri/core/uuid":function(){define(["require","exports","./global"],function(a,b,h){Object.defineProperty(b,"__esModule",{value:!0});b.generateUUID=void 0;b.generateUUID=function(){var a=l.getRandomValues(new Uint16Array(8));
a[3]=a[3]&4095|16384;a[4]=a[4]&16383|32768;var b=function(b){return a[b].toString(16)};return b(0)+b(1)+"-"+b(2)+"-"+b(3)+"-"+b(4)+"-"+b(5)+b(6)+b(7)};var l=h.crypto||h.msCrypto})},"esri/portal/support/resourceUtils":function(){define("require exports tslib ../../request ../../core/Error ../../core/maybe ../../core/urlUtils ../../core/urlUtils".split(" "),function(a,b,h,l,n,d,g,k){function c(a){var b=a.lastIndexOf("/");return-1===b?[".",a]:[a.slice(0,b),a.slice(b+1)]}function e(a){var b;b=k.getPathExtension(a);
b=d.isNone(b)?[a,""]:[a.slice(0,a.length-b.length-1),"."+b];a=b[1];b=c(b[0]);return[b[0],b[1],a]}function f(a){return h.__awaiter(this,void 0,void 0,function(){var b;return h.__generator(this,function(c){switch(c.label){case 0:return a instanceof Blob?[2,a]:[4,l(a.url,{responseType:"blob"})];case 1:return b=c.sent(),[2,b.data]}})})}function r(a){if(a instanceof Blob)return a.type;a=k.getPathExtension(a.url);return q[a]||u}Object.defineProperty(b,"__esModule",{value:!0});b.resourceContentExtension=
b.resourceContentType=b.getSiblingOfSameTypeI=b.getSiblingOfSameType=b.contentToBlob=b.splitPrefixFileNameAndExtension=b.removeAllResources=b.removeResource=b.addOrUpdateResource=b.fetchResources=void 0;b.fetchResources=function(a,b,c){void 0===b&&(b={});return h.__awaiter(this,void 0,void 0,function(){var e,f,m,k,q,r,t,u,p,n,l;return h.__generator(this,function(h){switch(h.label){case 0:return[4,a.load(c)];case 1:return h.sent(),e=g.join(a.itemUrl,"resources"),f=b.start,m=void 0===f?1:f,k=b.num,
q=void 0===k?10:k,r=b.sortOrder,t=void 0===r?"asc":r,u=b.sortField,p=void 0===u?"created":u,n={query:{start:m,num:q,sortOrder:t,sortField:p},signal:d.get(c,"signal")},[4,a.portal._request(e,n)];case 2:return l=h.sent(),[2,{total:l.total,nextStart:l.nextStart,resources:l.resources.map(function(b){return{created:new Date(b.created),size:b.size,resource:a.resourceFromPath(b.resource)}})}]}})})};b.addOrUpdateResource=function(a,b,e,m){return h.__awaiter(this,void 0,void 0,function(){var k,q,r,t,u,p;return h.__generator(this,
function(h){switch(h.label){case 0:if(!a.hasPath())throw new n("portal-item-resource-"+b+":invalid-path","Resource does not have a valid path");return[4,a.portalItem.load(m)];case 1:return h.sent(),k=g.join(a.portalItem.userItemUrl,"add"===b?"addResources":"updateResources"),q=c(a.path),r=q[0],t=q[1],[4,f(e)];case 2:return u=h.sent(),p=new FormData,r&&"."!==r&&p.append("resourcesPrefix",r),p.append("fileName",t),p.append("file",u,t),p.append("f","json"),d.isSome(m)&&m.access&&p.append("access",m.access),
[4,a.portalItem.portal._request(k,{method:"post",body:p,signal:d.get(m,"signal")})];case 3:return h.sent(),[2,a]}})})};b.removeResource=function(a,b,c){return h.__awaiter(this,void 0,void 0,function(){var e;return h.__generator(this,function(f){switch(f.label){case 0:if(!b.hasPath())throw new n("portal-item-resources-remove:invalid-path","Resource does not have a valid path");return[4,a.load(c)];case 1:return f.sent(),e=g.join(a.userItemUrl,"removeResources"),[4,a.portal._request(e,{method:"post",
query:{resource:b.path},signal:d.get(c,"signal")})];case 2:return f.sent(),b.portalItem=null,[2]}})})};b.removeAllResources=function(a,b){return h.__awaiter(this,void 0,void 0,function(){var c;return h.__generator(this,function(e){switch(e.label){case 0:return[4,a.load(b)];case 1:return e.sent(),c=g.join(a.userItemUrl,"removeResources"),[2,a.portal._request(c,{method:"post",query:{deleteAll:!0},signal:d.get(b,"signal")})]}})})};b.splitPrefixFileNameAndExtension=e;b.contentToBlob=f;b.getSiblingOfSameType=
function(a,b){if(!a.hasPath())return null;var c=e(a.path);return a.portalItem.resourceFromPath(g.join(c[0],b+c[2]))};b.getSiblingOfSameTypeI=function(a,b){if(!a.hasPath())return null;var c=e(a.path);return a.portalItem.resourceFromPath(g.join(c[0],b+c[2]))};b.resourceContentType=r;b.resourceContentExtension=function(a){return m[r(a)]||v};var q={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",
zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"},m={},y;for(y in q)m[q[y]]=y;var u="text/plain",v=m[u]})},"esri/request":function(){define("require exports tslib ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/string ./core/urlUtils ./support/requestUtils @dojo/framework/shim/Promise".split(" "),function(a,b,h,l,n,d,g,k,c,e,f,r,q,m){function y(a,b){return h.__awaiter(this,void 0,void 0,function(){var c,
d,m,g,r,u,w,n;return h.__generator(this,function(l){switch(l.label){case 0:return c=q.isDataProtocol(a),(d=q.isBlobProtocol(a))||c||(a=q.normalize(a)),m={url:a,requestOptions:h.__assign({},e.unwrap(b))},(g=q.getInterceptor(a))?[4,A(g,m)]:[3,2];case 1:r=l.sent();if(null!=r)return[2,{data:r,getHeader:I,requestOptions:m.requestOptions,url:m.url}];g.after||g.error||(g=null);l.label=2;case 2:a=m.url;b=m.requestOptions;if("image"===b.responseType){if(k("host-webworker"))throw t("request:invalid-parameters",
Error("responseType 'image' is not supported in Web Workers or Node environment"),m);}else if(c)throw t("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+b.responseType),m);if("head"===b.method){if(b.body)throw t("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),m);if(c||d)throw t("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),m);}return[4,p()];case 3:l.sent();if(O)return[2,O.execute(a,
b)];u=f.createAbortController();f.onAbort(b,function(){return u.abort()});w={controller:u,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:g,params:m,redoRequest:!1,useIdentity:J.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,C(w)];case 4:return n=l.sent(),g&&g.after&&g.after(n),[2,n]}})})}function u(a){q.isBlobProtocol(a)||q.isDataProtocol(a)||(a=q.getOrigin(a))&&-1===y._corsServers.indexOf(a)&&y._corsServers.push(a)}function v(a){a=q.getOrigin(a);return!a||
r.endsWith(a,".arcgis.com")||-1!==y._corsServers.indexOf(a)||q.isTrustedServer(a)}function t(a,b,e,m){var k="Error",g={url:e.url,requestOptions:e.requestOptions,getHeader:I,ssl:!1};if(b instanceof d)return b.details?(b.details=c.clone(b.details),b.details.url=e.url,b.details.requestOptions=e.requestOptions):b.details=g,b;if(b){e=m&&function(a){return m.headers.get(a)};var q=m&&m.status,r=b.message;r&&(k=r);e&&(g.getHeader=e);g.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||q||0;g.subCode=b.subcode;
g.messageCode=b.messageCode;g.messages="string"===typeof b.details?[b.details]:b.details}return f.isAbortError(b)?f.createAbortError():new d(a,k,g)}function p(){return h.__awaiter(this,void 0,void 0,function(){var b;return h.__generator(this,function(c){switch(c.label){case 0:return k("host-webworker")?O?[3,2]:[4,new Promise(function(b,c){a(["./core/workers/request"],b,c)})]:[3,3];case 1:O=c.sent(),c.label=2;case 2:return[3,6];case 3:if(y._abortableFetch)return[3,6];if(!k("esri-abortable-fetch"))return[3,
4];y._abortableFetch=g.fetch.bind(g);return[3,6];case 4:return b=y,[4,new Promise(function(b,c){a(["whatwg-fetch"],b,c)})];case 5:b._abortableFetch=c.sent().fetch,c.label=6;case 6:return[2]}})})}function x(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(b){switch(b.label){case 0:return n.id?[3,2]:[4,new Promise(function(b,c){a(["./identity/IdentityManager"],b,c)})];case 1:b.sent(),b.label=2;case 2:return[2]}})})}function w(a){return h.__awaiter(this,void 0,void 0,
function(){var b,c,d,e,m,k,q,r;return h.__generator(this,function(h){switch(h.label){case 0:b=a.params.url;c=a.params.requestOptions;d=a.controller.signal;e=c.body;q=k=m=null;G&&"HTMLFormElement"in g&&(e instanceof FormData?m=e:e instanceof HTMLFormElement&&(k=e,m=new FormData(k)));"string"===typeof e&&(q=e);a.fetchOptions={cache:c.cacheBust&&!y._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:c.headers||{},method:"head"===c.method?"HEAD":"GET",mode:"cors",redirect:"follow",
signal:d};if(m||q)a.fetchOptions.body=m||q;"anonymous"===c.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||c.query&&c.query.token||m&&m.get&&m.get("token")||k&&k.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||z(b)||f.isAborted(d))return[3,11];r=void 0;return"immediate"!==c.authMode?[3,3]:[4,x()];case 1:return h.sent(),[4,n.id.getCredential(b,{signal:d})];case 2:return r=h.sent(),a.credential=r,[3,10];case 3:return"no-prompt"!==c.authMode?[3,9]:[4,x()];case 4:h.sent(),
h.label=5;case 5:return h.trys.push([5,7,,8]),[4,n.id.getCredential(b,{prompt:!1,signal:d})];case 6:return r=h.sent(),a.credential=r,[3,8];case 7:return h.sent(),[3,8];case 8:return[3,10];case 9:n.id&&(r=n.id.findCredential(b)),h.label=10;case 10:r&&(a.credentialToken=r.token,a.useSSL=!!r.ssl),h.label=11;case 11:return[2]}})})}function z(a){return M.some(function(b){return b.test(a)})}function B(a){return h.__awaiter(this,void 0,void 0,function(){var b,c,d,e,m,g,r,p,w,l,x,z,A,B,C,K,O,E,F,R,M,I,ga;
return h.__generator(this,function(P){switch(P.label){case 0:b=a.params.url;c=a.params.requestOptions;d=a.fetchOptions;e=q.isBlobProtocol(b)||q.isDataProtocol(b);m=c.responseType||"json";g=e?0:null!=c.timeout?c.timeout:J.timeout;r=!1;if(!e){a.useSSL&&(b=q.toHTTPS(b));c.cacheBust&&"default"===d.cache&&(b=q.addQueryParameter(b,"request.preventCache",Date.now()));p=h.__assign({},c.query);a.credentialToken&&(p.token=a.credentialToken);w=q.objectToQuery(p);k("esri-url-encodes-apostrophe")&&(w=w.replace(/'/g,
"%27"));l=b.length+1+w.length;x=void 0;r="post"===c.method||!!c.body||l>J.maxUrlLength;if(z=c.useProxy||!!q.getProxyRule(b))A=q.getProxyUrl(b),x=A.path,!r&&x.length+1+l>J.maxUrlLength&&(r=!0),A.query&&(p=h.__assign(h.__assign({},A.query),p));if("HEAD"===d.method&&(r||z)){if(r){if(l>J.maxUrlLength)throw t("request:invalid-parameters",Error("URL exceeds maximum length"),a.params);throw t("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),a.params);}if(z)throw t("request:invalid-parameters",
Error("cannot use proxy when method is 'head'"),a.params);}r?(d.method="POST",c.body?b=q.addQueryParameters(b,p):(d.body=q.objectToQuery(p),d.headers["Content-Type"]="application/x-www-form-urlencoded")):b=q.addQueryParameters(b,p);z&&(a.useProxy=!0,b=x+"?"+b);p.token&&G&&d.body instanceof FormData&&(B=d.body,B.set?B.set("token",p.token):B.append("token",p.token));c.hasOwnProperty("withCredentials")?a.withCredentials=c.withCredentials:q.isTrustedServer(b)?a.withCredentials=!0:n.id&&(C=n.id.findServerInfo(b))&&
C.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(d.credentials="include")}K=0;O=!1;0<g&&(K=setTimeout(function(){O=!0;a.controller.abort()},g));P.label=1;case 1:return P.trys.push([1,18,19,20]),"image"!==c.responseType||"default"!==d.cache||"GET"!==d.method||r||H(c.headers)||!e&&!a.useProxy&&J.proxyUrl&&!v(b)?[3,3]:[4,L(b,a)];case 2:return F=P.sent(),[3,17];case 3:return[4,y._abortableFetch(b,d)];case 4:E=P.sent();a.useProxy||u(b);if(!E.ok||"HEAD"===d.method)return[3,17];R=m;switch(R){case "array-buffer":return[3,
5];case "blob":return[3,7];case "image":return[3,7]}return[3,9];case 5:return[4,E.arrayBuffer()];case 6:return F=P.sent(),[3,11];case 7:return[4,E.blob()];case 8:return F=P.sent(),[3,11];case 9:return[4,E.text()];case 10:return F=P.sent(),[3,11];case 11:K&&(clearTimeout(K),K=0);if("json"===m||"xml"===m||"document"===m)if(F)switch(m){case "json":F=JSON.parse(F);break;case "xml":F=D(F,"application/xml");break;case "document":F=D(F,"text/html")}else F=null;if(!F)return[3,17];if("array-buffer"!==m&&"blob"!==
m)return[3,15];M=E.headers.get("Content-Type");if(!(/application\/json|text\/plain/i.test(M)&&750>=F["blob"===m?"size":"byteLength"]))return[3,15];P.label=12;case 12:return P.trys.push([12,14,,15]),[4,(new Response(F)).json()];case 13:return I=P.sent(),I.error&&(F=I),[3,15];case 14:return P.sent(),[3,15];case 15:return"image"===m&&F instanceof Blob?[4,L(URL.createObjectURL(F),a,!0)]:[3,17];case 16:F=P.sent(),P.label=17;case 17:return[3,20];case 18:ga=P.sent();if("AbortError"===ga.name){if(O)throw Error("Timeout exceeded");
throw f.createAbortError("Request canceled");}if(!E&&ga instanceof TypeError&&J.proxyUrl&&!c.body&&"post"!==c.method&&"head"!==c.method&&!a.useProxy)a.redoRequest=!0,q.addProxyRule({proxyUrl:J.proxyUrl,urlPrefix:q.removeFile(q.urlToObject(b).path)});else throw ga;return[3,20];case 19:return K&&clearTimeout(K),[7];case 20:return[2,[E,F]]}})})}function A(a,b){return h.__awaiter(this,void 0,void 0,function(){var c,e,f;return h.__generator(this,function(m){switch(m.label){case 0:if(null!=a.responseData)return[2,
a.responseData];a.headers&&(b.requestOptions.headers=h.__assign(h.__assign({},b.requestOptions.headers),a.headers));a.query&&(b.requestOptions.query=h.__assign(h.__assign({},b.requestOptions.query),a.query));if(!a.before)return[3,5];e=c=void 0;m.label=1;case 1:return m.trys.push([1,3,,4]),[4,a.before(b)];case 2:return e=m.sent(),[3,4];case 3:return f=m.sent(),c=t("request:interceptor",f,b),[3,4];case 4:if(e instanceof Error||e instanceof d)c=t("request:interceptor",e,b);if(c)throw a.error&&a.error(c),
c;return[2,e];case 5:return[2]}})})}function H(a){if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++)if(a[c[b]])return!0;return!1}function D(a,b){var c;try{c=(new DOMParser).parseFromString(a,b)}catch(W){}if(!c||c.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return c}function C(a){return h.__awaiter(this,void 0,void 0,function(){var b,c,d,e,f,m,k,g,r,u,p;return h.__generator(this,function(h){switch(h.label){case 0:return[4,w(a)];case 1:h.sent(),
h.label=2;case 2:h.trys.push([2,8,,9]),h.label=3;case 3:return[4,B(a)];case 4:p=h.sent(),b=p[0],c=p[1],h.label=5;case 5:return[4,K(a,b,c)];case 6:if(!h.sent())return[3,3];h.label=7;case 7:return[3,9];case 8:throw d=h.sent(),e=t("request:server",d,a.params,b),e.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(e),e;case 9:return f=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(f)&&!a.hasToken&&!a.credentialToken&&c&&c.user&&c.user.username&&!q.isTrustedServer(f)&&
(m=q.getOrigin(f,!0))&&J.trustedServers.push(m),(k=a.credential)&&n.id&&(r=(g=n.id.findServerInfo(k.server))&&g.owningSystemUrl)&&(r=r.replace(/\/?$/,"/sharing"),(u=n.id.findCredential(r,k.userId))&&-1===n.id._getIdenticalSvcIdx(r,u)&&u.resources.unshift(r)),[2,{data:c,getHeader:b?function(a){return b.headers.get(a)}:I,requestOptions:a.params.requestOptions,ssl:a.useSSL,url:a.params.url}]}})})}function K(a,b,d){return h.__awaiter(this,void 0,void 0,function(){var e,f,m,k,g,q,r;return h.__generator(this,
function(h){switch(h.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!b)return[2,!0];if(!b.ok)throw Error("Unable to load "+b.url+" status: "+b.status);d&&d.error&&(e=c.mixin(Error(),d.error));e&&(f=Number(e.code),m=e.hasOwnProperty("subcode")?Number(e.subcode):null,k=(k=e.messageCode)&&k.toUpperCase());g=a.params.requestOptions.authMode;return 403===f&&(4===m||e.message&&-1<e.message.toLowerCase().indexOf("ssl")&&-1===e.message.toLowerCase().indexOf("permission"))?a.useSSL?[3,6]:
(a.useSSL=!0,[2,!1]):[3,1];case 1:return!a.useIdentity||"no-prompt"===g&&498!==f||-1===E.indexOf(f)||z(a.params.url)||!(403!==f||-1===F.indexOf(k)&&(null==m||2===m&&a.credentialToken))?[3,6]:[4,x()];case 2:h.sent(),h.label=3;case 3:return h.trys.push([3,5,,6]),[4,n.id.getCredential(a.params.url,{error:t("request:server",e,a.params),prompt:"no-prompt"!==g,signal:a.controller.signal,token:a.credentialToken})];case 4:return q=h.sent(),a.credential=q,a.credentialToken=q.token,a.useSSL=a.useSSL||q.ssl,
[2,!1];case 5:r=h.sent();if("no-prompt"===g)return a.credential=null,a.credentialToken=null,[2,!1];e=r;return[3,6];case 6:if(e)throw e;return[2,!0]}})})}function L(a,b,c){void 0===c&&(c=!1);var d=b.controller.signal,e=new Image;e.crossOrigin=b.withCredentials?"use-credentials":"anonymous";e.alt="";e.src=a;return m.loadImageAsync(e,a,c,d)}var O,J=l.request,G="FormData"in g,E=[499,498,403,401],F=["COM_0056","COM_0057","SB_0008"],M=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],
I=function(){return null};y._abortableFetch=null;y._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return y})},"esri/support/requestUtils":function(){define(["require","exports","../core/has","../core/maybe","../core/promiseUtils"],function(a,b,h,l,n){function d(){try{return new DOMException("Aborted","AbortError")}catch(k){var a=Error();a.name="AbortError";return a}}Object.defineProperty(b,"__esModule",{value:!0});b.loadImageAsync=void 0;b.loadImageAsync=function(a,
b,c,e){void 0===c&&(c=!1);return n.create(function(f,k){if(n.isAborted(e))k(d());else{var g=function(){u();k(Error("Unable to load "+b))},m=function(){var b=a;u();f(b)},r=function(){if(a){var b=a;u();b.src="";k(d())}},u=function(){h("esri-image-decode")||(a.removeEventListener("error",g),a.removeEventListener("load",m));a=m=g=null;l.isSome(e)&&e.removeEventListener("abort",r);r=null;c&&URL.revokeObjectURL(b)};l.isSome(e)&&e.addEventListener("abort",r);h("esri-image-decode")?a.decode().then(m,g):(a.addEventListener("error",
g),a.addEventListener("load",m))}})}})},"esri/support/persistableUrlUtils":function(){define(["require","exports","../core/maybe","../core/urlUtils"],function(a,b,h,l){function n(a,b){var d=b&&b.url&&b.url.path;a&&d&&(a=l.makeAbsolute(a,d,{preserveProtocolRelative:!0}),b.portalItem&&b.readResourcePaths&&(d=l.makeRelative(a,b.portalItem.itemUrl),c.test(d)&&b.readResourcePaths.push(b.portalItem.resourceFromPath(d).path)));return g(a,b&&b.portal)}function d(a,b){if(!a)return a;!l.isAbsolute(a)&&b&&b.blockedRelativeUrls&&
b.blockedRelativeUrls.push(a);var c=l.makeAbsolute(a);if(b){var d=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;d&&(d=g(d,b.portal),c=l.makeRelative(g(c,b.portal),d,d),c!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(c))}a=c;c=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?l.changeDomain(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;l.isAbsolute(c)&&(c=l.normalize(c));return c}function g(a,b){if(!b||b.isPortal||!b.urlKey||!b.customBaseUrl)return a;
var c=b.urlKey+"."+b.customBaseUrl;return l.hasSameOrigin(l.appUrl,l.appUrl.scheme+"://"+c)?l.changeDomain(a,b.portalHostname,c):l.changeDomain(a,c,b.portalHostname)}Object.defineProperty(b,"__esModule",{value:!0});b.itemIdFromResourceUrl=b.write=b.read=b.toJSON=b.fromJSON=void 0;b.fromJSON=n;b.toJSON=d;b.read=function(a,b,c){return n(a,c)};b.write=function(a,b,c,k){a=d(a,k);void 0!==a&&(b[c]=a)};var k=/\/items\/([^\/]+)\/resources\//,c=/^\.\/resources\//;b.itemIdFromResourceUrl=function(a){a=h.isSome(a)?
a.match(k):null;return h.isSome(a)?a[1]:null}})},"esri/layers/support/PromiseQueue":function(){define(["require","exports","../../core/promiseUtils"],function(a,b,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this._tasks=[]}Object.defineProperty(a.prototype,"length",{get:function(){return this._tasks.length},enumerable:!1,configurable:!0});a.prototype.push=function(a){var b=this;return h.create(function(d,c){return b._tasks.push(new l(d,c,a))})};a.prototype.unshift=
function(a){var b=this;return h.create(function(d,c){return b._tasks.unshift(new l(d,c,a))})};a.prototype.process=function(){if(0===this._tasks.length)return!1;var a=this._tasks.shift();try{var b=a.callback();b&&"object"===typeof b&&"then"in b&&"function"===typeof b.then?b.then(a.resolve,a.reject):a.resolve(b)}catch(k){a.reject(k)}return!0};a.prototype.cancelAll=function(){for(var a=h.createAbortError(),b=0,k=this._tasks;b<k.length;b++)k[b].reject(a);this._tasks.length=0};return a}();b.default=a;
var l=function(){return function(a,b,g){this.resolve=a;this.reject=b;this.callback=g}}()})},"esri/views/support/debugFlags":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(a,b,h,l,n){return new (function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.SCHEDULER_LOG_SLOW_TASKS=!1;return b}h.__extends(b,a);h.__decorate([n.property()],b.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);return b=h.__decorate([n.subclass("esri.views.support.DebugFlags")],
b)}(l))})},"esri/core/workers/request":function(){define(["require","exports","tslib","../Error","../global"],function(a,b,h,l,n){Object.defineProperty(b,"__esModule",{value:!0});b.execute=void 0;var d;b.execute=function(a,b){void 0===b&&(b={});var c=b.responseType;c?"json"!==c&&"text"!==c&&"blob"!==c&&"array-buffer"!==c&&(c="text"):c="json";var e=b&&b.signal;delete b.signal;return n.invokeStaticMessage("request",{url:a,options:b},{signal:e}).then(function(e){var f=e.data,k,m,g;if(f&&("json"===c||
"text"===c||"blob"===c)&&(k=new Blob([f]),"json"===c||"text"===c)&&(d||(d=new FileReaderSync),m=d.readAsText(k),"json"===c)){try{g=JSON.parse(m||null)}catch(u){throw e=h.__assign(h.__assign({},u),{url:a,requestOptions:b}),new l("request:server",u.message,e);}if(g.error)throw e=h.__assign(h.__assign({},g.error),{url:a,requestOptions:b}),new l("request:server",g.error.message,e);}switch(c){case "json":break;case "text":g=m;break;case "blob":g=k;break;default:g=f}return{data:g,requestOptions:b,ssl:e.ssl,
url:a}})}})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define("require exports tslib ../../../../core/promiseUtils ./WorkerTile ./style/StyleRepository".split(" "),function(a,b,h,l,n,d){return function(){function a(){this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=function(){this._spriteInfo={};this._glyphInfo={};return l.resolve()};a.prototype.getLayers=function(){return this._layers};a.prototype.setLayers=function(a){this._layers=(new d(a.style)).layers};a.prototype.createTileAndParse=
function(a,b){return h.__awaiter(this,void 0,void 0,function(){var c,d,k,g,m,y,u,v;return h.__generator(this,function(e){switch(e.label){case 0:c=a.key;d={};k=0;for(g=Object.keys(a.sourceName2DataAndRefKey);k<g.length;k++)m=g[k],y=a.sourceName2DataAndRefKey[m],d[m]=y.refKey;u=new n(c,d,this);e.label=1;case 1:return e.trys.push([1,3,,4]),[4,u.parse(a.sourceName2DataAndRefKey,b)];case 2:return[2,e.sent()];case 3:v=e.sent();u.setObsolete();u.release();if(!l.isAbortError(v))throw v;return[2,null];case 4:return[2]}})})};
a.prototype.updateStyle=function(a){this._layers=(new d(a)).layers};a.prototype.fetchSprites=function(a,b,d){var c=[],e=this._spriteInfo;a.forEach(function(a){void 0===e[a]&&c.push(a)});return 0===c.length?l.resolve():b.invoke("getSprites",c,{signal:d&&d.signal}).then(function(a){for(var b in a)e[b]=a[b]})};a.prototype.getSpriteItems=function(){return this._spriteInfo};a.prototype.fetchGlyphs=function(a,b,d,f,g){var c=[],e=this._glyphInfo[b];e?d.forEach(function(a){e[a]||c.push(a)}):(e=this._glyphInfo[b]=
[],d.forEach(function(a){return c.push(a)}));return 0===c.length?l.resolve():f.invoke("getGlyphs",{tileID:a,font:b,codePoints:c},g).then(function(a){for(var b=0;b<a.length;b++)a[b]&&(e[b]=a[b])})};a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return a}()})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("require exports tslib ../../../../core/maybe ./Placement ./TileParser ../../tiling/enums".split(" "),function(a,b,h,l,n,d,g){return function(){function a(a,b,d){this.status=
g.TileStatus.INITIALIZED;this.placementEngine=new n.PlacementEngine;this.tileKey=a;this.refKeys=b;this._workerTileHandler=d}a.prototype.release=function(){this.tileKey="";this.refKeys=null;this.status=g.TileStatus.INITIALIZED;this._workerTileHandler=null};a.prototype.parse=function(a,b){return h.__awaiter(this,void 0,void 0,function(){var c,d,e,m,k=this;return h.__generator(this,function(f){switch(f.label){case 0:return c=b&&b.signal,l.isSome(c)&&(d=function(){c.removeEventListener("abort",d);k.status=
g.TileStatus.INVALID},c.addEventListener("abort",d)),[4,this._parse(a,b)];case 1:return e=f.sent(),this.status=g.TileStatus.READY,m={buckets:e.map(function(a){return a.serialize()})},[2,{result:m,transferList:m.buckets}]}})})};a.prototype.setObsolete=function(){this.status=g.TileStatus.INVALID};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,b){return h.__awaiter(this,
void 0,void 0,function(){var c;return h.__generator(this,function(e){if(0===Object.keys(a).length)return[2,[]];this.status=g.TileStatus.MODIFIED;c=new d(a,this,b.client);return[2,c.parse(b)]})})};return a}()})},"esri/views/2d/engine/vectorTiles/Placement":function(){define("require exports ./GeometryUtils ./TextShaping ./decluttering/config ../webgl/Geometry".split(" "),function(a,b,h,l,n,d){Object.defineProperty(b,"__esModule",{value:!0});b.PlacementEngine=b.Placement=b.PlacedSymbol=b.Anchor=b.TILE_PIXEL_RATIO=
b.TILE_PIXEL_SIZE=b.TILE_COORD_SIZE=void 0;b.TILE_COORD_SIZE=4096;b.TILE_PIXEL_SIZE=512;b.TILE_PIXEL_RATIO=8;a=function(){return function(a,b,c,d,m){void 0===c&&(c=0);void 0===d&&(d=-1);void 0===m&&(m=.5);this.x=a;this.y=b;this.angle=c;this.segment=d;this.minzoom=m}}();b.Anchor=a;var g=function(){return function(a,b,c,d,m,k,g){void 0===k&&(k=.5);void 0===g&&(g=h.C_INFINITY);this.anchor=a;this.labelAngle=b;this.glyphAngle=c;this.page=d;this.alternateVerticalGlyph=m;this.minzoom=k;this.maxzoom=g}}(),
k=function(){return function(a,b,c,d,m,k,g,h,t,p,n,w){this.tl=a;this.tr=b;this.bl=c;this.br=d;this.mosaicRect=m;this.labelAngle=k;this.minAngle=g;this.maxAngle=h;this.anchor=t;this.minzoom=p;this.maxzoom=n;this.page=w}}();b.PlacedSymbol=k;var c=function(){return function(a){this.shapes=a}}();b.Placement=c;a=function(){function a(){}a.prototype.getIconPlacement=function(a,b,e){var f=b.width/b.pixelRatio,g=b.height/b.pixelRatio,q=e.offset[0]-f/2,r=e.offset[1]-g/2,t=b.rect,p=2/b.pixelRatio,l=q-p,w=r-
p,z=l+t.width/b.pixelRatio,B=w+t.height/b.pixelRatio;b=new d.Point(l,w);p=new d.Point(z,B);B=new d.Point(l,B);w=new d.Point(z,w);l=e.rotate*h.C_DEG_TO_RAD;z=1===e.rotationAlignment;0<=a.segment&&!z&&(l+=a.angle);if(0!==l){var z=Math.cos(l),A=Math.sin(l);b.rotate(z,A);p.rotate(z,A);B.rotate(z,A);w.rotate(z,A)}z=new d.Point(a.x,a.y);t=new k(b,w,B,p,t,0,0,256,z,.5,h.C_INFINITY,0);t=new c([t]);e.allowOverlap&&e.ignorePlacement||!n.DECLUTTER_TILES||(b=e.size,p=e.padding,t.iconColliders=[{xTile:a.x,yTile:a.y,
dxPixels:q*b-p,dyPixels:r*b-p,hard:!e.optional,partIndex:0,width:f*b+2*p,height:g*b+2*p,angle:l,minLod:.5,maxLod:h.C_INFINITY}]);return t};a.prototype.getTextPlacement=function(a,e,q,m){for(var f=new d.Point(a.x,a.y),r=m.rotate*h.C_DEG_TO_RAD,n=0===m.rotationAlignment,t=m.keepUpright,p=m.padding,x=.5,w=n?a.angle:0,z=0<=a.segment&&n,B=m.allowOverlap&&m.ignorePlacement?null:[],A=[],H=!z,D=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY,K=D,L=C,O=z?t:n&&t,J=m.size/l.SDF_GLYPH_SIZE,G=!1,E=0;E<e.length;E++){var F=
e[E];if(F.vertical){G=!0;break}}var M=E=0;if(!z&&G)switch(F=l.TextShaping.getTextBox(e,m.lineHeight*l.SDF_GLYPH_SIZE),m.anchor){case 1:E=F.height/2;M=-F.width/2;break;case 2:E=-F.height/2;M=F.width/2;break;case 3:E=F.height/2;M=F.width/2;break;case 4:E=-F.height/2;M=-F.width/2;break;case 5:E=F.height;break;case 7:M=-F.width;break;case 6:M=F.width;break;case 8:E=-F.height}for(var E=E+m.offset[0]*l.SDF_GLYPH_SIZE,M=M+m.offset[1]*l.SDF_GLYPH_SIZE,I,R=0;R<e.length;R++){var F=e[R],P=F.glyphMosaicItem;
if(P&&!P.rect.isEmpty){var S=P.rect,W=P.metrics,T=P.page;if(B&&H){if(void 0!==I&&I!==F.y){var Q=I=void 0,X=void 0,U=void 0;G?(I=-L+E,Q=D+M,X=L-K,U=C-D):(I=D+E,Q=K+M,X=C-D,U=L-K);var N={xTile:a.x,yTile:a.y,dxPixels:I*J-p,dyPixels:Q*J-p,hard:!m.optional,partIndex:1,width:X*J+2*p,height:U*J+2*p,angle:r,minLod:.5,maxLod:h.C_INFINITY};B.push(N);D=Number.POSITIVE_INFINITY;C=Number.NEGATIVE_INFINITY;K=D;L=C}I=F.y}var Y=[];if(z){if(P=(F.x+W.left-4+.5*P.metrics.width)*J*b.TILE_PIXEL_RATIO,x=this._placeGlyph(a,
x,P,q,a.segment,1,F.vertical,T,Y),t&&(x=this._placeGlyph(a,x,P,q,a.segment,-1,F.vertical,T,Y)),2<=x)break}else Y.push(new g(f,w,w,T,!1)),n&&t&&Y.push(new g(f,w+h.C_PI,w+h.C_PI,T,!1));var T=F.x+W.left,P=F.y-l.SDF_GLYPH_BASELINE-W.top,X=T+W.width,U=P+W.height,V=Q=void 0,Z=void 0,ba=void 0;if(!z&&G)if(F.vertical)var aa=(T+X)/2-W.height/2,da=(P+U)/2+W.width/2,Q=new d.Point(-da-4+E,aa-4+M),V=new d.Point(Q.x+S.width,Q.y+S.height),Z=new d.Point(Q.x,V.y),ba=new d.Point(V.x,Q.y);else Q=new d.Point(-P+4+E,
T-4+M),V=new d.Point(Q.x-S.height,Q.y+S.width),Z=new d.Point(V.x,Q.y),ba=new d.Point(Q.x,V.y);else Q=new d.Point(T-4+E,P-4+M),V=new d.Point(Q.x+S.width,Q.y+S.height),Z=new d.Point(Q.x,V.y),ba=new d.Point(V.x,Q.y);for(var ea=da=aa=void 0,oa=void 0,fa=0;fa<Y.length;fa++){var N=Y[fa],pa=void 0,ja=void 0,ka=void 0,ia=void 0;N.alternateVerticalGlyph?(aa||(aa=(T+X)/2+E,da=(P+U)/2+M,aa=new d.Point(aa-W.height/2-4,da+W.width/2+4),da=new d.Point(aa.x+S.height,aa.y-S.width),ea=new d.Point(da.x,aa.y),oa=new d.Point(aa.x,
da.y)),pa=aa,ja=ea,ka=oa,ia=da):(pa=Q,ja=Z,ka=ba,ia=V);var la=P,ga=U,ma=N.glyphAngle+r;if(0!==ma){var ca=Math.cos(ma),ha=Math.sin(ma),pa=pa.clone(),ja=ja.clone(),ka=ka.clone(),ia=ia.clone();pa.rotate(ca,ha);ia.rotate(ca,ha);ja.rotate(ca,ha);ka.rotate(ca,ha)}ca=0;ha=256;z&&G?F.vertical?N.alternateVerticalGlyph?(ca=32,ha=96):(ca=224,ha=32):(ca=224,ha=96):(ca=192,ha=64);A.push(new k(pa,ka,ja,ia,S,N.labelAngle,ca,ha,N.anchor,N.minzoom,N.maxzoom,N.page));!B||O&&!this._legible(N.labelAngle)||(H?(T<D&&(D=
T),la<K&&(K=la),X>C&&(C=X),ga>L&&(L=ga)):2>N.minzoom&&(N={xTile:a.x,yTile:a.y,dxPixels:(T+E)*J-p,dyPixels:(la+E)*J-p,hard:!m.optional,partIndex:1,width:(X-T)*J+2*p,height:(ga-la)*J+2*p,angle:ma,minLod:N.minzoom,maxLod:N.maxzoom},B.push(N)))}}}if(2<=x)return null;B&&H&&(U=X=I=void 0,G?(I=-L+E,e=D+M,X=L-K,U=C-D):(I=D+E,e=K+M,X=C-D,U=L-K),N={xTile:a.x,yTile:a.y,dxPixels:I*J-p,dyPixels:e*J-p,hard:!m.optional,partIndex:1,width:X*J+2*p,height:U*J+2*p,angle:r,minLod:.5,maxLod:h.C_INFINITY},B.push(N));a=
new c(A);B&&0<B.length&&(a.textColliders=B);return a};a.prototype._legible=function(a){a=h.radToByte(a);return 65>a||193<=a};a.prototype._placeGlyph=function(a,b,c,e,k,u,n,t,p){var f=0>u?h.positiveMod(a.angle+h.C_PI,h.C_2PI):a.angle,m=0;0>c&&(u*=-1,c*=-1,m=h.C_PI);0<u&&++k;a=new d.Point(a.x,a.y);var q=e[k],r=h.C_INFINITY;if(e.length<=k)return r;for(;;){var l=q.x-a.x,y=q.y-a.y,v=Math.sqrt(l*l+y*y),C=Math.max(c/v,b),l=h.positiveMod(Math.atan2(y/v,l/v)+m,h.C_2PI);p.push(new g(a,f,l,t,!1,C,r));n&&p.push(new g(a,
f,l,t,!0,C,r));if(C<=b)return C;a=q.clone();do{k+=u;if(e.length<=k||0>k)return C;q=e[k]}while(a.isEqual(q));r=q.x-a.x;l=q.y-a.y;y=Math.sqrt(r*r+l*l);r*=v/y;l*=v/y;a.x-=r;a.y-=l;r=C}};return a}();b.PlacementEngine=a})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(a,b){function h(a,b){a%=b;return 0<=a?a:a+b}Object.defineProperty(b,"__esModule",{value:!0});b.between=b.interpolate=b.sqr=b.log2=b.degToByte=b.radToByte=b.positiveMod=b.C_SQRT2_INV=b.C_SQRT2=
b.C_DEG_TO_RAD=b.C_DEG_TO_256=b.C_256_TO_RAD=b.C_RAD_TO_256=b.C_PI_BY_2=b.C_2PI=b.C_PI=b.C_INFINITY=void 0;b.C_INFINITY=Number.POSITIVE_INFINITY;b.C_PI=Math.PI;b.C_2PI=2*b.C_PI;b.C_PI_BY_2=b.C_PI/2;b.C_RAD_TO_256=128/b.C_PI;b.C_256_TO_RAD=b.C_PI/128;b.C_DEG_TO_256=256/360;b.C_DEG_TO_RAD=b.C_PI/180;b.C_SQRT2=1.414213562;b.C_SQRT2_INV=1/b.C_SQRT2;var l=1/Math.LN2;b.positiveMod=h;b.radToByte=function(a){return h(a*b.C_RAD_TO_256,256)};b.degToByte=function(a){return h(a*b.C_DEG_TO_256,256)};b.log2=function(a){return Math.log(a)*
l};b.sqr=function(a){return a*a};b.interpolate=function(a,b,g){return a*(1-g)+b*g};b.between=function(a,b,g){return a>=b&&a<=g||a>=g&&a<=b}})},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["require","exports","./ScriptUtils","../webgl/Rect"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.TextShaping=b.SDF_GLYPH_BASELINE=b.SDF_GLYPH_SIZE=void 0;b.SDF_GLYPH_SIZE=24;b.SDF_GLYPH_BASELINE=17;a=function(){function a(a,b,k,c,e,f,h){this._glyphItems=a;this._maxWidth=
b;this._lineHeight=k;this._letterSpacing=c;this._hAnchor=e;this._vAnchor=f;this._justify=h}a.prototype.getShaping=function(a,b,k){for(var c=this._letterSpacing,d=this._lineHeight,f=this._justify,g=this._maxWidth,q=[],m=0,l=0,u=0,n=0,t=-1,p=0,x=-1,w=a.length,z=0;z<w;z++){var B=a.charCodeAt(z),A=k&&h.hasVerticalOrientation(B);if(10===B)z!==w-1&&(t>=n&&(m=q[t],A=m.x+m.glyphMosaicItem.metrics.advance,p=Math.max(A,p),f&&this._applyJustification(q,n,t),n=q.length),l=b?l-d:l+d,m=0,++u);else{for(var H=void 0,
D=0,C=this._glyphItems;D<C.length&&!(H=C[D][B]);D++);if(H){q.push({codePoint:B,x:m,y:l,vertical:A,glyphMosaicItem:H});m+=H.metrics.advance+c;if(0<g&&m>g&&0<=x){H=x+1;A=q[H].x;p=Math.max(A,p);for(D=H;D<q.length;D++)q[D].y=b?q[D].y-d:q[D].y+d,q[D].x-=A;f&&this._applyJustification(q,n,x);l=b?l-d:l+d;m-=A;++u;n=H;x=-1}++t;32===B&&(x=q.length-1)}}}t>=n&&(m=q[t],p=Math.max(p,m.x+m.glyphMosaicItem.metrics.advance),f&&this._applyJustification(q,n,t));if(0<q.length)for(a=(f-this._hAnchor)*p,k=(-this._vAnchor*
(u+1)+.5)*d,b&&u&&(k+=u*d),b=0;b<q.length;b++)d=q[b],d.x+=a,d.y+=k;return q};a.getTextBox=function(a,g){if(!a.length)return null;for(var d=Infinity,c=Infinity,e=0,f=0,h=0;h<a.length;h++)var q=a[h],m=q.x,l=q.y-b.SDF_GLYPH_BASELINE,q=m+q.glyphMosaicItem.metrics.advance,u=l+g,d=Math.min(d,m),e=Math.max(e,q),c=Math.min(c,l),f=Math.max(f,u);return{x:d,y:c,width:e-d,height:f-c}};a.getBox=function(a){if(!a.length)return null;for(var b=Infinity,d=Infinity,c=0,e=0,f=0;f<a.length;f++)var h=a[f],q=h.glyphMosaicItem.metrics,
m=q.height,l=h.x,h=h.y-(m-Math.abs(q.top)),q=l+q.width+q.left,m=h+m,b=Math.min(b,l),c=Math.max(c,q),d=Math.min(d,h),e=Math.max(e,m);return{x:b,y:d,width:c-b,height:e-d}};a.addDecoration=function(a,b){var d=a.length;if(0!==d){for(var c=a[0].x+a[0].glyphMosaicItem.metrics.left,e=a[0].y,f=1;f<d;f++){var g=a[f];if(g.y!==e){var q=a[f-1].x+a[f-1].glyphMosaicItem.metrics.left+a[f-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:c,y:e+b-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new l.default(4,0,4,
8),metrics:{width:q-c,height:8,left:0,top:0,advance:0},page:0,code:0}});e=g.y;c=g.x+g.glyphMosaicItem.metrics.left}}d=a[d-1].x+a[d-1].glyphMosaicItem.metrics.left+a[d-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:c,y:e+b-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new l.default(4,0,4,8),metrics:{width:d-c,height:8,left:0,top:0,advance:0},page:0,code:0}})}};a.prototype._applyJustification=function(a,g,k){for(var c=a[k],c=(c.x+(c.vertical?b.SDF_GLYPH_SIZE:c.glyphMosaicItem.metrics.advance))*
this._justify;g<=k;g++)a[g].x-=c};return a}();b.TextShaping=a})},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isWhiteSpace=b.hasVerticalOrientation=void 0;b.hasVerticalOrientation=function(a){return 746===a||747===a?!0:4352>a?!1:12704<=a&&12735>=a||12544<=a&&12591>=a||65072<=a&&65103>=a&&!(65097<=a&&65103>=a)||63744<=a&&64255>=a||13056<=a&&13311>=a||11904<=a&&12031>=a||12736<=a&&12783>=a||12288<=
a&&12351>=a&&!(12296<=a&&12305>=a||12308<=a&&12319>=a)&&12336!==a||13312<=a&&19903>=a||19968<=a&&40959>=a||12800<=a&&13055>=a||12592<=a&&12687>=a||43360<=a&&43391>=a||55216<=a&&55295>=a||4352<=a&&4607>=a||44032<=a&&55215>=a||12352<=a&&12447>=a||12272<=a&&12287>=a||12688<=a&&12703>=a||12032<=a&&12255>=a||12784<=a&&12799>=a||12448<=a&&12543>=a&&12540!==a||65280<=a&&65519>=a&&!(65288===a||65289===a||65293===a||65306<=a&&65310>=a||65339===a||65341===a||65343===a||65371<=a&&65503>=a||65507===a||65512<=
a&&65519>=a)||65104<=a&&65135>=a&&!(65112<=a&&65118>=a||65123<=a&&65126>=a)||5120<=a&&5759>=a||6320<=a&&6399>=a||65040<=a&&65055>=a||19904<=a&&19967>=a||40960<=a&&42127>=a||42128<=a&&42191>=a?!0:!1};b.isWhiteSpace=function(a){return 32===a}})},"esri/views/2d/engine/webgl/Rect":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,b,d,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===d&&(d=0);void 0===g&&(g=0);this.x=a;this.y=
b;this.width=d;this.height=g}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!1,configurable:!0});a.prototype.union=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.width=Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();b.default=a})},"esri/views/2d/engine/vectorTiles/decluttering/config":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",
{value:!0});b.FADE_DURATION=b.DECLUTTER_BUDGET=b.COLLISION_GRID_CELL_SIZE=b.DECLUTTER_TILES=void 0;b.DECLUTTER_TILES=!0;b.COLLISION_GRID_CELL_SIZE=32;b.DECLUTTER_BUDGET=1.5;b.FADE_DURATION=200})},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.Point=void 0;a=function(){function a(a,b){this.x=a;this.y=b}a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.equals=function(a,b){return a===
this.x&&b===this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,b){this.x=a;this.y=b};a.prototype.normalize=function(){var a=this.x,b=this.y,a=Math.sqrt(a*a+b*b);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,b){this.x+=a;this.y+=b};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,b){this.x=a.x+b.x;this.y=a.y+b.y};a.prototype.assignSub=
function(a,b){this.x=a.x-b.x;this.y=a.y-b.y};a.prototype.rotate=function(a,b){var d=this.x,g=this.y;this.x=d*a-g*b;this.y=d*b+g*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)};a.distance=function(a,b){var d=b.x-a.x;a=b.y-a.y;return Math.sqrt(d*d+a*a)};a.add=function(b,h){return new a(b.x+h.x,b.y+h.y)};a.sub=function(b,h){return new a(b.x-h.x,b.y-h.y)};return a}();b.Point=a})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("require exports tslib ../../../../core/pbf ../../../../core/promiseUtils ./CircleBucket ./Feature ./FillBucket ./IndexMemoryBuffer ./LineBucket ./SourceLayerData ./SymbolBucket ./VertexMemoryBuffer ../webgl/TileClipper ../../tiling/enums".split(" "),
function(a,b,h,l,n,d,g,k,c,e,f,r,q,m,y){return function(){function a(a,b,c){this._pbfTiles={};this._tileClippers={};this._client=c;this._tile=b;this._layers=b.getLayers();var d=b.tileKey.split("/").map(parseFloat);b=d[0];c=d[1];d=d[2];this._level=b;for(var e=Math.max(8,Math.round(1*this._level)-8),f=0,k=Object.keys(a);f<k.length;f++){var g=k[f],q=a[g];this._pbfTiles[g]=new l(new Uint8Array(q.protobuff),new DataView(q.protobuff));if(q.refKey&&(q=q.refKey.split("/").map(parseFloat)[0],q=b-q,0<q)){var r=
(1<<q)-1;this._tileClippers[g]=new m.TileClipper(q,c&r,d&r,8,e)}this._tileClippers[g]||(this._tileClippers[g]=new m.SimpleBuilder)}}a.prototype.parse=function(a){return h.__awaiter(this,void 0,void 0,function(){var b,c,d,e,f,m,k,q,r,u,l,v,O,J,G,E,F,M,I,R,P,S,W,T,Q,X,U,N,Y,V,Z,ba,aa,da,ea,oa,fa,pa,ja,ka,ia,la,ga,ma,ca,ha,sa,na,qa;return h.__generator(this,function(h){b=a&&a.signal;c=this._parseTileData(this._pbfTiles);d=this._layers;e=this._level;m=this._tileClippers;k={};q={};r=[];u={};l=new Map;
for(v=d.length-1;0<=v;v--)if(f=d[v],!(f.minzoom&&e<Math.floor(f.minzoom)||f.maxzoom&&e>=f.maxzoom||f.layout&&f.layout.visibility&&"none"===f.layout.visibility||0===f.type)&&c[f.source]&&m[f.source]&&(O=c[f.source],J=m[f.source],G=f.sourceLayer,E=O[G]))if((F=q[f.source])||(F=q[f.source]=new Set),F.add(f.sourceLayer),f.refLayerId)l.set(v,f.refLayerId);else if(M=this._createBucket(f))M.layerIndices=[v],M.layerExtent=E.extent,M.tileClipper=J,(I=k[f.source])||(I=k[f.source]={}),(R=I[G])||(R=I[G]=[]),R.push(M),
r.push(M),u[f.id.toLowerCase()]={layer:f,bucket:M};l.forEach(function(a,b){a=a.toLowerCase();u[a]&&u[a].bucket.layerIndices.push(b)});P=10*this._level;S=10*(this._level+1);W=new Set;T={};Q=[];X=[];U=function(a){q[a].forEach(function(b){Q.push(b);X.push(a)})};N=0;for(Y=Object.keys(q);N<Y.length;N++)V=Y[N],U(V);for(Z=0;Z<Q.length;Z++)if(V=X[Z],ba=Q[Z],c[V]&&k[V]&&(O=c[V],E=O[ba],I=k[V],(aa=I[ba])&&0!==aa.length)){if(n.isAborted(b))return[2,void 0];for(da=E.getData();da.nextTag(2);){ea=da.getMessage();
oa=new g(ea,E);ea.release();if(fa=oa.values){if((pa=fa._minzoom)&&pa>=S)continue;if((ja=fa._maxzoom)&&ja<=P)continue}ka=0;for(ia=aa;ka<ia.length;ka++)M=ia[ka],M.pushFeature(oa)}}la=0;for(ga=r;la<ga.length;la++)M=ga[la],3===M.type&&M.getResources(M.tileClipper,W,T);if(this._tile.status===y.TileStatus.INVALID)return[2,n.resolve([])];ma=[];ca=this._tile.getWorkerTileHandler();0<W.size&&(ha=ca.fetchSprites(W,this._client,a),ma.push(ha));for(na in T)qa=T[na],0<qa.size&&(sa=ca.fetchGlyphs(this._tile.tileKey,
na,qa,this._client,a),ma.push(sa));return[2,n.all(ma).then(function(){for(var a=r.filter(function(a){return a.hasFeatures()}),b=0;b<a.length;b++){var c=a[b];c.processFeatures(c.tileClipper)}a.sort(function(a,b){return a.layerIndices[0]-b.layerIndices[0]});return a})]})})};a.prototype._parseTileData=function(a){for(var b={},c=0,d=Object.keys(a);c<d.length;c++){for(var e=d[c],m=a[e],k={};m.next();)switch(m.tag()){case 3:var g=m.getMessage(),q=new f(g);g.release();k[q.name]=q;break;default:m.skip()}b[e]=
k}return b};a.prototype._createBucket=function(a){switch(a.type){case 0:return null;case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};a.prototype._createFillBucket=function(a){return new k(a,this._level,new q.FillVertexBuffer(a.hasDataDrivenFill),new c.TriangleIndexBuffer,new q.OutlineVertexBuffer(a.hasDataDrivenOutline),new c.TriangleIndexBuffer)};a.prototype._createLineBucket=function(a){return new e(a,
this._level,new q.LineVertexBuffer(a.hasDataDrivenLine),new c.TriangleIndexBuffer)};a.prototype._createCircleBucket=function(a){return new d(a,this._level,new q.CircleVertexBuffer,new c.TriangleIndexBuffer)};a.prototype._createSymbolBucket=function(a){var b=this._tile;return new r(a,this._level,new q.SymbolVertexBuffer(a.hasDataDrivenIcon),new c.TriangleIndexBuffer,new q.SymbolVertexBuffer(a.hasDataDrivenText),new c.TriangleIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return a}()})},"esri/core/pbf":function(){define(["require",
"exports","./has","./ObjectPool"],function(a,b,h,l){var n=h("esri-text-decoder")?new TextDecoder("utf-8"):null,d=h("safari")||h("ios")?6:h("ff")?12:32;return function(){function a(a,b,d,f){void 0===d&&(d=0);void 0===f&&(f=a?a.byteLength:0);this._tag=0;this._dataType=99;this.init(a,b,d,f)}a.prototype.init=function(a,b,d,f){this._data=a;this._dataView=b;this._pos=d;this._end=f};a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};
a.prototype.move=function(a){this._pos=a};a.prototype.nextTag=function(a){for(;;){if(this._pos===this._end)return!1;var b=this._decodeVarint();this._tag=b>>3;this._dataType=b&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.next=function(){if(this._pos===this._end)return!1;var a=this._decodeVarint();this._tag=a>>3;this._dataType=a&7;return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};
a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return a};
a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,b=this._pos,a=a.getUint32(b,!0)+4294967296*a.getUint32(b+4,!0);this._skip(8);return a};a.prototype.getSFixed64=
function(){var a=this._dataView,b=this._pos,a=a.getUint32(b,!0)+4294967296*a.getInt32(b+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,
!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),b=this._pos,b=this._toString(this._data,b,b+a);this._skip(a);return b};a.prototype.getBytes=function(){var a=this._getLength(),b=this._pos,b=this._toBytes(this._data,b,b+a);this._skip(a);return b};a.prototype.getLength=function(){return this._getLengthUnsafe()};a.prototype.processMessageWithArgs=function(a,b,d,f){var c=this.getMessage();a=a(c,b,d,f);c.release();return a};a.prototype.processMessage=function(a){var b=
this.getMessage();a=a(b);b.release();return a};a.prototype.getMessage=function(){var b=this._getLength(),c=a.pool.acquire();c.init(this._data,this._dataView,this._pos,this._pos+b);this._skip(b);return c};a.prototype.release=function(){a.pool.release(this)};a.prototype.dataType=function(){return this._dataType};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");
}};a.prototype.skipLen=function(a){this._skip(a)};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,b=this._pos,d=0,f;if(10<=this._end-b){if(f=a[b++],d|=f&127,0!==(f&128)&&(f=a[b++],d|=(f&127)<<7,0!==(f&128)&&(f=a[b++],d|=(f&127)<<14,0!==(f&128)&&(f=a[b++],d|=(f&127)<<21,0!==(f&128)&&(f=a[b++],d+=268435456*(f&127),0!==(f&128)&&(f=a[b++],d+=34359738368*(f&127),0!==(f&128)&&
(f=a[b++],d+=4398046511104*(f&127),0!==(f&128)&&(f=a[b++],d+=562949953421312*(f&127),0!==(f&128)&&(f=a[b++],d+=72057594037927936*(f&127),0!==(f&128)&&(f=a[b++],d+=0x7fffffffffffffff*(f&127),0!==(f&128)))))))))))throw Error("Varint too long!");}else{for(var g=1;b!==this._end;){f=a[b];if(0===(f&128))break;++b;d+=(f&127)*g;g*=128}if(b===this._end)throw Error("Varint overrun!");++b;d+=f*g}this._pos=b;return d};a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=
function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._getLengthUnsafe=function(){return this.getUInt32()};a.prototype._toString=function(a,b,e){e=Math.min(this._end,e);if(e-b>d&&n)return a=a.subarray(b,e),n.decode(a);for(var c="",g="";b<e;++b){var k=a[b];k&128?g+="%"+k.toString(16):(c+=decodeURIComponent(g)+String.fromCharCode(k),g="")}g.length&&(c+=decodeURIComponent(g));return c};a.prototype._toBytes=function(a,b,d){d=Math.min(this._end,
d);return new Uint8Array(a.buffer,b,d-b)};a.pool=new l(a,null,function(a){a._data=null;a._dataView=null});return a}()})},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["require","exports","tslib","./BaseBucket"],function(a,b,h,l){return function(a){function b(b,d,c,e){b=a.call(this,b,d)||this;b.type=4;b._circleVertexBuffer=c;b._circleIndexBuffer=e;return b}h.__extends(b,a);Object.defineProperty(b.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!1,
configurable:!0});Object.defineProperty(b.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!1,configurable:!0});b.prototype.processFeatures=function(a){var b=this._circleVertexBuffer,c=this._circleIndexBuffer;this._circleIndexStart=3*c.index;this._circleIndexCount=0;var d=this.layer,f=this.zoom;a&&a.setExtent(this.layerExtent);for(var g=1,q=[1,1,1,1],m=1,h=0,u=1,n=[1,1,1,1],t=1,p=0,l=this._features;p<l.length;p++){var w=l[p],z=w.getGeometry(a);if(z)for(d.hasDataDrivenRadius&&
(g=d.getPaintValue("circle-radius",f,w)),d.hasDataDrivenColor&&(q=d.getPaintValue("circle-color",f,w)),d.hasDataDrivenOpacity&&(m=d.getPaintValue("circle-opacity",f,w)),d.hasDataDrivenStrokeWidth&&(u=d.getPaintValue("circle-stroke-width",f,w)),d.hasDataDrivenStrokeColor&&(n=d.getPaintValue("circle-stroke-color",f,w)),d.hasDataDrivenStrokeOpacity&&(t=d.getPaintValue("circle-stroke-opacity",f,w)),d.hasDataDrivenBlur&&(h=d.getPaintValue("circle-blur",f,w)),w=0;w<z.length;w++){var B=z[w];if(B)for(var A=
0;A<B.length;A++){var H=B[A],D=b.index;b.add(H.x,H.y,0,0,g,q,m,h,u,n,t);b.add(H.x,H.y,0,1,g,q,m,h,u,n,t);b.add(H.x,H.y,1,0,g,q,m,h,u,n,t);b.add(H.x,H.y,1,1,g,q,m,h,u,n,t);c.add(D+0,D+1,D+2);c.add(D+1,D+2,D+3);this._circleIndexCount+=6}}}};b.prototype.serialize=function(){var a;a=6+this.layerIndices.length;a+=this._circleVertexBuffer.array.length;a+=this._circleIndexBuffer.array.length;var b=0;a=new Uint32Array(a);var c=new Int32Array(a.buffer);a[b++]=this.type;a[b++]=this.layerIndices.length;for(var d=
0;d<this.layerIndices.length;d++)a[b++]=this.layerIndices[d];a[b++]=this._circleIndexStart;a[b++]=this._circleIndexCount;a[b++]=this._circleVertexBuffer.array.length;for(d=0;d<this._circleVertexBuffer.array.length;d++)c[b++]=this._circleVertexBuffer.array[d];a[b++]=this._circleIndexBuffer.array.length;for(c=0;c<this._circleIndexBuffer.array.length;c++)a[b++]=this._circleIndexBuffer.array[c];return a.buffer};return b}(l)})},"esri/views/2d/engine/vectorTiles/BaseBucket":function(){define(["require",
"exports"],function(a,b){return function(){function a(a,b){this.layerExtent=4096;this._features=[];this.layer=a;this.zoom=b;this._filter=a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter&&!this._filter.filter(a,this.zoom)||this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};return a}()})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["require","exports","../webgl/Geometry"],function(a,b,h){return function(){function a(a,b){this.values=
{};var d=b.keys;for(b=b.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:for(var k=a.getMessage(),c=this.values;!k.empty();){var e=k.getUInt32(),f=k.getUInt32();c[d[e]]=b[f]}k.release();break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var b=this._pbfGeometry;this._pbfGeometry=null;var g,k;a?a.reset(this.type):
g=[];for(var c=1,e=0,f=0,r=0;!b.empty();)switch(0===e&&(e=b.getUInt32(),c=e&7,e>>=3),e--,c){case 1:f+=b.getSInt32();r+=b.getSInt32();a?a.moveTo(f,r):(k&&g.push(k),k=[],k.push(new h.Point(f,r)));break;case 2:f+=b.getSInt32();r+=b.getSInt32();a?a.lineTo(f,r):k.push(new h.Point(f,r));break;case 7:a?a.close():k&&!k[0].equals(f,r)&&k.push(k[0].clone());break;default:throw b.release(),Error("Invalid path operation");}a?a=a.result():(k&&g.push(k),a=g);b.release();return this._geometry=a};return a}()})},
"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("require exports tslib ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ./BaseBucket ../webgl/Geometry".split(" "),function(a,b,h,l,n,d,g){return function(a){function b(b,c,d,g,m,k){c=a.call(this,b,c)||this;c.type=1;if(b.hasDataDrivenFill!==d.isDataDriven())throw Error("incompatible fill buffer");if(b.hasDataDrivenOutline!==m.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=d;c._fillIndexBuffer=
g;c._outlineVertexBuffer=m;c._outlineIndexBuffer=k;return c}h.__extends(b,a);Object.defineProperty(b.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,
"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!1,configurable:!0});b.prototype.processFeatures=function(a){this._fillIndexStart=3*this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=3*this._outlineIndexBuffer.index;this._outlineIndexCount=0;var b=this.layer,c=this.zoom,d=b.hasDataDrivenFill,e=b.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var g=b.getPaintValue("fill-pattern",c),k=b.getPaintValue("fill-antialias",c)&&void 0===g,h=[1,
1,1,1],t=[1,1,1,1],p=1;if(b.outlineUsesFillColor){if(k&&!b.hasDataDrivenOpacity){var l=b.getPaintValue("fill-opacity",c),w=b.getPaintValue("fill-opacity",c+1);1>l&&1>w&&(k=!1)}k&&!b.hasDataDrivenColor&&(l=b.getPaintValue("fill-color",c),w=b.getPaintValue("fill-color",c+1),1>l[3]&&1>w[3]&&(k=!1))}l=0;for(w=this._features;l<w.length;l++){var n=w[l];!g&&b.hasDataDrivenColor&&(h=b.getPaintValue("fill-color",c,n));b.hasDataDrivenOpacity&&(p=b.getPaintValue("fill-opacity",c,n));!g&&b.hasDataDrivenOutlineColor&&
(t=b.getPaintValue("fill-outline-color",c,n));var B=void 0;d&&(B={color:h,opacity:p});var A=void 0;e&&(A={color:b.outlineUsesFillColor?h:t,opacity:p});n=n.getGeometry(a);this._processFeature(n,k,b.outlineUsesFillColor,B,A)}};b.prototype.serialize=function(){var a;a=12+this.layerIndices.length;a+=this._fillVertexBuffer.array.length;a+=this._fillIndexBuffer.array.length;a+=this._outlineVertexBuffer.array.length;a+=this._outlineIndexBuffer.array.length;var b=0;a=new Uint32Array(a);var c=new Int32Array(a.buffer);
a[b++]=this.type;a[b++]=this.layerIndices.length;for(var d=0;d<this.layerIndices.length;d++)a[b++]=this.layerIndices[d];a[b++]=this._fillIndexStart;a[b++]=this._fillIndexCount;a[b++]=this._outlineIndexStart;a[b++]=this._outlineIndexCount;a[b++]=this._fillVertexBuffer.isDataDriven()?1:0;a[b++]=this._outlineVertexBuffer.isDataDriven()?1:0;a[b++]=this._fillVertexBuffer.array.length;for(d=0;d<this._fillVertexBuffer.array.length;d++)c[b++]=this._fillVertexBuffer.array[d];a[b++]=this._fillIndexBuffer.array.length;
for(d=0;d<this._fillIndexBuffer.array.length;d++)a[b++]=this._fillIndexBuffer.array[d];a[b++]=this._outlineVertexBuffer.array.length;for(d=0;d<this._outlineVertexBuffer.array.length;d++)c[b++]=this._outlineVertexBuffer.array[d];a[b++]=this._outlineIndexBuffer.array.length;for(c=0;c<this._outlineIndexBuffer.array.length;c++)a[b++]=this._outlineIndexBuffer.array[c];return a.buffer};b.prototype._processFeature=function(a,c,d,g,m){if(a){var e=a.length;if(c&&(!d||!m||1===m.color[3]*m.opacity))for(c=0;c<
e;c++)this._processOutline(a[c],m);var f;for(c=0;c<e;c++)m=b._area(a[c]),128<m?(void 0!==f&&this._processFill(a,f,g),f=[c]):-128>m&&void 0!==f&&f.push(c);void 0!==f&&this._processFill(a,f,g)}};b.prototype._processOutline=function(a,b){var c=this._outlineVertexBuffer,d=this._outlineIndexBuffer,e=d.index,f,k,h,t=new g.Point(0,0),p=new g.Point(0,0),l=new g.Point(0,0),w=-1,n=-1,B=-1,A=-1,H=-1,D=!1,C=a.length;if(!(2>C)){var K=a[0];for(f=a[C-1];C&&f.isEqual(K);)--C,f=a[C-1];if(!(2>C-0)){for(K=0;K<C;++K){0===
K?(f=a[C-1],k=a[0],h=a[1],t.assignSub(k,f),t.normalize(),t.rightPerpendicular()):(f=k,k=h,h=K!==C-1?a[K+1]:a[0],t.assign(p));f=this._isClipEdge(f,k);-1===A&&(D=f);p.assignSub(h,k);p.normalize();p.rightPerpendicular();B=t.x*p.y-t.y*p.x;l.assignAdd(t,p);l.normalize();var L=-l.x*-t.x+-l.y*-t.y,L=Math.abs(0!==L?1/L:1);8<L&&(L=8);0<=B?(B=c.add(k.x,k.y,t.x,t.y,0,1,b),-1===A&&(A=B),0<=w&&0<=n&&0<=B&&!f&&d.add(w,n,B),n=c.add(k.x,k.y,L*-l.x,L*-l.y,0,-1,b),-1===H&&(H=n),0<=w&&0<=n&&0<=B&&!f&&d.add(w,n,B),w=
n,n=B,B=c.add(k.x,k.y,l.x,l.y,0,1,b),0<=w&&0<=n&&0<=B&&!f&&d.add(w,n,B),n=c.add(k.x,k.y,p.x,p.y,0,1,b)):(B=c.add(k.x,k.y,L*l.x,L*l.y,0,1,b),-1===A&&(A=B),0<=w&&0<=n&&0<=B&&!f&&d.add(w,n,B),n=c.add(k.x,k.y,-t.x,-t.y,0,-1,b),-1===H&&(H=n),0<=w&&0<=n&&0<=B&&!f&&d.add(w,n,B),w=n,n=B,B=c.add(k.x,k.y,-l.x,-l.y,0,-1,b),0<=w&&0<=n&&0<=B&&!f&&d.add(w,n,B),w=c.add(k.x,k.y,-p.x,-p.y,0,-1,b));0<=w&&0<=n&&0<=B&&!f&&d.add(w,n,B)}0<=w&&0<=n&&0<=A&&!D&&d.add(w,n,A);0<=w&&0<=A&&0<=H&&!D&&d.add(w,H,A);this._outlineIndexCount+=
3*(d.index-e)}}};b.prototype._processFill=function(a,b,c){var d;1<b.length&&(d=[]);for(var e=0,f=0;f<b.length;f++){var g=b[f];0!==e&&d.push(e);e+=a[g].length}for(var f=2*e,e=l.acquire(),k=0;k<b.length;k++)for(var g=b[k],g=a[g],h=g.length,r=0;r<h;++r)e.push(g[r].x),e.push(g[r].y);a=n.earcut(e,d,2);b=a.length;if(0<b){d=this._fillVertexBuffer.index;for(k=0;k<f;)this._fillVertexBuffer.add(e[k++],e[k++],c);for(c=0;c<b;)this._fillIndexBuffer.add(d+a[c++],d+a[c++],d+a[c++]);this._fillIndexCount+=b}l.release(e)};
b.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};b._area=function(a){for(var b=0,c=a.length-1,d=0;d<c;d++)b+=(a[d].x-a[d+1].x)*(a[d].y+a[d+1].y);b+=(a[c].x-a[0].x)*(a[c].y+a[0].y);return.5*b};return b}(d)})},"esri/core/libs/earcut/earcut":function(){define(["require","exports"],function(a,b){function h(a,b,c,d,e){var f;if(e===0<m(a,b,c,d))for(e=b;e<c;e+=d)f=g(e,a[e],a[e+1],f);else for(e=c-d;e>=b;e-=d)f=g(e,a[e],a[e+1],f);f&&t(f,f.next)&&
(k(f),f=f.next);return f}function l(a,b){void 0===b&&(b=a);if(!a)return a;var c;do if(c=!1,a.steiner||!t(a,a.next)&&0!==r(a.prev,a,a.next))a=a.next;else{k(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||a!==b);return b}function n(a,b,c,e,m,g,h){void 0===h&&(h=0);if(a){!h&&g&&(a=f(a,e,m,g));for(var p=a;a.prev!==a.next;){var w=a.prev,z=a.next,v;if(g)v=d(a,e,m,g);else a:{v=a;var A=v.prev,B=v,H=v.next;if(0<=r(A,B,H))v=!1;else{for(var C=v.next.next,D=C,K=0;C!==v.prev&&(0===K||C!==D);){K++;if(y(A.x,A.y,
B.x,B.y,H.x,H.y,C.x,C.y)&&0<=r(C.prev,C,C.next)){v=!1;break a}C=C.next}v=!0}}if(v)b.push(w.index/c),b.push(a.index/c),b.push(z.index/c),k(a),p=a=z.next;else if(a=z,a===p){if(!h)n(l(a),b,c,e,m,g,1);else if(1===h){h=b;p=c;w=a;do z=w.prev,v=w.next.next,!t(z,v)&&q(z,w,w.next,v)&&u(z,v)&&u(v,z)&&(h.push(z.index/p),h.push(w.index/p),h.push(v.index/p),k(w),k(w.next),w=a=v),w=w.next;while(w!==a);a=w;n(a,b,c,e,m,g,2)}else if(2===h)a:{h=a;do{for(p=h.next.next;p!==h.prev;){if(w=h.index!==p.index){w=h;z=p;v=
void 0;if(v=w.next.index!==z.index&&w.prev.index!==z.index){v=void 0;b:{v=w;do{if(v.index!==w.index&&v.next.index!==w.index&&v.index!==z.index&&v.next.index!==z.index&&q(v,v.next,w,z)){v=!0;break b}v=v.next}while(v!==w);v=!1}v=!v}A=void 0;if(A=v&&u(w,z)&&u(z,w)){v=w;A=!1;B=(w.x+z.x)/2;z=(w.y+z.y)/2;do v.y>z!==v.next.y>z&&v.next.y!==v.y&&B<(v.next.x-v.x)*(z-v.y)/(v.next.y-v.y)+v.x&&(A=!A),v=v.next;while(v!==w)}w=A}if(w){a=x(h,p);h=l(h,h.next);a=l(a,a.next);n(h,b,c,e,m,g);n(a,b,c,e,m,g);break a}p=p.next}h=
h.next}while(h!==a)}break}}}}function d(a,b,c,d){var e=a.prev,f=a.next;if(0<=r(e,a,f))return!1;var m=e.x>a.x?e.x>f.x?e.x:f.x:a.x>f.x?a.x:f.x,g=e.y>a.y?e.y>f.y?e.y:f.y:a.y>f.y?a.y:f.y,k=v(e.x<a.x?e.x<f.x?e.x:f.x:a.x<f.x?a.x:f.x,e.y<a.y?e.y<f.y?e.y:f.y:a.y<f.y?a.y:f.y,b,c,d);b=v(m,g,b,c,d);c=a.prevZ;for(d=a.nextZ;c&&c.z>=k&&d&&d.z<=b;){if(c!==a.prev&&c!==a.next&&y(e.x,e.y,a.x,a.y,f.x,f.y,c.x,c.y)&&0<=r(c.prev,c,c.next))return!1;c=c.prevZ;if(d!==a.prev&&d!==a.next&&y(e.x,e.y,a.x,a.y,f.x,f.y,d.x,d.y)&&
0<=r(d.prev,d,d.next))return!1;d=d.nextZ}for(;c&&c.z>=k;){if(c!==a.prev&&c!==a.next&&y(e.x,e.y,a.x,a.y,f.x,f.y,c.x,c.y)&&0<=r(c.prev,c,c.next))return!1;c=c.prevZ}for(;d&&d.z<=b;){if(d!==a.prev&&d!==a.next&&y(e.x,e.y,a.x,a.y,f.x,f.y,d.x,d.y)&&0<=r(d.prev,d,d.next))return!1;d=d.nextZ}return!0}function g(a,b,c,d){a=new w(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function k(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=
a.prevZ)}function c(a){var b=a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}function e(a,b){var c=b,d=a.x,e=a.y,f=-Infinity,m;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var g=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(g<=d&&g>f){f=g;if(g===d){if(e===c.y)return c;if(e===c.next.y)return c.next}m=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!m)return null;if(d===f)return m.prev;b=m;for(var g=m.x,k=m.y,q=Infinity,h,c=m.next;c!==b;)d>=c.x&&c.x>=g&&d!==c.x&&y(e<k?d:f,e,
g,k,e<k?f:d,e,c.x,c.y)&&(h=Math.abs(e-c.y)/(d-c.x),(h<q||h===q&&c.x>m.x)&&u(c,a)&&(m=c,q=h)),c=c.next;return m}function f(a,b,c,d){for(var e=void 0;e!==a;e=e.next){e=e||a;null===e.z&&(e.z=v(e.x,e.y,b,c,d));if(e.prev.next!==e||e.next.prev!==e)return e.prev.next=e,e.next.prev=e,f(a,b,c,d);e.prevZ=e.prev;e.nextZ=e.next}a.prevZ.nextZ=null;a.prevZ=null;a:for(c=1;;){d=a;e=void 0;b=a=null;for(var m=0;d;){m++;for(var e=d,g=0;g<c&&e;g++)e=e.nextZ;for(var k=c;0<g||0<k&&e;){var q=void 0;0===g?(q=e,e=e.nextZ,
k--):0!==k&&e?d.z<=e.z?(q=d,d=d.nextZ,g--):(q=e,e=e.nextZ,k--):(q=d,d=d.nextZ,g--);b?b.nextZ=q:a=q;q.prevZ=b;b=q}d=e}b.nextZ=null;c*=2;if(2>m)break a}return a}function r(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function q(a,b,c,d){return t(a,b)&&t(c,d)||t(a,d)&&t(c,b)?!0:0<r(a,b,c)!==0<r(a,b,d)&&0<r(c,d,a)!==0<r(c,d,b)}function m(a,b,c,d){for(var e=0,f=c-d;b<c;b+=d)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}function y(a,b,c,d,e,f,m,g){return 0<=(e-m)*(b-g)-(a-m)*(f-g)&&0<=(a-m)*(d-g)-
(c-m)*(b-g)&&0<=(c-m)*(f-g)-(e-m)*(d-g)}function u(a,b){return 0>r(a.prev,a,a.next)?0<=r(a,b,a.next)&&0<=r(a,a.prev,b):0>r(a,b,a.prev)||0>r(a,a.next,b)}function v(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function t(a,b){return a.x===b.x&&a.y===b.y}function p(a,b){return a.x-b.x}function x(a,b){var c=new w(a.index,a.x,a.y),
d=new w(b.index,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}Object.defineProperty(b,"__esModule",{value:!0});b.deviation=b.earcut=void 0;b.earcut=function(a,b,d){var f=b&&b.length,m=f?b[0]*d:a.length,g=h(a,0,m,d,!0),k=[];if(!g||g.next===g.prev)return k;var q,r,w;if(f){for(var f=[],t=0,u=b.length;t<u;t++){var y=h(a,b[t]*d,t<u-1?b[t+1]*d:a.length,d,!1);y===y.next&&(y.steiner=!0);f.push(c(y))}f.sort(p);for(b=0;b<f.length;b++){t=f[b];u=g;
if(u=e(t,u))t=x(u,t),l(t,t.next);g=l(g,g.next)}}if(a.length>80*d){q=w=a[0];r=f=a[1];for(b=d;b<m;b+=d)t=a[b],u=a[b+1],q=Math.min(q,t),r=Math.min(r,u),w=Math.max(w,t),f=Math.max(f,u);w=Math.max(w-q,f-r);w=0!==w?1/w:0}n(g,k,d,q,r,w);return k};b.deviation=function(a,b,c,d){var e=b&&b.length,f=Math.abs(m(a,0,e?b[0]*c:a.length,c));if(e)for(var e=0,g=b.length;e<g;e++)f-=Math.abs(m(a,b[e]*c,e<g-1?b[e+1]*c:a.length,c));for(e=b=0;e<d.length;e+=3){var g=d[e]*c,k=d[e+1]*c,q=d[e+2]*c;b+=Math.abs((a[g]-a[q])*(a[k+
1]-a[g+1])-(a[g]-a[k])*(a[q+1]-a[g+1]))}return 0===f&&0===b?0:Math.abs((b-f)/f)};var w=function(){return function(a,b,c){this.index=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}}()})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","tslib","./MemoryBuffer"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.PointElementMemoryBuffer=b.TriangleIndexBuffer=void 0;a=function(a){function b(){return a.call(this,
12)||this}h.__extends(b,a);b.prototype.add=function(a,b,c){var d=this.array;d.push(a);d.push(b);d.push(c)};return b}(l);b.TriangleIndexBuffer=a;l=function(a){function b(){return a.call(this,4)||this}h.__extends(b,a);b.prototype.add=function(a){this.array.push(a)};return b}(l);b.PointElementMemoryBuffer=l})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(a,b){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");
this._stride=a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!1,configurable:!0});a.prototype.reset=
function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(a,b){return 65535&a|b<<16};a.i8888to32=function(a,b,d,g){return a&255|(b&255)<<8|(d&255)<<16|g<<24};a.i8816to32=function(a,b,d){return a&255|(b&255)<<8|d<<16};return a}()})},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define("require exports tslib ../../../../core/has ./BaseBucket ../webgl/TurboLine ../webgl/mesh/templates/util".split(" "),function(a,b,h,l,
n,d,g){var k=1/3.8,c=function(a){return function(b){b.entry0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues);b.entry2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues);b.exit0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,
a._ddValues);b.exit2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)}},e=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,b.rightEntry2,b.leftExit2)}},f=function(a){return function(b){var c=2===a._joinType?a._miterLimitCosine:a._roundLimitCosine,e=b.isCap&&0!==a._capType,f=!1;.97<b.cosine?(b.exit0=b.entry0=a._lineVertexBuffer.index,
a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)):b.cosine<1-.97?(b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,
a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.canSplit?(d.splitVertex(),0<b.sign?(b.splitInner?(b.exit0=a._lineVertexBuffer.index,
a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftInner.x,b.leftInner.y,0,-1,b.distance,a._ddValues),b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightInner.x,b.rightInner.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)),b.cosine<c?(f=!b.isCap,b.entry2=a._lineVertexBuffer.index,
a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.splitOuter?(f=f||b.gapOuter,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftOuter.x,-b.leftOuter.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,-b.rightOuter.x,-b.rightOuter.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.splitInner?(b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftInner.x,-b.leftInner.y,0,1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,-b.rightInner.x,-b.rightInner.y,0,1,b.distance,a._ddValues)):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)),b.cosine<c?(f=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):b.splitOuter?(f=f||b.gapOuter,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftOuter.x,b.leftOuter.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightOuter.x,b.rightOuter.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)))):0<b.sign?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.cosine<c?(f=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues),b.cosine<c?(f=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)));b.canSplit&&(b.splitInner||b.splitOuter)||f||e?(c=b.entry1=b.exit1=a._lineVertexBuffer.index,
a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,0,0,0,0,b.distance,a._ddValues)):c=b.entry1=b.exit1=null;if(f&&1!==a._joinType)a._lineIndexBuffer.add(c,0<b.sign?b.exit2:b.entry0,0<b.sign?b.entry2:b.exit0);else if(e&&1===a._capType||f&&1===a._joinType){var g=f=e=void 0,k=void 0,m=void 0,h=void 0;if(b.isCap){var r=Math.PI,m=Math.ceil(r/.8),h=r/m;b.isFirstVertex?(e=b.prevNormal.x,f=b.prevNormal.y,g=b.entry0,k=b.entry2):b.isLastVertex&&(e=-b.nextNormal.x,f=-b.nextNormal.y,g=b.exit2,k=b.exit0)}else r=
2*Math.acos(b.cosine),m=Math.ceil(r/.8),h=r/m,e=0<b.sign?-b.prevNormal.x:b.nextNormal.x,f=0<b.sign?-b.prevNormal.y:b.nextNormal.y,g=0<b.sign?b.entry2:b.exit0,k=0<b.sign?b.exit2:b.entry0;for(var r=Math.cos(h),h=Math.sin(h),q=h*e+r*f,e=r*e-h*f,f=q,n=void 0,q=void 0,l=0;l<m;++l){n=q;if(l<m-1)if(b.isCap){var D=b.isFirstVertex?-1:1,q=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,e,f,D,0,b.distance,a._ddValues)}else q=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,e,f,0,b.sign,b.distance,a._ddValues);a._lineIndexBuffer.add(0===l?g:n,c,l===m-1?k:q);n=h*e+r*f;e=r*e-h*f;f=n}}else e&&2===a._capType&&(e=b.isFirstVertex?1:-1,g=f=void 0,a._hasPattern?(f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x-e*b.inbound.x,b.prevNormal.y-e*b.inbound.y,-e,-1,b.distance,a._ddValues),g=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x-e*b.inbound.x,-b.prevNormal.y-
e*b.inbound.y,-e,1,b.distance,a._ddValues)):(f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x-e*b.inbound.x,b.prevNormal.y-e*b.inbound.y,0,-1,b.distance,a._ddValues),g=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x-e*b.inbound.x,-b.prevNormal.y-e*b.inbound.y,0,1,b.distance,a._ddValues)),0<e?(a._lineIndexBuffer.add(c,b.entry2,g),a._lineIndexBuffer.add(c,g,f),a._lineIndexBuffer.add(c,f,b.entry0)):
(a._lineIndexBuffer.add(c,g,b.exit2),a._lineIndexBuffer.add(c,f,g),a._lineIndexBuffer.add(c,b.exit0,f)))}},r=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,null!=b.leftExit1?b.leftExit1:b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,null!=b.rightEntry1?b.rightEntry1:b.rightEntry2,null!=b.leftExit1?b.leftExit1:b.leftExit2);null!=b.leftExit1&&null!=b.rightEntry1?(a._lineIndexBuffer.add(b.leftExit1,b.rightEntry1,b.leftExit2),a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,
b.leftExit2)):null!=b.leftExit1?a._lineIndexBuffer.add(b.leftExit1,b.rightEntry2,b.leftExit2):null!=b.rightEntry1&&a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)}};return function(a){function b(b,d,g,k){d=a.call(this,b,d)||this;d.type=2;d._tessellationOptions={};d.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,_roundLimitCosine:null};if(b.hasDataDrivenLine!==g.isDataDriven())throw Error("incompatible line buffer");
d.tessellationProperties._lineVertexBuffer=g;d.tessellationProperties._lineIndexBuffer=k;d.tessellationProperties._hasPattern=b.getPaintValue("line-pattern",d.zoom)||0<b.getPaintValue("line-dasharray",d.zoom).length;d._isThinLine=b.isThinLine;d._tessellationCallbacks=d._isThinLine?{vertex:c(d.tessellationProperties),bridge:e(d.tessellationProperties)}:{vertex:f(d.tessellationProperties),bridge:r(d.tessellationProperties)};return d}h.__extends(b,a);Object.defineProperty(b.prototype,"lineIndexStart",
{get:function(){return this._lineIndexStart},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!1,configurable:!0});b.prototype.processFeatures=function(a){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index;this._lineIndexCount=0;var b=this.layer,c=this.zoom,e=b.hasDataDrivenLine;a&&a.setExtent(this.layerExtent);for(var f=[1,1,1,1],k=1,m=1,h=0,r=this._features;h<r.length;h++){var q=r[h];
!this.tessellationProperties._hasPattern&&b.hasDataDrivenColor&&(f=b.getPaintValue("line-color",c,q));b.hasDataDrivenOpacity&&(k=b.getPaintValue("line-opacity",c,q));b.hasDataDrivenWidth&&(m=b.getPaintValue("line-width",c,q));var l=void 0;if(e&&(l={color:f,opacity:k,size:Math.max(Math.min(m,256),0)},0>=l.size||0>=l.opacity||0>=l.color[3]))continue;this.tessellationProperties._capType=b.getLayoutValue("line-cap",c,q);this.tessellationProperties._joinType=b.getLayoutValue("line-join",c,q);this.tessellationProperties._miterLimitCosine=
g.getLimitCosine(b.getLayoutValue("line-miter-limit",c,q));this.tessellationProperties._roundLimitCosine=g.getLimitCosine(b.getLayoutValue("line-round-limit",c,q));q=q.getGeometry(a);this._processFeature(q,l)}d.cleanup()};b.prototype.serialize=function(){var a;a=7+this.layerIndices.length;a+=this.tessellationProperties._lineVertexBuffer.array.length;a+=this.tessellationProperties._lineIndexBuffer.array.length;var b=0;a=new Uint32Array(a);var c=new Int32Array(a.buffer);a[b++]=this.type;a[b++]=this.layerIndices.length;
for(var d=0;d<this.layerIndices.length;d++)a[b++]=this.layerIndices[d];a[b++]=this._lineIndexStart;a[b++]=this._lineIndexCount;a[b++]=this.tessellationProperties._lineVertexBuffer.isDataDriven()?1:0;a[b++]=this.tessellationProperties._lineVertexBuffer.array.length;for(d=0;d<this.tessellationProperties._lineVertexBuffer.array.length;d++)c[b++]=this.tessellationProperties._lineVertexBuffer.array[d];a[b++]=this.tessellationProperties._lineIndexBuffer.array.length;for(c=0;c<this.tessellationProperties._lineIndexBuffer.array.length;c++)a[b++]=
this.tessellationProperties._lineIndexBuffer.array[c];return a.buffer};b.prototype._processFeature=function(a,b){if(a)for(var c=a.length,d=0;d<c;d++)this._processGeometry(a[d],b)};b.prototype._processGeometry=function(a,b){if(!(2>a.length)){for(var c=a[0],e=1,f,g;e<a.length;)f=a[e].x-c.x,g=a[e].y-c.y,1E-6>f*f+g*g?a.splice(e,1):(c=a[e],++e);2>a.length||(c=3*this.tessellationProperties._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,this._tessellationOptions.initialDistance=
0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=k,this._tessellationOptions.enableOuterBisectorSplit=this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=k,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=b,d.tessellate(a,this._tessellationOptions,this._tessellationCallbacks),
this._lineIndexCount+=3*this.tessellationProperties._lineIndexBuffer.index-c)}};return b}(n)})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["require","exports","./mesh/templates/util"],function(a,b,h){function l(){if(p.cosine<f.innerBisectorAutoSplitThreshold){p.splitInner=!0;p.gapInner=!0;var a=Math.max(f.innerBisectorAutoSplitThreshold,p.cosine),a=Math.sqrt(1-a*a)/a;p.leftInner.x=p.nextNormal.x+p.sign*a*p.outbound.x;p.leftInner.y=p.nextNormal.y+p.sign*a*p.outbound.y;p.rightInner.x=
p.prevNormal.x-p.sign*a*p.inbound.x;p.rightInner.y=p.prevNormal.y-p.sign*a*p.inbound.y}else f.enableInnerBisectorSplit&&(p.splitInner=!0,p.gapInner=!1,p.leftInner.x=p.rightInner.x=p.bisector.x/p.cosine,p.leftInner.y=p.rightInner.y=p.bisector.y/p.cosine);p.cosine<f.outerBisectorAutoSplitThreshold?(p.splitOuter=!0,p.gapOuter=!0,a=Math.max(f.outerBisectorAutoSplitThreshold,p.cosine),a=Math.sqrt(1-a*a)/a,p.leftOuter.x=p.prevNormal.x-p.sign*a*p.inbound.x,p.leftOuter.y=p.prevNormal.y-p.sign*a*p.inbound.y,
p.rightOuter.x=p.nextNormal.x+p.sign*a*p.outbound.x,p.rightOuter.y=p.nextNormal.y+p.sign*a*p.outbound.y):f.enableOuterBisectorSplit&&(p.splitOuter=!0,p.gapOuter=!1,p.leftOuter.x=p.rightOuter.x=p.bisector.x/p.cosine,p.leftOuter.y=p.rightOuter.y=p.bisector.y/p.cosine)}function n(){if(u)p.distance=0,u=p.isCap=p.isFirstVertex=p.isLastVertex=!1;else{if(0===m)if(p.isFirstVertex=0===q,t=e[q],0===q){if(m=0,p.closed){p.inbound.x=t.x-e[e.length-2].x;p.inbound.y=t.y-e[e.length-2].y;var a=Math.sqrt(p.inbound.x*
p.inbound.x+p.inbound.y*p.inbound.y);p.inbound.x/=a;p.inbound.y/=a}}else p.inbound.x=t.x-v.x,p.inbound.y=t.y-v.y,m=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y),p.inbound.x/=m,p.inbound.y/=m;p.distance+m-y<=f.wrapDistance?(q<e.length-1?(p.outbound.x=e[q+1].x-t.x,p.outbound.y=e[q+1].y-t.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.outbound.x/=a,p.outbound.y/=a):p.closed?(p.outbound.x=e[1].x-t.x,p.outbound.y=e[1].y-t.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*
p.outbound.y),p.outbound.x/=a,p.outbound.y/=a):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y),0!==q||p.closed||(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),++q,p.isLastVertex=q===e.length,p.isCap=!p.closed&&(p.isFirstVertex||p.isLastVertex),p.distance+=m-y,y=m=0,u=p.distance+m-y===f.wrapDistance,p.currentVertex.x=t.x,p.currentVertex.y=t.y,v=t,t=null):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y,y+=f.wrapDistance-p.distance,p.distance=f.wrapDistance,u=!0,a=y/m,p.currentVertex.x=(1-
a)*v.x+a*t.x,p.currentVertex.y=(1-a)*v.y+a*t.y)}}function d(){p.prevNormal.x=-p.inbound.y;p.prevNormal.y=p.inbound.x;p.nextNormal.x=-p.outbound.y;p.nextNormal.y=p.outbound.x}function g(){d();p.bisector.x=p.prevNormal.x+p.nextNormal.x;p.bisector.y=p.prevNormal.y+p.nextNormal.y;var a=Math.sqrt(p.bisector.x*p.bisector.x+p.bisector.y*p.bisector.y);.001>a?(p.bisector.x=void 0,p.bisector.y=void 0,p.cosine=0,p.sign=void 0):(p.bisector.x/=a,p.bisector.y/=a,p.cosine=p.bisector.x*p.nextNormal.x+p.bisector.y*
p.nextNormal.y,p.sign=0<=p.prevNormal.x*p.nextNormal.y-p.prevNormal.y*p.nextNormal.x?1:-1)}function k(a){r.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry1=p.entry1,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit1=p.exit1,p.leftExit2=p.exit2):2===a&&(p.rightEntry0=p.entry0,p.rightEntry1=p.entry1,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit1=p.exit1,p.rightExit2=p.exit2)}function c(a){r.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=
p.exit2):2===a&&(p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2)}Object.defineProperty(b,"__esModule",{value:!0});b.ThinTessellationCallbacks=b.StandardTessellationCallbacks=b.splitVertex=b.cleanup=b.tessellate=b.TessellationState=void 0;a=function(){return function(){this.isCap=this.isLastVertex=this.isFirstVertex=this.closed=void 0;this.currentVertex={x:void 0,y:void 0};this.inbound={x:void 0,y:void 0};this.outbound={x:void 0,y:void 0};this.prevNormal={x:void 0,
y:void 0};this.nextNormal={x:void 0,y:void 0};this.bisector={x:void 0,y:void 0};this.leftInner={x:void 0,y:void 0};this.rightInner={x:void 0,y:void 0};this.leftOuter={x:void 0,y:void 0};this.rightOuter={x:void 0,y:void 0}}}();b.TessellationState=a;b.tessellate=function(a,b,h){f.trackDistance=null!=b.trackDistance?b.trackDistance:!1;f.wrapDistance=null!=b.wrapDistance?b.wrapDistance:65535;f.thin=null!=b.thin?b.thin:!1;f.initialDistance=null!=b.initialDistance?b.initialDistance:0;f.enableOuterBisectorSplit=
null!=b.enableOuterBisectorSplit?b.enableOuterBisectorSplit:!1;f.outerBisectorAutoSplitThreshold=null!=b.outerBisectorAutoSplitThreshold?b.outerBisectorAutoSplitThreshold:0;f.enableInnerBisectorSplit=null!=b.enableOuterBisectorSplit?b.enableOuterBisectorSplit:!1;f.innerBisectorAutoSplitThreshold=null!=b.innerBisectorAutoSplitThreshold?b.innerBisectorAutoSplitThreshold:0;e=a;r=h;y=m=q=0;u=!1;t=v=null;p.currentVertex.x=null;p.currentVertex.y=null;p.distance=f.initialDistance;a=e[0];b=e[e.length-1];
p.canSplit=!1;p.closed=a.x===b.x&&a.y===b.y;if(!(2>e.length||2===e.length&&p.closed))if(f.thin)if(f.trackDistance)for(n(),d(),c(1);m-y>f.wrapDistance||q<e.length;)n(),d(),c(2),r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2;else for(;q<e.length;)0<q&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),q<e.length-1?(p.outbound.x=e[q+1].x-e[q].x,p.outbound.y=e[q+1].y-e[q].y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.distance+=a,p.outbound.x/=a,p.outbound.y/=a):
(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y),0===q&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),p.currentVertex.x=e[q].x,p.currentVertex.y=e[q].y,p.prevNormal.x=-p.inbound.y,p.prevNormal.y=p.inbound.x,p.nextNormal.x=-p.outbound.y,p.nextNormal.y=p.outbound.x,0===q?(r.vertex(p),p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):(r.vertex(p),p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2,r.bridge(p),p.leftExit0=
p.rightExit0,p.leftExit2=p.rightExit2),++q;else{if(f.enableOuterBisectorSplit||0<f.outerBisectorAutoSplitThreshold||f.enableInnerBisectorSplit||0<f.innerBisectorAutoSplitThreshold)for(p.canSplit=!0,n(),g(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,k(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;m-y>f.wrapDistance||q<e.length-1||q<e.length&&(!p.closed||f.trackDistance);)n(),g(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,k(2),r.bridge(p),p.leftExit0=p.rightExit0,
p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;else for(n(),g(),k(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;m-y>f.wrapDistance||q<e.length-1||q<e.length&&(!p.closed||f.trackDistance);)n(),g(),k(2),r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;p.closed&&!f.trackDistance&&(p.rightEntry0=p.closure0,p.rightEntry1=p.closure1,p.rightEntry2=p.closure2,r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2)}};
b.cleanup=function(){r=e=null};b.splitVertex=l;var e,f={},r,q=void 0,m,y,u,v,t,p=new a;a=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b;this.capType=0;this.joinType=2;this.miterLimitCosine=h.getLimitCosine(2);this.roundLimitCosine=Math.cos(23*Math.PI/180);this.almostParallelCosine=.97;this.radsPerSlice=.8;this.joinOnUTurn=this.textured=!1}a.prototype.vertex=function(a){var b=2===this.joinType?this.miterLimitCosine:this.roundLimitCosine,c=a.isCap&&0!==this.capType,d=!1;a.cosine>
this.almostParallelCosine?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):a.cosine<1-this.almostParallelCosine?(d=!a.isCap&&this.joinOnUTurn,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.canSplit?(l(),0<a.sign?(a.splitInner?(a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.leftInner.x,a.leftInner.y,0,-1,a.distance),a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,a.inbound.x,a.inbound.y,a.rightInner.x,a.rightInner.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(d=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.splitOuter?
(d=d||a.gapOuter,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.leftOuter.x,-a.leftOuter.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.rightOuter.x,-a.rightOuter.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.splitInner?(a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,
a.outbound.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance)):a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(d=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.splitOuter?(d=d||a.gapOuter,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.rightOuter.x,a.rightOuter.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance))):
0<a.sign?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(d=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/
a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(d=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,
0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance));b=a.canSplit&&(a.splitInner||a.splitOuter)||d||c?a.entry1=a.exit1=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,0,0,0,0,a.distance):a.entry1=a.exit1=null;if(d&&1!==this.joinType)this.writeTriangle(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(c&&1===this.capType||d&&1===this.joinType){var e=d=c=void 0,f=void 0,g=void 0,k=void 0;if(a.isCap){var m=Math.PI,g=Math.ceil(m/this.radsPerSlice),k=m/g;a.isFirstVertex?
(c=a.prevNormal.x,d=a.prevNormal.y,e=a.entry0,f=a.entry2):a.isLastVertex&&(c=-a.nextNormal.x,d=-a.nextNormal.y,e=a.exit2,f=a.exit0)}else m=2*Math.acos(a.cosine),g=Math.ceil(m/this.radsPerSlice),k=m/g,c=0<a.sign?-a.prevNormal.x:a.nextNormal.x,d=0<a.sign?-a.prevNormal.y:a.nextNormal.y,e=0<a.sign?a.entry2:a.exit0,f=0<a.sign?a.exit2:a.entry0;for(var m=Math.cos(k),k=Math.sin(k),h=k*c+m*d,c=m*c-k*d,d=h,r,h=void 0,p=0;p<g;++p)r=h,p<g-1&&(h=a.isCap?this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,
c,d,a.isFirstVertex?-1:1,0,a.distance):this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,d,0,a.sign,a.distance)),this.writeTriangle(0===p?e:r,b,p===g-1?f:h),r=k*c+m*d,c=m*c-k*d,d=r}else c&&2===this.capType&&(c=a.isFirstVertex?1:-1,e=d=void 0,this.textured?(d=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,-c,-1,a.distance),e=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-
c*a.inbound.y,-c,1,a.distance)):(d=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,0,-1,a.distance),e=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,0,1,a.distance)),0<c?(this.writeTriangle(b,a.entry2,e),this.writeTriangle(b,e,d),this.writeTriangle(b,d,a.entry0)):(this.writeTriangle(b,e,a.exit2),this.writeTriangle(b,d,e),this.writeTriangle(b,a.exit0,d)))};a.prototype.bridge=
function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);this.writeTriangle(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=a.leftExit1?a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this.writeTriangle(a.leftExit1,a.rightEntry1,a.leftExit2),this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this.writeTriangle(a.leftExit1,a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this.writeTriangle(a.rightEntry1,
a.rightEntry2,a.leftExit2)};return a}();b.StandardTessellationCallbacks=a;a=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b}a.prototype.vertex=function(a){a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance);a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance);a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,
a.distance);a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,a.leftExit2);this.writeTriangle(a.rightEntry0,a.rightEntry2,a.leftExit2)};return a}();b.ThinTessellationCallbacks=a})},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["require","exports"],function(a,b){function h(a,b){return Math.sqrt(a*a+b*b)}Object.defineProperty(b,"__esModule",
{value:!0});b.isPolygon=b.isPolyline=b.isPoint=b.isMultipoint=b.isExtent=b.getLimitCosine=b.isFunction=b.dist=b.normalize=b.len=b.sub=void 0;b.sub=function(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];return a};b.len=h;b.normalize=function(a){var b=h(a[0],a[1]);a[0]/=b;a[1]/=b};b.dist=function(a,b){return h(a[0]-b[0],a[1]-b[1])};b.isFunction=function(a){return"function"===typeof a};b.getLimitCosine=function(a){return 1/Math.max(a,1)};b.isExtent=function(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==
a.xmax&&void 0!==a.ymax};b.isMultipoint=function(a){return void 0!==a.points};b.isPoint=function(a){return void 0!==a.x&&void 0!==a.y};b.isPolyline=function(a){return void 0!==a.paths};b.isPolygon=function(a){return void 0!==a.rings}})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(a,b){return function(){function a(b){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=b.clone();b.next();)switch(b.tag()){case 1:this.name=b.getString();
break;case 3:this.keys.push(b.getString());break;case 4:this.values.push(b.processMessage(a._parseValue));break;case 5:this.extent=b.getUInt32();break;default:b.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();case 5:return a.getUInt64();case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};
return a}()})},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("require exports tslib ../../../../core/BidiEngine ../../../../core/string ./BaseBucket ./GeometryUtils ./Placement ./TextShaping ./style/StyleLayer ../webgl/Geometry".split(" "),function(a,b,h,l,n,d,g,k,c,e,f){function r(a,b){return a.iconMosaicItem&&b.iconMosaicItem?a.iconMosaicItem.page===b.iconMosaicItem.page?0:a.iconMosaicItem.page-b.iconMosaicItem.page:a.iconMosaicItem&&!b.iconMosaicItem?1:!a.iconMosaicItem&&b.iconMosaicItem?
-1:0}(function(){return function(){}})();return function(a){function b(b,c,d,e,f,g,k,m){c=a.call(this,b,c)||this;c.type=3;c._markerMap=new Map;c._glyphMap=new Map;c._glyphBufferDataStorage=new Map;c._isIconSDF=!1;if(b.hasDataDrivenIcon!==d.isDataDriven())throw Error("incompatible icon buffer");if(b.hasDataDrivenText!==f.isDataDriven())throw Error("incompatible text buffer");c._iconVertexBuffer=d;c._iconIndexBuffer=e;c._textVertexBuffer=f;c._textIndexBuffer=g;c._placementEngine=k;c._workerTileHandler=
m;return c}h.__extends(b,a);Object.defineProperty(b.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"symbolInstances",{get:function(){return this._symbolInstances},enumerable:!1,configurable:!0});b.prototype.getResources=function(a,c,d){var e=this.layer,f=this.zoom,g=e.hasDataDrivenIcon,k=e.hasDataDrivenText;
a&&a.setExtent(this.layerExtent);for(var m=e.getLayoutProperty("icon-image"),h=e.getLayoutProperty("text-field"),r=[],q=[1,1,1,1],u=1,l=1,y=[1,1,1,1],v=1,O=1,J,G,E,F,M,I,R,P,S,W=0,T=this._features;W<T.length;W++){var Q=T[W],X=Q.getGeometry(a);if(X&&0!==X.length){var U=void 0;m&&(U=e.getLayoutValue("icon-image",f,Q),m.isDataDriven||(U=this._replaceKeys(U,Q.values)),U&&(c.add(U),J=e.getLayoutValue("icon-rotate",f,Q),G=e.getLayoutValue("icon-offset",f,Q)));var N=void 0,Y=!1;if(h&&((N=e.getLayoutValue("text-field",
f,Q))&&!h.isDataDriven&&(N=this._replaceKeys(N,Q.values)),N)){N=N.replace(/\\n/g,"\n");switch(e.getLayoutValue("text-transform",f,Q)){case 2:N=N.toLowerCase();break;case 1:N=N.toUpperCase()}b._bidiEngine.hasBidiChar(N)&&(Y=void 0,Y="rtl"===b._bidiEngine.checkContextual(N)?"IDNNN":"ICNNN",N=b._bidiEngine.bidiTransform(N,Y,"VLYSN"),Y=!0);var V=N.length;if(0<V){S=e.getLayoutValue("text-font",f,Q);E=0;for(F=S;E<F.length;E++)for(I=F[E],(M=d[I])||(M=d[I]=new Set),I=0;I<V;I++)R=N.charCodeAt(I),M.add(R);
E=e.getLayoutValue("text-rotate",f,Q);F=e.getLayoutValue("text-anchor",f,Q);M=e.getLayoutValue("text-offset",f,Q);I=e.getLayoutValue("text-justify",f,Q);R=e.getLayoutValue("text-letter-spacing",f,Q);P=e.getLayoutValue("text-max-width",f,Q)}}if(U||N){var V=e.getLayoutValue("icon-size",f,Q),Z=e.getLayoutValue("text-size",f,Q);e.hasDataDrivenIconColor&&(q=e.getPaintValue("icon-color",f,Q));e.hasDataDrivenIconOpacity&&(u=e.getPaintValue("icon-opacity",f,Q));e.hasDataDrivenIconSize&&(l=V);e.hasDataDrivenTextColor&&
(y=e.getPaintValue("text-color",f,Q));e.hasDataDrivenTextOpacity&&(v=e.getPaintValue("text-opacity",f,Q));e.hasDataDrivenTextSize&&(O=Z);var ba=e.getLayoutValue("symbol-sort-key",f,Q),Q={sprite:U,label:N,rtl:Y,type:Q.type,geometry:X,hash:(N?n.numericHash(N):0)^(U?n.numericHash(U):0),priority:ba,iconSize:V,iconRotate:J,ddIconValues:g?{color:q,opacity:u,size:l}:null,iconOffset:G,textSize:Z,textRotate:E,ddTextValues:k?{color:y,opacity:v,size:O}:null,textAnchor:F,textOffset:M,textJustify:I,textLetterSpacing:R,
textMaxWidth:P,textFontArray:S};r.push(Q)}}}this._symbolFeatures=r};b.prototype.processFeatures=function(a){a&&a.setExtent(this.layerExtent);var d=this.layer,f=this.zoom;a=1===d.getLayoutValue("symbol-placement",f);var m=d.getLayoutValue("symbol-spacing",f)*k.TILE_PIXEL_RATIO,h=d.getLayoutProperty("icon-image"),q=d.getLayoutProperty("text-field"),n=h?new e.IconLayout(d,f,a):null,d=q?new e.TextLayout(d,f,a):null,l=this._workerTileHandler,y;h&&(y=l.getSpriteItems());this._iconIndexStart=3*this._iconIndexBuffer.index;
this._textIndexStart=3*this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();h=[];f=1;d&&d.size&&(f=d.size/c.SDF_GLYPH_SIZE);for(var q=d?d.maxAngle*g.C_DEG_TO_RAD:0,A=d?d.size*k.TILE_PIXEL_RATIO:0,H=0,D=this._symbolFeatures;H<D.length;H++){var C=D[H],K=void 0;n&&y&&C.sprite&&(K=y[C.sprite])&&K.sdf&&(this._isIconSDF=!0);K&&(n.size=C.iconSize,n.rotate=C.iconRotate,n.offset=C.iconOffset);var L=void 0,O=0,J=C.label;if(J){d.size=C.textSize;
d.rotate=C.textRotate;d.anchor=C.textAnchor;d.fontArray=C.textFontArray;d.justify=C.textJustify;d.letterSpacing=C.textLetterSpacing;d.maxWidth=C.textMaxWidth;d.offset=C.textOffset;var L=a?d.keepUpright:d.writingMode&&0<=d.writingMode.indexOf(1),G=.5;switch(d.anchor){case 5:case 1:case 7:G=0;break;case 6:case 2:case 8:G=1}var E=.5;switch(d.anchor){case 5:case 3:case 6:E=0;break;case 7:case 4:case 8:E=1}var F=.5;switch(d.justify){case 0:F=G;break;case 1:F=0;break;case 3:F=1}var M=d.letterSpacing*c.SDF_GLYPH_SIZE,
I=a?0:d.maxWidth*c.SDF_GLYPH_SIZE,R=d.lineHeight*c.SDF_GLYPH_SIZE,P=void 0,P=void 0,P=d.fontArray.map(function(a){return l.getGlyphItems(a)}),P=new c.TextShaping(P,I,R,M,G,E,F);if((L=P.getShaping(J,C.rtl,L))&&0<L.length){O=1E30;J=-1E30;G=0;for(E=L;G<E.length;G++)F=E[G],O=Math.min(O,F.x),J=Math.max(J,F.x);O=(J-O+2*c.SDF_GLYPH_SIZE)*f*k.TILE_PIXEL_RATIO}}J=0;for(G=C.geometry;J<G.length;J++)for(E=G[J],M=void 0,a?(L&&0<L.length&&d&&d.size&&(E=b._smoothVertices(E,d.size*k.TILE_PIXEL_RATIO*(2+Math.min(2,
4*Math.abs(d.offset[1]))))),M=b._findAnchors(E,m,O)):M=3===C.type?b._findCentroid(E):[new k.Anchor(E[0].x,E[0].y)],F=0;F<M.length;F++)I=M[F],0>I.x||I.x>k.TILE_COORD_SIZE||0>I.y||I.y>k.TILE_COORD_SIZE||a&&0<O&&0===d.rotationAlignment&&!b._honorsTextMaxAngle(E,I,O,q,A)||(I={shaping:L,line:E,iconMosaicItem:K,anchor:I,symbolFeature:C,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]},h.push(I),this._processFeature(I,n,d))}h.sort(r);this._addPlacedGlyphs();this._symbolInstances=
h};b.prototype.serialize=function(){var a;a=13+this.layerIndices.length;a+=3*this.markerPageMap.size;a+=3*this.glyphsPageMap.size;a+=b.symbolsSerializationLength(this._symbolInstances);a+=this._iconVertexBuffer.array.length;a+=this._iconIndexBuffer.array.length;a+=this._textVertexBuffer.array.length;a+=this._textIndexBuffer.array.length;var c=0,d=new Uint32Array(a);a=new Int32Array(d.buffer);var e=new Float32Array(d.buffer);d[c++]=this.type;d[c++]=this.layerIndices.length;for(var f=0;f<this.layerIndices.length;f++)d[c++]=
this.layerIndices[f];d[c++]=this._isIconSDF?1:0;d[c++]=this._iconVertexBuffer.isDataDriven()?1:0;d[c++]=this._textVertexBuffer.isDataDriven()?1:0;d[c++]=this.markerPageMap.size;this.markerPageMap.forEach(function(a,b){var e=a[0];a=a[1];d[c++]=b;d[c++]=e;d[c++]=a});d[c++]=this.glyphsPageMap.size;this.glyphsPageMap.forEach(function(a,b){var e=a[0];a=a[1];d[c++]=b;d[c++]=e;d[c++]=a});d[c++]=this._iconVertexBuffer.index/4;d[c++]=this._textVertexBuffer.index/4;c=b.serializeSymbols(d,a,e,c,this._symbolInstances);
d[c++]=this._iconVertexBuffer.array.length;for(e=0;e<this._iconVertexBuffer.array.length;e++)a[c++]=this._iconVertexBuffer.array[e];d[c++]=this._iconIndexBuffer.array.length;for(e=0;e<this._iconIndexBuffer.array.length;e++)d[c++]=this._iconIndexBuffer.array[e];d[c++]=this._textVertexBuffer.array.length;for(e=0;e<this._textVertexBuffer.array.length;e++)a[c++]=this._textVertexBuffer.array[e];d[c++]=this._textIndexBuffer.array.length;for(a=0;a<this._textIndexBuffer.array.length;a++)d[c++]=this._textIndexBuffer.array[a];
return d.buffer};b.symbolsSerializationLength=function(a){var b;b=1;for(var c=0;c<a.length;c++){var d=a[c];b+=4;b+=1;for(var e=0,f=d.textColliders;e<f.length;e++)b+=10;e=0;for(f=d.iconColliders;e<f.length;e++)b+=10;b+=1;b+=2*d.textVertexRanges.length;b+=1;b+=2*d.iconVertexRanges.length}return b};b.serializeSymbols=function(a,b,c,d,e){b[d++]=e.length;for(a=0;a<e.length;a++){var f=e[a];b[d++]=f.anchor.x;b[d++]=f.anchor.y;b[d++]=f.symbolFeature.hash;b[d++]=f.symbolFeature.priority;b[d++]=f.textColliders.length+
f.iconColliders.length;for(var g=0,k=f.textColliders;g<k.length;g++){var m=k[g];b[d++]=m.xTile;b[d++]=m.yTile;b[d++]=m.dxPixels;b[d++]=m.dyPixels;b[d++]=m.hard?1:0;b[d++]=m.partIndex;c[d++]=m.minLod;c[d++]=m.maxLod;b[d++]=m.width;b[d++]=m.height}g=0;for(k=f.iconColliders;g<k.length;g++)m=k[g],b[d++]=m.xTile,b[d++]=m.yTile,b[d++]=m.dxPixels,b[d++]=m.dyPixels,b[d++]=m.hard?1:0,b[d++]=m.partIndex,c[d++]=m.minLod,c[d++]=m.maxLod,b[d++]=m.width,b[d++]=m.height;b[d++]=f.textVertexRanges.length;for(var k=
0,h=f.textVertexRanges;k<h.length;k++)g=h[k],m=g[0],g=g[1],b[d++]=m,b[d++]=g;b[d++]=f.iconVertexRanges.length;k=0;for(f=f.iconVertexRanges;k<f.length;k++)g=f[k],m=g[0],g=g[1],b[d++]=m,b[d++]=g}return d};b.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,c){return c in b?b[c]:""})};b.prototype._processFeature=function(a,b,c){var d=a.line,e=a.iconMosaicItem,f=a.shaping,k=a.anchor,m=!!e,h=!0;m&&(h=b.optional||!e);var r=f&&0<f.length,q=!0;r&&(q=c.optional||!f||0===f.length);
var n;m&&(n=this._placementEngine.getIconPlacement(k,e,b));if(n||h){var l;r&&(l=this._placementEngine.getTextPlacement(k,f,d,c));if(l||q){n&&l||(q||h?q||l?h||n||(l=null):n=null:l=n=null);if(l&&(this._storePlacedGlyphs(a,l.shapes,this.zoom,c.rotationAlignment),l.textColliders))for(a.textColliders=l.textColliders,c=0,d=l.textColliders;c<d.length;c++)if(l=d[c],l.minLod=Math.max(this.zoom+g.log2(l.minLod),0),l.maxLod=Math.min(this.zoom+g.log2(l.maxLod),25),f=l.angle){var h=Math.cos(f),u=Math.sin(f),r=
l.dxPixels*h-l.dyPixels*u,f=l.dxPixels*u+l.dyPixels*h,q=(l.dxPixels+l.width)*h-l.dyPixels*u,k=(l.dxPixels+l.width)*u+l.dyPixels*h,y=l.dxPixels*h-(l.dyPixels+l.height)*u,m=l.dxPixels*u+(l.dyPixels+l.height)*h,v=(l.dxPixels+l.width)*h-(l.dyPixels+l.height)*u,u=(l.dxPixels+l.width)*u+(l.dyPixels+l.height)*h,h=Math.min(r,q,y,v),r=Math.max(r,q,y,v),q=Math.min(f,k,m,u),f=Math.max(f,k,m,u);l.dxPixels=h;l.dyPixels=q;l.width=r-h;l.height=f-q}if(n&&(this._addPlacedIcons(a,n.shapes,this.zoom,e.page,1===b.rotationAlignment),
n.iconColliders))for(a.iconColliders=n.iconColliders,a=0,n=n.iconColliders;a<n.length;a++)if(l=n[a],l.minLod=Math.max(this.zoom+g.log2(l.minLod),0),l.maxLod=Math.min(this.zoom+g.log2(l.maxLod),25),f=l.angle)h=Math.cos(f),u=Math.sin(f),r=l.dxPixels*h-l.dyPixels*u,f=l.dxPixels*u+l.dyPixels*h,q=(l.dxPixels+l.width)*h-l.dyPixels*u,k=(l.dxPixels+l.width)*u+l.dyPixels*h,y=l.dxPixels*h-(l.dyPixels+l.height)*u,m=l.dxPixels*u+(l.dyPixels+l.height)*h,v=(l.dxPixels+l.width)*h-(l.dyPixels+l.height)*u,u=(l.dxPixels+
l.width)*u+(l.dyPixels+l.height)*h,h=Math.min(r,q,y,v),r=Math.max(r,q,y,v),q=Math.min(f,k,m,u),f=Math.max(f,k,m,u),l.dxPixels=h,l.dyPixels=q,l.width=r-h,l.height=f-q}}};b.prototype._addPlacedIcons=function(a,b,c,d,e){for(var f=a.symbolFeature.ddIconValues,k=Math.max(c-1,0),m=this._iconVertexBuffer,h=this._iconIndexBuffer,r=this._markerMap,q=0;q<b.length;q++){var p=b[q],l=e?0:Math.max(c+g.log2(p.minzoom),k),n=e?25:Math.min(c+g.log2(p.maxzoom),25);if(!(n<=l)){var t=p.tl,u=p.tr,y=p.bl,v=p.br,E=p.mosaicRect,
F=p.labelAngle,M=p.minAngle,I=p.maxAngle,p=p.anchor,R=m.index,P=E.x,S=E.y,W=P+E.width,E=S+E.height,T=m.index;m.add(p.x,p.y,t.x,t.y,P,S,F,M,I,l,n,f);m.add(p.x,p.y,u.x,u.y,W,S,F,M,I,l,n,f);m.add(p.x,p.y,y.x,y.y,P,E,F,M,I,l,n,f);m.add(p.x,p.y,v.x,v.y,W,E,F,M,I,l,n,f);0<a.iconVertexRanges.length&&a.iconVertexRanges[0][0]+a.iconVertexRanges[0][1]===T?a.iconVertexRanges[0][1]+=4:a.iconVertexRanges.push([T,4]);h.add(R+0,R+1,R+2);h.add(R+1,R+2,R+3);r.has(d)?r.get(d)[1]+=6:r.set(d,[this._iconIndexStart+this._iconIndexCount,
6]);this._iconIndexCount+=6}}};b.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer,d=this._glyphMap;this._glyphBufferDataStorage.forEach(function(e,f){for(var g=0;g<e.length;g++){var k=e[g],m=b.index,h=k.symbolInstance,r=h.symbolFeature.ddTextValues,q=b.index;b.add(k.glyphAnchor[0],k.glyphAnchor[1],k.tl[0],k.tl[1],k.xmin,k.ymin,k.labelAngle,k.minAngle,k.maxAngle,k.minLod,k.maxLod,r);b.add(k.glyphAnchor[0],k.glyphAnchor[1],k.tr[0],k.tr[1],k.xmax,k.ymin,
k.labelAngle,k.minAngle,k.maxAngle,k.minLod,k.maxLod,r);b.add(k.glyphAnchor[0],k.glyphAnchor[1],k.bl[0],k.bl[1],k.xmin,k.ymax,k.labelAngle,k.minAngle,k.maxAngle,k.minLod,k.maxLod,r);b.add(k.glyphAnchor[0],k.glyphAnchor[1],k.br[0],k.br[1],k.xmax,k.ymax,k.labelAngle,k.minAngle,k.maxAngle,k.minLod,k.maxLod,r);0<h.textVertexRanges.length&&h.textVertexRanges[0][0]+h.textVertexRanges[0][1]===q?h.textVertexRanges[0][1]+=4:h.textVertexRanges.push([q,4]);c.add(m+0,m+1,m+2);c.add(m+1,m+2,m+3);d.has(f)?d.get(f)[1]+=
6:d.set(f,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=6}});this._glyphBufferDataStorage.clear()};b.prototype._storePlacedGlyphs=function(a,b,c,d){var e=Math.max(c-1,0);d=1===d;for(var f,k,m,h,r,q,l,n,t,u,y,v=0;v<b.length;v++){var G=b[v];f=d?0:Math.max(c+g.log2(G.minzoom),e);k=d?25:Math.min(c+g.log2(G.maxzoom),25);k<=f||(m=G.tl,h=G.tr,r=G.bl,q=G.br,l=G.labelAngle,n=G.minAngle,t=G.maxAngle,u=G.anchor,y=G.mosaicRect,this._glyphBufferDataStorage.has(G.page)||this._glyphBufferDataStorage.set(G.page,
[]),this._glyphBufferDataStorage.get(G.page).push({glyphAnchor:[u.x,u.y],tl:[m.x,m.y],tr:[h.x,h.y],bl:[r.x,r.y],br:[q.x,q.y],xmin:y.x,ymin:y.y,xmax:y.x+y.width,ymax:y.y+y.height,labelAngle:l,minAngle:n,maxAngle:t,minLod:f,maxLod:k,placementLod:e,symbolInstance:a}))}};b._findAnchors=function(a,b,c){b+=c;for(var d=0,e=a.length-1,m=0;m<e;m++)d+=f.Point.distance(a[m],a[m+1]);m=.5*(c||b);if(d<=m)return[];c=m/d;b=d/Math.max(Math.round(d/b),1);for(var d=0,e=-b/2,h=[],r=a.length-1,m=0;m<r;m++){for(var q=
a[m],l=a[m+1],n=l.x-q.x,u=l.y-q.y,y=Math.sqrt(n*n+u*u),v=void 0;e+b<d+y;){var e=e+b,L=(e-d)/y,O=g.interpolate(q.x,l.x,L),L=g.interpolate(q.y,l.y,L);void 0===v&&(v=Math.atan2(u,n));h.push(new k.Anchor(O,L,v,m,c))}d+=y}return h};b._deviation=function(a,b,c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};b._honorsTextMaxAngle=function(a,b,c,d,e){var k=0;c/=2;for(var g=new f.Point(b.x,b.y),m=b.segment+1;k>-c;){--m;if(0>m)return!1;k-=f.Point.distance(a[m],
g);g=a[m]}k+=f.Point.distance(a[m],a[m+1]);b=[];for(var g=0,h=a.length;k<c;){var r=a[m],q=void 0;do{++m;if(m===h)return!1;q=a[m]}while(q.isEqual(r));var p=m,l=void 0;do{++p;if(p===h)return!1;l=a[p]}while(l.isEqual(q));r=this._deviation(r,q,l);b.push({deviation:r,distToAnchor:k});for(g+=r;k-b[0].distToAnchor>e;)g-=b.shift().deviation;if(Math.abs(g)>d)return!1;k+=f.Point.distance(q,l)}return!0};b._smoothVertices=function(a,b){if(0>=b)return a;var c=a.length;if(3>c)return a;var d=[],e=0,k=0;d.push(0);
for(var g=1;g<c;g++){var m=f.Point.distance(a[g],a[g-1]);0<m&&(e+=m,d.push(e),k++,k!==g&&(a[k]=a[g]))}c=k+1;if(3>c)return a;b=Math.min(b,.2*e);var e=a[0].x,k=a[0].y,h=a[c-1].x,r=a[c-1].y,g=f.Point.sub(a[0],a[1]);g.normalize();a[0].x+=b*g.x;a[0].y+=b*g.y;g.assignSub(a[c-1],a[c-2]);g.normalize();a[c-1].x+=b*g.x;a[c-1].y+=b*g.y;d[0]-=b;d[c-1]+=b;var q=[];q.push(new f.Point(e,k));for(var l=.5*b,g=1;g<c-1;g++){for(var n=0,u=0,y=0,O=g-1;0<=O;O--){var J=l+d[O+1]-d[g];if(0>J)break;var m=d[O+1]-d[O],G=d[g]-
d[O]<l?1:J/m;if(1E-6>G)break;var E=G*G,F=G*J-.5*E*m,M=G*m/b,I=a[O+1],R=a[O].x-I.x,P=a[O].y-I.y,n=n+M/F*(I.x*G*J+.5*E*(J*R-m*I.x)-E*G*m*R/3),u=u+M/F*(I.y*G*J+.5*E*(J*P-m*I.y)-E*G*m*P/3),y=y+M}for(O=g+1;O<c;O++){J=l-d[O-1]+d[g];if(0>J)break;m=d[O]-d[O-1];G=d[O]-d[g]<l?1:J/m;if(1E-6>G)break;E=G*G;F=G*J-.5*E*m;M=G*m/b;I=a[O-1];R=a[O].x-I.x;P=a[O].y-I.y;n+=M/F*(I.x*G*J+.5*E*(J*R-m*I.x)-E*G*m*R/3);u+=M/F*(I.y*G*J+.5*E*(J*P-m*I.y)-E*G*m*P/3);y+=M}q.push(new f.Point(n/y,u/y))}q.push(new f.Point(h,r));a[0].x=
e;a[0].y=k;a[c-1].x=h;a[c-1].y=r;return q};b._findCentroid=function(a){var b=a.length-1,c=0,d=0,e=0,f=a[0].x,g=a[0].y;4096<f&&(f=4096);0>f&&(f=0);4096<g&&(g=4096);0>g&&(g=0);for(var m=1;m<b;m++){var h=a[m].x,r=a[m].y,q=a[m+1].x,l=a[m+1].y;4096<h&&(h=4096);0>h&&(h=0);4096<r&&(r=4096);0>r&&(r=0);4096<q&&(q=4096);0>q&&(q=0);4096<l&&(l=4096);0>l&&(l=0);var n=(h-f)*(l-g)-(q-f)*(r-g),c=c+n*(f+h+q),d=d+n*(g+r+l),e=e+n}c/=3*e;d/=3*e;return isNaN(c)||isNaN(d)?[]:[new k.Anchor(c,d)]};b._bidiEngine=new l.default;
return b}(d)})},"esri/core/BidiEngine":function(){define(["require","exports","./bidiEngineTables"],function(a,b,h){function l(a,b,c,e,f){var g=a;void 0===b&&(b=f.defInFormat);void 0===c&&(c=f.defOutFormat);void 0===e&&(e=f.defSwap);if(b!==c){var m=b.substring(0,1),h=c.substring(0,1),r;r=b.substring(1,4);var q=c.substring(1,4);"C"===r.charAt(0)&&(r=n(g),r="ltr"===r||"rtl"===r?r.toUpperCase():"L"===b.charAt(2)?"LTR":"RTL",b=m+r);"C"===q.charAt(0)&&(r=n(g),"rtl"===r?q="RTL":"ltr"===r?(g=g.split(""),
g.reverse(),r=n(g.join("")),q=r.toUpperCase()):q="L"===c.charAt(2)?"LTR":"RTL",c=h+q)}if(b===c)return a;h=b.substring(0,1);g=b.substring(1,4);m=c.substring(0,1);q=c.substring(1,4);f.inFormat=b;f.outFormat=c;f.swap=e;if("L"===h&&"VLTR"===c){if("LTR"===g)return f.dir=A,d(a,f);if("RTL"===g)return f.dir=H,d(a,f)}if("V"===h&&"V"===m)return f.dir="RTL"===g?H:A,k(a,f);if("L"===h&&"VRTL"===c)return f.dir="LTR"===g?A:H,a=d(a,f),k(a);if("VLTR"===b&&"LLTR"===c)return f.dir=A,d(a,f);if("V"===h&&"L"===m&&g!==
q)return a=k(a),"RTL"===g?l(a,"LLTR","VLTR",e,f):l(a,"LRTL","VRTL",e,f);if("VRTL"===b&&"LRTL"===c)return l(a,"LRTL","VRTL",e,f);"L"===h&&"L"===m&&(b=f.swap,f.swap=b.substr(0,1)+"N","RTL"===g?(f.dir=H,a=d(a,f),f.swap="N"+b.substr(1,2),f.dir=A,a=d(a,f)):(f.dir=A,a=d(a,f),f.swap="N"+b.substr(1,2),a=l(a,"VLTR","LRTL",f.swap,f)));return a}function n(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function d(a,b){a=a.split("");var c=
[];g(a,c,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,2))for(var d=0;d<a.length;d++)if(1===c[d]){var e=d,k;b:{k=a[d];for(var m=void 0,r=0,q=h.SwapTable.length-1;r<=q;)if(m=Math.floor((r+q)/2),k<h.SwapTable[m][0])q=m-1;else if(k>h.SwapTable[m][0])r=m+1;else{k=h.SwapTable[m][1];break b}}a[e]=k}f(2,a,c,b);f(1,a,c,b);x=c;return a.join("")}function g(a,b,c){var d=a.length,e=c.dir?h.impTabRtl:h.impTabLtr,f=0,g=-1,k=[],m=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=
!1;for(var q=0;q<d;q++){var l=q,p=a[q].charCodeAt(0),n=h.PrimaryTable[p>>8];k[l]=n<h.TBBASE?n:h.UnicodeTable[n-h.TBBASE][p&255]}for(l=0;l<d;l++){q=r(a,k,m,l,c);m[l]=q;f=e[f][q];q=f&240;f&=15;p=e[f][z];b[l]=p;if(0<q){if(16===q)for(q=g;q<l;q++)b[q]=1;g=-1}if(e[f][B])-1===g&&(g=l);else if(-1<g){for(q=g;q<l;q++)b[q]=p;g=-1}k[l]===h.UBAT_B&&(b[l]=0);c.hiLevel|=p}if(c.hasUbatS)for(a=0;a<d;a++)if(k[a]===h.UBAT_S)for(b[a]=c.dir,e=a-1;0<=e;e--)if(k[e]===h.UBAT_WS)b[e]=c.dir;else break}function k(a,b){a=a.split("");
if(b){var c=[];g(a,c,b);x=c}a.reverse();t.reverse();return a.join("")}function c(a){for(var b=0;b<h.ArabicAlefBetIntervalsBegine.length;b++)if(a>=h.ArabicAlefBetIntervalsBegine[b]&&a<=h.ArabicAlefBetIntervalsEnd[b])return!0;return!1}function e(a,b,d,e){for(;b*d<e&&m(a[b]);)b+=d;return b*d<e&&c(a[b])?!0:!1}function f(a,b,c,d){if(!(d.hiLevel<a))if(1!==a||d.dir!==H||d.hasUbatB){d=b.length;for(var e=0,f,g,k;e<d;){if(c[e]>=a){for(f=e+1;f<d&&c[f]>=a;)f++;for(g=f-1;e<g;e++,g--)k=b[e],b[e]=b[g],b[g]=k,k=
t[e],t[e]=t[g],t[g]=k;e=f}e++}}else b.reverse(),t.reverse()}function r(a,b,c,d,e){return{UBAT_L:function(){e.lastArabic=!1;return h.UBAT_L},UBAT_R:function(){e.lastArabic=!1;return h.UBAT_R},UBAT_ON:function(){return h.UBAT_ON},UBAT_AN:function(){return h.UBAT_AN},UBAT_EN:function(){return e.lastArabic?h.UBAT_AN:h.UBAT_EN},UBAT_AL:function(){e.lastArabic=!0;e.hasUbatAl=!0;return h.UBAT_R},UBAT_WS:function(){return h.UBAT_ON},UBAT_CS:function(){var a,f;if(1>d||d+1>=b.length||(a=c[d-1])!==h.UBAT_EN&&
a!==h.UBAT_AN||(f=b[d+1])!==h.UBAT_EN&&f!==h.UBAT_AN)return h.UBAT_ON;e.lastArabic&&(f=h.UBAT_AN);return f===a?f:h.UBAT_ON},UBAT_ES:function(){return(0<d?c[d-1]:h.UBAT_B)===h.UBAT_EN&&d+1<b.length&&b[d+1]===h.UBAT_EN?h.UBAT_EN:h.UBAT_ON},UBAT_ET:function(){if(0<d&&c[d-1]===h.UBAT_EN)return h.UBAT_EN;if(e.lastArabic)return h.UBAT_ON;for(var a=d+1,f=b.length;a<f&&b[a]===h.UBAT_ET;)a++;return a<f&&b[a]===h.UBAT_EN?h.UBAT_EN:h.UBAT_ON},UBAT_NSM:function(){if("VLTR"===e.inFormat){for(var f=b.length,g=
d+1;g<f&&b[g]===h.UBAT_NSM;)g++;if(g<f&&(f=a[d].charCodeAt[0],g=b[g],(1425<=f&&2303>=f||64286===f)&&(g===h.UBAT_R||g===h.UBAT_AL)))return h.UBAT_R}return 1>d||b[d-1]===h.UBAT_B?h.UBAT_ON:c[d-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return h.UBAT_ON},UBAT_LRE:function(){e.lastArabic=!1;return h.UBAT_ON},UBAT_RLE:function(){e.lastArabic=!1;return h.UBAT_ON},UBAT_LRO:function(){e.lastArabic=!1;return h.UBAT_ON},UBAT_RLO:function(){e.lastArabic=
!1;return h.UBAT_ON},UBAT_PDF:function(){e.lastArabic=!1;return h.UBAT_ON},UBAT_BN:function(){return h.UBAT_ON}}[h.TYPES_NAMES[b[d]]]()}function q(a,b){for(var c=0;c<h.BaseForm.length;c++)if(a===h.BaseForm[c])return b[c];return a}function m(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function y(a){return"L"===a?"LTR":"R"===a?"RTL":"C"===a?"CLR":"D"===a?"CRL":""}function u(a,b){for(var c=0;c<h.AlefTable.length;c++)if(a===h.AlefTable[c])return b[c];return a}function v(a,b,c,d){for(var e=0;e<a.length;e++)if(a[e]>
b||!c&&a[e]===b)a[e]+=d}Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=[];this.levels=[]}a.prototype.bidiTransform=function(a,b,d){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var f=this.sourceToTarget,g=this.targetToSource,k=a.length;t=[];x=[];for(var r=0;r<k;r++)f[r]=r,g[r]=r,t[r]=r;if(!this.checkParameters(b,d))return a;b=this.inputFormat;d=this.outputFormat;
var f=a,f=w,r=y(b.charAt(1)),g=y(d.charAt(1)),n="I"===b.charAt(0)?"L":b.charAt(0),k="I"===d.charAt(0)?"L":d.charAt(0),r=n+r,g=k+g,k=b.charAt(2)+d.charAt(2);f.defInFormat=r;f.defOutFormat=g;f.defSwap=k;a=l(a,r,g,k,f);f=!1;if("R"===d.charAt(1))f=!0;else if("C"===d.charAt(1)||"D"===d.charAt(1))f="rtl"===this.checkContextual(a);g=this.sourceToTarget=t;k=Array(g.length);for(r=0;r<g.length;r++)k[g[r]]=r;p=this.targetToSource=k;if(b.charAt(3)===d.charAt(3))f=a;else if("S"===d.charAt(3))if(b=f,d=!0,0===a.length)f=
"";else{void 0===b&&(b=!0);void 0===d&&(d=!0);a=String(a);a=a.split("");var A=0,g=1,f=a.length;b||(A=a.length-1,g=-1,f=1);for(var k=f,r=d,z=0,f=[],n=0;A*g<k;A+=g)if(c(a[A])||m(a[A])){var B;if(B="\u0644"===a[A])b:{for(var H=a,C=A+g,D=g,K=k;C*D<K&&m(H[C]);)C+=D;B=" ";if(C*D<K)for(B=H[C],H=0;H<h.AlefTable.length;H++)if(h.AlefTable[H]===B){B=!0;break b}B=!1}if(B){a[A]=0===z?u(a[A+g],h.LamAlefInialTableFE):u(a[A+g],h.LamAlefMedialTableFE);A+=g;z=a;B=A;H=g;for(C=k;B*H<C&&m(z[B]);)B+=H;B*H<C&&(z[B]=" ");
r&&(f[n]=A,n++);z=0}else{B=a[A];if(1===z){H=A;if(e(a,A+g,g,k))b:for(C=a[A],D=0;D<h.BaseForm.length;D++){if(C===h.BaseForm[D]){C=h.MedialForm[D];break b}}else C=q(a[A],h.FinalForm);a[H]=C}else!0===e(a,A+g,g,k)?a[A]=q(a[A],h.InitialForm):a[A]=q(a[A],h.IsolatedForm);m(B)||(z=1);b:{for(H=0;H<h.StandAlonForm.length;H++)if(h.StandAlonForm[H]===B){B=!0;break b}B=!1}!0===B&&(z=0)}}else z=0;g="";for(k=0;k<a.length;k++){if(r=d){b:{for(r=0;r<f.length;r++)if(f[r]===k)break b;r=-1}r=-1<r}r?(v(p,k,!b,-1),t.splice(k,
1)):g+=a[k]}f=g}else if(b=a,d=f,a=!0,0===b.length)f="";else for(void 0===a&&(a=!0),void 0===d&&(d=!0),b=String(b),f="",g=b.split(""),k=0;k<b.length;k++)r=!1,"\ufe70"<=g[k]&&"\ufeff">g[k]?(n=b.charCodeAt(k),"\ufef5"<=g[k]&&"\ufefc">=g[k]?(d?(0<k&&a&&" "===g[k-1]?f=f.substring(0,f.length-1)+"\u0644":(f+="\u0644",r=!0),f+=h.AlefTable[(n-65269)/2]):(f+=h.AlefTable[(n-65269)/2],f+="\u0644",k+1<b.length&&a&&" "===g[k+1]?k++:r=!0),r&&(v(p,k,!0,1),t.splice(k,0,t[k]))):f+=h.FETo06Table[n-65136]):f+=g[k];this.sourceToTarget=
t;this.targetToSource=p;this.levels=x;return f};a.prototype._inputFormatSetter=function(a){if(!D.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a};a.prototype._outputFormatSetter=function(a){if(!D.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=a};a.prototype.checkParameters=function(a,b){a?this._inputFormatSetter(a):a=this.inputFormat;b?this._outputFormatSetter(b):b=this.outputFormat;return a===
b?!1:!0};a.prototype.checkContextual=function(a){a=n(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(O){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a};a.prototype.hasBidiChar=function(a){return C.test(a)};return a}();b.default=a;var t=[],p=[],x=[],w={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},z=5,B=6,A=0,H=1,D=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,
C=/[\u0591-\u06ff\ufb1d-\ufefc]/})},"esri/core/bidiEngineTables":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.UnicodeTable=b.PrimaryTable=b.TBBASE=b.TYPES_NAMES=b.UBAT_BN=b.UBAT_RLO=b.UBAT_LRO=b.UBAT_PDF=b.UBAT_RLE=b.UBAT_LRE=b.UBAT_NSM=b.UBAT_ET=b.UBAT_ES=b.UBAT_CS=b.UBAT_WS=b.UBAT_AL=b.UBAT_S=b.UBAT_B=b.UBAT_ON=b.UBAT_AN=b.UBAT_EN=b.UBAT_R=b.UBAT_L=b.impTabRtl=b.impTabLtr=b.ArabicAlefBetIntervalsEnd=b.ArabicAlefBetIntervalsBegine=b.FETo06Table=
b.StandAlonForm=b.InitialForm=b.MedialForm=b.FinalForm=b.IsolatedForm=b.BaseForm=b.LamAlefMedialTableFE=b.LamAlefInialTableFE=b.AlefTable=b.SwapTable=void 0;b.SwapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],
["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];b.AlefTable=["\u0622","\u0623","\u0625","\u0627"];b.LamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];b.LamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];b.BaseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");
b.IsolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");b.FinalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");
b.MedialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");b.InitialForm="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");
b.StandAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");b.FETo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
b.ArabicAlefBetIntervalsBegine=["\u0621","\u0641"];b.ArabicAlefBetIntervalsEnd=["\u063a","\u064a"];b.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];b.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];b.UBAT_L=0;b.UBAT_R=1;b.UBAT_EN=2;b.UBAT_AN=3;b.UBAT_ON=4;b.UBAT_B=5;b.UBAT_S=6;b.UBAT_AL=7;b.UBAT_WS=8;b.UBAT_CS=9;b.UBAT_ES=10;b.UBAT_ET=11;b.UBAT_NSM=12;b.UBAT_LRE=13;b.UBAT_RLE=14;b.UBAT_PDF=15;b.UBAT_LRO=16;
b.UBAT_RLO=17;b.UBAT_BN=18;b.TYPES_NAMES="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");b.TBBASE=100;a=b.UBAT_L;var h=b.UBAT_R,l=b.UBAT_EN,n=b.UBAT_AN,d=b.UBAT_ON,g=b.UBAT_B,k=b.UBAT_S,c=b.UBAT_AL,e=b.UBAT_WS,f=b.UBAT_CS,r=b.UBAT_ES,q=b.UBAT_ET,m=b.UBAT_NSM,y=b.UBAT_LRE,u=b.UBAT_RLE,v=b.UBAT_PDF,t=b.UBAT_LRO,p=b.UBAT_RLO,x=b.UBAT_BN;b.PrimaryTable=[b.TBBASE+0,a,a,a,a,b.TBBASE+1,
b.TBBASE+2,b.TBBASE+3,h,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,b.TBBASE+4,d,d,d,a,d,a,d,a,d,d,d,a,a,d,d,a,a,a,a,a,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,a,a,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,a,a,d,d,a,a,d,d,a,a,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,
d,d,d,d,d,a,a,a,b.TBBASE+5,c,c,b.TBBASE+6,b.TBBASE+7];b.UnicodeTable=[[x,x,x,x,x,x,x,x,x,k,g,k,e,g,x,x,x,x,x,x,x,x,x,x,x,x,x,x,g,g,g,k,e,d,d,q,q,q,d,d,d,d,d,r,f,r,f,f,l,l,l,l,l,l,l,l,l,l,f,d,d,d,d,d,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,d,d,d,d,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,d,d,d,x,x,x,x,x,x,g,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,f,d,q,q,q,q,d,d,d,d,a,d,d,x,d,d,q,q,l,l,d,a,d,d,d,l,a,d,d,d,d,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,d,d,d,d,d,d,d,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,d,a,a,a,a,a,a,a,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,a,d,d,d,d,d,d,d,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,h,m,h,m,m,h,m,m,h,m,d,d,d,d,d,d,d,d,h,
h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,d,d,d,h,h,h,h,h,d,d,d,d,d,d,d,d,d,d,d],[n,n,n,n,d,d,d,d,c,q,q,c,f,c,d,d,m,m,m,m,m,m,m,m,m,m,m,c,d,d,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,n,n,n,n,n,n,n,n,n,n,q,n,n,c,c,c,m,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,
c,c,c,c,c,c,c,c,c,c,c,m,m,m,m,m,m,m,n,d,m,m,m,m,m,m,c,c,m,m,d,m,m,m,m,c,c,l,l,l,l,l,l,l,l,l,l,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,d,c,c,m,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,d,d,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,m,m,m,m,m,m,m,m,m,m,m,c,d,d,d,d,d,d,d,d,d,d,d,d,d,d,h,h,h,h,h,
h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,m,m,m,m,m,m,m,m,m,h,h,d,d,d,d,h,d,d,d,d,d],[e,e,e,e,e,e,e,e,e,e,e,x,x,x,a,h,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,e,g,y,u,v,t,p,f,q,q,q,q,q,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,f,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,e,x,x,x,x,x,d,d,d,d,d,x,x,x,x,x,x,l,a,d,d,l,l,l,l,l,l,r,r,d,d,d,a,l,l,l,l,l,l,l,l,l,l,r,r,d,d,d,d,a,a,a,a,a,a,a,a,a,a,a,a,a,d,d,d,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,d,d,d,d,d,
d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d],[a,a,a,a,a,a,a,d,d,d,d,d,d,d,d,d,d,d,d,a,a,a,a,a,d,d,d,d,d,h,m,h,h,h,h,h,h,h,h,h,h,r,h,h,h,h,h,h,h,h,h,h,h,h,h,d,h,h,h,h,h,d,h,d,h,h,d,h,h,d,h,h,h,h,h,h,h,h,h,h,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,
c,c,c,c,c,c,c,c,c,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,m,m,m,m,m,m,m,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,f,d,f,d,d,f,d,d,d,d,d,d,d,d,d,q,d,d,r,r,d,d,d,d,d,q,q,d,d,d,d,d,c,c,c,c,c,d,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,
c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,d,d,x],[d,d,d,q,q,q,d,d,d,d,d,r,f,r,f,f,l,l,l,l,l,l,l,l,l,l,f,d,d,d,d,d,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,d,d,d,d,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,d,d,d,d,d,d,d,d,d,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,d,d,d,a,a,a,a,a,a,d,d,a,a,a,a,a,a,d,d,a,a,a,a,a,a,d,d,a,a,a,d,d,d,q,q,d,d,d,q,q,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d]]})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("require exports tslib ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),function(a,b,h,l,n,d,g){Object.defineProperty(b,"__esModule",{value:!0});b.TextLayout=b.IconLayout=b.CircleStyleLayer=b.SymbolStyleLayer=b.LineStyleLayer=b.FillStyleLayer=
b.BackgroundStyleLayer=b.StyleLayer=void 0;a=function(){function a(a,b,c){this.type=a;this.typeName=b.type;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=c;switch(a){case 0:this._layoutDefinition=n.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=n.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=n.StyleDefinition.fillLayoutDefinition;
this._paintDefinition=n.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=n.StyleDefinition.lineLayoutDefinition;this._paintDefinition=n.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=n.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=n.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=n.StyleDefinition.circleLayoutDefinition,this._paintDefinition=n.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);
this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=l.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){return this._layoutProperties[a]};a.prototype.getPaintProperty=function(a){return this._paintProperties[a]};a.prototype.getLayoutValue=function(a,b,c){var d,e=this._layoutProperties[a];e&&(d=e.getValue(b,c));var f=this._layoutDefinition[a];void 0===d&&(d=f["default"]);
"enum"===f.type?d=f.values.indexOf(d):"array"===f.type&&"enum"===f.value&&(d=d.map(function(a){return f.values.indexOf(a)}));return d};a.prototype.getPaintValue=function(a,b,c){var d,e=this._paintProperties[a];e&&(d=e.getValue(b,c));a=this._paintDefinition[a];void 0===d&&(d=a["default"]);"enum"===a.type&&(d=a.values.indexOf(d));return d};a.prototype.isPainterDataDriven=function(){var a=this._paintProperties;if(a)for(var b in a)if(a[b].isDataDriven)return!0;return!1};a.prototype._parseLayout=function(a){var b=
{},c;for(c in a){var e=this._layoutDefinition[c];e&&(b[c]=new d(e,a[c]))}return b};a.prototype._parsePaint=function(a){var b={},c;for(c in a){var e=this._paintDefinition[c];e&&(b[c]=new d(e,a[c]))}return b};return a}();b.StyleLayer=a;var k=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}h.__extends(b,a);return b}(a);b.BackgroundStyleLayer=k;k=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("fill-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("fill-opacity");
b.hasDataDrivenOpacity=c?c.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;c=b.getPaintProperty("fill-outline-color");b.outlineUsesFillColor=!c;b.hasDataDrivenOutlineColor=c?c.isDataDriven:!1;b.hasDataDrivenOutline=(c?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}h.__extends(b,a);return b}(a);b.FillStyleLayer=k;k=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;d=b.getPaintProperty("line-color");b.hasDataDrivenColor=d?d.isDataDriven:
!1;d=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=d?d.isDataDriven:!1;d=b.getPaintProperty("line-width");b.hasDataDrivenWidth=d?d.isDataDriven:!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;c=c.paint["line-width"];c||(c=n.StyleDefinition.linePaintDefinition["line-width"].default);b.isThinLine=!b.hasDataDrivenWidth&&"number"===typeof c&&c<g.THIN_LINE_THRESHOLD;return b}h.__extends(b,a);return b}(a);b.LineStyleLayer=k;k=function(a){function b(b,
c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=c?c.isDataDriven:!1;c=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=c?c.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;c=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=c?c.isDataDriven:!1;c=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=
c?c.isDataDriven:!1;c=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=c?c.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}h.__extends(b,a);return b}(a);b.SymbolStyleLayer=k;a=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-opacity");
b.hasDataDrivenOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=c?c.isDataDriven:!1;return b}h.__extends(b,a);return b}(a);b.CircleStyleLayer=a;a=function(){return function(a,b,d,g){this.allowOverlap=
a.getLayoutValue("icon-allow-overlap",b,g);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b,g);this.keepUpright=a.getLayoutValue("icon-keep-upright",b,g);this.offset=a.getLayoutValue("icon-offset",b,g);this.optional=a.getLayoutValue("icon-optional",b,g);this.padding=a.getLayoutValue("icon-padding",b,g);this.rotate=a.getLayoutValue("icon-rotate",b,g);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b,g);this.size=a.getLayoutValue("icon-size",b,g);2===this.rotationAlignment&&
(this.rotationAlignment=d?0:1)}}();b.IconLayout=a;a=function(){return function(a,b,d,g){this.allowOverlap=a.getLayoutValue("text-allow-overlap",b,g);this.anchor=a.getLayoutValue("text-anchor",b,g);this.fontArray=a.getLayoutValue("text-font",b,g);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b,g);this.justify=a.getLayoutValue("text-justify",b,g);this.keepUpright=a.getLayoutValue("text-keep-upright",b,g);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b,g);this.lineHeight=
a.getLayoutValue("text-line-height",b,g);this.maxAngle=a.getLayoutValue("text-max-angle",b,g);this.maxWidth=a.getLayoutValue("text-max-width",b,g);this.offset=a.getLayoutValue("text-offset",b,g);this.optional=a.getLayoutValue("text-optional",b,g);this.padding=a.getLayoutValue("text-padding",b,g);this.rotate=a.getLayoutValue("text-rotate",b,g);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b,g);this.size=a.getLayoutValue("text-size",b,g);this.transform=a.getLayoutValue("text-transform",
b,g);this.writingMode=a.getLayoutValue("text-writing-mode",b,g);2===this.rotationAlignment&&(this.rotationAlignment=d?0:1)}}();b.TextLayout=a})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["require","exports","../expression/expression"],function(a,b,h){return function(){function a(a){this._expression=a}a.prototype.filter=function(a,b){if(!this._expression)return!0;try{return this._expression.evaluate(a,b)}catch(g){return console.log(g.message),!0}};a.createFilter=function(b){if(!b)return null;
this.isLegacyFilter(b)&&(b=this.convertLegacyFilter(b));try{var d=h.createExpression(b);return new a(d)}catch(g){return console.log(g.message),null}};a.isLegacyFilter=function(a){if(!Array.isArray(a)||0===a.length)return!0;switch(a[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===a.length&&"string"===typeof a[1]&&!Array.isArray(a[2]);case "in":return 3<=a.length&&"string"===typeof a[1]&&!Array.isArray(a[2]);case "!in":return!0;case "any":case "all":for(var b=
1;b<a.length;b++)if(!this.isLegacyFilter(a[1]))return!1;return!0;case "none":return!0;case "has":return 2===a.length&&("$id"===a[1]||"$type"===a[1]);case "!has":return!0;default:return!1}};a.convertLegacyFilter=function(b){if(!Array.isArray(b)||0===b.length)return!0;var d=b[0];if(1===b.length)return"any"!==d;switch(d){case "\x3d\x3d":return a.convertComparison("\x3d\x3d",b[1],b[2]);case "!\x3d":return a.negate(a.convertComparison("\x3d\x3d",b[1],b[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return a.convertComparison(d,
b[1],b[2]);case "in":return a.convertIn(b[1],b.slice(2));case "!in":return a.negate(a.convertIn(b[1],b.slice(2)));case "any":case "all":case "none":return a.convertCombining(d,b.slice(1));case "has":return a.convertHas(b[1]);case "!has":return a.negate(a.convertHas(b[1]));default:throw Error("Unexpected legacy filter.");}};a.convertComparison=function(a,b,g){switch(b){case "$type":return[a,["geometry-type"],g];case "$id":return[a,["id"],g];default:return[a,["get",b],g]}};a.convertIn=function(a,b){switch(a){case "$type":return["in",
["geometry-type"],["literal",b]];case "$id":return["in",["id"],["literal",b]];default:return["in",["get",a],["literal",b]]}};a.convertHas=function(a){switch(a){case "$type":return!0;case "$id":return["has-id"];default:return["has",a]}};a.convertCombining=function(a,b){return[a].concat(b.map(this.convertLegacyFilter))};a.negate=function(a){return["!",a]};return a}()})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define(["require","exports","./definition"],function(a,b,h){Object.defineProperty(b,
"__esModule",{value:!0});b.createExpression=void 0;b.createExpression=function(a){if(null===a||"string"===typeof a||"boolean"===typeof a||"number"===typeof a)a=["literal",a];if(!Array.isArray(a)||0===a.length)throw Error("Expression must be a non empty array");var b=a[0];if("string"!==typeof b)throw Error("First element of expression must be a string");var d=h.ops[b];if(void 0===d)throw Error('Invalid expression operator "'+b+'"');if(!d)throw Error('Unimplemented expression operator "'+b+'"');return d.parse(a)}})},
"esri/views/2d/engine/vectorTiles/expression/definition":function(){define("require exports ./color ./data ./decision ./interpolate ./lookup ./math ./string ./types".split(" "),function(a,b,h,l,n,d,g,k,c,e){Object.defineProperty(b,"__esModule",{value:!0});b.ops=void 0;b.ops={array:e.Assert,"boolean":e.Assert,collator:null,format:null,literal:e.Literal,image:null,number:e.Assert,"number-format":null,object:e.Assert,string:e.Assert,"to-boolean":e.Coerce,"to-color":e.Coerce,"to-number":e.Coerce,"to-string":e.Coerce,
"typeof":e.TypeOf,accumulated:null,"feature-state":null,"geometry-type":l.GeomType,id:l.ID,"line-progress":null,properties:l.Properties,at:g.At,get:g.Get,has:g.Has,"in":g.In,"index-of":g.IndexOf,length:g.Length,slice:g.Slice,"!":n.NOT,"!\x3d":n.NE,"\x3c":n.LT,"\x3c\x3d":n.LE,"\x3d\x3d":n.EQ,"\x3e":n.GT,"\x3e\x3d":n.GE,all:n.ALL,any:n.ANY,"case":n.Case,coalesce:n.Coalesce,match:n.Match,within:null,interpolate:d.Interpolate,"interpolate-hcl":d.Interpolate,"interpolate-lab":d.Interpolate,step:d.Step,
let:null,"var":null,concat:c.Concat,downcase:c.String,"is-supported-script":null,"resolved-locale":null,upcase:c.String,rgb:h.Rgb,rgba:h.Rgba,"to-rgba":h.ToRgba,"-":k.Sub,"*":k.Mul,"/":k.Div,"%":k.Mod,"^":k.Pow,"+":k.Add,abs:k.Calculate,acos:k.Calculate,asin:k.Calculate,atan:k.Calculate,ceil:k.Calculate,cos:k.Calculate,e:k.Calculate,floor:k.Calculate,ln:k.Calculate,ln2:k.Calculate,log10:k.Calculate,log2:k.Calculate,max:k.Calculate,min:k.Calculate,pi:k.Calculate,round:k.Calculate,sin:k.Calculate,sqrt:k.Calculate,
tan:k.Calculate,zoom:l.Zoom,"heatmap-density":null,"has-id":g.HasID,none:n.NONE}})},"esri/views/2d/engine/vectorTiles/expression/color":function(){define(["require","exports","../../../../../Color","./expression"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.ToRgba=b.Rgba=b.Rgb=void 0;var n=function(){function a(a){this.args=a}a.parse=function(b){if(4!==b.length)throw Error('"rgb" expects 3 arguments.');b=b.slice(1).map(function(a){return l.createExpression(a)});return new a(b)};
a.prototype.evaluate=function(a,b){var c=this.args[1].evaluate(a,b),d=this.args[2].evaluate(a,b);a=this.args[3].evaluate(a,b);return"rgb("+Math.round(c)+","+Math.round(d)+","+Math.round(a)+")"};return a}();b.Rgb=n;a=function(){function a(a){this.args=a}a.parse=function(a){if(5!==a.length)throw Error('"rgba" expects 4 arguments.');a=a.slice(1).map(function(a){return l.createExpression(a)});return new n(a)};a.prototype.evaluate=function(a,b){var c=this.args[1].evaluate(a,b),d=this.args[2].evaluate(a,
b),f=this.args[3].evaluate(a,b);a=this.args[4].evaluate(a,b);return"rgb("+Math.round(c)+","+Math.round(d)+","+Math.round(f)+","+a+")"};return a}();b.Rgba=a;a=function(){function a(a){this.color=a}a.parse=function(b){if(2!==b.length)throw Error('"to-rgba" expects 1 argument.');b=l.createExpression(b[1]);return new a(b)};a.prototype.evaluate=function(a,b){return(new h(this.color.evaluate(a,b))).toRgba()};return a}();b.ToRgba=a})},"esri/Color":function(){define("require exports ./colorUtils ./core/mathUtils ./core/maybe ./core/accessorSupport/ensureType".split(" "),
function(a,b,h,l,n,d){function g(a){return l.clamp(d.ensureInteger(a),0,255)}function k(a,b,d){a=Number(a);return isNaN(a)?d:a<b?b:a>d?d:a}a=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(b,c,d,g){void 0===g&&(g=new a);g.r=Math.round(b.r+(c.r-b.r)*d);g.g=Math.round(b.g+(c.g-b.g)*d);g.b=Math.round(b.b+(c.b-b.b)*d);g.a=b.a+(c.a-b.a)*d;return g._sanitize()};a.fromRgb=function(b,c){var d=b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);
if(d){b=d[2].split(/\s*,\s*/);d=d[1];if("rgb"===d&&3===b.length||"rgba"===d&&4===b.length)return d=b[0],"%"===d.charAt(d.length-1)?(d=b.map(function(a){return 2.56*parseFloat(a)}),4===b.length&&(d[3]=parseFloat(b[3])),a.fromArray(d,c)):a.fromArray(b.map(function(a){return parseFloat(a)}),c);if("hsl"===d&&3===b.length||"hsla"===d&&4===b.length)return a.fromArray(h.hsla2rgba(parseFloat(b[0]),parseFloat(b[1])/100,parseFloat(b[2])/100,parseFloat(b[3])),c)}return null};a.fromHex=function(b,c){void 0===
c&&(c=new a);var d=4===b.length?4:8,e=(1<<d)-1,f=Number("0x"+b.substr(1));if(isNaN(f))return null;["b","g","r"].forEach(function(a){var b=f&e;f>>=d;c[a]=4===d?17*b:b});c.a=1;return c};a.fromArray=function(b,c){void 0===c&&(c=new a);c._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));isNaN(c.a)&&(c.a=1);return c._sanitize()};a.fromString=function(b,c){var d=h.getNamedColor(b);return d&&a.fromArray(d,c)||a.fromRgb(b,c)||a.fromHex(b,c)};a.fromJSON=function(b){return b&&new a([b[0],b[1],b[2],
b[3]/255])};a.toUnitRGB=function(a){return n.isSome(a)?[a.r/255,a.g/255,a.b/255]:null};a.toUnitRGBA=function(a){return n.isSome(a)?[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]:null};Object.defineProperty(a.prototype,"isBright",{get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b},enumerable:!1,configurable:!0});a.prototype.setColor=function(b){var c,d,e,g;"string"===typeof b?a.fromString(b,this):Array.isArray(b)?a.fromArray(b,this):(this._set(null!==(c=b.r)&&void 0!==c?c:0,null!==(d=b.g)&&
void 0!==d?d:0,null!==(e=b.b)&&void 0!==e?e:0,null!==(g=b.a)&&void 0!==g?g:1),b instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>c.length?"0"+c:c)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+
this.b;return a?"rgba("+b+", "+this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return this.toArray()};a.prototype.toArray=function(a){void 0===a&&(a=0);var b=g(this.r),c=g(this.g),d=g(this.b);return 0===a||1!==this.a?[b,c,d,g(255*this.a)]:[b,c,d]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};a.prototype._sanitize=function(){this.r=Math.round(k(this.r,
0,255));this.g=Math.round(k(this.g,0,255));this.b=Math.round(k(this.b,0,255));this.a=k(this.a,0,1);return this};a.prototype._set=function(a,b,c,d){this.r=a;this.g=b;this.b=c;this.a=d};return a}();a.prototype.declaredClass="esri.Color";return a})},"esri/colorUtils":function(){define(["require","exports","tslib"],function(a,b,h){function l(a){var b;return null!==(b=d[a])&&void 0!==b?b:null}function n(a,b,c){0>c&&++c;1<c&&--c;var d=6*c;return 1>d?a+(b-a)*d:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}Object.defineProperty(b,
"__esModule",{value:!0});b.hex2rgba=b.hsla2rgba=b.getNamedColorCopy=b.getNamedColor=void 0;var d={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,
212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,
169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],
floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,
255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,
85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,
238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,
144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};b.getNamedColor=l;b.getNamedColorCopy=function(a){return(a=l(a))?h.__spreadArrays(a):a};b.hsla2rgba=function(a,b,c,d){void 0===d&&(d=1);a=(a%360+360)%360/360;b=.5>=c?c*(b+1):c+b-c*b;c=2*c-b;return[Math.round(256*n(c,b,a+1/3)),Math.round(256*
n(c,b,a)),Math.round(256*n(c,b,a-1/3)),d]};b.hex2rgba=function(a){var b=5<a.length,c=b?8:4,d=(1<<c)-1,f=b?1:17,b=b?9===a.length:5===a.length;a=Number("0x"+a.substr(1));if(isNaN(a))return null;var g=[0,0,0,1];b&&(b=a&d,a>>=c,g[3]=f*b/255);b=a&d;a>>=c;g[2]=f*b;b=a&d;a>>=c;g[1]=f*b;b=a&d;a>>=c;g[0]=f*b;return g}})},"esri/core/mathUtils":function(){define(["require","exports"],function(a,b){function h(a,b,c){return a<b?b:a>c?c:a}function l(a,b,c){return a+(b-a)*c}function n(a){d[0]=a;return d[0]}Object.defineProperty(b,
"__esModule",{value:!0});b.NUMBER_MAX_FLOAT32=b.clampFloat32=b.floatEqualAbsolute=b.floatEqualRelative=b.asinClamped=b.acosClamped=b.reciprocalClamped=b.rad2deg=b.deg2rad=b.scale=b.lerp=b.log2=b.sign=b.nextHighestPowerOfTen=b.nextPowerOfTwo=b.isPowerOfTwo=b.glClamp=b.clamp=b.nextHighestPowerOfTwo=b.isNaN=b.isFinite=void 0;var d=new Float32Array(1);b.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};b.isNaN=Number.isNaN||function(a){return a!==a};b.nextHighestPowerOfTwo=
function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};b.clamp=h;b.glClamp=function(a,b,c){return Math.min(Math.max(a,b),c)};b.isPowerOfTwo=function(a){return 0===(a&a-1)};b.nextPowerOfTwo=function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a};b.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};b.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};b.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};b.lerp=l;b.scale=function(a,b,c,
d,f){return l(d,f,(a-b)/(c-b))};b.deg2rad=function(a){return a*Math.PI/180};b.rad2deg=function(a){return 180*a/Math.PI};b.reciprocalClamped=function(a,b){void 0===b&&(b=1E-6);return(0>a?-1:1)/Math.max(Math.abs(a),b)};b.acosClamped=function(a){return Math.acos(h(a,-1,1))};b.asinClamped=function(a){return Math.asin(h(a,-1,1))};b.floatEqualRelative=function(a,d,c){void 0===c&&(c=1E-6);if(b.isNaN(a)||b.isNaN(d))return!1;if(a===d)return!0;var e=Math.abs(a-d),f=Math.abs(a),g=Math.abs(d);if(0===a||0===d||
1E-12>f&&1E-12>g){if(e>.01*c)return!1}else if(e/(f+g)>c)return!1;return!0};b.floatEqualAbsolute=function(a,d,c){void 0===c&&(c=1E-6);return b.isNaN(a)||b.isNaN(d)?!1:(a>d?a-d:d-a)<=c};b.clampFloat32=function(a){return n(Math.max(-b.NUMBER_MAX_FLOAT32,Math.min(a,b.NUMBER_MAX_FLOAT32)))};b.NUMBER_MAX_FLOAT32=n(3.4028234663852886E38)})},"esri/views/2d/engine/vectorTiles/expression/data":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zoom=b.Properties=
b.GeomType=b.ID=void 0;a=function(){function a(){}a.parse=function(b){if(1<b.length)throw Error('"id" does not expect arguments');return new a};a.prototype.evaluate=function(a,b){return a.id};return a}();b.ID=a;a=function(){function a(){}a.parse=function(b){if(1<b.length)throw Error('"geometry-type" does not expect arguments');return new a};a.prototype.evaluate=function(a,b){switch(a.type){case 0:return"Unknown";case 1:return"Point";case 2:return"LineString";case 3:return"Polygon"}};return a}();b.GeomType=
a;a=function(){function a(){}a.parse=function(b){if(1<b.length)throw Error('"properties" does not expect arguments');return new a};a.prototype.evaluate=function(a,b){return a.values};return a}();b.Properties=a;a=function(){function a(){}a.parse=function(b){if(1<b.length)throw Error('"zoom" does not expect arguments');return new a};a.prototype.evaluate=function(a,b){return b};return a}();b.Zoom=a})},"esri/views/2d/engine/vectorTiles/expression/decision":function(){define(["require","exports","tslib",
"./expression"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.Match=b.Coalesce=b.Case=b.NONE=b.ANY=b.ALL=b.NOT=b.GE=b.GT=b.LE=b.LT=b.NE=b.EQ=void 0;var n=function(){function a(a,b,c){this.lhs=a;this.rhs=b;this.compare=c}a.parse=function(b,d){if(3!==b.length&&4!==b.length)throw Error('"'+b[0]+'" expects 2 or 3 arguments');if(4===b.length)throw Error('"'+b[0]+'" collator not supported');return new a(l.createExpression(b[1]),l.createExpression(b[2]),d)};a.prototype.evaluate=function(a,
b){return this.compare(this.lhs.evaluate(a,b),this.rhs.evaluate(a,b))};return a}();a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){return n.parse(a,function(a,b){return a===b})};return b}(n);b.EQ=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){return n.parse(a,function(a,b){return a!==b})};return b}(n);b.NE=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||
this}h.__extends(b,a);b.parse=function(a){return n.parse(a,function(a,b){return a<b})};return b}(n);b.LT=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){return n.parse(a,function(a,b){return a<=b})};return b}(n);b.LE=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){return n.parse(a,function(a,b){return a>b})};return b}(n);b.GT=a;a=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){return n.parse(a,function(a,b){return a>=b})};return b}(n);b.GE=a;a=function(){function a(a){this.arg=a}a.parse=function(b){if(2!==b.length)throw Error('"!" expects 1 argument');return new a(l.createExpression(b[1]))};a.prototype.evaluate=function(a,b){return!this.arg.evaluate(a,b)};return a}();b.NOT=a;a=function(){function a(a){this.args=a}a.parse=function(b){for(var d=[],c=1;c<b.length;c++)d.push(l.createExpression(b[c]));return new a(d)};
a.prototype.evaluate=function(a,b){for(var c=0,d=this.args;c<d.length;c++)if(!d[c].evaluate(a,b))return!1;return!0};return a}();b.ALL=a;a=function(){function a(a){this.args=a}a.parse=function(b){for(var d=[],c=1;c<b.length;c++)d.push(l.createExpression(b[c]));return new a(d)};a.prototype.evaluate=function(a,b){for(var c=0,d=this.args;c<d.length;c++)if(d[c].evaluate(a,b))return!0;return!1};return a}();b.ANY=a;a=function(){function a(a){this.args=a}a.parse=function(b){for(var d=[],c=1;c<b.length;c++)d.push(l.createExpression(b[c]));
return new a(d)};a.prototype.evaluate=function(a,b){for(var c=0,d=this.args;c<d.length;c++)if(d[c].evaluate(a,b))return!1;return!0};return a}();b.NONE=a;a=function(){function a(a,b){this.args=a;this.fallback=b}a.parse=function(b){if(4>b.length)throw Error('"case" expects at least 3 arguments');if(1===b.length%2)throw Error('"case" expects an odd number of arguments');for(var d=[],c=1;c<b.length-1;c+=2)d.push({condition:l.createExpression(b[c]),output:l.createExpression(b[c+1])});return new a(d,l.createExpression(b[b.length-
1]))};a.prototype.evaluate=function(a,b){for(var c=0,d=this.args;c<d.length;c++){var f=d[c];if(f.condition.evaluate(a,b))return f.output.evaluate(a,b)}return this.fallback.evaluate(a,b)};return a}();b.Case=a;a=function(){function a(a){this.args=a}a.parse=function(b){if(2>b.length)throw Error('"coalesce" expects at least 1 argument');for(var d=[],c=1;c<b.length;c++)d.push(l.createExpression(b[c]));return new a(d)};a.prototype.evaluate=function(a,b){for(var c=0,d=this.args;c<d.length;c++){var f=d[c].evaluate(a,
b);if(null!==f)return f}return null};return a}();b.Coalesce=a;a=function(){function a(a,b,c,d){this.input=a;this.labels=b;this.outputs=c;this.fallback=d}a.parse=function(b){if(3>b.length)throw Error('"match" expects at least 3 arguments');if(0===b.length%2)throw Error('"case" expects an even number of arguments');for(var d=l.createExpression(b[1]),c=[],e={},f,g=2;g<b.length-1;g+=2){var h=b[g];Array.isArray(h)||(h=[h]);for(var m=0;m<h.length;m++){var n=h[m],u=typeof n;if("string"!==u&&"number"!==u)throw Error('"match" requires string or number literal as labels');
if(!f)f=u;else if(u!==f)throw Error('"match" requires labels to have the same type');e[n]=c.length}c.push(l.createExpression(b[g+1]))}return new a(d,e,c,l.createExpression(b[b.length-1]))};a.prototype.evaluate=function(a,b){var c=this.input.evaluate(a,b);return(this.outputs[this.labels[c]]||this.fallback).evaluate(a,b)};return a}();b.Match=a})},"esri/views/2d/engine/vectorTiles/expression/interpolate":function(){define("require exports ../../../../../Color ../../../unitBezier ../GeometryUtils ./expression".split(" "),
function(a,b,h,l,n,d){function g(a){return a>x?Math.pow(a,1/3):a/p+v}function k(a){return a>t?a*a*a:p*(a-v)}function c(a){return 255*(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function e(a){a/=255;return.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)}function f(a){var b=e(a.r),c=e(a.g),d=e(a.b),f=g((.4124564*b+.3575761*c+.1804375*d)/.95047),k=g((.2126729*b+.7151522*c+.072175*d)/1),b=g((.0193339*b+.119192*c+.9503041*d)/1.08883);return{l:116*k-16,a:500*(f-k),b:200*(k-b),alpha:a.a}}function r(a){var b=
(a.l+16)/116,d=isNaN(a.a)?b:b+a.a/500,e=isNaN(a.b)?b:b-a.b/200,b=1*k(b),d=.95047*k(d),e=1.08883*k(e);return new h([c(3.2404542*d-1.5371385*b-.4985314*e),c(-.969266*d+1.8760108*b+.041556*e),c(.0556434*d-.2040259*b+1.0572252*e),a.alpha])}function q(a,b,c){return{l:n.interpolate(a.l,b.l,c),a:n.interpolate(a.a,b.a,c),b:n.interpolate(a.b,b.b,c),alpha:n.interpolate(a.alpha,b.alpha,c)}}function m(a){var b=f(a),c=b.a,d=b.b,e=Math.atan2(d,c)*z;return{h:0>e?e+360:e,c:Math.sqrt(c*c+d*d),l:b.l,alpha:a.a}}function y(a){var b=
a.h*w,c=a.c;return r({l:a.l,a:Math.cos(b)*c,b:Math.sin(b)*c,alpha:a.alpha})}function u(a,b,c){var d=a.h,e=b.h-d;return{h:d+c*(180<e||-180>e?e-360*Math.round(e/360):e),c:n.interpolate(a.c,b.c,c),l:n.interpolate(a.l,b.l,c),alpha:n.interpolate(a.alpha,b.alpha,c)}}Object.defineProperty(b,"__esModule",{value:!0});b.Step=b.Interpolate=void 0;var v=4/29,t=6/29,p=3*t*t,x=t*t*t,w=Math.PI/180,z=180/Math.PI;a=function(){function a(a,b,c,d){this.operator=a;this.input=b;this.stops=c;this.interpolation=d}a.parse=
function(b){if(5>b.length)throw Error('"'+b[0]+'" expects at least 4 arguments.');var c=b[1];if(!Array.isArray(c)||0===c.length)throw Error('"'+b[0]+'" expects an interpolation type expression.');switch(c[0]){case "linear":break;case "exponential":if("number"!==typeof c[1])throw Error('"'+b[0]+'" expects a numeric base for exponential interpolation.');break;case "cubic-bezier":if(5!==c.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.");for(var e=
1;5>e;e++){var f=c[e];if("number"!==typeof f||0>f||1<f)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.");}break;default:throw Error('"'+b[0]+'" unknown interpolation type "'+c[0]+'".');}if(1!==b.length%2)throw Error('"'+b[0]+'" expects an even number of arguments.');for(var f=d.createExpression(b[2]),k=[],e=3;e<b.length;e+=2){var g=b[e];if("number"!==typeof g)throw Error('"'+b[0]+'" requires stop inputs as literal numbers.');if(k.length&&k[k.length-
1][0]>=g)throw Error('"'+b[0]+'" requires strictly ascending stop inputs.');k.push([g,d.createExpression(b[e+1])])}return new a(b[0],f,k,c)};a.prototype.evaluate=function(b,c){var d=this.stops;if(1===d.length)return d[0][1].evaluate(b,c);var e=this.input.evaluate(b,c);if(e<=d[0][0])return d[0][1].evaluate(b,c);if(e>=d[d.length-1][0])return d[d.length-1][1].evaluate(b,c);for(var k=0;++k<d.length&&!(e<d[k][0]););var g=a.interpolationRatio(this.interpolation,e,d[k-1][0],d[k][0]),e=d[k-1][1].evaluate(b,
c),h=d[k][1].evaluate(b,c);return"interpolate"===this.operator?Array.isArray(e)?e.map(function(a,b){return n.interpolate(a,h[b],g)}):n.interpolate(e,h,g):"interpolate-hcl"===this.operator?y(u(m(e),m(h),g)):r(q(f(e),f(h),g))};a.interpolationRatio=function(b,c,d,e){var f=0;"exponential"===b[0]?f=a.exponentialInterpolationRatio(c,b[1],d,e):"linear"===b[0]?f=a.exponentialInterpolationRatio(c,1,d,e):"cubic-bezier"===b[0]&&(f=l.unitBezier(b[1],b[2],b[3],b[4])(a.exponentialInterpolationRatio(c,1,d,e),1E-5));
return f};a.exponentialInterpolationRatio=function(a,b,c,d){d-=c;if(0===d)return 0;a-=c;return 1===b?a/d:(Math.pow(b,a)-1)/(Math.pow(b,d)-1)};return a}();b.Interpolate=a;a=function(){function a(a,b){this.input=a;this.stops=b}a.parse=function(b){if(5>b.length)throw Error('"step" expects at least 4 arguments.');if(1!==b.length%2)throw Error('"step" expects an even number of arguments.');var c=d.createExpression(b[1]),e=[];e.push([-Infinity,d.createExpression(b[2])]);for(var f=3;f<b.length;f+=2){var k=
b[f];if("number"!==typeof k)throw Error('"step" requires stop inputs as literal numbers.');if(e.length&&e[e.length-1][0]>=k)throw Error('"step" requires strictly ascending stop inputs.');e.push([k,d.createExpression(b[f+1])])}return new a(c,e)};a.prototype.evaluate=function(a,b){var c=this.stops;if(1===c.length)return c[0][1].evaluate(a,b);for(var d=this.input.evaluate(a,b),e=0;++e<c.length&&!(d<c[e][0]););return this.stops[e-1][1].evaluate(a,b)};return a}();b.Step=a})},"esri/views/2d/unitBezier":function(){define(["require",
"exports"],function(a,b){function h(a,b,g,k){function c(a,b){var c,e,k,g;k=a;for(e=0;8>e;e++){g=((h*k+f)*k+d)*k-a;if(Math.abs(g)<b)return k;c=(3*h*k+2*f)*k+d;if(1E-6>Math.abs(c))break;k-=g/c}c=0;e=1;k=a;if(k<c)return c;if(k>e)return e;for(;c<e;){g=((h*k+f)*k+d)*k;if(Math.abs(g-a)<b)break;a>g?c=k:e=k;k=.5*(e-c)+c}return k}var d=3*a,f=3*(g-a)-d,h=1-d-f,q=3*b,m=3*(k-b)-q,l=1-q-m;return function(a,b){void 0===b&&(b=1E-6);a=c(a,b);return((l*a+m)*a+q)*a}}Object.defineProperty(b,"__esModule",{value:!0});
b.parse=b.easingFunctions=b.unitBezier=void 0;b.unitBezier=h;var l=/^cubic-bezier\((.*)\)/;b.easingFunctions={};b.parse=function(a){var d=b.easingFunctions[a]||null;!d&&(a=l.exec(a))&&(a=a[1].split(",").map(function(a){return parseFloat(a.trim())}),4!==a.length||a.some(function(a){return isNaN(a)})||(d=h.apply(h,a)));return d};b.easingFunctions.ease=h(.25,.1,.25,1);b.easingFunctions.linear=h(0,0,1,1);b.easingFunctions.easeIn=b.easingFunctions["ease-in"]=h(.42,0,1,1);b.easingFunctions.easeOut=b.easingFunctions["ease-out"]=
h(0,0,.58,1);b.easingFunctions.easeInOut=b.easingFunctions["ease-in-out"]=h(.42,0,.58,1)})},"esri/views/2d/engine/vectorTiles/expression/lookup":function(){define(["require","exports","./expression"],function(a,b,h){Object.defineProperty(b,"__esModule",{value:!0});b.HasID=b.Slice=b.Length=b.IndexOf=b.In=b.Has=b.Get=b.At=void 0;a=function(){function a(a,b){this.index=a;this.array=b}a.parse=function(b){if(3!==b.length)throw Error('"at" expects 2 arguments.');var d=h.createExpression(b[1]);b=h.createExpression(b[2]);
return new a(d,b)};a.prototype.evaluate=function(a,b){var d=this.index.evaluate(a,b);a=this.array.evaluate(a,b);if(0>d||d>=a.length)throw Error('"at" index out of bounds.');if(d!==Math.floor(d))throw Error('"at" index must be an integer.');return a[d]};return a}();b.At=a;a=function(){function a(a,b){this.key=a;this.obj=b}a.parse=function(b){var d;switch(b.length){case 2:return d=h.createExpression(b[1]),new a(d);case 3:return d=h.createExpression(b[1]),b=h.createExpression(b[2]),new a(d,b);default:throw Error('"get" expects 1 or 2 arguments');
}};a.prototype.evaluate=function(a,b){var d=this.key.evaluate(a,b);return this.obj?this.obj.evaluate(a,b)[d]:a.values[d]};return a}();b.Get=a;a=function(){function a(a,b){this.key=a;this.obj=b}a.parse=function(b){var d;switch(b.length){case 2:return d=h.createExpression(b[1]),new a(d);case 3:return d=h.createExpression(b[1]),b=h.createExpression(b[2]),new a(d,b);default:throw Error('"has" expects 1 or 2 arguments');}};a.prototype.evaluate=function(a,b){var d=this.key.evaluate(a,b);return this.obj?
(a=this.obj.evaluate(a,b),d in a):void 0!==a.values[d]};return a}();b.Has=a;a=function(){function a(a,b){this.key=a;this.vals=b}a.parse=function(b){if(3!==b.length)throw Error('"in" expects 2 arguments');return new a(h.createExpression(b[1]),h.createExpression(b[2]))};a.prototype.evaluate=function(a,b){var d=this.key.evaluate(a,b);return-1!==this.vals.evaluate(a,b).indexOf(d)};return a}();b.In=a;a=function(){function a(a,b,g){this.item=a;this.array=b;this.from=g}a.parse=function(b){if(3>b.length||
4<b.length)throw Error('"index-of" expects 3 or 4 arguments.');var d=h.createExpression(b[1]),g=h.createExpression(b[2]);return 4===b.length?(b=h.createExpression(b[3]),new a(d,g,b)):new a(d,g)};a.prototype.evaluate=function(a,b){var d=this.item.evaluate(a,b),k=this.array.evaluate(a,b);if(this.from){a=this.from.evaluate(a,b);if(a!==Math.floor(a))throw Error('"index-of" index must be an integer.');return k.indexOf(d,a)}return k.indexOf(d)};return a}();b.IndexOf=a;a=function(){function a(a){this.arg=
a}a.parse=function(b){if(2!==b.length)throw Error('"length" expects 2 arguments.');b=h.createExpression(b[1]);return new a(b)};a.prototype.evaluate=function(a,b){a=this.arg.evaluate(a,b);if("string"===typeof a||Array.isArray(a))return a.length;throw Error('"length" expects string or array.');};return a}();b.Length=a;a=function(){function a(a,b,g){this.array=a;this.from=b;this.to=g}a.parse=function(b){if(3>b.length||4<b.length)throw Error('"slice" expects 2 or 3 arguments.');var d=h.createExpression(b[1]),
g=h.createExpression(b[2]);return 4===b.length?(b=h.createExpression(b[3]),new a(d,g,b)):new a(d,g)};a.prototype.evaluate=function(a,b){var d=this.array.evaluate(a,b),k=this.from.evaluate(a,b);if(0>k||k>=d.length)throw Error('"slice" index out of bounds.');if(k!==Math.floor(k))throw Error('"slice" index must be an integer.');if(this.to){a=this.to.evaluate(a,b);if(0>a||a>=d.length)throw Error('"slice" index out of bounds.');if(a!==Math.floor(a))throw Error('"slice" index must be an integer.');return d.slice(k,
a)}return d.slice(k)};return a}();b.Slice=a;a=function(){function a(){}a.parse=function(b){if(1!==b.length)throw Error('"has-id" expects no arguments');return new a};a.prototype.evaluate=function(a,b){return void 0!==a.id};return a}();b.HasID=a})},"esri/views/2d/engine/vectorTiles/expression/math":function(){define(["require","exports","tslib","./expression"],function(a,b,h,l){Object.defineProperty(b,"__esModule",{value:!0});b.Calculate=b.Add=b.Pow=b.Mod=b.Div=b.Mul=b.Sub=void 0;var n=function(){function a(a,
b){this.args=a;this.calculate=b}a.parse=function(b,d){b=b.slice(1).map(function(a){return l.createExpression(a)});return new a(b,d)};a.prototype.evaluate=function(a,b){var c;this.args&&(c=this.args.map(function(c){return c.evaluate(a,b)}));return this.calculate(c)};return a}();a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){switch(a.length){case 2:return n.parse(a,function(a){return-a[0]});case 3:return n.parse(a,function(a){return a[0]-
a[1]});default:throw Error('"-" expects 1 or 2 arguments');}};return b}(n);b.Sub=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){return n.parse(a,function(a){for(var b=1,c=0;c<a.length;c++)b*=a[c];return b})};return b}(n);b.Mul=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){if(3===a.length)return n.parse(a,function(a){return a[0]/a[1]});throw Error('"/" expects 2 arguments');
};return b}(n);b.Div=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){if(3===a.length)return n.parse(a,function(a){return a[0]%a[1]});throw Error('"%" expects 2 arguments');};return b}(n);b.Mod=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){if(3===a.length)return n.parse(a,function(a){return Math.pow(a[0],a[1])});throw Error('"^" expects 1 or 2 arguments');};return b}(n);
b.Pow=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);b.parse=function(a){return n.parse(a,function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b})};return b}(n);b.Add=a;a=function(){function a(a,b){this.args=a;this.calculate=b}a.parse=function(b){var d=b.slice(1).map(function(a){return l.createExpression(a)});return new a(d,a.ops[b[0]])};a.prototype.evaluate=function(a,b){var c;this.args&&(c=this.args.map(function(c){return c.evaluate(a,b)}));return this.calculate(c)};
a.ops={abs:function(a){return Math.abs(a[0])},acos:function(a){return Math.acos(a[0])},asin:function(a){return Math.asin(a[0])},atan:function(a){return Math.atan(a[0])},ceil:function(a){return Math.ceil(a[0])},cos:function(a){return Math.cos(a[0])},e:function(){return Math.E},floor:function(a){return Math.floor(a[0])},ln:function(a){return Math.log(a[0])},ln2:function(){return Math.LN2},log10:function(a){return Math.log(a[0])/Math.LN10},log2:function(a){return Math.log(a[0])/Math.LN2},max:function(a){return Math.max.apply(Math,
a)},min:function(a){return Math.min.apply(Math,a)},pi:function(){return Math.PI},round:function(a){return Math.round(a[0])},sin:function(a){return Math.sin(a[0])},sqrt:function(a){return Math.sqrt(a[0])},tan:function(a){return Math.tan(a[0])}};return a}();b.Calculate=a})},"esri/views/2d/engine/vectorTiles/expression/string":function(){define(["require","exports","./expression"],function(a,b,h){Object.defineProperty(b,"__esModule",{value:!0});b.String=b.Concat=void 0;a=function(){function a(a){this.args=
a}a.parse=function(b){return new a(b.slice(1).map(function(a){return h.createExpression(a)}))};a.prototype.evaluate=function(a,b){return this.args.map(function(d){return d.evaluate(a,b)}).join("")};return a}();b.Concat=a;a=function(){function a(a,b){this.arg=a;this.calculate=b}a.parse=function(b){if(2!==b.length)throw Error(b[0]+" expects 1 argument.");var d=h.createExpression(b[1]);return new a(d,a.ops[b[0]])};a.prototype.evaluate=function(a,b){return this.calculate(this.arg.evaluate(a,b))};a.ops=
{downcase:function(a){return a.toLowerCase()},upcase:function(a){return a.toUpperCase()}};return a}();b.String=a})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["require","exports","../../../../../Color","./expression"],function(a,b,h,l){function n(a,b){return{kind:"array",itemType:a,n:b}}function d(a){if("array"===a.kind){var b=d(a.itemType);return"number"===typeof a.n?"array\x3c"+b+", "+a.n+"\x3e":"value"===a.itemType.kind?"array":"array\x3c"+b+"\x3e"}return a.kind}function g(a){if(null===
a)return b.NullType;if("string"===typeof a)return b.StringType;if("boolean"===typeof a)return b.BooleanType;if("number"===typeof a)return b.NumberType;if(a instanceof h)return b.ColorType;if(Array.isArray(a)){for(var c=void 0,d=0;d<a.length;d++){var e=g(a[d]);if(c){if(c!==e){c=b.ValueType;break}}else c=e}return n(c||b.ValueType,a.length)}return b.ObjectType}function k(a,b){if("error"===a.kind)return null;if("array"===b.kind){if("array"===a.kind&&(0===a.n&&"value"===a.itemType.kind||!k(a.itemType,
b.itemType))&&("number"!==typeof b.n||b.n===a.n))return null}else{if(b.kind===a.kind)return null;if("value"===b.kind)for(var c=0,f=e;c<f.length;c++)if(!k(f[c],a))return null}return"Expected "+d(b)+" but found "+d(a)+" instead."}function c(a){var b=typeof a;return null===a?"":"string"===b||"number"===b||"boolean"===b?String(a):a instanceof h?a.toString():JSON.stringify(a)}Object.defineProperty(b,"__esModule",{value:!0});b.TypeOf=b.Literal=b.Coerce=b.Assert=b.valueToString=b.typeToString=b.array=b.ErrorType=
b.ValueType=b.ObjectType=b.ColorType=b.BooleanType=b.StringType=b.NumberType=b.NullType=void 0;b.NullType={kind:"null"};b.NumberType={kind:"number"};b.StringType={kind:"string"};b.BooleanType={kind:"boolean"};b.ColorType={kind:"color"};b.ObjectType={kind:"object"};b.ValueType={kind:"value"};b.ErrorType={kind:"error"};b.array=n;var e=[b.NullType,b.NumberType,b.StringType,b.BooleanType,b.ColorType,b.ObjectType,n(b.ValueType)];b.typeToString=d;b.valueToString=c;a=function(){function a(a,b){this.type=
a;this.args=b}a.parse=function(c){var d=c[0];if(2>c.length)throw Error(d+" expects at least one argument.");var e=1,f;if("array"===d){if(2<c.length){switch(c[1]){case "string":f=b.StringType;break;case "number":f=b.NumberType;break;case "boolean":f=b.BooleanType;break;default:throw Error('"array" type argument must be string, number or boolean');}e++}else f=b.ValueType;d=void 0;if(3<c.length){d=c[2];if(null!==d&&("number"!==typeof d||0>d||d!==Math.floor(d)))throw Error('"array" length argument must be a positive integer literal');
e++}f=n(f,d)}else switch(d){case "string":f=b.StringType;break;case "number":f=b.NumberType;break;case "boolean":f=b.BooleanType;break;case "object":f=b.ObjectType}for(d=[];e<c.length;e++){var k=l.createExpression(c[e]);d.push(k)}return new a(f,d)};a.prototype.evaluate=function(a,b){for(var c=0,d=this.args;c<d.length;c++){var e=d[c].evaluate(a,b);if(!k(g(e),this.type))return e}return null};return a}();b.Assert=a;a=function(){function a(a,b){this.type=a;this.args=b}a.parse=function(b){var c=b[0];if("to-boolean"===
c||"to-string"===c){if(2!==b.length)throw Error(c+" expects one argument.");}else if(2>b.length)throw Error(c+" expects at least one argument.");for(var c=a.types[c],d=[],e=1;e<b.length;e++){var f=l.createExpression(b[e]);d.push(f)}return new a(c,d)};a.prototype.evaluate=function(a,d){if(this.type===b.BooleanType)return!!this.args[0].evaluate(a,d);if(this.type===b.StringType)return c(this.args[0].evaluate(a,d));if(this.type===b.NumberType){for(var e=0,f=this.args;e<f.length;e++){var k=f[e],k=k.evaluate(a,
d);if(null===k)return 0;k=Number(k);if(!isNaN(k))return k}return null}if(this.type===b.ColorType){e=0;for(f=this.args;e<f.length;e++){k=f[e];k=k.evaluate(a,d);if(k instanceof h)return k;if("string"===typeof k)return h.fromString(k);if(Array.isArray(k)&&(3===k.length||4===k.length))return h.fromArray(k)}return null}};a.types={"to-boolean":b.BooleanType,"to-color":b.ColorType,"to-number":b.NumberType,"to-string":b.StringType};return a}();b.Coerce=a;a=function(){function a(a){this.val=a}a.parse=function(b){if(2!==
b.length)throw Error('"literal" expects 1 argument');return new a(b[1])};a.prototype.evaluate=function(a,b){return this.val};return a}();b.Literal=a;a=function(){function a(a){this.arg=a}a.parse=function(b){if(2!==b.length)throw Error('"typeof" expects 1 argument');return new a(l.createExpression(b[1]))};a.prototype.evaluate=function(a,b){return d(g(this.arg.evaluate(a,b)))};return a}();b.TypeOf=a})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],
function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.StyleDefinition=void 0;a=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel",
"round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",
default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",
values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:"center"},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",
default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none",
"uppercase","lowercase"],default:"none"},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:["horizontal"]}};a.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",
default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};a.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",
minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1}};a.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",
default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",
minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,
default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};a.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},
"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};return a}();b.StyleDefinition=a})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define("require exports ../../../../../Color ../GeometryUtils ../expression/definition ../expression/expression".split(" "),function(a,b,h,l,n,d){return function(){function a(b,c){this.isDataDriven=
!1;var e;switch(b.type){case "number":e=!0;break;case "color":e=!0;c=a._parseColor(c);break;case "array":e="number"===b.value;break;default:e=!1}null==c&&(c=b.default);if(Array.isArray(c)&&0<c.length&&n.ops[c[0]])try{var f=d.createExpression(c);this.getValue=this._buildExpression(f,b);this.isDataDriven=!0}catch(y){console.log(y.message),this.getValue=this._buildSimple(b.default)}else{e&&"interval"===c.type&&(e=!1);if(f=c&&c.stops&&0<c.stops.length)for(var k=0,g=c.stops;k<g.length;k++){var m=g[k];
m[1]=this._validate(m[1],b)}if(this.isDataDriven=c?!!c.property:!1)if(void 0!==c.default&&(c.default=this._validate(c.default,b)),f)switch(c.type){case "identity":this.getValue=this._buildIdentity(c,b);break;case "categorical":this.getValue=this._buildCategorical(c,b);break;default:this.getValue=e?this._buildInterpolate(c,b):this._buildInterval(c,b)}else this.getValue=this._buildIdentity(c,b);else f?this.getValue=e?this._buildZoomInterpolate(c):this._buildZoomInterval(c):(c=this._validate(c,b),this.getValue=
this._buildSimple(c))}}a.prototype._validate=function(a,b){if("number"===b.type){if(a<b.minimum)return b.minimum;if(a>b.maximum)return b.maximum}return a};a.prototype._buildSimple=function(a){return function(){return a}};a.prototype._buildExpression=function(a,b){return function(c,d){try{return a.evaluate(d,c)}catch(r){return console.log(r.message),b.default}}};a.prototype._buildIdentity=function(b,c){var d=this;return function(e,k){var f;k&&(f=k.values[b.property],"color"===c.type&&(f=a._parseColor(f)));
void 0===f&&(f=b.default);return void 0!==f?d._validate(f,c):c.default}};a.prototype._buildCategorical=function(a,b){var c=this;return function(d,e){var f;e&&(f=e.values[a.property]);f=c._categorical(f,a.stops);return void 0!==f?f:void 0!==a.default?a.default:b.default}};a.prototype._buildInterval=function(a,b){var c=this;return function(d,e){var f;e&&(f=e.values[a.property]);return"number"===typeof f?c._interval(f,a.stops):void 0!==a.default?a.default:b.default}};a.prototype._buildInterpolate=function(a,
b){var c=this;return function(d,e){var f;e&&(f=e.values[a.property]);return"number"===typeof f?c._interpolate(f,a.stops,a.base||1):void 0!==a.default?a.default:b.default}};a.prototype._buildZoomInterpolate=function(a){var b=this;return function(c){return b._interpolate(c,a.stops,a.base||1)}};a.prototype._buildZoomInterval=function(a){var b=this;return function(c){return b._interval(c,a.stops)}};a.prototype._categorical=function(a,b){for(var c=b.length,d=0;d<c;d++)if(b[d][0]===a)return b[d][1]};a.prototype._interval=
function(a,b){for(var c=b.length,d=0,k=0;k<c;k++)if(b[k][0]<=a)d=k;else break;return b[d][1]};a.prototype._interpolate=function(a,b,d){for(var c,e,k=b.length,g=0;g<k;g++){var h=b[g];if(h[0]<=a)c=h;else{e=h;break}}if(c&&e){g=e[0]-c[0];a-=c[0];d=1===d?a/g:(Math.pow(d,a)-1)/(Math.pow(d,g)-1);if(Array.isArray(c[1])){c=c[1];e=e[1];a=[];for(g=0;g<c.length;g++)a.push(l.interpolate(c[g],e[g],d));return a}return l.interpolate(c[1],e[1],d)}if(c)return c[1];if(e)return e[1]};a._isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;
return!0};a._parseColor=function(b){if(Array.isArray(b))return b;if("string"===typeof b){if(b=new h(b),!this._isEmpty(b))return h.toUnitRGBA(b)}else return b&&b.default&&(b.default=a._parseColor(b.default)),b&&b.stops&&(b.stops=b.stops.map(function(b){return[b[0],a._parseColor(b[1])]})),b};return a}()})},"esri/views/2d/engine/webgl/definitions":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.SPRITE_PADDING=b.MAX_GPU_UPLOADS_PER_FRAME=b.VTL_HIGH_RES_CUTOFF=
b.VTL_TEXTURE_BINDING_UNIT_GLYPHS=b.VTL_TEXTURE_BINDING_UNIT_SPRITES=b.HITTEST_SEARCH_SIZE=b.THIN_LINE_THRESHOLD=b.EFFECT_FLAG_0=b.FILTER_FLAG_0=b.HIGHLIGHT_FLAG=b.MAX_FILTERS=b.ATTRIBUTE_DATA_DD1=b.ATTRIBUTE_DATA_DD0=b.ATTRIBUTE_DATA_VV=b.ATTRIBUTE_DATA_ANIMATION=b.ATTRIBUTE_DATA_FILTER_FLAGS=b.TEXTURE_BINDING_RENDERER_1=b.TEXTURE_BINDING_RENDERER_0=b.TEXTURE_BINDING_HIGHLIGHT_1=b.TEXTURE_BINDING_HIGHLIGHT_0=b.TEXTURE_BINDING_ATTRIBUTE_DATA_3=b.TEXTURE_BINDING_ATTRIBUTE_DATA_2=b.TEXTURE_BINDING_ATTRIBUTE_DATA_1=
b.TEXTURE_BINDING_ATTRIBUTE_DATA_0=b.TEXTURE_BINDING_BITMAP=b.TEXTURE_BINDING_GLYPH_ATLAS=b.TEXTURE_BINDING_SPRITE_ATLAS=b.ATTRIBUTE_STORE_TEXTURE_SIZE=b.AVERAGE_GLYPH_MOSAIC_ITEM=b.TEXT_PLACEMENT_PADDING=b.GLYPH_SIZE=b.HEURISTIC_GLYPHS_PER_FEATURE=b.HEURISTIC_GLYPHS_PER_LINE=b.COLLISION_PLACEMENT_PADDING=b.COLLISION_TILE_BOX_SIZE=b.COLLISION_BOX_PADDING=b.COLLISION_EARLY_REJECT_BUCKET_SIZE=b.COLLISION_MAX_ZOOM_DELTA=b.MAGIC_LABEL_LINE_HEIGHT=b.DOT_DENSITY_MAX_FIELDS=b.COLLISION_BUCKET_SIZE=b.DEBUG_LABELS=
b.ANGLE_FACTOR_256=b.RASTER_TILE_SIZE=b.TILE_SIZE=b.PICTURE_FILL_COLOR=b.EXTRUDE_SCALE=b.NAN_MAGIC_NUMBER=b.WEBGL_MAX_INNER_STOPS=b.WEBGL_MAX_STOPS=void 0;b.WEBGL_MAX_STOPS=8;b.WEBGL_MAX_INNER_STOPS=b.WEBGL_MAX_STOPS-2;b.NAN_MAGIC_NUMBER=1E-30;b.EXTRUDE_SCALE=64;b.PICTURE_FILL_COLOR=4294967295;b.TILE_SIZE=512;b.RASTER_TILE_SIZE=256;b.ANGLE_FACTOR_256=256/360;b.DEBUG_LABELS=!1;b.COLLISION_BUCKET_SIZE=128;b.DOT_DENSITY_MAX_FIELDS=8;b.MAGIC_LABEL_LINE_HEIGHT=29;b.COLLISION_MAX_ZOOM_DELTA=1;b.COLLISION_EARLY_REJECT_BUCKET_SIZE=
16;b.COLLISION_BOX_PADDING=16;b.COLLISION_TILE_BOX_SIZE=b.TILE_SIZE/b.COLLISION_BUCKET_SIZE;b.COLLISION_PLACEMENT_PADDING=8;b.HEURISTIC_GLYPHS_PER_LINE=50;b.HEURISTIC_GLYPHS_PER_FEATURE=10;b.GLYPH_SIZE=24;b.TEXT_PLACEMENT_PADDING=8;b.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};b.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;b.TEXTURE_BINDING_SPRITE_ATLAS=0;b.TEXTURE_BINDING_GLYPH_ATLAS=0;b.TEXTURE_BINDING_BITMAP=0;b.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;b.TEXTURE_BINDING_ATTRIBUTE_DATA_1=
2;b.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;b.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;b.TEXTURE_BINDING_HIGHLIGHT_0=5;b.TEXTURE_BINDING_HIGHLIGHT_1=6;b.TEXTURE_BINDING_RENDERER_0=5;b.TEXTURE_BINDING_RENDERER_1=6;b.ATTRIBUTE_DATA_FILTER_FLAGS=0;b.ATTRIBUTE_DATA_ANIMATION=1;b.ATTRIBUTE_DATA_VV=2;b.ATTRIBUTE_DATA_DD0=3;b.ATTRIBUTE_DATA_DD1=3;b.MAX_FILTERS=2;b.HIGHLIGHT_FLAG=1;b.FILTER_FLAG_0=2;b.EFFECT_FLAG_0=4;b.THIN_LINE_THRESHOLD=2.5;b.HITTEST_SEARCH_SIZE=24;b.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;b.VTL_TEXTURE_BINDING_UNIT_GLYPHS=
6;b.VTL_HIGH_RES_CUTOFF=1.15;b.MAX_GPU_UPLOADS_PER_FRAME=2;b.SPRITE_PADDING=2})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["require","exports","tslib","./GeometryUtils","./MemoryBuffer"],function(a,b,h,l,n){Object.defineProperty(b,"__esModule",{value:!0});b.CircleVertexBuffer=b.SymbolVertexBuffer=b.OutlineVertexBuffer=b.FillVertexBuffer=b.LineVertexBuffer=void 0;var d=new Float32Array(1),g=new Uint32Array(d.buffer);a=function(a){function b(b){var c=a.call(this,b?20:
12)||this;c._isDataDriven=b;return c}h.__extends(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c,k,m,h,l,v){var e=this.array;a=n.i1616to32(a,b);e.push(a);a=n.i8888to32(Math.round(31*c),Math.round(31*k),Math.round(31*m),Math.round(31*h));e.push(a);a=n.i1616to32(l,0);e.push(a);if(this._isDataDriven){if(!v)throw Error("Expecting data driven values.");c=v.color;k=c[3]*v.opacity*255;e.push(n.i8888to32(c[0]*k,c[1]*k,c[2]*k,k));d[0]=v.size;e.push(g[0])}};
return b}(n);b.LineVertexBuffer=a;a=function(a){function b(b){var c=a.call(this,b?8:4)||this;c._isDataDriven=b;return c}h.__extends(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c){var d=this.array;d.push(n.i1616to32(a,b));if(this._isDataDriven){if(!c)throw Error("Expecting data driven values.");a=c.color;c=a[3]*c.opacity*255;d.push(n.i8888to32(a[0]*c,a[1]*c,a[2]*c,c))}};return b}(n);b.FillVertexBuffer=a;a=function(a){function b(b){var c=a.call(this,
b?12:8)||this;c._isDataDriven=b;return c}h.__extends(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c,d,k,g,h){var e=this.array,f=this.index;a=n.i1616to32(a,b);e.push(a);a=n.i8888to32(Math.round(15*c),Math.round(15*d),k,g);e.push(a);if(this._isDataDriven){if(!h)throw Error("Expecting data driven values.");c=h.color;h=c[3]*h.opacity*255;e.push(n.i8888to32(c[0]*h,c[1]*h,c[2]*h,h))}return f};return b}(n);b.OutlineVertexBuffer=a;a=function(a){function b(b){var c=
a.call(this,b?24:16)||this;c._isDataDriven=b;return c}h.__extends(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c,k,m,h,u,v,t,p,x,w){var e=this.array;a=n.i1616to32(a,b);e.push(a);a=n.i1616to32(Math.round(8*c),Math.round(8*k));e.push(a);a=n.i8888to32(m/4,h/4,v,t);e.push(a);a=n.i8888to32(0,l.radToByte(u),10*p,Math.min(10*x,255));e.push(a);if(this._isDataDriven){if(!w)throw Error("Expecting data driven values.");c=w.color;k=c[3]*w.opacity*255;e.push(n.i8888to32(c[0]*
k,c[1]*k,c[2]*k,k));d[0]=w.size;e.push(g[0])}};return b}(n);b.SymbolVertexBuffer=a;a=function(a){function b(){return a.call(this,16)||this}h.__extends(b,a);b.prototype.add=function(a,b,c,d,k,g,h,l,t,p,x){var e=this.array;a=n.i1616to32(2*a+c,2*b+d);e.push(a);h=g[3]*h*255;a=n.i8888to32(g[0]*h,g[1]*h,g[2]*h,h);e.push(a);g=p[3]*x*255;a=n.i8888to32(p[0]*g,p[1]*g,p[2]*g,g);e.push(a);a=n.i8888to32(Math.min(32*l,255),Math.min(4*t,255),Math.min(k,255),0);e.push(a)};return b}(n);b.CircleVertexBuffer=a})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require",
"exports","./definitions","./Geometry","./GeometryUtils"],function(a,b,h,l,n){Object.defineProperty(b,"__esModule",{value:!0});b.SimpleBuilder=b.TileClipper=void 0;var d=function(){return function(a,b,d){this.ratio=a;this.x=b;this.y=d}}();a=function(){function a(a,b,d,k,g){void 0===k&&(k=8);void 0===g&&(g=8);this.lines=[];this.starts=[];this.pixelRatio=k;this.pixelMargin=g;this.tileSize=h.TILE_SIZE*k;this.dz=a;this.yPos=b;this.xPos=d}a.prototype.setExtent=function(a){this.finalRatio=this.tileSize/
a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};a.prototype.moveTo=function(a,b){this._pushLine();this._prevIsIn=this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);this._prevPt=new l.Point(a,b);this._firstPt=new l.Point(a,b);this._dist=0};
a.prototype.lineTo=function(a,b){var c=this._isIn(a,b),e=new l.Point(a,b),k=l.Point.distance(this._prevPt,e),g,h,n;if(c)this._prevIsIn?this._lineTo(a,b,!0):(g=this._prevPt,h=e,a=this._intersect(h,g),this.start=this._dist+k*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(h.x,h.y,!0));else if(this._prevIsIn)h=this._prevPt,g=e,a=this._intersect(h,g),this._lineTo(a.x,a.y,!0),this._lineTo(g.x,g.y,!1);else{var v=this._prevPt;if(!(v.x<=this.xmin&&e.x<=this.xmin||v.x>=this.xmax&&e.x>=this.xmax||v.y<=this.ymin&&
e.y<=this.ymin||v.y>=this.ymax&&e.y>=this.ymax)){a=[];if(v.x<this.xmin&&e.x>this.xmin||v.x>this.xmin&&e.x<this.xmin)b=(this.xmin-v.x)/(e.x-v.x),n=v.y+b*(e.y-v.y),n<=this.ymin?h=!1:n>=this.ymax?h=!0:a.push(new d(b,this.xmin,n));if(v.x<this.xmax&&e.x>this.xmax||v.x>this.xmax&&e.x<this.xmax)b=(this.xmax-v.x)/(e.x-v.x),n=v.y+b*(e.y-v.y),n<=this.ymin?h=!1:n>=this.ymax?h=!0:a.push(new d(b,this.xmax,n));if(v.y<this.ymin&&e.y>this.ymin||v.y>this.ymin&&e.y<this.ymin)b=(this.ymin-v.y)/(e.y-v.y),n=v.x+b*(e.x-
v.x),n<=this.xmin?g=!1:n>=this.xmax?g=!0:a.push(new d(b,n,this.ymin));if(v.y<this.ymax&&e.y>this.ymax||v.y>this.ymax&&e.y<this.ymax)b=(this.ymax-v.y)/(e.y-v.y),n=v.x+b*(e.x-v.x),n<=this.xmin?g=!1:n>=this.xmax?g=!0:a.push(new d(b,n,this.ymax));if(0===a.length)g?h?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):h?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<a.length&&a[0].ratio>a[1].ratio)this.start=this._dist+k*a[1].ratio,this._lineTo(a[1].x,
a[1].y,!0),this._lineTo(a[0].x,a[0].y,!0);else for(this.start=this._dist+k*a[0].ratio,g=0;g<a.length;g++)this._lineTo(a[g].x,a[g].y,!0)}this._lineTo(e.x,e.y,!1)}this._dist+=k;this._prevIsIn=c;this._prevPt=e};a.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,b=this._prevPt;a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y);a=this.line;for(b=a.length;4<=b;)if(a[0].x===a[1].x&&a[0].x===a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y,--b;else break}};
a.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;3===this.type&&a&&g.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var d=[],k=0;k<b;k++)d.push({line:a[k],start:this.starts[k]||0});return d};a.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&
b>=this.ymin&&b<=this.ymax};a.prototype._intersect=function(a,b){var c,d,e;if(b.x>=this.xmin&&b.x<=this.xmax)d=b.y<=this.ymin?this.ymin:this.ymax,e=(d-a.y)/(b.y-a.y),c=a.x+e*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,e=(c-a.x)/(b.x-a.x),d=a.y+e*(b.y-a.y);else{d=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:this.xmax;var k=(c-a.x)/(b.x-a.x),g=(d-a.y)/(b.y-a.y);k<g?(e=k,d=a.y+k*(b.y-a.y)):(e=g,c=a.x+g*(b.x-a.x))}this._r=e;return new l.Point(c,
d)};a.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,b,d){3!==this.type?d&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*
this.finalRatio),this.line.push(new l.Point(a,b))):(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new l.Point(a,b)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,b,d){if(3!==this.type)if(d){a=Math.round((a-(this.xmin+this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);
if(0<this.line.length&&(d=this.line[this.line.length-1],d.equals(a,b)))return;this.line.push(new l.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){d=this.line[this.line.length-1];var c=d.x===a,e=d.y===b;c&&e||(this._is_h&&
c?(d.x=a,d.y=b,d=this.line[this.line.length-2],d.x===a&&d.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(d=this.line[this.line.length-2],this._is_h=d.x===a,this._is_v=d.y===b)):(this._is_h=d.x===a,this._is_v=d.y===b)):this._is_v&&e?(d.x=a,d.y=b,d=this.line[this.line.length-2],d.x===a&&d.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(d=this.line[this.line.length-2],this._is_h=d.x===a,this._is_v=d.y===b)):(this._is_h=d.x===a,this._is_v=d.y===b)):(this.line.push(new l.Point(a,
b)),this._is_h=c,this._is_v=e))}else this.line.push(new l.Point(a,b))};return a}();b.TileClipper=a;a=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);this.line=[];var c=this._ratio;this.line.push(new l.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.lineTo=function(a,b){var c=this._ratio;this.line.push(new l.Point(Math.round(a*
c),Math.round(b*c)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&g.simplify(4096,64,this.lines);return this.lines};return a}();b.SimpleBuilder=a;var g=function(){function a(){}a.simplify=function(b,d,f){if(f){var c=-d,e=b+d,k=-d,g=b+d;b=[];d=[];for(var h=f.length,l=0;l<h;++l){var t=f[l];if(t&&!(2>t.length))for(var p=
t[0],n=void 0,w=t.length,z=1;z<w;++z)n=t[z],p.x===n.x&&(p.x<=c&&(p.y>n.y?(b.push(l),b.push(z),b.push(0),b.push(-1)):(d.push(l),d.push(z),d.push(0),d.push(-1))),p.x>=e&&(p.y<n.y?(b.push(l),b.push(z),b.push(1),b.push(-1)):(d.push(l),d.push(z),d.push(1),d.push(-1)))),p.y===n.y&&(p.y<=k&&(p.x<n.x?(b.push(l),b.push(z),b.push(2),b.push(-1)):(d.push(l),d.push(z),d.push(2),d.push(-1))),p.y>=g&&(p.x>n.x?(b.push(l),b.push(z),b.push(3),b.push(-1)):(d.push(l),d.push(z),d.push(3),d.push(-1)))),p=n}0!==b.length&&
0!==d.length&&(a.fillParent(f,d,b),a.fillParent(f,b,d),c=[],a.calcDeltas(c,d,b),a.calcDeltas(c,b,d),a.addDeltas(c,f))}};a.fillParent=function(a,b,d){for(var c=d.length,e=b.length,f=0;f<e;f+=4){for(var k=b[f],g=b[f+1],h=b[f+2],l=a[k][g-1],k=a[k][g],g=8092,p=-1,x=0;x<c;x+=4)if(d[x+2]===h){var w=d[x],z=d[x+1],B=a[w][z-1],w=a[w][z];switch(h){case 0:case 1:n.between(l.y,B.y,w.y)&&n.between(k.y,B.y,w.y)&&(B=Math.abs(w.y-B.y),B<g&&(g=B,p=x));break;case 2:case 3:n.between(l.x,B.x,w.x)&&n.between(k.x,B.x,
w.x)&&(B=Math.abs(w.x-B.x),B<g&&(g=B,p=x))}}b[f+3]=p}};a.calcDeltas=function(b,d,f){for(var c=d.length,e=0;e<c;e+=4){var k=a.calcDelta(e,d,f,[]);b.push(d[e]);b.push(d[e+1]);b.push(d[e+2]);b.push(k)}};a.calcDelta=function(b,d,f,k){b=d[b+3];if(-1===b)return 0;var c=k.length;if(1<c&&k[c-2]===b)return 0;k.push(b);return a.calcDelta(b,f,d,k)+1};a.addDeltas=function(a,b){for(var c=a.length,d=0,e=0;e<c;e+=4){var k=a[e+3];k>d&&(d=k)}for(e=0;e<c;e+=4){var g=b[a[e]],h=a[e+1],k=d-a[e+3];switch(a[e+2]){case 0:g[h-
1].x-=k;g[h].x-=k;1===h&&(g[g.length-1].x-=k);h===g.length-1&&(g[0].x-=k);break;case 1:g[h-1].x+=k;g[h].x+=k;1===h&&(g[g.length-1].x+=k);h===g.length-1&&(g[0].x+=k);break;case 2:g[h-1].y-=k;g[h].y-=k;1===h&&(g[g.length-1].y-=k);h===g.length-1&&(g[0].y-=k);break;case 3:g[h-1].y+=k,g[h].y+=k,1===h&&(g[g.length-1].y+=k),h===g.length-1&&(g[0].y+=k)}}};return a}()})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],function(a,b){function h(a,b){a%=b;return 0<=a?a:a+b}
Object.defineProperty(b,"__esModule",{value:!0});b.between=b.interpolate=b.sqr=b.log2=b.degToByte=b.radToByte=b.positiveMod=b.C_SQRT2_INV=b.C_SQRT2=b.C_DEG_TO_RAD=b.C_DEG_TO_256=b.C_256_TO_RAD=b.C_RAD_TO_256=b.C_PI_BY_2=b.C_2PI=b.C_PI=b.C_INFINITY=void 0;b.C_INFINITY=Number.POSITIVE_INFINITY;b.C_PI=Math.PI;b.C_2PI=2*b.C_PI;b.C_PI_BY_2=b.C_PI/2;b.C_RAD_TO_256=128/b.C_PI;b.C_256_TO_RAD=b.C_PI/128;b.C_DEG_TO_256=256/360;b.C_DEG_TO_RAD=b.C_PI/180;b.C_SQRT2=1.414213562;b.C_SQRT2_INV=1/b.C_SQRT2;var l=
1/Math.LN2;b.positiveMod=h;b.radToByte=function(a){return h(a*b.C_RAD_TO_256,256)};b.degToByte=function(a){return h(a*b.C_DEG_TO_256,256)};b.log2=function(a){return Math.log(a)*l};b.sqr=function(a){return a*a};b.interpolate=function(a,b,g){return a*(1-g)+b*g};b.between=function(a,b,g){return a>=b&&a<=g||a>=g&&a<=b}})},"esri/views/2d/tiling/enums":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.TileStatus=void 0;a=b.TileStatus||(b.TileStatus=
{});a[a.INITIALIZED=0]="INITIALIZED";a[a.NO_DATA=1]="NO_DATA";a[a.READY=2]="READY";a[a.MODIFIED=3]="MODIFIED";a[a.INVALID=4]="INVALID"})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["require","exports","../../../../../core/has","./StyleLayer"],function(a,b,h,l){return function(){function a(b,g){this.backgroundBucketIds=[];this._layerByName={};this.styleJSON=b;this.version=parseFloat(b.version);this.sprite=g?g.spriteUrl:b.sprite;this.glyphs=g?g.glyphsUrl:b.glyphs;if(this.layers=
(b.layers||[]).map(a._create))for(b=void 0,g=0;g<this.layers.length;g++)b=this.layers[g],this._layerByName[b.id.toLowerCase()]=b,0===b.type&&this.backgroundBucketIds.push(g);this._identifyRefLayers()}a.prototype.isPainterDataDriven=function(a){return(a=this._layerByName[a.toLowerCase()])?a.isPainterDataDriven():!1};a.prototype.getStyleLayerId=function(a){return a>=this.layers.length?null:this.layers[a].id};a.prototype.getLayoutProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.layout:
null};a.prototype.getPaintProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.paint:null};a.prototype.setPaintProperties=function(b,g){b=this._layerByName[b.toLowerCase()];if(!b)return"";var d=this.layers.indexOf(b);this.styleJSON.layers[d].paint=g;g=a._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,layout:b.layout,paint:g},b);this.layers[d]=g;this._layerByName[b.id.toLowerCase()]=g;return b.id};
a.prototype.setLayoutProperties=function(b,g){b=this._layerByName[b.toLowerCase()];if(!b)return"";var d=this.layers.indexOf(b);this.styleJSON.layers[d].layout=g;g=a._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,layout:g,paint:b.paint},b);this.layers[d]=g;this._layerByName[b.id.toLowerCase()]=g;return b.id};a.prototype._identifyRefLayers=function(){for(var a=[],b=[],k=0,c=0,e=this.layers;c<e.length;c++){var f=
e[c];if(1===f.type){var h=f,l=f.source+"|"+f.sourceLayer,l=l+("|"+JSON.stringify(f.layout&&f.layout.visibility)),l=l+("|"+JSON.stringify(f.minzoom)),l=l+("|"+JSON.stringify(f.maxzoom)),l=l+("|"+JSON.stringify(f.filter));if(h.hasDataDrivenFill||h.hasDataDrivenOutline)l+="|"+JSON.stringify(k);a.push({key:l,layer:f})}2===f.type&&(h=f,l=f.source+"|"+f.sourceLayer,l+="|"+JSON.stringify(f.layout&&f.layout.visibility),l+="|"+JSON.stringify(f.minzoom),l+="|"+JSON.stringify(f.maxzoom),l+="|"+JSON.stringify(f.filter),
l+="|"+JSON.stringify(f.layout&&f.layout["line-cap"]),l+="|"+JSON.stringify(f.layout&&f.layout["line-join"]),h.hasDataDrivenLine&&(l+="|"+JSON.stringify(k)),b.push({key:l,layer:f}));++k}this._assignRefLayers(a);this._assignRefLayers(b)};a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var b,d,c=a.length,e=0;e<c;e++){var f=a[e];if(f.key===b)f.layer.refLayerId=d;else if(b=f.key,d=f.layer.id,1===f.layer.type&&!f.layer.getPaintProperty("fill-outline-color"))for(var h=
e+1;h<c;h++){var l=a[h];if(l.key===b){if(l.layer.getPaintProperty("fill-outline-color")){a[e]=l;a[h]=f;d=l.layer.id;break}}else break}}};a._create=function(a,b,k){b=1-1/(k.length+1)*(1+b);switch(a.type){case "background":return new l.BackgroundStyleLayer(0,a,b);case "fill":return new l.FillStyleLayer(1,a,b);case "line":return new l.LineStyleLayer(2,a,b);case "symbol":return new l.SymbolStyleLayer(3,a,b);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new l.CircleStyleLayer(4,
a,b)}throw Error("Unknown vector tile layer");};a._recreateLayer=function(a,b){switch(a.type){case "background":return new l.BackgroundStyleLayer(0,a,b.z);case "fill":return new l.FillStyleLayer(1,a,b.z);case "line":return new l.LineStyleLayer(2,a,b.z);case "symbol":return new l.SymbolStyleLayer(3,a,b.z);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new l.CircleStyleLayer(4,a,b.z)}};return a}()})},"esri/geometry":function(){define("require exports tslib ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,h,l,n,d,g,k,c,e,f,r,q){Object.defineProperty(b,"__esModule",{value:!0});b.ensureType=b.geometryTypes=b.isGeometry=b.SpatialReference=b.Polyline=b.Polygon=b.Point=b.Multipoint=b.BaseGeometry=b.Extent=void 0;b.Extent=n;b.BaseGeometry=d;b.Multipoint=g;b.Point=k;b.Polygon=c;b.Polyline=e;b.SpatialReference=f;h.__exportStar(r,b);b.isGeometry=function(a){return a instanceof d};Object.defineProperty(b,"fromJSON",{enumerable:!0,get:function(){return q.fromJSON}});b.geometryTypes={base:d,key:"type",
typeMap:{extent:n,multipoint:g,point:k,polyline:e,polygon:c}};b.ensureType=l.ensureOneOfType(b.geometryTypes)})},"esri/geometry/Extent":function(){define("require exports tslib ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,h,l,n,d,g,k,c,e,f,r,q){function m(a,b,c){return null==b?c:null==c?b:a(b,c)}a=function(a){function b(){for(var b=
[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}h.__extends(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,b,d,e,f){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?c.WGS84:a.spatialReference,a):{xmin:a,ymin:b,xmax:d,ymax:e,spatialReference:null==f?c.WGS84:f}:{spatialReference:a,
xmin:0,ymin:0,xmax:0,ymax:0}};b.fromBounds=function(a,b){return new g({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};Object.defineProperty(b.prototype,"center",{get:function(){var a=new k({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},
enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-
this.xmin)},enumerable:!1,configurable:!0});b.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=function(){var a=new g;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;
var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&q.canProject(b,c)&&(a=b.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));return"point"===a.type?e.extentContainsPoint(this,a):"extent"===a.type?e.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&q.canProject(b,c)&&(a=b.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));return this.xmin===
a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,c=this.height*a;this.xmin+=b;this.ymin+=c;this.xmax-=b;this.ymax-=c;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(l.isNone(a))return!1;var b=this.spatialReference,
c=a.spatialReference;b&&c&&!b.equals(c)&&q.canProject(b,c)&&(a=b.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));b=f.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,c){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=c&&(this.zmin+=c,this.zmax+=c);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};
b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=m(Math.min,this.zmin,a.zmin),this.zmax=m(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=m(Math.min,this.mmin,a.mmin),this.mmax=m(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=
Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=m(Math.max,this.zmin,a.zmin),this.zmax=m(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=m(Math.max,this.mmin,a.mmin),this.mmax=m(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===a&&(a=r.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,
d=this._getCM(a);if(d){var e=b.isWebMercator?q.webMercatorToGeographic(d):d;this.xmin-=d.x;this.xmax-=d.x;b.isWebMercator||(e.x=this._normalizeX(e.x,a).x);this.spatialReference=new c(n.replace(b.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:e.x}))}return this};b.prototype._getCM=function(a){var b=null,c=a.valid;a=c[0];var c=c[1],d=this.xmin,e=this.xmax;d>=a&&d<=c&&e>=a&&e<=c||(b=this.center);return b};b.prototype._normalize=function(a,b,c){var d=this.spatialReference;if(!d)return this;c=c||
r.getInfo(d);if(!c)return this;var e=this._getParts(c).map(function(a){return a.extent});if(2>e.length)return e[0]||this;if(2<e.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);if(b)return e;var f=!0,k=!0;e.forEach(function(a){a.hasZ||(f=!1);a.hasM||(k=!1)});return{rings:e.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(f)for(var c=(a.zmax-a.zmin)/2,d=0;d<b.length;d++)b[d].push(c);if(k)for(a=
(a.mmax-a.mmin)/2,d=0;d<b.length;d++)b[d].push(a);return b}),hasZ:f,hasM:k,spatialReference:d}};b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],c=this.ymin,d=this.ymax,e=this.spatialReference,f=this.width,k=this.xmin,h=this.xmax,m=void 0;a=a||r.getInfo(e);var l=a.valid,q=l[0],n=l[1],m=this._normalizeX(this.xmin,a),t=m.x,l=m.frameId,m=this._normalizeX(this.xmax,a),u=m.x;a=m.frameId;m=t===u&&0<f;if(f>2*n){f=new g(k<h?t:u,c,n,d,e);k=new g(q,c,k<h?u:t,d,e);h=new g(0,c,n,d,e);
c=new g(q,c,0,d,e);d=[];e=[];f.contains(h)&&d.push(l);f.contains(c)&&e.push(l);k.contains(h)&&d.push(a);k.contains(c)&&e.push(a);for(q=l+1;q<a;q++)d.push(q),e.push(q);b.push({extent:f,frameIds:[l]},{extent:k,frameIds:[a]},{extent:h,frameIds:d},{extent:c,frameIds:e})}else t>u||m?b.push({extent:new g(t,c,n,d,e),frameIds:[l]},{extent:new g(q,c,u,d,e),frameIds:[a]}):b.push({extent:new g(t,c,u,d,e),frameIds:[l]});this.cache._parts=b}a=this.hasZ;c=this.hasM;if(a||c)for(l={},a&&(l.zmin=this.zmin,l.zmax=
this.zmax),c&&(l.mmin=this.mmin,l.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(l);return b};b.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var d=c[1],c=2*d,e=0;a>d?(b=Math.ceil(Math.abs(a-d)/c),a-=b*c,e=b):a<b&&(b=Math.ceil(Math.abs(a-b)/c),a+=b*c,e=-b);return{x:a,frameId:e}};var g;h.__decorate([d.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],b.prototype,"cache",void 0);h.__decorate([d.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,
"center",null);h.__decorate([d.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);h.__decorate([d.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);h.__decorate([d.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);h.__decorate([d.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,"height",null);h.__decorate([d.property({readOnly:!0,
dependsOn:["xmin","xmax"]})],b.prototype,"width",null);h.__decorate([d.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);h.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);h.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);h.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);h.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);h.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);h.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);h.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);return b=g=h.__decorate([d.subclass("esri.geometry.Extent")],b)}(g);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports tslib ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,b,h,l,n,d){return function(a){function b(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];b=a.apply(this,b)||this;b.type=
null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=d.WGS84;return b}h.__extends(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!1,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof d)return a;if(null!=a){var c=new d;c.read(a,b);return c}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=
function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,b){this.cache[a]=b};h.__decorate([n.property()],b.prototype,"type",void 0);h.__decorate([n.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);h.__decorate([n.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);h.__decorate([n.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);h.__decorate([n.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);h.__decorate([n.property({type:d,json:{write:!0}})],b.prototype,"spatialReference",void 0);h.__decorate([n.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=h.__decorate([n.subclass("esri.geometry.Geometry")],b)}(l.JSONSupport)})},"esri/core/JSONSupport":function(){define("require exports tslib ./Accessor ./accessorSupport/read ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,h,l,n,d,g){Object.defineProperty(b,"__esModule",{value:!0});b.JSONSupport=b.isJSONSupport=b.JSONSupportMixin=void 0;b.JSONSupportMixin=function(a){a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return a.apply(this,b)||this}h.__extends(b,a);b.prototype.read=function(a,b){n.default(this,a,b)};b.prototype.write=function(a,b){void 0===a&&(a={});return d.default(this,a,b)};b.prototype.toJSON=function(a){return this.write({},a)};b.fromJSON=function(a,b){if(a){if(a.declaredClass)throw Error("JSON object is already hydrated");
var c=new this;c.read(a,b);a=c}else a=null;return a};return b=h.__decorate([g.subclass("esri.core.JSONSupport")],b)}(a);a.prototype.toJSON.isDefaultToJSON=!0;return a};b.isJSONSupport=function(a){return a&&"read"in a&&"write"in a&&"toJSON"in a};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h.__extends(b,a);return b=h.__decorate([g.subclass("esri.core.JSONSupport")],b)}(b.JSONSupportMixin(l));b.JSONSupport=a})},"esri/core/accessorSupport/read":function(){define("require exports tslib ./get ./utils ./extensions/serializableProperty".split(" "),
function(a,b,h,l,n,d){function g(a,b,f){void 0===f&&(f=k);if(b&&"object"===typeof b){for(var c=n.getProperties(a),e=c.metadatas,g={},h=0,u=Object.getOwnPropertyNames(b);h<u.length;h++){var v=g,t=e,p=u[h],x=b,w=f,z=d.originSpecificReadPropertyDefinition(t[p],w);z&&(!z.read||!1!==z.read.enabled&&!z.read.source)&&(v[p]=!0);for(var B=0,A=Object.getOwnPropertyNames(t);B<A.length;B++){var H=A[B],z=d.originSpecificReadPropertyDefinition(t[H],w),D;a:{D=p;var C=x;if(z&&z.read&&!1!==z.read.enabled&&z.read.source)if(z=
z.read.source,"string"===typeof z){if(z===D||-1<z.indexOf(".")&&0===z.indexOf(D)&&l.exists(z,C)){D=!0;break a}}else for(var K=0;K<z.length;K++){var L=z[K];if(L===D||-1<L.indexOf(".")&&0===L.indexOf(D)&&l.exists(L,C)){D=!0;break a}}D=!1}D&&(v[H]=!0)}}c.setDefaultOrigin(f.origin);u=0;for(v=Object.getOwnPropertyNames(g);u<v.length;u++)h=v[u],p=(t=d.originSpecificReadPropertyDefinition(e[h],f).read)&&t.source,x=void 0,x=p&&"string"===typeof p?l.valueOf(b,p):b[h],t&&t.reader&&(x=t.reader.call(a,x,b,f)),
void 0!==x&&c.set(h,x);if(!f||!f.ignoreDefaults)for(b=0,e=Object.getOwnPropertyNames(e);b<e.length;b++)h=e[b],g[h]||(u=a,v=c,t=f,p=(p=d.originSpecificPropertyDefinition(v.metadatas[h],"any",t))&&p.default,void 0!==p&&(u="function"===typeof p?p.call(u,h,t):p,void 0!==u&&v.set(h,u)));c.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});b.readLoadable=b.read=void 0;var k={origin:"service"};b.read=g;b.readLoadable=function(a,b,d,g){var c;void 0===g&&(g=k);b=h.__assign(h.__assign({},
g),{messages:[]});d(b);null===(c=b.messages)||void 0===c?void 0:c.forEach(function(b){"warning"!==b.type||a.loaded?g&&g.messages&&g.messages.push(b):a.loadWarnings.push(b)})};b.default=g})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ../promiseUtils ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,h,l,n,d,g,k,c){function e(a,b,c,d,e){var f,g,k={};null===(g=null===(f=b.write)||void 0===f?void 0:f.writer)||
void 0===g?void 0:g.call(a,d,k,c,e);return k}function f(a,b,c,d,e,f){if(!d||!d.write)return!1;var k=a.get(c);if(!e&&d.write.overridePolicy){var m=d.write.overridePolicy.call(a,k,c,f);void 0!==m&&(e=m)}e||(e=d.write);if(!e||!1===e.enabled)return!1;if((null===k&&!e.allowNull||void 0===k)&&e.isRequired)return(b=new l("web-document-write:property-required","Missing value for required property '"+c+"' on '"+a.declaredClass+"'",{propertyName:c,target:a}),f)&&f.messages?f.messages.push(b):b&&!f&&q.error(b.name,
b.message),!1;if(void 0===k||null===k&&!e.allowNull)return!1;m=d.default;void 0===m?k=!1:null!=d.defaultEquals?k=d.defaultEquals(k):"function"===typeof m?Array.isArray(k)?(a=m.call(a,c,f),k=h.equals(a,k)):k=!1:k=m===k;return k?!1:void 0!==d.default?!0:!e.ignoreOrigin&&f&&f.origin&&b.store.originOf(c)<g.nameToId(f.origin)?!1:!0}function r(a,b,h){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return k.merge(b,a.toJSON());var m=k.getProperties(a),l=m.metadatas,p=function(p){var q=
c.originSpecificWritePropertyDefinition(l[p],h);if(!f(a,m,p,q,void 0,h))return"continue";var n=a.get(p),r=e(a,q,q.write&&"string"===typeof q.write.target?q.write.target:p,n,h);0<Object.keys(r).length&&(b=k.merge(b,r),h&&h.resources&&h.resources.pendingOperations&&h.resources.pendingOperations.length&&d.all(h.resources.pendingOperations).then(function(){return k.merge(b,r)}),h&&h.writtenProperties&&h.writtenProperties.push({target:a,propName:p,oldOrigin:g.idToReadableName(m.store.originOf(p)),newOrigin:h.origin}))},
q;for(q in l)p(q);return b}Object.defineProperty(b,"__esModule",{value:!0});b.write=b.willPropertyWrite=void 0;var q=n.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,b,d,e){var g=k.getProperties(a),h=c.originSpecificWritePropertyDefinition(g.metadatas[b],e);return h?f(a,g,b,h,d,e):!1};b.write=r;b.default=r})},"esri/geometry/SpatialReference":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,b,h,l,n,d,g,k,c){a=function(a){function b(b){b=a.call(this,b)||this;b.latestWkid=null;b.wkid=null;b.wkt=null;b.vcsWkid=null;b.latestVcsWkid=null;b.imageCoordinateSystem=null;return b}h.__extends(b,a);e=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return e.WebMercator;if(4326===a.wkid)return e.WGS84}var b=new e;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){var b;return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b)};Object.defineProperty(b.prototype,
"isWGS84",{get:function(){return c.isWGS84(this)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return c.isWebMercator(this)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return c.isGeographic(this)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return c.isWrappable(this)},enumerable:!1,configurable:!0});b.prototype.writeWkt=function(a,b){this.wkid||
(b.wkt=a)};b.prototype.clone=function(){if(this===e.WGS84)return e.WGS84;if(this===e.WebMercator)return e.WebMercator;var a=new e;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);this.imageCoordinateSystem&&(a.imageCoordinateSystem=n.clone(this.imageCoordinateSystem));return a};b.prototype.equals=function(a){if(null==a)return!1;
if(this.imageCoordinateSystem||a.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==a.imageCoordinateSystem)return!1;var b=a.imageCoordinateSystem,d=b.id,b=b.referenceServiceName,e=a.imageCoordinateSystem.geodataXform,f=this.imageCoordinateSystem;return null==d||e?JSON.stringify(f)===JSON.stringify(a.imageCoordinateSystem):b?f.id===d&&f.referenceServiceName===b:f.id===d}return c.equals(this,a)};b.prototype.toJSON=function(a){return this.write(void 0,a)};var e;b.GCS_NAD_1927=null;b.WGS84=
null;b.WebMercator=null;h.__decorate([d.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWGS84",null);h.__decorate([d.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);h.__decorate([d.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);h.__decorate([d.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);h.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);h.__decorate([d.property({type:Number,
json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],b.prototype,"wkid",void 0);h.__decorate([d.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);h.__decorate([k.writer("wkt"),k.writer("web-scene","wkt")],b.prototype,"writeWkt",null);h.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);h.__decorate([d.property({type:Number,
json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);h.__decorate([d.property()],b.prototype,"imageCoordinateSystem",void 0);return b=e=h.__decorate([g.subclass("esri.geometry.SpatialReference")],b)}(l.JSONSupport);a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});a.WGS84=new a(c.WGS84);a.WebMercator=
new a(c.WebMercator);Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","../../core/string","./WKIDUnitConversion"],function(a,b,h,l){function n(a){return d(a)&&null!=a.wkid&&!0===g[a.wkid]}function d(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(b,"__esModule",{value:!0});b.WebMercator=b.WGS84=b.isValid=b.isWrappable=
b.isWebMercator=b.isWGS84=b.isGeographic=b.getInfo=b.equals=void 0;var g={102113:!0,102100:!0,3857:!0,3785:!0},k={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var c=[-2.0037508342787E7,2.0037508342787E7],e={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5}};b.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||n(a)&&n(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};b.getInfo=function(a){return d(a)&&a.wkid?e[a.wkid]:null};b.isGeographic=function(a){return d(a)?a.wkid?null==l[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};b.isWGS84=function(a){return d(a)&&4326===a.wkid};
b.isWebMercator=n;b.isWrappable=function(a){return d(a)&&null!=a.wkid&&!0===k[a.wkid]};b.isValid=d;b.WGS84={wkid:4326,wkt:h.replace(e[4326].wkTemplate,{Central_Meridian:"0.0"})};b.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){define(["require","exports"],function(a,b){b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,
20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,
2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,
3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,
3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,
4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,
5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,
6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,
6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,
6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,
6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,
7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,
7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,
8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,
8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,20499:0,20538:0,
20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,
29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,
102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,
103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,
103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,
103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,
103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=
a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=
a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=
a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=
a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=
a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=
a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=
a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=
a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=
a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=
20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=
0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=
a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=
a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=
a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=
a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=
a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=
0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=
2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=
2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=
0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=
0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=
0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103598>=a;a++)b[a]=0;for(a=103600;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=
2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/geometry/Point":function(){define("require exports tslib ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,h,l,n,d,g,k,c,e,f){function r(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var q=[0,0],m=l.getLogger("esri.geometry.Point");
a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}h.__extends(b,a);g=b;b.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())};b.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+d*d+a*a)};b.prototype.normalizeCtorArgs=
function(a,b,c,d,e){var g;if(Array.isArray(a))g=a,e=b,a=g[0],b=g[1],c=g[2],d=g[3];else if(a&&"object"===typeof a){if(g=a,a=null!=g.x?g.x:g.longitude,b=null!=g.y?g.y:g.latitude,c=g.z,d=g.m,(e=g.spatialReference)&&"esri.geometry.SpatialReference"!==e.declaredClass&&(e=new k(e)),null!=g.longitude||null!=g.latitude)null==g.longitude?m.warn(".longitude\x3d","Latitude was defined without longitude"):null==g.latitude?m.warn(".latitude\x3d","Longitude was defined without latitude"):!g.declaredClass&&e&&e.isWebMercator&&
(b=f.lngLatToXY(g.longitude,g.latitude,q),a=b[0],b=b[1])}else r(c)?(e=c,c=null):r(d)&&(e=d,d=null);a={x:a,y:b};null==a.x&&null!=a.y?m.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&m.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=e&&(a.spatialReference=e);null!=c&&(a.z=c);null!=d&&(a.m=d);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),
this._set("hasM",a))},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return f.xyToLngLat(this.x,this.y,q)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");
b&&(b.isWebMercator?this._set("y",f.lngLatToXY(this.x,a,q)[1]):b.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return f.xyToLngLat(this._get("x"),this._get("y"),q)[0];if(a.isGeographic)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",f.lngLatToXY(a,this._get("y"),
q)[0]):b.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!1,configurable:!0});b.prototype.writeX=function(a,b,c){b[c]=isNaN(a)?"NaN":a};b.prototype.readX=function(a){return"string"===typeof a?NaN:a};b.prototype.clone=function(){var a=new g;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};b.prototype.copy=function(a){g.copy(a,this);return this};b.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,d=this.y,e=this.z,g=this.m,
k=this.spatialReference,h=a.z,m=a.m,l=a.x;b=a.y;a=a.spatialReference;if(!k.equals(a))if(k.isWebMercator&&a.isWGS84)b=f.lngLatToXY(l,b),l=b[0],b=b[1],a=k;else if(k.isWGS84&&a.isWebMercator)b=f.xyToLngLat(l,b),l=b[0],b=b[1],a=k;else return!1;return c===l&&d===b&&e===h&&g===m&&k.wkid===a.wkid};b.prototype.offset=function(a,b,d){return c.offsetPoint(this,a,b,d)};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=e.getInfo(this.spatialReference);if(!a)return this;var b=this.x,
c=a.valid,a=c[0],d=c[1],c=2*d;b>d?(a=Math.ceil(Math.abs(b-d)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/c),b+=a*c);this._set("x",b);return this};b.prototype.distance=function(a){return g.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var g;h.__decorate([n.property({dependsOn:["x","y","z","m","spatialReference"]})],
b.prototype,"cache",void 0);h.__decorate([n.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);h.__decorate([n.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);h.__decorate([n.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);h.__decorate([n.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);h.__decorate([n.property({type:Number,
json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),n.cast(function(a){return isNaN(a)?a:d.ensureNumber(a)})],b.prototype,"x",void 0);h.__decorate([n.writer("x")],b.prototype,"writeX",null);h.__decorate([n.reader("x")],b.prototype,"readX",null);h.__decorate([n.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);h.__decorate([n.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0);h.__decorate([n.property({type:Number,
json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=g=h.__decorate([n.subclass("esri.geometry.Point")],b)}(g);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/offset":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.offsetCoordsX=b.offsetPoint=void 0;b.offsetPoint=function(a,b,n,d){a.x+=b;a.y+=n;null!=d&&null!=a.z&&(a.z+=d);return a};b.offsetCoordsX=function(a,b){a[0]+=
b;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../SpatialReference ./geodesicConstants ./spatialReferenceUtils".split(" "),function(a,b,h,l,n,d){function g(a,b,c,d,e){var g;if("x"in a&&"x"in e)b=b(a.x,a.y,f,d),e.x=b[0],e.y=b[1];else if("xmin"in a&&"xmin"in e)g=b(a.xmin,a.ymin,f,d),e.xmin=g[0],e.ymin=g[1],b=b(a.xmax,a.ymax,f,d),e.xmax=b[0],e.ymax=b[1];else if("paths"in a&&"paths"in e||"rings"in a&&"rings"in e){g="paths"in a?a.paths:a.rings;
var k=[],h=void 0;for(a=0;a<g.length;a++){var m=g[a],h=[];k.push(h);for(var l=0;l<m.length;l++)h.push(b(m[l][0],m[l][1],[0,0],d)),2<m[l].length&&h[l].push(m[l][2]),3<m[l].length&&h[l].push(m[l][3])}"paths"in e?e.paths=k:e.rings=k}else if("points"in a&&"points"in e){g=a.points;k=[];for(a=0;a<g.length;a++)k[a]=b(g[a][0],g[a][1],[0,0],d),2<g[a].length&&k[a].push(g[a][2]),3<g[a].length&&k[a].push(g[a][3]);e.points=k}else if("type"in a&&"mesh"===a.type&&"type"in e&&"mesh"===e.type&&(g=a.vertexAttributes&&
a.vertexAttributes.position,k=e.vertexAttributes&&e.vertexAttributes.position,g))for(h=[0,0],a=0;a<g.length;a+=3)b(g[a],g[a+1],h,d),k[a]=h[0],k[a+1]=h[1];e.spatialReference=c;return e}function k(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?d.equals(b,a)?!0:d.isWebMercator(b)&&d.isWGS84(a)||d.isWebMercator(a)&&d.isWGS84(b):!1}function c(a,b,c){void 0===c&&(c=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;
c[0]=.017453292519943*a*n.earthRadius;c[1]=n.halfEarthRadius*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return c}function e(a,b,c,d){void 0===c&&(c=[0,0]);void 0===d&&(d=!1);a=a/n.earthRadius*57.29577951308232;c[0]=d?a:a-360*Math.floor((a+180)/360);c[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/n.earthRadius)));return c}Object.defineProperty(b,"__esModule",{value:!0});b.webMercatorToGeographic=b.geographicToWebMercator=b.xyToLngLat=b.lngLatToXY=b.project=b.canProject=void 0;var f=[0,0];
b.canProject=k;b.project=function(a,b){var f=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return k(f,b)?d.equals(f,b)?h.clone(a):d.isWebMercator(b)?g(a,c,l.WebMercator,!1,h.clone(a)):d.isWGS84(b)?g(a,e,l.WGS84,!1,h.clone(a)):null:null};b.lngLatToXY=c;b.xyToLngLat=e;b.geographicToWebMercator=function(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=h.clone(a));return g(a,c,l.WebMercator,b,d)};b.webMercatorToGeographic=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=h.clone(a));
return g(a,e,l.WGS84,b,c)}})},"esri/geometry/support/geodesicConstants":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.spheroids=b.earthEllipsoidConstants=b.earthSqEccentricity=b.earthEccentricity=b.densificationRatio=b.earthInverseFlattening=b.earthFlattening=b.metersPerDegree=b.halfEarthCircumference=b.halfEarthRadius=b.earthRadius=b.WKT_SPHEROID_REGEX=b.toRadians=void 0;b.toRadians=Math.PI/180;b.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;
b.earthRadius=6378137;b.halfEarthRadius=b.earthRadius/2;b.halfEarthCircumference=Math.PI*b.earthRadius;b.metersPerDegree=b.halfEarthCircumference/180;b.earthFlattening=1/298.257223563;b.earthInverseFlattening=1/(1-b.earthFlattening)-1;b.densificationRatio=.0015696101447650193;b.earthEccentricity=.0818191908426215;b.earthSqEccentricity=.006694379990137799;b.earthEllipsoidConstants={a:b.earthRadius,e2:b.earthSqEccentricity,a1:b.earthRadius*b.earthSqEccentricity,a2:b.earthRadius*b.earthSqEccentricity*
b.earthRadius*b.earthSqEccentricity,a3:b.earthRadius*b.earthSqEccentricity*b.earthSqEccentricity/2,a4:b.earthRadius*b.earthSqEccentricity*b.earthRadius*b.earthSqEccentricity*2.5,a5:b.earthRadius*b.earthSqEccentricity+b.earthRadius*b.earthSqEccentricity*b.earthSqEccentricity/2,a6:1-b.earthSqEccentricity};b.spheroids={4326:{a:b.earthRadius,f:b.earthFlattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,
f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,
f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},
104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:3396190,f:0},104972:{a:47E4,f:0},104973:{a:255E3,
f:0},104974:{a:2439400,f:0}}})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function h(a,b){return l(a,b[0],b[1])}function l(a,b,d,f){return b>=a.xmin&&b<=a.xmax&&d>=a.ymin&&d<=a.ymax?null!=f&&a.hasZ?f>=a.zmin&&f<=a.zmax:!0:!1}function n(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var c=!1,f=0,g=a.length;f<g;f++)c=d(c,a[f],b);b=c}else b=d(!1,a,b);else b=!1;return b}function d(a,b,d){var c=d[0];d=d[1];for(var e=0,g=0,k=b.length;g<k;g++){e++;e===k&&(e=
0);var h=b[g],l=h[0],h=h[1],n=b[e],t=n[0],n=n[1];(h<d&&n>=d||n<d&&h>=d)&&l+(d-h)/(n-h)*(t-l)<c&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});b.polygonContainsCoords=b.polygonContainsPoint=b.extentContainsCoords3D=b.extentContainsCoords2D=b.extentContainsExtent=b.extentContainsMultipoint=b.extentContainsPoint=void 0;var g=[0,0];b.extentContainsPoint=function(a,b){return l(a,b.x,b.y,b.z)};b.extentContainsMultipoint=function(a,b){if(!b.points||b.points.length)return!1;var c=0;for(b=
b.points;c<b.length;c++)if(!h(a,b[c]))return!1;return!0};b.extentContainsExtent=function(a,b){var c=b.xmin,d=b.ymin,g=b.zmin,k=b.xmax,h=b.ymax,n=b.zmax;return a.hasZ&&b.hasZ?l(a,c,d,g)&&l(a,c,h,g)&&l(a,k,h,g)&&l(a,k,d,g)&&l(a,c,d,n)&&l(a,c,h,n)&&l(a,k,h,n)&&l(a,k,d,n):l(a,c,d)&&l(a,c,h)&&l(a,k,h)&&l(a,k,d)};b.extentContainsCoords2D=h;b.extentContainsCoords3D=function(a,b){return l(a,b[0],b[1],b[2])};b.polygonContainsPoint=function(a,b){g[1]=b.y;g[0]=b.x;return n(a,g)};b.polygonContainsCoords=n})},
"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(a,b,h){function l(a,b){return h.extentContainsPoint(a,b)}function n(a,b){var c=a.hasZ&&b.hasZ,d;if(a.xmin<=b.xmin){if(d=b.xmin,a.xmax<d)return!1}else if(d=a.xmin,b.xmax<d)return!1;if(a.ymin<=b.ymin){if(d=b.ymin,a.ymax<d)return!1}else if(d=a.ymin,b.ymax<d)return!1;if(c&&b.hasZ)if(a.zmin<=b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function d(a,b){var c=b.hasZ?h.extentContainsCoords3D:
h.extentContainsCoords2D,d=0;for(b=b.points;d<b.length;d++)if(c(a,b[d]))return!0;return!1}function g(a,b){f[0]=a.xmin;f[1]=a.ymax;r[0]=a.xmax;r[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;m[0]=a.xmax;m[1]=a.ymin;for(var d=0,e=y;d<e.length;d++)if(h.polygonContainsCoords(b,e[d]))return!0;d=0;for(b=b.rings;d<b.length;d++)if(e=b[d],e.length){var g=e[0];if(h.extentContainsCoords2D(a,g))return!0;for(var k=1;k<e.length;k++){var l=e[k];if(h.extentContainsCoords2D(a,l)||c(g,l,u))return!0;g=l}}return!1}function k(a,
b){f[0]=a.xmin;f[1]=a.ymax;r[0]=a.xmax;r[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;m[0]=a.xmax;m[1]=a.ymin;b=b.paths;for(var d=0;d<b.length;d++){var e=b[d];if(b.length){var g=e[0];if(h.extentContainsCoords2D(a,g))return!0;for(var k=1;k<e.length;k++){var l=e[k];if(h.extentContainsCoords2D(a,l)||c(g,l,u))return!0;g=l}}}return!1}function c(a,b,c){for(var d=0;d<c.length;d++)if(e(a,b,c[d][0],c[d][1]))return!0;return!1}function e(a,b,c,d,e){var f=a[0];a=a[1];var g=b[0];b=b[1];var k=c[0],h=c[1];c=d[0]-k;var k=f-
k,m=g-f;d=d[1]-h;var h=a-h,l=b-a,n=d*m-c*l;if(0===n)return!1;c=(c*h-d*k)/n;k=(m*h-l*k)/n;return 0<=c&&1>=c&&0<=k&&1>=k?(e&&(e[0]=f+c*(g-f),e[1]=a+c*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.getExtentIntersector=b.segmentIntersects=b.isSelfIntersecting=b.extentIntersectsPolyline=b.extentIntersectsPolygon=b.extentIntersectsMultipoint=b.extentIntersectsExtent=b.extentIntersectsPoint=void 0;b.extentIntersectsPoint=l;b.extentIntersectsExtent=n;b.extentIntersectsMultipoint=d;var f=
[0,0],r=[0,0],q=[0,0],m=[0,0],y=[f,r,q,m],u=[[q,f],[f,r],[r,m],[m,q]];b.extentIntersectsPolygon=g;b.extentIntersectsPolyline=k;var v=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.length-1;d++)for(var f=c[d],g=c[d+1],k=b+1;k<a.length;k++)for(var h=0;h<a[k].length-1;h++){var m=a[k][h],l=a[k][h+1],n=e(f,g,m,l,v);if(n&&!(v[0]===f[0]&&v[1]===f[1]||v[0]===m[0]&&v[1]===m[1]||v[0]===g[0]&&v[1]===g[1]||v[0]===l[0]&&v[1]===l[1]))return!0}h=c.length;if(!(4>=h))for(d=
0;d<h-3;d++){var q=h-1;0===d&&(q=h-2);f=c[d];g=c[d+1];for(k=d+2;k<q;k++)if(m=c[k],l=c[k+1],(n=e(f,g,m,l,v))&&!(v[0]===f[0]&&v[1]===f[1]||v[0]===m[0]&&v[1]===m[1]||v[0]===g[0]&&v[1]===g[1]||v[0]===l[0]&&v[1]===l[1]))return!0}}return!1};b.segmentIntersects=e;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return n;case "esriGeometryMultipoint":case "multipoint":return d;case "esriGeometryPoint":case "point":return l;case "esriGeometryPolygon":case "polygon":return g;
case "esriGeometryPolyline":case "polyline":return k;case "mesh":return n}}})},"esri/geometry/Multipoint":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,h,l,n,d,g,k,c){function e(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.points=[];b.type="multipoint";return b}
h.__extends(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&(c.spatialReference=a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:
void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new d,c=this.hasZ,f=this.hasM,g=c?3:2,k=a[0],h=e(Math.min),l=e(Math.max),n=k[0],q=k[1],r=k[0],k=k[1],H,D,C,K,L=0,O=a.length;L<O;L++){var J=a[L],G=J[0],E=J[1],n=h(n,G),q=h(q,E),r=l(r,G),k=l(k,E);c&&2<J.length&&(G=J[2],H=h(H,G),C=l(C,G));f&&J.length>g&&(J=J[g],D=h(D,J),K=l(K,J))}b.xmin=n;b.ymin=q;b.xmax=r;b.ymax=k;b.spatialReference=this.spatialReference;
c?(b.zmin=H,b.zmax=C):(b.zmin=null,b.zmax=null);f?(b.mmin=D,b.mmax=K):(b.mmin=null,b.mmax=null);return b},enumerable:!1,configurable:!0});b.prototype.writePoints=function(a,b){b.points=l.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();c.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:l.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&
(a.hasM=!0);return new f(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},c=2;this.hasZ&&(b.z=a[2],c=3);this.hasM&&(b.m=a[c]);return new k(b)};b.prototype.removePoint=function(a){if(!this._validateInputs(a))return null;this.clearCache();return new k(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();c.updateSupportFromPoint(this,
b);Array.isArray(b)||(b=b.toArray());this.points[a]=b;return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var f;h.__decorate([n.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);h.__decorate([n.property({dependsOn:["cache"]})],b.prototype,"extent",null);h.__decorate([n.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);
h.__decorate([n.writer("points")],b.prototype,"writePoints",null);return b=f=h.__decorate([n.subclass("esri.geometry.Multipoint")],b)}(g);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.updateSupportFromPoint=void 0;b.updateSupportFromPoint=function(a,b,n){void 0===n&&(n=!1);var d=a.hasM,g=a.hasZ;Array.isArray(b)?4!==b.length||d||g?3===b.length&&n&&!d?(g=!0,d=
!1):3===b.length&&d&&g&&(g=d=!1):g=d=!0:(g=!g&&b.hasZ&&(!d||b.hasM),d=!d&&b.hasM&&(!g||b.hasZ));a.hasZ=g;a.hasM=d}})},"esri/geometry/Polygon":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),function(a,b,h,l,n,d,g,k,c,e,f,r,q,m,y,u){a=function(a){function b(){for(var b=
[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.rings=[];b.type="polygon";return b}h.__extends(b,a);g=b;b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var c=!1,d=!1;b.map(function(a){a.hasZ&&(c=!0);a.hasM&&(d=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var e=a.zmin+.5*(a.zmax-a.zmin),f=0;f<b.length;f++)b[f].push(e);if(d&&a.hasM)for(a=a.mmin+.5*(a.mmax-
a.mmin),f=0;f<b.length;f++)b[f].push(a);return b}),spatialReference:a};c&&(b.hasZ=!0);d&&(b.hasM=!0);return new g(b)};b.prototype.normalizeCtorArgs=function(a,b){var d=null,e,f,g=null;a&&!Array.isArray(a)?(d=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),e=a.hasZ,f=a.hasM):d=a;d=d||[];b=b||c.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(g=d[0]&&d[0][0])void 0===e&&void 0===f?(e=2<g.length,f=!1):void 0===e?e=!f&&3<g.length:void 0===f&&
(f=!e&&3<g.length);return{rings:d,spatialReference:b,hasZ:e,hasM:f}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=e.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new k;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=q.getPolygonExtent(this);if(!b)return null;b=new d(b);
b.spatialReference=a;return b},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return m.isSelfIntersecting(this.rings)},enumerable:!1,configurable:!0});b.prototype.writePaths=function(a,b){b.rings=l.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],e=0,f=a.length;e<f;e++)d[e]=a[e].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=
new g;a.spatialReference=this.spatialReference;a.rings=l.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;y.canProject(a,this.spatialReference)&&(a=y.project(a,this.spatialReference));return f.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return r.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=
function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new k(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new k(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new k(a[0],a[1],a[2],a[3],this.spatialReference):new k(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();u.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a].splice(b,
0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new k(this.rings[a].splice(b,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new k(a,b)})};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();u.updateSupportFromPoint(this,
c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var g;h.__decorate([n.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);h.__decorate([n.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"centroid",null);h.__decorate([n.property({dependsOn:["cache"],
readOnly:!0})],b.prototype,"extent",null);h.__decorate([n.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);h.__decorate([n.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);h.__decorate([n.writer("rings")],b.prototype,"writePaths",null);return b=g=h.__decorate([n.subclass("esri.geometry.Polygon")],b)}(g);a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/centroid":function(){define(["require","exports",
"./coordsUtils"],function(a,b,h){function l(a,b){if(!a||!a.length)return null;for(var c=[],e=[],f=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],g=0,k=a.length;g<k;g++){var h=n(a[g],b,f);h&&e.push(h)}e.sort(function(a,c){var d=a[2]-c[2];0===d&&b&&(d=a[4]-c[4]);return d});e.length&&(g=6*e[0][2],c[0]=e[0][0]/g,c[1]=e[0][1]/g,b&&(g=6*e[0][4],c[2]=0!==g?e[0][3]/g:0),c[0]<f[0]||c[0]>f[1]||c[1]<f[2]||c[1]>f[3]||b&&(c[2]<f[4]||c[2]>f[5]))&&(c.length=
0);if(!c.length)if(a=a[0]&&a[0].length?d(a[0],b):null)c[0]=a[0],c[1]=a[1],b&&2<a.length&&(c[2]=a[2]);else return null;return c}function n(a,b,c){for(var d=0,f=0,g=0,k=0,h=0,l=0;l<a.length;l++){var n=a[l],v=n[0],t=n[1],p=n[2],x=a[(l+1)%a.length],w=x[0],z=x[1],B=x[2],A=v*z-w*t,k=k+A,d=d+(v+w)*A,f=f+(t+z)*A;b&&2<n.length&&2<x.length&&(A=v*B-w*p,g+=(p+B)*A,h+=A);v<c[0]&&(c[0]=v);v>c[1]&&(c[1]=v);t<c[2]&&(c[2]=t);t>c[3]&&(c[3]=t);b&&(p<c[4]&&(c[4]=p),p>c[5]&&(c[5]=p))}0<k&&(k*=-1);0<h&&(h*=-1);if(!k)return null;
a=[d,f,.5*k];b&&(a[3]=g,a[4]=.5*h);return a}function d(a,b){for(var c=b?[0,0,0]:[0,0],d=b?[0,0,0]:[0,0],f=0,g=0,k=0,m=0,l=0,n=a.length;l<n-1;l++){var v=a[l],t=a[l+1];if(v&&t){c[0]=v[0];c[1]=v[1];d[0]=t[0];d[1]=t[1];b&&2<v.length&&2<t.length&&(c[2]=v[2],d[2]=t[2]);var p=h.getLength(c,d);p&&(f+=p,v=h.getMidpoint(v,t),g+=p*v[0],k+=p*v[1],b&&2<v.length&&(m+=p*v[2]))}}return 0<f?b?[g/f,k/f,m/f]:[g/f,k/f]:a.length?a[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.lineCentroid=b.ringsCentroid=
b.polygonCentroid=b.extentCentroid=void 0;b.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};b.polygonCentroid=function(a){return a?l(a.rings,a.hasZ):null};b.ringsCentroid=l;b.lineCentroid=d})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(a,b,h){function l(a,b){var c=b[0]-a[0],d=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(c*c+d*d+
a*a)):Math.sqrt(c*c+d*d)}function n(a,b,d){var c=a[0]+d*(b[0]-a[0]),e=a[1]+d*(b[1]-a[1]);return 2<a.length&&2<b.length?[c,e,a[2]+d*(b[2]-a[2])]:[c,e]}function d(a,b,d){for(var c=a.length,e=0,g=0,k=0,h=0;h<c;h++){var l=a[h],n=a[(h+1)%c],t=2,e=e+(l[0]*n[1]-n[0]*l[1]);2<l.length&&2<n.length&&d&&(g+=l[0]*n[2]-n[0]*l[2],t=3);l.length>t&&n.length>t&&b&&(k+=l[0]*n[t]-n[0]*l[t])}return 0>=e&&0>=g&&0>=k}function g(a,b){if(b=h.getInfo(b)){var c=b.valid[0],d=b.valid[1],g=d-c;b=function(a){var b=Infinity,e=-Infinity;
a.forEach(function(a){for(var f=a[0];f<c;)f+=g;for(;f>d;)f-=g;b=Math.min(b,f);e=Math.max(e,f);a[0]=f});var f=e-b;g-f<f&&a.forEach(function(a){0>a[0]&&(a[0]+=g)})};for(var k=0;k<a.length;k++)b(a[k])}}Object.defineProperty(b,"__esModule",{value:!0});b.computeUnnormalizedVertexPositionsOnDateLineCrossing=b.unnormalizeVerticesOnDatelineCrossing=b.unnormalizeGeometryOnDatelineCrossing=b.getRingArea=b.closeRings=b.closeRingsAndFixWinding=b.isClockwise=b.getPointOnPath=b.getPathLength=b.getMidpoint=b.projectPointOnLine=
b.getLength=b.geometryToCoordinates=void 0;b.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,d=a.hasM;if("point"===a.type)return d&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:d?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var f=!1,g=!1;a.forEach(function(a){a.hasZ&&(f=!0);a.hasM&&
(g=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(f&&a.hasZ)for(var c=.5*(a.zmax-a.zmin),d=0;d<b.length;d++)b[d].push(c);if(g&&a.hasM)for(a=.5*(a.mmax-a.mmin),d=0;d<b.length;d++)b[d].push(a);return b})}return null};b.getLength=l;b.projectPointOnLine=function(a,b,d,f){var c=d[f],e=c[0],c=c[1];f=d[f+1];d=f[0]-e;f=f[1]-c;b=Math.min(1,Math.max(0,((b[0]-e)*d+(b[1]-c)*f)/(d*d+f*f)));a[0]=e+d*b;a[1]=c+f*b;return a};b.getMidpoint=
function(a,b){return n(a,b,.5)};b.getPathLength=function(a){for(var b=a.length,d=0,f=0;f<b-1;++f)d+=l(a[f],a[f+1]);return d};b.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var c=a.length,d=0,g=0;g<c-1;++g){var k=l(a[g],a[g+1]);if(b-d<k)return n(a[g],a[g+1],(b-d)/k);d+=k}return a[c-1]};b.isClockwise=d;b.closeRingsAndFixWinding=function(a){if("rings"in a){for(var b=0,e=a.rings;b<e.length;b++){var f=e[b];3>f.length||f[0][0]===f[f.length-1][0]&&f[0][1]===f[f.length-1][1]||f.push([f[0][0],f[0][1]])}if(0<
a.rings.length&&!d(a.rings[0],a.hasM,a.hasZ))for(b=0;b<a.rings.length;++b)a.rings[b]=a.rings[b].reverse()}};b.closeRings=function(a){if("rings"in a){var b=0;for(a=a.rings;b<a.length;b++){var d=a[b];3>d.length||d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]||d.push([d[0][0],d[0][1]])}}};b.getRingArea=function(a){for(var b=a.length,d=0,f=0;f<b;f++)var g=a[f],h=a[(f+1)%b],d=d+(g[0]*h[1]-h[0]*g[1]);return d};b.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==
a.type)return a;g("polygon"===a.type?a.rings:a.paths,a.spatialReference);return a};b.unnormalizeVerticesOnDatelineCrossing=g;b.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,b,d,f){var c=Infinity,e=-Infinity;a.forEach(function(a){for(var g=a.pos[0];g<b;)g+=f;for(;g>d;)g-=f;c=Math.min(c,g);e=Math.max(e,g);a.unnormalizedPos[0]=g;a.unnormalizedPos[1]=a.pos[1];2<a.pos.length&&(a.unnormalizedPos[2]=a.pos[2]);3<a.pos.length&&(a.unnormalizedPos[3]=a.pos[3])});var g=e-c;f-g<g&&a.forEach(function(a){0>
a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=f)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports","./boundsUtils"],function(a,b,h){function l(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=!1);return b?c?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:c?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function n(a){var b=a.hasZ,
d=a.hasM;return l(h.getPointsBounds(c,a.points,b,d),b,d)}function d(a){var b=a.x,c=a.y,d=a.z;a=a.m;var e=null!=a;return null!=d?e?{xmin:b,ymin:c,zmin:d,mmin:a,xmax:b,ymax:c,zmax:d,mmax:a}:{xmin:b,ymin:c,zmin:d,xmax:b,ymax:c,zmax:d}:e?{xmin:b,ymin:c,mmin:a,xmax:b,ymax:c,mmax:a}:{xmin:b,ymin:c,xmax:b,ymax:c}}function g(a){var b=a.hasZ,d=a.hasM;return(a=h.getRingsOrPathsBounds(c,a.rings,b,d))?l(a,b,d):null}function k(a){var b=a.hasZ,d=a.hasM;return(a=h.getRingsOrPathsBounds(c,a.paths,b,d))?l(a,b,d):
null}Object.defineProperty(b,"__esModule",{value:!0});b.getPolylineExtent=b.getPolygonExtent=b.getPointExtent=b.getMultipointExtent=b.getGeometryExtent=void 0;var c=[];b.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?d(a):void 0!==a.rings?g(a):void 0!==a.paths?k(a):void 0!==a.points?n(a):null:null};b.getMultipointExtent=n;b.getPointExtent=d;b.getPolygonExtent=g;b.getPolylineExtent=k})},"esri/geometry/support/boundsUtils":function(){define(["require",
"exports"],function(a,b){function h(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function l(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}function n(a,b,d,g){var e=d?3:2;if(!b.length||!b[0].length)return null;for(var f=b[0][0],h=f[0],f=f[1],l=b[0][0],n=l[0],l=l[1],p=void 0,q=void 0,r=void 0,z=void 0,B=0;B<b.length;B++)for(var A=b[B],H=0;H<A.length;H++){var D=A[H],C=D[0],K=D[1],h=k(h,C),f=k(f,K),n=c(n,C),l=c(l,K);d&&2<D.length&&(C=D[2],p=k(p,C),q=c(q,C));
g&&D.length>e&&(z=D[e],r=k(p,z),z=c(q,z))}if(d){if(g)return a[0]=h,a[1]=f,a[2]=p,a[3]=r,a[4]=n,a[5]=l,a[6]=q,a[7]=z,a.length=8,a;a[0]=h;a[1]=f;a[2]=p;a[3]=n;a[4]=l;a[5]=q;a.length=6;return a}if(g)return a[0]=h,a[1]=f,a[2]=r,a[3]=n,a[4]=l,a[5]=z,a.length=6,a;a[0]=h;a[1]=f;a[2]=n;a[3]=l;a.length=4;return a}function d(a,b,c,d,g,h){c=b.xmin;d=b.xmax;var e=b.ymin,f=b.ymax,k=b.zmin,l=b.zmax,m=b.mmin;b=b.mmax;if(g){k=k||0;l=l||0;if(h)return a[0]=c,a[1]=e,a[2]=k,a[3]=m||0,a[4]=d,a[5]=f,a[6]=l,a[7]=b||0,a;
a[0]=c;a[1]=e;a[2]=k;a[3]=d;a[4]=f;a[5]=l;return a}if(h)return a[0]=c,a[1]=e,a[2]=m||0,a[3]=d,a[4]=f,a[5]=b||0,a;a[0]=c;a[1]=e;a[2]=d;a[3]=f;return a}function g(a,b,d,g,h,l){var e=d?3:2;g=g&&l;d=d&&h;if(!b.length||!b[0].length)return null;for(var f=b[0],m=f[0],f=f[1],n=b[0],q=n[0],n=n[1],r=void 0,y=void 0,B=void 0,A=void 0,H=0;H<b.length;H++){var D=b[H],C=D[0],K=D[1],m=k(m,C),f=k(f,K),q=c(q,C),n=c(n,K);d&&2<D.length&&(C=D[2],r=k(r,C),y=c(y,C));g&&D.length>e&&(A=D[e],B=k(r,A),A=c(y,A))}if(h){r=r||
0;y=y||0;if(l)return a[0]=m,a[1]=f,a[2]=r,a[3]=B||0,a[4]=q,a[5]=n,a[6]=y,a[7]=A||0,a;a[0]=m;a[1]=f;a[2]=r;a[3]=q;a[4]=n;a[5]=y;return a}if(l)return a[0]=m,a[1]=f,a[2]=B||0,a[3]=q,a[4]=n,a[5]=A||0,a;a[0]=m;a[1]=f;a[2]=q;a[3]=n;return a}Object.defineProperty(b,"__esModule",{value:!0});b.getPointsBoundsCenterX=b.getPointsBoundsWidth=b.getPointsBounds=b.getExtentBounds=b.getRingsOrPathsBounds=b.getBoundsXYZ=b.getBoundsXY=void 0;var k=l(Math.min),c=l(Math.max);b.getBoundsXY=function(a,b){if(void 0!==b.paths)return n(a,
b.paths,!1,!1);if(void 0!==b.rings)return n(a,b.rings,!1,!1);if(void 0!==b.points)return g(a,b.points,!1,!1,!1,!1);if(h(b))return d(a,b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};b.getBoundsXYZ=function(a,b){if(void 0!==b.paths)return n(a,b.paths,!0,!1);if(void 0!==b.rings)return n(a,b.rings,!0,!1);if(void 0!==b.points)return g(a,b.points,!0,!1,!0,!1);if(h(b))return d(a,b,!0,!1,!0,!1);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.z,a[3]=b.x,a[4]=b.y,a[5]=
b.z);return a};b.getRingsOrPathsBounds=n;b.getExtentBounds=d;b.getPointsBounds=g;b.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],d=a[0][0],e=0;e<a.length;e++)var g=a[e][0],b=k(b,g),d=c(d,g);return d-b};b.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],d=a[0][0],e=0;e<a.length;e++)var g=a[e][0],b=k(b,g),d=c(d,g);return b+.5*(d-b)}})},"esri/geometry/Polyline":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,h,l,n,d,g,k,c,e,f){a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.paths=[];b.type="polyline";return b}h.__extends(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,b){var d=null,e,f,g=null;a&&!Array.isArray(a)?(d=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),e=a.hasZ,f=a.hasM):d=a;d=d||[];b=b||c.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(g=d[0]&&d[0][0])void 0===
e&&void 0===f?(e=2<g.length,f=!1):void 0===e?e=!f&&3<g.length:void 0===f&&(f=!e&&3<g.length);return{paths:d,spatialReference:b,hasZ:e,hasM:f}};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=e.getPolylineExtent(this);if(!b)return null;b=new d(b);b.spatialReference=a;return b},enumerable:!1,configurable:!0});b.prototype.writePaths=function(a,b){b.paths=l.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=
a.concat();else{for(var d=[],e=0,f=a.length;e<f;e++)d[e]=a[e].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new g;a.spatialReference=this.spatialReference;a.paths=l.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new k(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new k(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new k(a[0],
a[1],a[2],a[3],this.spatialReference):new k(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();f.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new k(a,b)})};b.prototype.removePoint=
function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new k(this.paths[a].splice(b,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();f.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=
a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var g;h.__decorate([n.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0);h.__decorate([n.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);h.__decorate([n.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);h.__decorate([n.writer("paths")],b.prototype,"writePaths",null);return b=g=h.__decorate([n.subclass("esri.geometry.Polyline")],b)}(g);a.prototype.toJSON.isDefaultToJSON=
!0;return a})},"esri/geometry/support/typeUtils":function(){define(["require","exports","../../core/jsonMap"],function(a,b,h){Object.defineProperty(b,"__esModule",{value:!0});b.typeKebabDictionary=b.featureGeometryTypeKebabDictionary=b.isFeatureGeometryType=void 0;b.isFeatureGeometryType=function(a){return"point"===a||"multipoint"===a||"polyline"===a||"polygon"===a};b.featureGeometryTypeKebabDictionary=h.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",
esriGeometryPolygon:"polygon"});b.typeKebabDictionary=h.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,h,l,n,d,g,k){function c(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function e(a){return void 0!==
a.points}function f(a){return void 0!==a.x&&void 0!==a.y}function r(a){return void 0!==a.paths}function q(a){return void 0!==a.rings}function m(a){return a?a instanceof l?a:f(a)?d.fromJSON(a):r(a)?k.fromJSON(a):q(a)?g.fromJSON(a):e(a)?n.fromJSON(a):c(a)?h.fromJSON(a):null:null}Object.defineProperty(b,"__esModule",{value:!0});b.getGeometryType=b.getJsonType=b.fromJSON=b.isMesh=b.isPolygon=b.isPolyline=b.isPoint=b.isMultipoint=b.isExtent=b.fromJson=void 0;b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(v){console.warn(v.stack)}return m(a)};b.isExtent=c;b.isMultipoint=e;b.isPoint=f;b.isPolyline=r;b.isPolygon=q;b.isMesh=function(a){return void 0!==a.vertexAttributes};b.fromJSON=m;b.getJsonType=function(a){return a?f(a)?"esriGeometryPoint":r(a)?"esriGeometryPolyline":q(a)?"esriGeometryPolygon":c(a)?"esriGeometryEnvelope":e(a)?"esriGeometryMultipoint":null:null};var y={esriGeometryPoint:d,esriGeometryPolyline:k,esriGeometryPolygon:g,esriGeometryEnvelope:h,esriGeometryMultipoint:n};b.getGeometryType=
function(a){return a&&y[a]||null}})},"*noref":1}});require.boot&&require.apply(null,require.boot);