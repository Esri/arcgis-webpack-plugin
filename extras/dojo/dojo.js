// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.15/esri/copyright.txt for details.
//>>built
(function(c,b){var n,e=function(){return"undefined"!==typeof p&&"function"!==typeof p?p:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),m=function(){},l=function(a){for(var d in a)return 0;return 1},h={}.toString,d=function(a){return"[object Function]"==h.call(a)},k=function(a){return"[object String]"==h.call(a)},a=function(a){return"[object Array]"==h.call(a)},g=function(a,d){if(a)for(var f=0;f<a.length;)d(a[f++])},f=function(a,d){for(var f in d)a[f]=d[f];return a},r=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            d){return f(Error(a),{src:"dojoLoader",info:d})},q=1,t=function(){return"_"+q++},u=function(a,d,f){return pa(a,d,f,0,u)},p=e,v=p.document,w=v&&v.createElement("DiV"),z=u.has=function(a){return d(y[a])?y[a]=y[a](p,v,w):y[a]},y=z.cache=b.hasCache;d(c)&&(c=c(e));z.add=function(a,d,f,g){(void 0===y[a]||g)&&(y[a]=d);return f&&z(a)};z.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);z("host-webworker")&&(f(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
    "dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(a,d){try{importScripts(a),d()}catch(Da){console.info("failed to load resource ("+a+")"),console.error(Da)}}});for(var A in c.has)z.add(A,c.has[A],0,1);u.async=1;var x=z("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");u.eval=function(a,d){return x(a+"\r\n//# sourceURL\x3d"+d)};var B={},D=u.signal=function(d,f){d=B[d];g(d&&d.slice(0),function(d){d.apply(null,
    a(f)?f:[f])})};A=u.on=function(a,d){var f=B[a]||(B[a]=[]);f.push(d);return{remove:function(){for(var a=0;a<f.length;a++)if(f[a]===d){f.splice(a,1);break}}}};var E=[],C={},G=[],H={},F=u.map={},I=[],J={},M="",O={},L={},e={},K=0;if(!z("foreign-loader"))var R=function(a,d){d=!1!==d;var f,g,q,p;for(f in L)g=L[f],(q=f.match(/^url\:(.+)/))?O["url:"+sa(q[1],a)]=g:"*now"==f?p=g:"*noref"!=f&&(q=fa(f,a,!0),O[q.mid]=O["url:"+q.url]=g);p&&p(ia(a));d&&(L={})};var da=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
    function(a){return"\\"+a})},U=function(a,d){d.splice(0,d.length);for(var f in a)d.push([f,a[f],new RegExp("^"+da(f)+"(/|$)"),f.length]);d.sort(function(a,d){return d[3]-a[3]});return d},V=function(a,d){g(a,function(a){d.push([k(a[0])?new RegExp("^"+da(a[0])+"$"):a[0],a[1]])})},ma=function(a){var d=a.name;d||(d=a,a={name:d});a=f({main:"main"},a);a.location=a.location?a.location:d;a.packageMap&&(F[d]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));H[d]=a},T=[],ba=function(a,d,q){for(var p in a){"waitSeconds"==
p&&(u.waitms=1E3*(a[p]||0));"cacheBust"==p&&(M=a[p]?k(a[p])?a[p]:(new Date).getTime()+"":"");if("baseUrl"==p||"combo"==p)u[p]=a[p];a[p]!==y&&(u.rawConfig[p]=a[p],"has"!=p&&z.add("config-"+p,a[p],0,d))}u.baseUrl||(u.baseUrl="./");/\/$/.test(u.baseUrl)||(u.baseUrl+="/");for(p in a.has)z.add(p,a.has[p],0,d);g(a.packages,ma);for(var b in a.packagePaths)g(a.packagePaths[b],function(a){var d=b+"/"+a;k(a)&&(a={name:a});a.location=d;ma(a)});U(f(F,a.map),I);g(I,function(a){a[1]=U(a[1],[]);"*"==a[0]&&(I.star=
    a)});U(f(C,a.paths),G);V(a.aliases,E);if(!z("foreign-loader")){if(d)T.push({config:a.config});else for(p in a.config)d=ea(p,q),d.config=f(d.config||{},a.config[p]);a.cache&&(R(),L=a.cache,R(0,!!a.cache["*noref"]))}D("config",[a,u.rawConfig])};if(z("dojo-cdn")){var X=v.getElementsByTagName("script");n=0;for(var Q,W,P,ja;n<X.length;)if(Q=X[n++],(P=Q.getAttribute("src"))&&(ja=P.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(W=ja[3]||"",b.baseUrl=b.baseUrl||W,K=Q),P=Q.getAttribute("data-dojo-config")||Q.getAttribute("djConfig"))e=
    u.eval("({ "+P+" })","data-dojo-config"),K=Q}u.rawConfig={};ba(b,1);z("dojo-cdn")&&((H.dojo.location=W)&&(W+="/"),H.dijit.location=W+"../dijit/",H.dojox.location=W+"../dojox/");ba(c,1);ba(e,1);if(!z("foreign-loader"))var oa=function(a){wa(function(){g(a.deps,Ea)})},pa=function(d,g,q,p,b){var c;if(k(d)){if((c=ea(d,p,!0))&&c.executed)return c.result;throw r("undefinedModule",d);}a(d)||(ba(d,0,p),d=g,g=q);if(a(d))if(d.length){q="require*"+t();for(var h,e=[],w=0;w<d.length;)h=d[w++],e.push(ea(h,p));c=
    f(N("",q,0,""),{injected:2,deps:e,def:g||m,require:p?p.require:u,gc:1});J[c.mid]=c;oa(c);var v=ta&&!0;wa(function(){xa(c,v)});c.executed||aa.push(c);ya()}else g&&g();return b},ia=function(a){if(!a)return u;var d=a.require;d||(d=function(f,g,q){return pa(f,g,q,a,d)},a.require=f(d,u),d.module=a,d.toUrl=function(d){return sa(d,a)},d.toAbsMid=function(d){return ra(d,a)});return d},aa=[],Y=[],Z={},ha=function(a){a.injected=1;Z[a.mid]=1;a.url&&(Z[a.url]=a.pack||1);Ka()},la=function(a){a.injected=2;delete Z[a.mid];
    a.url&&delete Z[a.url];l(Z)&&La()},qa=u.idle=function(){return!Y.length&&l(Z)&&!aa.length&&!ta};var ka=function(a,d){if(d)for(var f=0;f<d.length;f++)if(d[f][2].test(a))return d[f];return 0},ga=function(a){var d=[],f,g;for(a=a.replace(/\\/g,"/").split("/");a.length;)f=a.shift(),".."==f&&d.length&&".."!=g?(d.pop(),g=d[d.length-1]):"."!=f&&d.push(g=f);return d.join("/")},N=function(a,d,f,g){return{pid:a,mid:d,pack:f,url:g,executed:0,def:0}},S=function(a,f,q,p,b,c,k,t,h,e){var w,u,v,l;l=/^\./.test(a);
    if(/(^\/)|(\:)|(\.js$)/.test(a)||l&&!f)return N(0,a,0,a);a=ga(l?f.mid+"/../"+a:a);if(/^\./.test(a))throw r("irrationalPath",a);e||l||!c.star||(v=ka(a,c.star[1]));!v&&f&&(v=(v=ka(f.mid,c))&&ka(a,v[1]));v&&(a=v[1]+a.substring(v[3]));f=(ja=a.match(/^([^\/]+)(\/(.+))?$/))?ja[1]:"";(w=q[f])?a=f+"/"+(u=ja[3]||w.main):f="";var y=0;g(t,function(f){var g=a.match(f[0]);g&&0<g.length&&(y=d(f[1])?a.replace(f[0],f[1]):f[1])});if(y)return S(y,0,q,p,b,c,k,t,h);if(q=p[a])return h?N(q.pid,q.mid,q.pack,q.url):p[a];
    p=(v=ka(a,k))?v[1]+a.substring(v[3]):f?("/"===w.location.slice(-1)?w.location.slice(0,-1):w.location)+"/"+u:a;/(^\/)|(\:)/.test(p)||(p=b+p);return N(f,a,w,ga(p+".js"))},fa=function(a,d,f){return S(a,d,H,J,u.baseUrl,I,G,E,void 0,f)};if(!z("foreign-loader"))var na=function(a,d,f){return a.normalize?a.normalize(d,function(a){return ra(a,f)}):ra(d,f)},ca=0,ea=function(a,d,f){var g,q;(g=a.match(/^(.+?)\!(.*)$/))?(q=ea(g[1],d,f),5!==q.executed||q.load||za(q),q.load?(g=na(q,g[2],d),a=q.mid+"!"+(q.dynamic?
    ++ca+"!":"")+g):(g=g[2],a=q.mid+"!"+ ++ca+"!waitingForPlugin"),a={plugin:q,mid:a,req:ia(d),prid:g}):a=fa(a,d);return J[a.mid]||!f&&(J[a.mid]=a)};var ra=u.toAbsMid=function(a,d){return fa(a,d).mid},sa=u.toUrl=function(a,d){d=fa(a+"/x",d);var f=d.url;return Fa(0===d.pid?a:f.substring(0,f.length-5))};if(!z("foreign-loader")){var Ga={injected:2,executed:5,def:3,result:3};W=function(a){return J[a]=f({mid:a},Ga)};var Ma=W("require"),Na=W("exports"),Oa=W("module"),ua={},Aa=0,za=function(a){var d=a.result;
    a.dynamic=d.dynamic;a.normalize=d.normalize;a.load=d.load;return a},Pa=function(a){var d={};g(a.loadQ,function(g){var q=na(a,g.prid,g.req.module),p=a.dynamic?g.mid.replace(/waitingForPlugin$/,q):a.mid+"!"+q,q=f(f({},g),{mid:p,prid:q,injected:0});J[p]&&J[p].injected||Ha(J[p]=q);d[g.mid]=J[p];la(g);delete J[g.mid]});a.loadQ=0;var q=function(a){for(var f=a.deps||[],g=0;g<f.length;g++)(a=d[f[g].mid])&&(f[g]=a)},p;for(p in J)q(J[p]);g(aa,q)},Ba=function(a){u.trace("loader-finish-exec",[a.mid]);a.executed=
    5;a.defOrder=Aa++;a.loadQ&&(za(a),Pa(a));for(n=0;n<aa.length;)aa[n]===a?aa.splice(n,1):n++;/^require\*/.test(a.mid)&&delete J[a.mid]},Qa=[],xa=function(a,f){if(4===a.executed)return u.trace("loader-circular-dependency",[Qa.concat(a.mid).join("-\x3e")]),!a.def||f?ua:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return ua;var g=a.mid,q=a.deps||[],p,b=[],c=0;for(a.executed=4;p=q[c++];){p=p===Ma?ia(a):p===Na?a.cjs.exports:p===Oa?a.cjs:xa(p,f);if(p===ua)return a.executed=0,u.trace("loader-exec-module",
    ["abort",g]),ua;b.push(p)}u.trace("loader-run-factory",[a.mid]);f=a.def;b=d(f)?f.apply(null,b):f;a.result=void 0===b&&a.cjs?a.cjs.exports:b;Ba(a)}return a.result},ta=0,wa=function(a){try{ta++,a()}catch(Ja){throw Ja;}finally{ta--}qa()&&D("idle",[])},ya=function(){ta||wa(function(){for(var a,d,f=0;f<aa.length;)a=Aa,d=aa[f],xa(d),a!=Aa?f=0:f++})}}var Fa="function"==typeof c.fixupUrl?c.fixupUrl:function(a){a+="";return a+(M?(/\?/.test(a)?"\x26":"?")+M:"")};void 0===z("dojo-loader-eval-hint-url")&&z.add("dojo-loader-eval-hint-url",
    1);var Ha=function(a){var d=a.plugin;5!==d.executed||d.load||za(d);var f=function(d){a.result=d;la(a);Ba(a);ya()};d.load?d.load(a.prid,a.req,f):d.loadQ?d.loadQ.push(a):(d.loadQ=[a],aa.unshift(d),Ea(d))},va=0,Ra=function(a,d){z("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));a===va?va.call(null):u.eval(a,z("dojo-loader-eval-hint-url")?d.url:d.mid)},Ea=function(a){var d=a.mid,g=a.url;if(!(a.executed||a.injected||Z[d]||a.url&&(a.pack&&Z[a.url]===a.pack||1==Z[a.url])))if(ha(a),a.plugin)Ha(a);
else{var q=function(){Sa(a);if(2!==a.injected){if(z("dojo-enforceDefine")){D("error",r("noDefine",a));return}la(a);f(a,Ga);u.trace("loader-define-nonmodule",[a.url])}ya()};(va=O[d]||O["url:"+a.url])?(u.trace("loader-inject",["cache",a.mid,g]),Ra(va,a),q()):(u.trace("loader-inject",["script",a.mid,g]),u.injectUrl(Fa(g),q,a))}},Ia=function(a,g,q){u.trace("loader-define-module",[a.mid,g]);if(2===a.injected)return D("error",r("multipleDefine",a)),a;f(a,{deps:g,def:q,cjs:{id:a.mid,uri:a.url,exports:a.result=
            {},setExports:function(d){a.cjs.exports=d},config:function(){return a.config}}});for(var p=0;g[p];p++)g[p]=ea(g[p],a);la(a);d(q)||g.length||(a.result=q,Ba(a));return a},Sa=function(a,d){for(var f=[],q,p;Y.length;)p=Y.shift(),d&&(p[0]=d.shift()),q=p[0]&&ea(p[0])||a,f.push([q,p[1],p[2]]);R(a);g(f,function(a){oa(Ia.apply(null,a))})},La=m,Ka=m;z("dom");if(z("dom")){var Ca=function(a,d,f,g){a.addEventListener(d,g,!1);return function(){a.removeEventListener(d,g,!1)}},Ta=Ca(window,"load","onload",function(){u.pageLoaded=
    1;try{"complete"!=v.readyState&&(v.readyState="complete")}catch(Ua){}Ta()}),X=v.getElementsByTagName("script");for(n=0;!K;)/^dojo/.test((Q=X[n++])&&Q.type)||(K=Q);u.injectUrl=function(a,d,f){f=f.node=v.createElement("script");var g=Ca(f,"load","onreadystatechange",function(a){a=a||window.event;var f=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(f.readyState))g(),q(),d&&d()}),q=Ca(f,"error","onerror",function(d){g();q();D("error",r("scriptError: "+a,[a,d]))});f.type="text/javascript";
    f.charset="utf-8";f.src=a;K.parentNode.insertBefore(f,K);return f}}u.log=m;u.trace=m;z("foreign-loader")?Q=m:(Q=function(a,f,g){var q=arguments.length,p=["require","exports","module"],b=[0,a,f];1==q?b=[0,d(a)?p:[],a]:2==q&&k(a)?b=[a,d(f)?p:[],f]:3==q&&(b=[a,f,g]);u.trace("loader-define",b.slice(0,2));(q=b[0]&&ea(b[0]))&&!Z[q.mid]?oa(Ia(q,b[1],b[2])):Y.push(b)},Q.amd={vendor:"dojotoolkit.org"});f(f(u,b.loaderPatch),c.loaderPatch);A("error",function(a){try{if(console.error(a),a instanceof Error){for(var d in a)console.log(d+
    ":",a[d]);console.log(".")}}catch(Da){}});f(u,{uid:t,cache:O,packs:H});p.define||(p.define=Q,p.require=u,z("foreign-loader")||(g(T,function(a){ba(a)}),Q=e.deps||c.deps||b.deps,c=e.callback||c.callback||b.callback,u.boot=Q||c?[Q||[],c]:0))})(function(c){return c.dojoConfig||c.djConfig||c.require||{}},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}],[/^esri-hydra/,function(){return"esri"}]],async:1,baseUrl:"dojo",
    hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"esri-built":1,"esri-console-log-version":1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",
        name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd",
        name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"dojo/domReady":function(){define(["./global","./has"],function(c,b){function n(a){k.push(a);d&&e()}function e(){if(!a){for(a=!0;k.length;)try{k.shift()(m)}catch(q){console.error(q,"in domReady callback",q.stack)}a=!1;n._onQEmpty()}}var m=document,l={loaded:1,complete:1},h="string"!=typeof m.readyState,d=!!l[m.readyState],k=[],a;n.load=function(a,d,f){n(f)};n._Q=k;n._onQEmpty=function(){};h&&(m.readyState="loading");if(!d){var g=[],f=function(a){a=a||c.event;d||"readystatechange"==
        a.type&&!l[m.readyState]||(h&&(m.readyState="complete"),d=1,e())};b=function(a,d){a.addEventListener(d,f,!1);k.push(function(){a.removeEventListener(d,f,!1)})};b(m,"DOMContentLoaded");b(c,"load");"onreadystatechange"in m?b(m,"readystatechange"):h||g.push(function(){return l[m.readyState]});if(g.length){var r=function(){if(!d){for(var a=g.length;a--;)if(g[a]()){f("poller");return}setTimeout(r,30)}};r()}}return n})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==
        typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],function(c,b,n){var e=b.has||function(){};if(!e("dojo-has-api")){var m=(b="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,l=m&&m.createElement("DiV"),h=n.config&&n.config()||{},e=function(d){return"function"==typeof h[d]?h[d]=h[d](c,m,l):h[d]};
            e.cache=h;e.add=function(d,b,a,g){("undefined"==typeof h[d]||g)&&(h[d]=b);return a&&e(d)};e.add("host-browser",b);e.add("dom",b)}e("host-browser")&&(e.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),e.add("touch-events","ontouchstart"in document),e.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),e.add("device-width",screen.availWidth||innerWidth),n=document.createElement("form"),
            e.add("dom-attributes-specified-flag",0<n.attributes.length&&40>n.attributes.length));e.clearElement=function(d){d.innerHTML="";return d};e.normalize=function(d,b){var a=d.match(/[\?:]|[^:\?]*/g),g=0,f=function(d){var q=a[g++];if(":"==q)return 0;if("?"==a[g++]){if(!d&&e(q))return f();f(!0);return f(d)}return q||0};return(d=f())&&b(d)};e.load=function(d,b,a){d?b([d],a):a()};return e})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),
            function(c){return c})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(c,b,n,e,m){var l=0,h=[],d=0;b=function(){l=1;c._postLoad=c.config.afterOnLoad=!0;k()};var k=function(){if(!d){for(d=1;l&&(!e||0==e._Q.length)&&(n.idle?n.idle():1)&&h.length;){var a=h.shift();try{a()}catch(r){if(r.info=r.message,n.signal)n.signal("error",r);else throw r;}}d=0}};n.on&&n.on("idle",k);e&&(e._onQEmpty=k);var a=c.ready=c.addOnLoad=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 d,g){var f=m._toArray(arguments);"number"!=typeof a?(g=d,d=a,a=1E3):f.shift();g=g?m.hitch.apply(c,f):function(){d()};g.priority=a;for(f=0;f<h.length&&a>=h[f].priority;f++);h.splice(f,0,g);k()},g=c.config.addOnLoad;if(g)a[m.isArray(g)?"apply":"call"](c,g);e?e(b):b();return a})},"dojo/_base/kernel":function(){define(["../global","../has","./config","require","module"],function(c,b,n,e,m){var l,h={},d={},k={config:n,global:c,dijit:h,dojox:d},h={dojo:["dojo",k],dijit:["dijit",h],dojox:["dojox",d]};m=
            e.map&&e.map[m.id.match(/[^\/]+/)[0]];for(l in m)h[l]?h[l][0]=m[l]:h[l]=[m[l],{}];for(l in h)m=h[l],m[1]._scopeName=m[0],n.noGlobals||(c[m[0]]=m[1]);k.scopeMap=h;k.baseUrl=k.config.baseUrl=e.baseUrl;k.isAsync=e.async;k.locale=n.locale;c="$Rev: d6e8ff38 $".match(/[0-9a-f]{7,}/);k.version={major:1,minor:14,patch:2,flag:"",revision:c?c[0]:NaN,toString:function(){var a=k.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};b("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(k);
            k.exit=function(){};b("host-webworker");"undefined"!=typeof console||(console={});c="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var a;for(b=0;a=c[b++];)console[a]?console[a]=Function.prototype.bind.call(console[a],console):function(){var d=a+"";console[d]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(d+":");console.log(a.join(" "))}:function(){};console[d]._fake=!0}();k.deprecated=k.experimental=
                function(){};k._hasResource={};return k})},"dojo/_base/config":function(){define(["../global","../has","require"],function(c,b,n){c={};n=n.rawConfig;for(var e in n)c[e]=n[e];!c.locale&&"undefined"!=typeof navigator&&(e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage)&&(c.locale=e.toLowerCase());return c})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(c,b){var n=function(d,b,a){a||(a=d[0]&&c.scopeMap[d[0]]?
            c.scopeMap[d.shift()][1]:c.global);try{for(var g=0;g<d.length;g++){var f=d[g];if(!(f in a))if(b)a[f]={};else return;a=a[f]}return a}catch(r){}},e=Object.prototype.toString,m=function(d,b,a){return(a||[]).concat(Array.prototype.slice.call(d,b||0))},l=/\{([^\}]+)\}/g,h={_extraNames:[],_mixin:function(d,b,a){var g,f,c={};for(g in b)f=b[g],g in d&&(d[g]===f||g in c&&c[g]===f)||(d[g]=a?a(f):f);return d},mixin:function(d,b){d||(d={});for(var a=1,g=arguments.length;a<g;a++)h._mixin(d,arguments[a]);return d},
            setObject:function(d,b,a){var g=d.split(".");d=g.pop();return(a=n(g,!0,a))&&d?a[d]=b:void 0},getObject:function(d,b,a){return d?n(d.split("."),b,a):a},exists:function(d,b){return void 0!==h.getObject(d,!1,b)},isString:function(d){return"string"==typeof d||d instanceof String},isArray:Array.isArray||function(d){return"[object Array]"==e.call(d)},isFunction:function(d){return"[object Function]"===e.call(d)},isObject:function(d){return void 0!==d&&(null===d||"object"==typeof d||h.isArray(d)||h.isFunction(d))},
            isArrayLike:function(d){return!!d&&!h.isString(d)&&!h.isFunction(d)&&!(d.tagName&&"form"==d.tagName.toLowerCase())&&(h.isArray(d)||isFinite(d.length))},isAlien:function(d){return d&&!h.isFunction(d)&&/\{\s*\[native code\]\s*\}/.test(String(d))},extend:function(d,b){for(var a=1,g=arguments.length;a<g;a++)h._mixin(d.prototype,arguments[a]);return d},_hitchArgs:function(d,b){var a=h._toArray(arguments,2),g=h.isString(b);return function(){var f=h._toArray(arguments),k=g?(d||c.global)[b]:b;return k&&k.apply(d||
                this,a.concat(f))}},hitch:function(d,b){if(2<arguments.length)return h._hitchArgs.apply(c,arguments);b||(b=d,d=null);if(h.isString(b)){d=d||c.global;if(!d[b])throw['lang.hitch: scope["',b,'"] is null (scope\x3d"',d,'")'].join("");return function(){return d[b].apply(d,arguments||[])}}return d?function(){return b.apply(d,arguments||[])}:b},delegate:function(){function d(){}return function(b,a){d.prototype=b;b=new d;d.prototype=null;a&&h._mixin(b,a);return b}}(),_toArray:b("ie")?function(){function d(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       a,g){g=g||[];for(a=a||0;a<d.length;a++)g.push(d[a]);return g}return function(b){return(b.item?d:m).apply(this,arguments)}}():m,partial:function(d){return h.hitch.apply(c,[null].concat(h._toArray(arguments)))},clone:function(d){if(!d||"object"!=typeof d||h.isFunction(d))return d;if(d.nodeType&&"cloneNode"in d)return d.cloneNode(!0);if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp)return new RegExp(d);var b,a,g;if(h.isArray(d))for(b=[],a=0,g=d.length;a<g;++a)a in d&&(b[a]=h.clone(d[a]));
            else b=d.constructor?new d.constructor:{};return h._mixin(b,d,h.clone)},trim:String.prototype.trim?function(d){return d.trim()}:function(d){return d.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(d,b,a){return d.replace(a||l,h.isFunction(b)?b:function(a,d){return h.getObject(d,!1,b)})}};h.mixin(c,h);return h})},"dojo/sniff":function(){define(["./has"],function(c){if(c("host-browser")){var b=navigator,n=b.userAgent,b=b.appVersion,e=parseFloat(b);c.add("edge",parseFloat(n.split("Edge/")[1])||
            void 0);c.add("webkit",!c("edge")&&parseFloat(n.split("WebKit/")[1])||void 0);c.add("chrome",!c("edge")&&!0&&parseFloat(n.split("Chrome/")[1])||void 0);c.add("safari",0<=b.indexOf("Safari")&&!c("chrome")&&!c("edge")?parseFloat(b.split("Version/")[1]):void 0);c.add("mac",0<=b.indexOf("Macintosh"));if(n.match(/(iPhone|iPod|iPad)/)){var m=RegExp.$1.replace(/P/,"p"),l=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",l=parseFloat(l.replace(/_/,".").replace(/_/g,""));c.add(m,l);c.add("ios",l)}c.add("trident",parseFloat(b.split("Trident/")[1])||
            void 0);c("webkit")||(0<=n.indexOf("Opera")&&c.add("opera",9.8<=e?parseFloat(n.split("Version/")[1])||e:e),0<=n.indexOf("Gecko")&&!c("trident")&&!c("edge")&&c.add("mozilla",e),c("mozilla")&&c.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0),document.all&&!c("opera")&&(n=parseFloat(b.split("MSIE ")[1])||void 0,(b=document.documentMode)&&5!=b&&Math.floor(n)!=b&&(n=b),c.add("ie",n)))}return c})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),
            function(c,b,n,e,m,l,h,d){function k(a,f,g,k,t){k=d.hitch(g,k);if(!a||!a.addEventListener&&!a.attachEvent)return e.after(a||c.global,f,k,!0);"string"==typeof f&&"on"==f.substring(0,2)&&(f=f.substring(2));a||(a=c.global);if(!t)switch(f){case "keypress":f=q;break;case "mouseenter":f=l.enter;break;case "mouseleave":f=l.leave}return b(a,f,k,t)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}h.add("events-keypress-typed",function(){var a={charCode:0};
                try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(p){}return 0==a.charCode&&!h("opera")});var g={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},f=h("mac")?"metaKey":"ctrlKey",r=function(f,g){g=d.mixin({},f,g);a(g);g.preventDefault=function(){f.preventDefault()};g.stopPropagation=function(){f.stopPropagation()};return g},q;q=h("events-keypress-typed")?function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   d){var f=b(a,"keydown",function(a){var f=a.keyCode,q=13!=f&&32!=f&&(27!=f||!h("ie"))&&(48>f||90<f)&&(96>f||111<f)&&(186>f||192<f)&&(219>f||222<f)&&229!=f;if(q||a.ctrlKey){q=q?0:f;if(a.ctrlKey){if(3==f||13==f)return d.call(a.currentTarget,a);q=95<q&&106>q?q-48:!a.shiftKey&&65<=q&&90>=q?q+32:g[q]||q}f=r(a,{type:"keypress",faux:!0,charCode:q});d.call(a.currentTarget,f);if(h("ie"))try{a.keyCode=f.keyCode}catch(x){}}}),q=b(a,"keypress",function(a){var f=a.charCode;a=r(a,{charCode:32<=f?f:0,faux:!0});return d.call(this,
                a)});return{remove:function(){f.remove();q.remove()}}}:h("opera")?function(a,d){return b(a,"keypress",function(a){var f=a.which;3==f&&(f=99);f=32>f&&!a.shiftKey?0:f;a.ctrlKey&&!a.shiftKey&&65<=f&&90>=f&&(f+=32);return d.call(this,r(a,{charCode:f}))})}:function(d,f){return b(d,"keypress",function(d){a(d);return f.call(this,d)})};var t={_keypress:q,connect:function(a,d,f,g,q){var b=arguments,p=[],c=0;p.push("string"==typeof b[0]?null:b[c++],b[c++]);var t=b[c+1];p.push("string"==typeof t||"function"==
                typeof t?b[c++]:null,b[c++]);for(t=b.length;c<t;c++)p.push(b[c]);return k.apply(this,p)},disconnect:function(a){a&&a.remove()},subscribe:function(a,f,g){return n.subscribe(a,d.hitch(f,g))},publish:function(a,d){return n.publish.apply(n,[a].concat(d))},connectPublisher:function(a,d,f){var g=function(){t.publish(a,arguments)};return f?t.connect(d,f,g):t.connect(d,g)},isCopyKey:function(a){return a[f]}};t.unsubscribe=t.disconnect;d.mixin(c,t);return t})},"dojo/on":function(){define(["require","./_base/kernel",
            "./sniff"],function(c,b,n){function e(a,f,b,p,c){if(p=f.match(/(.*):(.*)/))return f=p[2],p=p[1],h.selector(p,f).call(c,a,b);n("touch")&&d.test(f)&&(b=r(b));if(a.addEventListener){var q=f in g,k=q?g[f]:f;a.addEventListener(k,b,q);return{remove:function(){a.removeEventListener(k,b,q)}}}throw Error("Target must be an event emitter");}function m(){this.cancelable=!1;this.defaultPrevented=!0}function l(){this.bubbles=!1}n("dom")&&n("touch");var h=function(a,d,f,g){return"function"!=typeof a.on||"function"==
        typeof d||a.nodeType?h.parse(a,d,f,e,g,this):a.on(d,f)};h.pausable=function(a,d,f,g){var q;a=h(a,d,function(){if(!q)return f.apply(this,arguments)},g);a.pause=function(){q=!0};a.resume=function(){q=!1};return a};h.once=function(a,d,f,g){var q=h(a,d,function(){q.remove();return f.apply(this,arguments)});return q};h.parse=function(a,d,f,g,b,c){var q;if(d.call)return d.call(c,a,f);d instanceof Array?q=d:-1<d.indexOf(",")&&(q=d.split(/\s*,\s*/));if(q){var p=[];d=0;for(var k;k=q[d++];)p.push(h.parse(a,
            k,f,g,b,c));p.remove=function(){for(var a=0;a<p.length;a++)p[a].remove()};return p}return g(a,d,f,b,c)};var d=/^touch/;h.matches=function(a,d,f,g,c){c=c&&"function"==typeof c.matches?c:b.query;g=!1!==g;1!=a.nodeType&&(a=a.parentNode);for(;!c.matches(a,d,f);)if(a==f||!1===g||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};h.selector=function(a,d,f){return function(g,q){function b(d){return h.matches(d,a,g,f,p)}var p="function"==typeof a?{matches:a}:this,c=d.bubble;return c?h(g,c(b),q):h(g,d,function(a){var d=
            b(a.target);if(d)return a.selectorTarget=d,q.call(d,a)})}};var k=[].slice,a=h.emit=function(a,d,f){var g=k.call(arguments,2),q="on"+d;if("parentNode"in a){var b=g[0]={},c;for(c in f)b[c]=f[c];b.preventDefault=m;b.stopPropagation=l;b.target=a;b.type=d;f=b}do a[q]&&a[q].apply(a,g);while(f&&f.bubbles&&(a=a.parentNode));return f&&f.cancelable&&f},g={};h.emit=function(d,f,g){if(d.dispatchEvent&&document.createEvent){var b=(d.ownerDocument||document).createEvent("HTMLEvents");b.initEvent(f,!!g.bubbles,
            !!g.cancelable);for(var q in g)q in b||(b[q]=g[q]);return d.dispatchEvent(b)&&b}return a.apply(h,arguments)};if(n("touch"))var f=window.orientation,r=function(a){return function(d){var g=d.corrected;if(!g){var b=d.type;try{delete d.type}catch(z){}if(d.type){var g={},q;for(q in d)g[q]=d[q];g.preventDefault=function(){d.preventDefault()};g.stopPropagation=function(){d.stopPropagation()}}else g=d,g.type=b;d.corrected=g;if("resize"==b){if(f==window.orientation)return null;f=window.orientation;g.type=
            "orientationchange";return a.call(this,g)}"rotation"in g||(g.rotation=0,g.scale=1);if(window.TouchEvent&&d instanceof TouchEvent){var b=g.changedTouches[0],c;for(c in b)delete g[c],g[c]=b[c]}}return a.call(this,g)}};return h})},"dojo/topic":function(){define(["./Evented"],function(c){var b=new c;return{publish:function(c,e){return b.emit.apply(b,arguments)},subscribe:function(c,e){return b.on.apply(b,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(c,b){function n(){}
            var e=c.after;n.prototype={on:function(c,l){return b.parse(this,c,l,function(b,d){return e(b,"on"+d,l,!0)})},emit:function(c,e){var h=[this];h.push.apply(h,arguments);return b.emit.apply(b,h)}};return n})},"dojo/aspect":function(){define([],function(){function c(b,d,c,a){var g=b[d],f="around"==d,k;if(f){var q=c(function(){return g.advice(this,arguments)});k={remove:function(){q&&(q=b=c=null)},advice:function(a,d){return q?q.apply(a,d):g.advice(a,d)}}}else k={remove:function(){if(k.advice){var a=k.previous,
                f=k.next;f||a?(a?a.next=f:b[d]=f,f&&(f.previous=a)):delete b[d];b=c=k.advice=null}},id:b.nextId++,advice:c,receiveArguments:a};if(g&&!f)if("after"==d){for(;g.next&&(g=g.next););g.next=k;k.previous=g}else"before"==d&&(b[d]=k,k.next=g,g.previous=k);else b[d]=k;return k}function b(b){return function(d,k,a,g){var f=d[k],h;f&&f.target==d||(d[k]=h=function(){for(var a=h.nextId,d=arguments,f=h.before;f;)f.advice&&(d=f.advice.apply(this,d)||d),f=f.next;if(h.around)var g=h.around.advice(this,d);for(f=h.after;f&&
        f.id<a;){if(f.advice)if(f.receiveArguments)var b=f.advice.apply(this,d),g=b===n?g:b;else g=f.advice.call(this,g,d);f=f.next}return g},f&&(h.around={advice:function(a,d){return f.apply(a,d)}}),h.target=d,h.nextId=h.nextId||0);d=c(h||f,b,a,g);a=null;return d}}var n,e=b("after"),m=b("before"),l=b("around");return{before:m,around:l,after:e}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(c,b,n,e){if(b._fixEvent){var m=b._fixEvent;b._fixEvent=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            c){(b=m(b,c))&&e.normalizeEvent(b);return b}}n={fix:function(c,h){return b._fixEvent?b._fixEvent(c,h):c},stop:function(b){b.preventDefault();b.stopPropagation()}};c.fixEvent=n.fix;c.stopEvent=n.stop;return n})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(c,b,n,e){function m(a,d,f,b,q,c){c=c||"px";a=a.style;isNaN(d)||(a.left=d+c);isNaN(f)||(a.top=f+c);0<=b&&(a.width=b+c);0<=q&&(a.height=q+c)}function l(a){return"button"==a.tagName.toLowerCase()||
            "input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function h(a){return"border-box"==d.boxModel||"table"==a.tagName.toLowerCase()||l(a)}var d={boxModel:"content-box"};c("ie")&&(d.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");d.getPadExtents=function(a,d){a=n.byId(a);var f=d||e.getComputedStyle(a),g=e.toPixelValue;d=g(a,f.paddingLeft);var b=g(a,f.paddingTop),c=g(a,f.paddingRight);a=g(a,f.paddingBottom);return{l:d,t:b,r:c,b:a,w:d+c,h:b+a}};
            d.getBorderExtents=function(a,d){a=n.byId(a);var f=e.toPixelValue,g=d||e.getComputedStyle(a);d="none"!=g.borderLeftStyle?f(a,g.borderLeftWidth):0;var b="none"!=g.borderTopStyle?f(a,g.borderTopWidth):0,c="none"!=g.borderRightStyle?f(a,g.borderRightWidth):0;a="none"!=g.borderBottomStyle?f(a,g.borderBottomWidth):0;return{l:d,t:b,r:c,b:a,w:d+c,h:b+a}};d.getPadBorderExtents=function(a,g){a=n.byId(a);var f=g||e.getComputedStyle(a);g=d.getPadExtents(a,f);a=d.getBorderExtents(a,f);return{l:g.l+a.l,t:g.t+
                    a.t,r:g.r+a.r,b:g.b+a.b,w:g.w+a.w,h:g.h+a.h}};d.getMarginExtents=function(a,d){a=n.byId(a);var f=d||e.getComputedStyle(a),g=e.toPixelValue;d=g(a,f.marginLeft);var b=g(a,f.marginTop),c=g(a,f.marginRight);a=g(a,f.marginBottom);return{l:d,t:b,r:c,b:a,w:d+c,h:b+a}};d.getMarginBox=function(a,g){a=n.byId(a);g=g||e.getComputedStyle(a);g=d.getMarginExtents(a,g);var f=a.offsetLeft-g.l,b=a.offsetTop-g.t,q=a.parentNode,k=e.toPixelValue;8==c("ie")&&q&&(q=e.getComputedStyle(q),f-="none"!=q.borderLeftStyle?k(a,
                q.borderLeftWidth):0,b-="none"!=q.borderTopStyle?k(a,q.borderTopWidth):0);return{l:f,t:b,w:a.offsetWidth+g.w,h:a.offsetHeight+g.h}};d.getContentBox=function(a,g){a=n.byId(a);var f=g||e.getComputedStyle(a);g=a.clientWidth;var b,q=d.getPadExtents(a,f);b=d.getBorderExtents(a,f);var f=a.offsetLeft+q.l+b.l,k=a.offsetTop+q.t+b.t;g?b=a.clientHeight:(g=a.offsetWidth-b.w,b=a.offsetHeight-b.h);if(8==c("ie")){var h=a.parentNode,p=e.toPixelValue;h&&(h=e.getComputedStyle(h),f-="none"!=h.borderLeftStyle?p(a,h.borderLeftWidth):
                0,k-="none"!=h.borderTopStyle?p(a,h.borderTopWidth):0)}return{l:f,t:k,w:g-q.w,h:b-q.h}};d.setContentSize=function(a,g,f){a=n.byId(a);var b=g.w;g=g.h;h(a)&&(f=d.getPadBorderExtents(a,f),0<=b&&(b+=f.w),0<=g&&(g+=f.h));m(a,NaN,NaN,b,g)};var k={l:0,t:0,w:0,h:0};d.setMarginBox=function(a,g,f){a=n.byId(a);var b=f||e.getComputedStyle(a);f=g.w;var q=g.h,t=h(a)?k:d.getPadBorderExtents(a,b),b=d.getMarginExtents(a,b);if(c("webkit")&&l(a)){var u=a.style;0<=f&&!u.width&&(u.width="4px");0<=q&&!u.height&&(u.height=
                "4px")}0<=f&&(f=Math.max(f-t.w-b.w,0));0<=q&&(q=Math.max(q-t.h-b.h,0));m(a,g.l,g.t,f,q)};d.isBodyLtr=function(a){a=a||b.doc;return"ltr"==(b.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};d.docScroll=function(a){a=a||b.doc;var g=b.doc.parentWindow||b.doc.defaultView;return"pageXOffset"in g?{x:g.pageXOffset,y:g.pageYOffset}:(g=a.documentElement)&&{x:d.fixIeBiDiScrollLeft(g.scrollLeft||0,a),y:g.scrollTop||0}};d.getIeDocumentElementOffset=function(a){return{x:0,y:0}};d.fixIeBiDiScrollLeft=
                function(a,g){g=g||b.doc;var f=c("ie");if(f&&!d.isBodyLtr(g)){g=g.documentElement;var k=b.global;6==f&&k.frameElement&&g.scrollHeight>g.clientHeight&&(a+=g.clientLeft);return 8>f?a+g.clientWidth-g.scrollWidth:-a}return a};d.position=function(a,g){a=n.byId(a);b.body(a.ownerDocument);var f=a.getBoundingClientRect(),f={x:f.left,y:f.top,w:f.right-f.left,h:f.bottom-f.top};9>c("ie")&&(f.x-=0,f.y-=0);g&&(a=d.docScroll(a.ownerDocument),f.x+=a.x,f.y+=a.y);return f};d.getMarginSize=function(a,g){a=n.byId(a);
                g=d.getMarginExtents(a,g||e.getComputedStyle(a));a=a.getBoundingClientRect();return{w:a.right-a.left+g.w,h:a.bottom-a.top+g.h}};d.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!("pageX"in a)){var g=a.target,g=g&&g.ownerDocument||document,f=g.documentElement;a.pageX=a.clientX+d.fixIeBiDiScrollLeft(f.scrollLeft||0,g);a.pageY=a.clientY+(f.scrollTop||0)}};return d})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(c,b,n){var e={global:c.global,
            doc:c.global.document||null,body:function(b){b=b||c.doc;return b.body||b.getElementsByTagName("body")[0]},setContext:function(b,l){c.global=e.global=b;c.doc=e.doc=l},withGlobal:function(b,l,h,d){var k=c.global;try{return c.global=e.global=b,e.withDoc.call(null,b.document,l,h,d)}finally{c.global=e.global=k}},withDoc:function(b,l,h,d){var k=e.doc,a=n("ie"),g,f,r;try{return c.doc=e.doc=b,c.isQuirks=0,n("ie")&&(r=b.parentWindow)&&r.navigator&&(g=parseFloat(r.navigator.appVersion.split("MSIE ")[1])||void 0,
            (f=b.documentMode)&&5!=f&&Math.floor(g)!=f&&(g=f),c.isIE=n.add("ie",g,!0,!0)),h&&"string"==typeof l&&(l=h[l]),l.apply(h,d||[])}finally{c.doc=e.doc=k,c.isQuirks=0,c.isIE=n.add("ie",a,!0,!0)}}};b.mixin(c,e);return e})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(c,b,n){if(7>=c("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(l){}var e={};c("ie")?e.byId=function(c,h){if("string"!=typeof c)return c;var d=h||b.doc;h=c&&d.getElementById(c);if(!h||
            h.attributes.id.value!=c&&h.id!=c){d=d.all[c];if(!d||d.nodeName)d=[d];for(var k=0;h=d[k++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==c||h.id==c)return h}else return h}:e.byId=function(c,h){return("string"==typeof c?(h||b.doc).getElementById(c):c)||null};n=n.global.document||null;c.add("dom-contains",!(!n||!n.contains));e.isDescendant=c("dom-contains")?function(b,c){return!(!(c=e.byId(c))||!c.contains(e.byId(b)))}:function(b,c){try{for(b=e.byId(b),c=e.byId(c);b;){if(b==c)return!0;b=
            b.parentNode}}catch(d){}return!1};c.add("css-user-select",function(b,c,d){if(!d)return!1;b=d.style;c=["Khtml","O","Moz","Webkit"];d=c.length;var k="userSelect";do if("undefined"!==typeof b[k])return k;while(d--&&(k=c[d]+"UserSelect"));return!1});var m=c("css-user-select");e.setSelectable=m?function(b,c){e.byId(b).style[m]=c?"":"none"}:function(b,c){b=e.byId(b);var d=b.getElementsByTagName("*"),k=d.length;if(c)for(b.removeAttribute("unselectable");k--;)d[k].removeAttribute("unselectable");else for(b.setAttribute("unselectable",
            "on");k--;)d[k].setAttribute("unselectable","on")};return e})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(c,b,n){function e(a,d,b){d=d.toLowerCase();if("auto"==b){if("height"==d)return a.offsetHeight;if("width"==d)return a.offsetWidth}if("fontweight"==d)switch(b){case 700:return"bold";default:return"normal"}d in g||(g[d]=f.test(d));return g[d]?h(a,b):b}var m,l={};m=c("webkit")?function(a){var d;if(1==a.nodeType){var f=a.ownerDocument.defaultView;d=f.getComputedStyle(a,
            null);!d&&a.style&&(a.style.display="",d=f.getComputedStyle(a,null))}return d||{}}:c("ie")&&9>c("ie")?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){if(1===a.nodeType){var d=a.ownerDocument.defaultView;return(d.opener?d:n.global.window).getComputedStyle(a,null)}return{}};l.getComputedStyle=m;var h;h=c("ie")?function(a,d){if(!d)return 0;if("medium"==d)return 4;if(d.slice&&"px"==d.slice(-2))return parseFloat(d);var f=a.style,g=a.runtimeStyle,b=f.left,c=g.left;g.left=
            a.currentStyle.left;try{f.left=d,d=f.pixelLeft}catch(z){d=0}f.left=b;g.left=c;return d}:function(a,d){return parseFloat(d)||0};l.toPixelValue=h;var d=function(a,d){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(u){return d?{}:null}},k=9>c("ie")||(c("ie"),0)?function(a){try{return d(a).Opacity/100}catch(t){return 1}}:function(a){return m(a).opacity},a=9>c("ie")||(c("ie"),0)?function(f,g){""===g&&(g=1);var b=100*g;1===g?(f.style.zoom="",d(f)&&(f.style.filter=f.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,
            ""))):(f.style.zoom=1,d(f)?d(f,1).Opacity=b:f.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+b+")",d(f,1).Enabled=!0);if("tr"==f.tagName.toLowerCase())for(f=f.firstChild;f;f=f.nextSibling)"td"==f.tagName.toLowerCase()&&a(f,g);return g}:function(a,d){return a.style.opacity=d},g={left:!0,top:!0},f=/margin|padding|width|height|max|min|offset/,r={cssFloat:1,styleFloat:1,"float":1};l.get=function(a,d){var f=b.byId(a),g=arguments.length;if(2==g&&"opacity"==d)return k(f);d=r[d]?"cssFloat"in
        f.style?"cssFloat":"styleFloat":d;var c=l.getComputedStyle(f);return 1==g?c:e(f,d,c[d]||f.style[d])};l.set=function(d,f,g){var c=b.byId(d),q=arguments.length,k="opacity"==f;f=r[f]?"cssFloat"in c.style?"cssFloat":"styleFloat":f;if(3==q)return k?a(c,g):c.style[f]=g;for(var h in f)l.set(d,h,f[h]);return l.getComputedStyle(c)};return l})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(c,b,n,e,m){function l(c,d){var k=function(a,g){return b(a,c,function(f){if(d)return d(f,
            g);if(!e.isDescendant(f.relatedTarget,a))return g.call(this,f)})};k.bubble=function(a){return l(c,function(d,f){var g=a(d.target),b=d.relatedTarget;if(g&&g!=(b&&1==b.nodeType&&a(b)))return f.call(g,d)})};return k}n={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(b,d){return b.button==d},isLeft:function(b){return 0==b.button},isMiddle:function(b){return 1==b.button},isRight:function(b){return 2==b.button}};c.mouseButtons=n;return{_eventHandler:l,enter:l("mouseover"),leave:l("mouseout"),wheel:"mousewheel",
            isLeft:n.isLeft,isMiddle:n.isMiddle,isRight:n.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(c,b,n){if(!n("host-browser"))return n;c._name="browser";b.mixin(c,{isBrowser:!0,isFF:n("ff"),isIE:n("ie"),isKhtml:0,isWebKit:n("webkit"),isMozilla:n("mozilla"),isMoz:n("mozilla"),isOpera:n("opera"),isSafari:n("safari"),isChrome:n("chrome"),isMac:n("mac"),isIos:n("ios"),isAndroid:0,isWii:0,isQuirks:0,isAir:0});return n})},"dojo/keys":function(){define(["./_base/kernel",
            "./sniff"],function(c,b){return c.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:b("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,
            NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:b("mac")?b("safari")?91:224:17}})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(c,b,n){var e=window,m={addOnWindowUnload:function(l,h){c.windowUnloaded||n(e,"unload",c.windowUnloaded=function(){});n(e,"unload",b.hitch(l,
                h))},addOnUnload:function(c,h){n(e,"beforeunload",b.hitch(c,h))}};c.addOnWindowUnload=m.addOnWindowUnload;c.addOnUnload=m.addOnUnload;return m})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(c,b,n,e,m,l,h,d){c.byId=b.byId;c.isDescendant=b.isDescendant;c.setSelectable=b.setSelectable;c.getAttr=e.get;c.setAttr=e.set;c.hasAttr=e.has;c.removeAttr=e.remove;c.getNodeProp=e.getNodeProp;c.attr=
            function(d,a,g){return 2==arguments.length?e["string"==typeof a?"get":"set"](d,a):e.set(d,a,g)};c.hasClass=l.contains;c.addClass=l.add;c.removeClass=l.remove;c.toggleClass=l.toggle;c.replaceClass=l.replace;c._toDom=c.toDom=h.toDom;c.place=h.place;c.create=h.create;c.empty=function(d){h.empty(d)};c._destroyElement=c.destroy=function(d){h.destroy(d)};c._getPadExtents=c.getPadExtents=d.getPadExtents;c._getBorderExtents=c.getBorderExtents=d.getBorderExtents;c._getPadBorderExtents=c.getPadBorderExtents=
            d.getPadBorderExtents;c._getMarginExtents=c.getMarginExtents=d.getMarginExtents;c._getMarginSize=c.getMarginSize=d.getMarginSize;c._getMarginBox=c.getMarginBox=d.getMarginBox;c.setMarginBox=d.setMarginBox;c._getContentBox=c.getContentBox=d.getContentBox;c.setContentSize=d.setContentSize;c._isBodyLtr=c.isBodyLtr=d.isBodyLtr;c._docScroll=c.docScroll=d.docScroll;c._getIeDocumentElementOffset=c.getIeDocumentElementOffset=d.getIeDocumentElementOffset;c._fixIeBiDiScrollLeft=c.fixIeBiDiScrollLeft=d.fixIeBiDiScrollLeft;
            c.position=d.position;c.marginBox=function(b,a){return a?d.setMarginBox(b,a):d.getMarginBox(b)};c.contentBox=function(b,a){return a?d.setContentSize(b,a):d.getContentBox(b)};c.coords=function(k,a){c.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");k=b.byId(k);var g=n.getComputedStyle(k),g=d.getMarginBox(k,g);k=d.position(k,a);g.x=k.x;g.y=k.y;return g};c.getProp=m.get;c.setProp=m.set;c.prop=function(d,a,g){return 2==arguments.length?m["string"==typeof a?"get":"set"](d,a):m.set(d,
                a,g)};c.getStyle=n.get;c.setStyle=n.set;c.getComputedStyle=n.getComputedStyle;c.__toPixelValue=c.toPixelValue=n.toPixelValue;c.style=function(d,a,g){switch(arguments.length){case 1:return n.get(d);case 2:return n["string"==typeof a?"get":"set"](d,a)}return n.set(d,a,g)};return c})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(c,b,n,e,m,l){function h(a,d){a=a.getAttributeNode&&a.getAttributeNode(d);return!!a&&a.specified}var d={innerHTML:1,
            textContent:1,className:1,htmlFor:b("ie"),value:1},k={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};c.has=function(a,g){var f=g.toLowerCase();return d[l.names[f]||g]||h(e.byId(a),k[f]||g)};c.get=function(a,g){a=e.byId(a);var f=g.toLowerCase(),b=l.names[f]||g,c=a[b];if(d[b]&&"undefined"!=typeof c)return c;if("textContent"==b)return l.get(a,b);if("href"!=b&&("boolean"==typeof c||n.isFunction(c)))return c;g=k[f]||g;return h(a,g)?a.getAttribute(g):null};c.set=function(a,g,f){a=
            e.byId(a);if(2==arguments.length){for(var b in g)c.set(a,b,g[b]);return a}b=g.toLowerCase();var q=l.names[b]||g,h=d[q];if("style"==q&&"string"!=typeof f)return m.set(a,f),a;if(h||"boolean"==typeof f||n.isFunction(f))return l.set(a,g,f);a.setAttribute(k[b]||g,f);return a};c.remove=function(a,d){e.byId(a).removeAttribute(k[d.toLowerCase()]||d)};c.getNodeProp=function(a,d){a=e.byId(a);var f=d.toLowerCase(),b=l.names[f]||d;if(b in a&&"href"!=b)return a[b];d=k[f]||d;return h(a,d)?a.getAttribute(d):null}})},
        "dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(c,b,n,e,m,l,h,d){var k={},a=1,g=b._scopeName+"attrid";c.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};c.get=function(a,d){a=m.byId(a);var f=d.toLowerCase();return a[c.names[f]||d]};c.set=function(f,b,q){f=
            m.byId(f);if(2==arguments.length&&"string"!=typeof b){for(var t in b)c.set(f,t,b[t]);return f}t=b.toLowerCase();t=c.names[t]||b;if("style"==t&&"string"!=typeof q)return l.set(f,q),f;if("innerHTML"==t)return n("ie")&&f.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(h.empty(f),f.appendChild(h.toDom(q,f.ownerDocument))):f[t]=q,f;if(e.isFunction(q)){var r=f[g];r||(r=a++,f[g]=r);k[r]||(k[r]={});var p=k[r][t];if(p)d.disconnect(p);else try{delete f[t]}catch(v){}q?
            k[r][t]=d.connect(f,t,q):f[t]=null;return f}f[t]=q;return f}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(c,b,n,e,m,l){function h(a,d){var f=d.parentNode;f&&f.insertBefore(a,d)}function d(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(z){}for(var d;d=a.lastChild;)a.removeChild(d)}var k={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table",
                "thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,g={},f=0,r="__"+b._scopeName+"ToDomId",q;for(q in k)k.hasOwnProperty(q)&&(b=k[q],b.pre="option"==q?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+b.join("\x3e\x3c")+"\x3e",b.post="\x3c/"+b.reverse().join("\x3e\x3c/")+"\x3e");var t;8>=n("ie")&&(t=function(a){a.__dojo_html5_tested="yes";var d=u("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==
        d.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(d){a.createElement(d)});p(d)});c.toDom=function(d,b){b=b||e.doc;var c=b[r];c||(b[r]=c=++f+"",g[c]=b.createElement("div"));8>=n("ie")&&!b.__dojo_html5_tested&&b.body&&t(b);d+="";var q=d.match(a),p=q?q[1].toLowerCase():"",c=g[c];if(q&&k[p])for(q=k[p],c.innerHTML=q.pre+d+q.post,d=q.length;d;--d)c=c.firstChild;else c.innerHTML=
            d;if(1==c.childNodes.length)return c.removeChild(c.firstChild);for(d=b.createDocumentFragment();b=c.firstChild;)d.appendChild(b);return d};c.place=function(a,d,f){d=m.byId(d);"string"==typeof a&&(a=/^\s*</.test(a)?c.toDom(a,d.ownerDocument):m.byId(a));if("number"==typeof f){var b=d.childNodes;!b.length||b.length<=f?d.appendChild(a):h(a,b[0>f?0:f])}else switch(f){case "before":h(a,d);break;case "after":f=a;(b=d.parentNode)&&(b.lastChild==d?b.appendChild(f):b.insertBefore(f,d.nextSibling));break;case "replace":d.parentNode.replaceChild(a,
            d);break;case "only":c.empty(d);d.appendChild(a);break;case "first":if(d.firstChild){h(a,d.firstChild);break}default:d.appendChild(a)}return a};var u=c.create=function(a,d,f,b){var g=e.doc;f&&(f=m.byId(f),g=f.ownerDocument);"string"==typeof a&&(a=g.createElement(a));d&&l.set(a,d);f&&c.place(a,f,b);return a};c.empty=function(a){d(m.byId(a))};var p=c.destroy=function(a){if(a=m.byId(a)){var f=a;a=a.parentNode;f.firstChild&&d(f);a&&(n("ie")&&a.canHaveChildren&&"removeNode"in f?f.removeNode(!1):a.removeChild(f))}}})},
        "dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(c,b,n){function e(d){if("string"==typeof d||d instanceof String){if(d&&!l.test(d))return h[0]=d,h;d=d.split(l);d.length&&!d[0]&&d.shift();d.length&&!d[d.length-1]&&d.pop();return d}return d?b.filter(d,function(a){return a}):[]}var m,l=/\s+/,h=[""],d={};return m={contains:function(d,a){return 0<=(" "+n.byId(d).className+" ").indexOf(" "+a+" ")},add:function(d,a){d=n.byId(d);a=e(a);var b=d.className,f,b=b?" "+b+" ":
                " ";f=b.length;for(var c=0,q=a.length,k;c<q;++c)(k=a[c])&&0>b.indexOf(" "+k+" ")&&(b+=k+" ");f<b.length&&(d.className=b.substr(1,b.length-2))},remove:function(d,a){d=n.byId(d);var b;if(void 0!==a){a=e(a);b=" "+d.className+" ";for(var f=0,k=a.length;f<k;++f)b=b.replace(" "+a[f]+" "," ");b=c.trim(b)}else b="";d.className!=b&&(d.className=b)},replace:function(b,a,g){b=n.byId(b);d.className=b.className;m.remove(d,g);m.add(d,a);b.className!==d.className&&(b.className=d.className)},toggle:function(d,a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b){d=n.byId(d);if(void 0===b){a=e(a);for(var f=0,g=a.length,c;f<g;++f)c=a[f],m[m.contains(d,c)?"remove":"add"](d,c)}else m[b?"add":"remove"](d,a);return b}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(c,b,n){function e(a){return h[a]=new Function("item","index","array",a)}function m(a){var d=!a;return function(f,b,g){var c=0,q=f&&f.length||0,p;q&&"string"==typeof f&&(f=f.split(""));"string"==typeof b&&(b=h[b]||e(b));if(g)for(;c<q;++c){if(p=!b.call(g,f[c],c,f),a^
        p)return!p}else for(;c<q;++c)if(p=!b(f[c],c,f),a^p)return!p;return d}}function l(a){var b=1,f=0,c=0;a||(b=f=c=-1);return function(g,h,e,p){if(p&&0<b)return k.lastIndexOf(g,h,e);p=g&&g.length||0;var q=a?p+c:f;e===d?e=a?f:p+c:0>e?(e=p+e,0>e&&(e=f)):e=e>=p?p+c:e;for(p&&"string"==typeof g&&(g=g.split(""));e!=q;e+=b)if(g[e]==h)return e;return-1}}var h={},d,k={every:m(!1),some:m(!0),indexOf:l(!0),lastIndexOf:l(!1),forEach:function(a,d,f){var b=0,g=a&&a.length||0;g&&"string"==typeof a&&(a=a.split(""));"string"==
            typeof d&&(d=h[d]||e(d));if(f)for(;b<g;++b)d.call(f,a[b],b,a);else for(;b<g;++b)d(a[b],b,a)},map:function(a,d,f,b){var g=0,c=a&&a.length||0;b=new (b||Array)(c);c&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=h[d]||e(d));if(f)for(;g<c;++g)b[g]=d.call(f,a[g],g,a);else for(;g<c;++g)b[g]=d(a[g],g,a);return b},filter:function(a,d,f){var b=0,g=a&&a.length||0,c=[],k;g&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=h[d]||e(d));if(f)for(;b<g;++b)k=a[b],d.call(f,k,b,a)&&c.push(k);
            else for(;b<g;++b)k=a[b],d(k,b,a)&&c.push(k);return c},clearCache:function(){h={}}};n.mixin(c,k);return k})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(c,b,n){b=b.NodeList;var e=b.prototype;e.connect=b._adaptAsForEach(function(){return c.connect.apply(this,arguments)});e.coords=b._adaptAsMap(c.coords);b.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
            n.forEach(b.events,function(b){var c="on"+b;e[c]=function(b,d){return this.connect(c,b,d)}});return c.NodeList=b})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(c,b,n,e,m,l,h,d){function k(a,d){var f=function(f,b){if("string"==typeof b&&(b=n.byId(b),!b))return new d([]);f="string"==typeof f?a(f,b):f?f.end&&f.on?f:[f]:[];return f.end&&f.on?f:new d(f)};f.matches=a.match||function(a,d,b){return 0<
            f.filter([a],d,b).length};f.filter=a.filter||function(a,d,b){return f(d,b).filter(function(d){return-1<m.indexOf(a,d)})};if("function"!=typeof a){var b=a.search;a=function(a,d){return b(d||document,a)}}return f}var a=Array.prototype,g=a.slice,f=a.concat,r=m.forEach,q=function(a,d,f){d=[0].concat(g.call(d,0));f=f||c.global;return function(b){d[0]=b;return a.apply(f,d)}},t=function(a){var d=this instanceof u&&1;"number"==typeof a&&(a=Array(a));var f=a&&"length"in a?a:arguments;if(d||!f.sort){for(var b=
            d?this:[],g=b.length=f.length,c=0;c<g;c++)b[c]=f[c];if(d)return b;f=b}l._mixin(f,p);f._NodeListCtor=function(a){return u(a)};return f},u=t,p=u.prototype=[];u._wrap=p._wrap=function(a,d,f){a=new (f||this._NodeListCtor||u)(a);return d?a._stash(d):a};u._adaptAsMap=function(a,d){return function(){return this.map(q(a,arguments,d))}};u._adaptAsForEach=function(a,d){return function(){this.forEach(q(a,arguments,d));return this}};u._adaptAsFilter=function(a,d){return function(){return this.filter(q(a,arguments,
            d))}};u._adaptWithCondition=function(a,d,f){return function(){var b=arguments,g=q(a,b,f);if(d.call(f||c.global,b))return this.map(g);this.forEach(g);return this}};r(["slice","splice"],function(d){var f=a[d];p[d]=function(){return this._wrap(f.apply(this,arguments),"slice"==d?this:null)}});r(["indexOf","lastIndexOf","every","some"],function(a){var d=m[a];p[a]=function(){return d.apply(c,[this].concat(g.call(arguments,0)))}});l.extend(t,{constructor:u,_NodeListCtor:u,toString:function(){return this.join(",")},
            _stash:function(a){this._parent=a;return this},on:function(a,d){var f=this.map(function(f){return e(f,a,d)});f.remove=function(){for(var a=0;a<f.length;a++)f[a].remove()};return f},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var d=g.call(this,0),b=m.map(arguments,function(a){return g.call(a,0)});return this._wrap(f.apply(d,b),this)},map:function(a,d){return this._wrap(m.map(this,a,d),this)},forEach:function(a,d){r(this,a,d);return this},filter:function(a){var d=
                arguments,f=this,b=0;if("string"==typeof a){f=v._filterResult(this,d[0]);if(1==d.length)return f._stash(this);b=1}return this._wrap(m.filter(f,d[b],d[b+1]),this)},instantiate:function(a,d){var f=l.isFunction(a)?a:l.getObject(a);d=d||{};return this.forEach(function(a){new f(d,a)})},at:function(){var a=new this._NodeListCtor(0);r(arguments,function(d){0>d&&(d=this.length+d);this[d]&&a.push(this[d])},this);return a._stash(this)}});var v=k(d,t);c.query=k(d,function(a){return t(a)});v.load=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   d,f){h.load(a,d,function(a){f(k(a,t))})};c._filterQueryResult=v._filterResult=function(a,d,f){return new t(v.filter(a,d,f))};c.NodeList=v.NodeList=t;return v})},"dojo/selector/_loader":function(){define(["../has","require"],function(c,b){"undefined"!==typeof document&&document.createElement("div");var n;return{load:function(e,m,l,h){if(h&&h.isBuild)l();else{h=b;e="default"==e?c("config-selectorEngine")||"css3":e;e="css2"==e||"lite"==e?"./lite":"css2.1"==e?"./lite":"css3"==e?"./lite":"acme"==e?"./acme":
                (h=m)&&e;if("?"==e.charAt(e.length-1)){e=e.substring(0,e.length-1);var d=!0}if(d&&(c("dom-compliant-qsa")||n))return l(n);h([e],function(d){"./lite"!=e&&(n=d);l(d)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(c,b){var n=document.createElement("div"),e=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector,m=n.querySelectorAll,l=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,h=function(k,a){var g=a?a.ownerDocument||
            a:b.doc||document,f=(m?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(k);a=a||g;if(f){var e=(c("ie"),null!==a.parentNode&&9!==a.nodeType&&a.parentNode===g);if(f[2]&&e){var q=b.byId?b.byId(f[2],g):g.getElementById(f[2]);if(!q||f[1]&&f[1]!=q.tagName.toLowerCase())return[];if(a!=g)for(k=q;k!=a;)if(k=k.parentNode,!k)return[];return f[3]?h(f[3],q):[q]}if(f[3]&&a.getElementsByClassName)return a.getElementsByClassName(f[4]);if(f[5])if(q=
            a.getElementsByTagName(f[5]),f[4]||f[6])k=(f[4]||"")+f[6];else return q}if(m)return 1===a.nodeType&&"object"!==a.nodeName.toLowerCase()?d(a,k,a.querySelectorAll):a.querySelectorAll(k);q||(q=a.getElementsByTagName("*"));f=[];g=0;for(e=q.length;g<e;g++){var t=q[g];1==t.nodeType&&(void 0)(t,k,a)&&f.push(t)}return f},d=function(d,a,b){var f=d,g=d.getAttribute("id"),c=g||"__dojo__",k=d.parentNode,e=/^\s*[+~]/.test(a);if(e&&!k)return[];g?c=c.replace(/'/g,"\\$\x26"):d.setAttribute("id",c);e&&k&&(d=d.parentNode);
            a=a.match(l);for(k=0;k<a.length;k++)a[k]="[id\x3d'"+c+"'] "+a[k];a=a.join(",");try{return b.call(d,a)}finally{g||f.removeAttribute("id")}};h.match=e?function(b,a,g){return g&&9!=g.nodeType?d(g,a,function(a){return e.call(b,a)}):e.call(b,a)}:void 0;return h})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(c,b,n,e,m,l,h,d,k){function a(a){return function(d,f,b){return 2==
        arguments.length?a["string"==typeof f?"get":"set"](d,f):a.set(d,f,b)}}var g=function(a){return 1==a.length&&"string"==typeof a[0]},f=function(a){var d=a.parentNode;d&&d.removeChild(a)},r=b.NodeList,q=r._adaptWithCondition,t=r._adaptAsForEach,u=r._adaptAsMap;e.extend(r,{_normalize:function(a,d){var f=!0===a.parse;if("string"==typeof a.template){var b=a.templateFunc||c.string&&c.string.substitute;a=b?b(a.template,a):a}b=typeof a;"string"==b||"number"==b?(a=l.toDom(a,d&&d.ownerDocument),a=11==a.nodeType?
                e._toArray(a.childNodes):[a]):e.isArrayLike(a)?e.isArray(a)||(a=e._toArray(a)):a=[a];f&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,d,f,b){if(1==d.nodeType||"only"!=f)for(var g,q=a.length,p=q-1;0<=p;p--){var k=b?this._cloneNode(a[p]):a[p];if(a._runParse&&c.parser&&c.parser.parse)for(g||(g=d.ownerDocument.createElement("div")),g.appendChild(k),c.parser.parse(g),k=g.firstChild;g.firstChild;)g.removeChild(g.firstChild);p==q-1?l.place(k,d,f):d.parentNode.insertBefore(k,
                d);d=k}},position:u(h.position),attr:q(a(d),g),style:q(a(k),g),addClass:t(m.add),removeClass:t(m.remove),toggleClass:t(m.toggle),replaceClass:t(m.replace),empty:t(l.empty),removeAttr:t(d.remove),marginBox:u(h.getMarginBox),place:function(a,d){var f=b(a)[0];return this.forEach(function(a){l.place(a,f,d)})},orphan:function(a){return(a?b._filterResult(this,a):this).forEach(f)},adopt:function(a,d){return b(a).place(this[0],d)._stash(this)},query:function(a){if(!a)return this;var d=new r;this.map(function(f){b(a,
                f).forEach(function(a){void 0!==a&&d.push(a)})});return d._stash(this)},filter:function(a){var d=arguments,f=this,g=0;if("string"==typeof a){f=b._filterResult(this,d[0]);if(1==d.length)return f._stash(this);g=1}return this._wrap(n.filter(f,d[g],d[g+1]),this)},addContent:function(a,d){a=this._normalize(a,this[0]);for(var f=0,b;b=this[f];f++)a.length?this._place(a,b,d,0<f):l.empty(b);return this}});return r})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u){c._xhrObj=t._create;var p=c.config;c.objectToQuery=e.objectToQuery;c.queryToObject=e.queryToObject;c.fieldToObject=l.fieldToObject;c.formToObject=l.toObject;c.formToQuery=l.toQuery;c.formToJson=l.toJson;c._blockAsync=!1;var v=c._contentHandlers=c.contentHandlers={text:function(a){return a.responseText},json:function(a){return k.fromJson(a.responseText||null)},"json-comment-filtered":function(a){d.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
                    a=a.responseText;var f=a.indexOf("/*"),b=a.lastIndexOf("*/");if(-1==f||-1==b)throw Error("JSON was not comment filtered");return k.fromJson(a.substring(f+2,b))},javascript:function(a){return c.eval(a.responseText)},xml:function(a){var d=a.responseXML;d&&!d.querySelectorAll&&(d=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(b("ie")&&(!d||!d.documentElement)){var f=function(a){return"MSXML"+a+".DOMDocument"},f=["Microsoft.XMLDOM",f(6),f(4),f(3),f(2)];g.some(f,function(f){try{var b=
                    new ActiveXObject(f);b.async=!1;b.loadXML(a.responseText);d=b}catch(G){return!1}return!0})}return d},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?v["json-comment-filtered"](a):v.json(a)}};v.arraybuffer=v.blob=v.document=function(a,d){return a.response};c._ioSetArgs=function(d,f,b,g){var q={args:d,url:d.url},k=null;if(d.form){var k=m.byId(d.form),t=k.getAttributeNode("action");q.url=q.url||(t?t.value:c.doc?c.doc.URL:null);k=l.toObject(k)}t={};k&&a.mixin(t,
                k);d.content&&a.mixin(t,d.content);d.preventCache&&(t["dojo.preventCache"]=(new Date).valueOf());q.query=e.objectToQuery(t);q.handleAs=d.handleAs||"text";var r=new h(function(a){a.canceled=!0;f&&f(a);var d=a.ioArgs.error;d||(d=Error("request cancelled"),d.dojoType="cancel",a.ioArgs.error=d);return d});r.addCallback(b);var w=d.load;w&&a.isFunction(w)&&r.addCallback(function(a){return w.call(d,a,q)});var u=d.error;u&&a.isFunction(u)&&r.addErrback(function(a){return u.call(d,a,q)});var v=d.handle;v&&
            a.isFunction(v)&&r.addBoth(function(a){return v.call(d,a,q)});r.addErrback(function(a){return g(a,r)});p.ioPublish&&c.publish&&!1!==q.args.ioPublish&&(r.addCallbacks(function(a){c.publish("/dojo/io/load",[r,a]);return a},function(a){c.publish("/dojo/io/error",[r,a]);return a}),r.addBoth(function(a){c.publish("/dojo/io/done",[r,a]);return a}));r.ioArgs=q;return r};var w=function(a){a=v[a.ioArgs.handleAs](a.ioArgs.xhr,a.ioArgs);return void 0===a?null:a},z=function(a,d){d.ioArgs.args.failOk||console.error(a);
                return a},y=function(a){0>=A&&(A=0,p.ioPublish&&c.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&c.publish("/dojo/io/stop"))},A=0;r.after(q,"_onAction",function(){--A});r.after(q,"_onInFlight",y);c._ioCancelAll=q.cancelAll;c._ioNotifyStart=function(a){p.ioPublish&&c.publish&&!1!==a.ioArgs.args.ioPublish&&(A||c.publish("/dojo/io/start"),A+=1,c.publish("/dojo/io/send",[a]))};c._ioWatch=function(d,f,b,g){d.ioArgs.options=d.ioArgs.args;a.mixin(d,{response:d.ioArgs,isValid:function(a){return f(d)},isReady:function(a){return b(d)},
                handleResponse:function(a){return g(d)}});q(d);y(d)};c._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};c.xhr=function(a,d,f){var b,g=c._ioSetArgs(d,function(a){b&&b.cancel()},w,z),q=g.ioArgs;"postData"in d?q.query=d.postData:"putData"in d?q.query=d.putData:"rawBody"in d?q.query=d.rawBody:(2<arguments.length&&!f||-1==="POST|PUT".indexOf(a.toUpperCase()))&&c._ioAddQueryToUrl(q);var p={method:a,handleAs:{arraybuffer:1,blob:1,document:1}[d.handleAs]?
                    d.handleAs:"text",responseType:d.responseType,timeout:d.timeout,withCredentials:d.withCredentials,ioArgs:q};"undefined"!==typeof d.headers&&(p.headers=d.headers);"undefined"!==typeof d.contentType&&(p.headers||(p.headers={}),p.headers["Content-Type"]=d.contentType);"undefined"!==typeof q.query&&(p.data=q.query);"undefined"!==typeof d.sync&&(p.sync=d.sync);c._ioNotifyStart(g);try{b=t(q.url,p,!0)}catch(F){return g.cancel(),g}g.ioArgs.xhr=b.response.xhr;b.then(function(){g.resolve(g)}).otherwise(function(a){q.error=
                a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);g.reject(a)});return g};c.xhrGet=function(a){return c.xhr("GET",a)};c.rawXhrPost=c.xhrPost=function(a){return c.xhr("POST",a,!0)};c.rawXhrPut=c.xhrPut=function(a){return c.xhr("PUT",a,!0)};c.xhrDelete=function(a){return c.xhr("DELETE",a)};c._isDocumentOk=function(a){return u.checkStatus(a.status)};c._getText=function(a){var d;c.xhrGet({url:a,sync:!0,load:function(a){d=a}});return d};a.mixin(c.xhr,{_xhrObj:c._xhrObj,
                fieldToObject:l.fieldToObject,formToObject:l.toObject,objectToQuery:e.objectToQuery,formToQuery:l.toQuery,formToJson:l.toJson,queryToObject:e.queryToObject,contentHandlers:v,_ioSetArgs:c._ioSetArgs,_ioCancelAll:c._ioCancelAll,_ioNotifyStart:c._ioNotifyStart,_ioWatch:c._ioWatch,_ioAddQueryToUrl:c._ioAddQueryToUrl,_isDocumentOk:c._isDocumentOk,_getText:c._getText,get:c.xhrGet,post:c.xhrPost,put:c.xhrPut,del:c.xhrDelete});return c.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(c){var b=
            {};return{objectToQuery:function(n){var e=encodeURIComponent,m=[],l;for(l in n){var h=n[l];if(h!=b[l]){var d=e(l)+"\x3d";if(c.isArray(h))for(var k=0,a=h.length;k<a;++k)m.push(d+e(h[k]));else m.push(d+e(h))}}return m.join("\x26")},queryToObject:function(b){var e=decodeURIComponent;b=b.split("\x26");for(var m={},l,h,d=0,k=b.length;d<k;++d)if(h=b[d],h.length){var a=h.indexOf("\x3d");0>a?(l=e(h),h=""):(l=e(h.slice(0,a)),h=e(h.slice(a+1)));"string"==typeof m[l]&&(m[l]=[m[l]]);c.isArray(m[l])?m[l].push(h):
                m[l]=h}return m}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(c,b,n,e){var m={fieldToObject:function(c){var e=null;if(c=b.byId(c)){var d=c.name,k=(c.type||"").toLowerCase();if(d&&k&&!c.disabled)if("radio"==k||"checkbox"==k)c.checked&&(e=c.value);else if(c.multiple)for(e=[],c=[c.firstChild];c.length;)for(d=c.pop();d;d=d.nextSibling)if(1==d.nodeType&&"option"==d.tagName.toLowerCase())d.selected&&e.push(d.value);else{d.nextSibling&&c.push(d.nextSibling);
                d.firstChild&&c.push(d.firstChild);break}else e=c.value}return e},toObject:function(e){var h={};e=b.byId(e).elements;for(var d=0,k=e.length;d<k;++d){var a=e[d],g=a.name,f=(a.type||"").toLowerCase();if(g&&f&&0>"file|submit|image|reset|button".indexOf(f)&&!a.disabled){var r=h,q=g,a=m.fieldToObject(a);if(null!==a){var t=r[q];"string"==typeof t?r[q]=[t,a]:c.isArray(t)?t.push(a):r[q]=a}"image"==f&&(h[g+".x"]=h[g+".y"]=h[g].x=h[g].y=0)}}return h},toQuery:function(b){return n.objectToQuery(m.toObject(b))},
            toJson:function(b,c){return e.stringify(m.toObject(b),null,c?4:0)}};return m})},"dojo/json":function(){define(["./has"],function(c){return JSON})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(c,b,n,e,m,l,h){var d=function(){},k=Object.freeze||function(){},a=c.Deferred=function(g){function f(a){if(h)throw Error("This deferred has already been resolved");q=a;h=!0;c()}function c(){for(var a;!a&&z;){var f=
            z;z=z.next;if(a=f.progress==d)h=!1;var g=v?f.error:f.resolved;m("config-useDeferredInstrumentation")&&v&&b.instrumentRejected&&b.instrumentRejected(q,!!g);if(g)try{var c=g(q);c&&"function"===typeof c.then?c.then(l.hitch(f.deferred,"resolve"),l.hitch(f.deferred,"reject"),l.hitch(f.deferred,"progress")):(g=a&&void 0===c,a&&!g&&(v=c instanceof Error),f.deferred[g&&v?"reject":"resolve"](g?q:c))}catch(C){f.deferred.reject(C)}else v?f.deferred.reject(q):f.deferred.resolve(q)}}var q,h,u,p,v,w,z,y=this.promise=
            new n;this.isResolved=y.isResolved=function(){return 0==p};this.isRejected=y.isRejected=function(){return 1==p};this.isFulfilled=y.isFulfilled=function(){return 0<=p};this.isCanceled=y.isCanceled=function(){return u};this.resolve=this.callback=function(a){this.fired=p=0;this.results=[a,null];f(a)};this.reject=this.errback=function(a){v=!0;this.fired=p=1;m("config-useDeferredInstrumentation")&&b.instrumentRejected&&b.instrumentRejected(a,!!z);f(a);this.results=[null,a]};this.progress=function(a){for(var d=
            z;d;){var f=d.progress;f&&f(a);d=d.next}};this.addCallbacks=function(a,f){this.then(a,f,d);return this};y.then=this.then=function(f,b,g){var q=g==d?this:new a(y.cancel);f={resolved:f,error:b,progress:g,deferred:q};z?w=w.next=f:z=w=f;h&&c();return q.promise};var A=this;y.cancel=this.cancel=function(){if(!h){var a=g&&g(A);h||(a instanceof Error||(a=new e(a)),a.log=!1,A.reject(a))}u=!0};k(y)};l.extend(a,{addCallback:function(a){return this.addCallbacks(l.hitch.apply(c,arguments))},addErrback:function(a){return this.addCallbacks(null,
                l.hitch.apply(c,arguments))},addBoth:function(a){var d=l.hitch.apply(c,arguments);return this.addCallbacks(d,d)},fired:-1});a.when=c.when=h;return a})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(c,b,n,e,m){var l=Object.freeze||function(){},h=function(a,b,q,k,e){c("config-deferredInstrumentation")&&2===b&&g.instrumentRejected&&0===a.length&&g.instrumentRejected(q,!1,
            k,e);for(e=0;e<a.length;e++)d(a[e],b,q,k)},d=function(d,b,q,e){var f=d[b],p=d.deferred;if(f)try{var h=f(q);if(0===b)"undefined"!==typeof h&&a(p,b,h);else{if(h&&"function"===typeof h.then){d.cancel=h.cancel;h.then(k(p,1),k(p,2),k(p,0));return}a(p,1,h)}}catch(w){a(p,2,w)}else a(p,b,q);c("config-deferredInstrumentation")&&2===b&&g.instrumentRejected&&g.instrumentRejected(q,!!f,e,p.promise)},k=function(d,b){return function(f){a(d,b,f)}},a=function(a,d,b){if(!a.isCanceled())switch(d){case 0:a.progress(b);
            break;case 1:a.resolve(b);break;case 2:a.reject(b)}},g=function(a){var f=this.promise=new e,b=this,k,u,p,v=!1,w=[];c("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(b,g),Error.captureStackTrace(f,g));this.isResolved=f.isResolved=function(){return 1===k};this.isRejected=f.isRejected=function(){return 2===k};this.isFulfilled=f.isFulfilled=function(){return!!k};this.isCanceled=f.isCanceled=function(){return v};this.progress=function(a,d){if(k){if(!0===d)throw Error("This deferred has already been fulfilled.");
            return f}h(w,0,a,null,b);return f};this.resolve=function(a,d){if(k){if(!0===d)throw Error("This deferred has already been fulfilled.");return f}h(w,k=1,u=a,null,b);w=null;return f};var m=this.reject=function(a,d){if(k){if(!0===d)throw Error("This deferred has already been fulfilled.");return f}c("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(p={},m);h(w,k=2,u=a,p,b);w=null;return f};this.then=f.then=function(a,b,c){var q=[c,a,b];q.cancel=f.cancel;q.deferred=new g(function(a){return q.cancel&&
            q.cancel(a)});k&&!w?d(q,k,u,p):w.push(q);return q.deferred.promise};this.cancel=f.cancel=function(d,f){if(!k){a&&(f=a(d),d="undefined"===typeof f?d:f);v=!0;if(!k)return"undefined"===typeof d&&(d=new n),m(d),d;if(2===k&&u===d)return d}else if(!0===f)throw Error("This deferred has already been fulfilled.");};l(f)};g.prototype.toString=function(){return"[object Deferred]"};m&&m(g);return g})},"dojo/errors/CancelError":function(){define(["./create"],function(c){return c("CancelError",null,null,{dojoType:"cancel",
            log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(c){return function(b,n,e,m){e=e||Error;var l=function(b){if(e===Error){Error.captureStackTrace&&Error.captureStackTrace(this,l);var d=Error.call(this,b),c;for(c in d)d.hasOwnProperty(c)&&(this[c]=d[c]);this.message=b;this.stack=d.stack}else e.apply(this,arguments);n&&n.apply(this,arguments)};l.prototype=c.delegate(e.prototype,m);l.prototype.name=b;return l.prototype.constructor=l}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
            function(c){function b(){throw new TypeError("abstract");}return c.extend(function(){},{then:function(c,e,m){b()},cancel:function(c,e){b()},isResolved:function(){b()},isRejected:function(){b()},isFulfilled:function(){b()},isCanceled:function(){b()},"finally":function(b){return this.then(function(c){var e=b();return e&&"function"===typeof e.then?e.then(function(){return c}):c},function(c){var e=b();if(e&&"function"===typeof e.then)return e.then(function(){throw c;});throw c;})},always:function(b){return this.then(b,
                    b)},"catch":function(b){return this.then(null,b)},otherwise:function(b){return this.then(null,b)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(c,b){return function(n,e,m,l){var h=n&&"function"===typeof n.then,d=h&&n instanceof b;if(!h)return 1<arguments.length?e?e(n):n:(new c).resolve(n);d||(h=new c(n.cancel),n.then(h.resolve,h.reject,h.progress),n=h.promise);
            return e||m||l?n.then(e,m,l):n}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(c,b){c.fromJson=function(b){return eval("("+b+")")};c._escapeString=b.stringify;c.toJsonIndentStr="\t";c.toJson=function(n,e){return b.stringify(n,function(b,c){return c&&(b=c.__json__||c.json,"function"==typeof b)?b.call(c):c},e&&c.toJsonIndentStr)};return c})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
            function(c,b,n,e,m,l){function h(){for(var g=+new Date,f=0,c;f<a.length&&(c=a[f]);f++){var q=c.response,e=q.options;c.isCanceled&&c.isCanceled()||c.isValid&&!c.isValid(q)?(a.splice(f--,1),d._onAction&&d._onAction()):c.isReady&&c.isReady(q)?(a.splice(f--,1),c.handleResponse(q),d._onAction&&d._onAction()):c.startTime&&c.startTime+(e.timeout||0)<g&&(a.splice(f--,1),c.cancel(new b("Timeout exceeded",q)),d._onAction&&d._onAction())}d._onInFlight&&d._onInFlight(c);a.length||(clearInterval(k),k=null)}function d(d){d.response.options.timeout&&
            (d.startTime=+new Date);d.isFulfilled()||(a.push(d),k||(k=setInterval(h,50)),d.response.options.sync&&h())}var k=null,a=[];d.cancelAll=function(){try{e.forEach(a,function(a){try{a.cancel(new n("All requests canceled."))}catch(f){}})}catch(g){}};m&&l&&m.doc.attachEvent&&l(m.global,"unload",function(){d.cancelAll()});return d})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),
            function(c,b,n,e,m,l,h,d,k){function a(a){return f(a)}function g(a){return void 0!==a.data?a.data:a.text}c.deepCopy=function(a,d){for(var f in d){var b=a[f],g=d[f];b!==g&&(b&&"object"===typeof b&&g&&"object"===typeof g?g instanceof Date?a[f]=new Date(g):c.deepCopy(b,g):a[f]=g)}return a};c.deepCreate=function(a,d){d=d||{};var f=h.delegate(a),b,g;for(b in a)(g=a[b])&&"object"===typeof g&&(f[b]=c.deepCreate(g,d[b]));return c.deepCopy(f,d)};var f=Object.freeze||function(a){return a};c.deferred=function(k,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    q,t,u,p,l){var r=new e(function(a){q&&q(r,k);return a&&(a instanceof b||a instanceof n)?a:new n("Request canceled",k)});r.response=k;r.isValid=t;r.isReady=u;r.handleResponse=p;t=r.then(a).otherwise(function(a){a.response=k;throw a;});c.notify&&t.then(h.hitch(c.notify,"emit","load"),h.hitch(c.notify,"emit","error"));u=t.then(g);p=new d;for(var v in u)u.hasOwnProperty(v)&&(p[v]=u[v]);p.response=t;f(p);l&&r.then(function(a){l.call(r,a)},function(a){l.call(r,k,a)});r.promise=p;r.then=p.then;return r};
                c.addCommonMethods=function(a,d){l.forEach(d||["GET","POST","PUT","DELETE"],function(d){a[("DELETE"===d?"DEL":d).toLowerCase()]=function(f,b){b=h.delegate(b||{});b.method=d;return a(f,b)}})};c.parseArgs=function(a,d,f){var b=d.data,g=d.query;!b||f||"object"!==typeof b||b instanceof ArrayBuffer||b instanceof Blob||(d.data=m.objectToQuery(b));g?("object"===typeof g&&(g=m.objectToQuery(g)),d.preventCache&&(g+=(g?"\x26":"")+"request.preventCache\x3d"+ +new Date)):d.preventCache&&(g="request.preventCache\x3d"+
                    +new Date);a&&g&&(a+=(~a.indexOf("?")?"\x26":"?")+g);return{url:a,options:d,getHeader:function(a){return null}}};c.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(c){return c("RequestError",function(b,c){this.response=c})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(c,b){return c("RequestTimeoutError",null,b,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError",
            "./watch","./handlers","./util","../has"],function(c,b,n,e,m){function l(a,d){var f=a.xhr;a.status=a.xhr.status;try{a.text=f.responseText}catch(z){}"xml"===a.options.handleAs&&(a.data=f.responseXML);var b;if(d)this.reject(d);else{try{n(a)}catch(z){b=z}e.checkStatus(f.status)?b?this.reject(b):this.resolve(a):(d=b?new c("Unable to load "+a.url+" status: "+f.status+" and an error in handleAs: transformation of response",a):new c("Unable to load "+a.url+" status: "+f.status,a),this.reject(d))}}function h(a){return this.xhr.getResponseHeader(a)}
            function d(u,p,v){var w=p&&p.data&&p.data instanceof FormData,n=e.parseArgs(u,e.deepCreate(t,p),w);u=n.url;p=n.options;var y=!p.data&&"POST"!==p.method&&"PUT"!==p.method;10>=m("ie")&&(u=u.split("#")[0]);var A,x=e.deferred(n,r,a,g,l,function(){A&&A()}),B=n.xhr=d._create();if(!B)return x.cancel(new c("XHR was not created")),v?x:x.promise;n.getHeader=h;f&&(A=f(B,x,n,p.uploadProgress));var D="undefined"===typeof p.data?null:p.data,E=!p.sync,C=p.method;try{B.open(C,u,E,p.user||q,p.password||q);p.withCredentials&&
            (B.withCredentials=p.withCredentials);p.handleAs in k&&(B.responseType=k[p.handleAs]);var G=p.headers;u=w||y?!1:"application/x-www-form-urlencoded";if(G)for(var H in G)"content-type"===H.toLowerCase()?u=G[H]:G[H]&&B.setRequestHeader(H,G[H]);u&&!1!==u&&B.setRequestHeader("Content-Type",u);G&&"X-Requested-With"in G||B.setRequestHeader("X-Requested-With","XMLHttpRequest");e.notify&&e.notify.emit("send",n,x.promise.cancel);B.send(D)}catch(F){x.reject(F)}b(x);B=null;return v?x:x.promise}m.add("dojo-force-activex-xhr",
                function(){return 0});var k={blob:"blob",document:"document",arraybuffer:"arraybuffer"},a,g,f,r;a=function(a){return!this.isFulfilled()};r=function(a,d){d.xhr.abort()};f=function(a,d,f,b){function g(a){d.handleResponse(f)}function q(a){a=new c("Unable to load "+f.url+" status: "+a.target.status,f);d.handleResponse(f,a)}function p(a,b){f.transferType=a;b.lengthComputable?(f.loaded=b.loaded,f.total=b.total,d.progress(f)):3===f.xhr.readyState&&(f.loaded="loaded"in b?b.loaded:b.position,d.progress(f))}
                function k(a){return p("download",a)}function e(a){return p("upload",a)}a.addEventListener("load",g,!1);a.addEventListener("error",q,!1);a.addEventListener("progress",k,!1);b&&a.upload&&a.upload.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",g,!1);a.removeEventListener("error",q,!1);a.removeEventListener("progress",k,!1);a.upload.removeEventListener("progress",e,!1);a=null}};var q,t={data:null,query:null,sync:!1,method:"GET"};d._create=function(){throw Error("XMLHTTP not available");
            };m("dojo-force-activex-xhr")||(d._create=function(){return new XMLHttpRequest});e.addCommonMethods(d);return d})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(c,b,n,e){function m(b){var d=l[b.options.handleAs];b.data=d?d(b):b.data||b.text;return b}n=function(b){return b.xhr.response};var l={javascript:function(c){return b.eval(c.text||"")},json:function(b){return c.parse(b.text||null)},xml:void 0,blob:n,
            arraybuffer:n,document:n};m.register=function(b,d){l[b]=d};return m})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(c,b,n,e,m,l,h,d,k){var a=n.mixin,g={},f=g._Line=function(a,d){this.start=a;this.end=d};f.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var r=g.Animation=function(d){a(this,d);n.isArray(this.curve)&&(this.curve=new f(this.curve[0],this.curve[1]))};r.prototype=new e;
            n.extend(r,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,d=this.easing;return d?d(a):a},_fire:function(a,d){d=d||[];if(this[a])if(b.debugAtAllCosts)this[a].apply(this,d);else try{this[a].apply(this,d)}catch(y){console.error("exception in animation handler for:",a),console.error(y)}return this},play:function(a,d){this._delayTimer&&this._clearTimer();if(d)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;
                    this._fire("beforeBegin",[this.node]);a=a||this.delay;d=n.hitch(this,"_play",d);if(0<a)return this._delayTimer=setTimeout(d,a),this;d();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);
                    this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,d){this._stopTimer();this._active=this._paused=!0;this._percent=a;d&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);
                    this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,
                    !0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var q=0,t=null,u={run:function(){}};n.extend(r,{_startTimer:function(){this._timer||(this._timer=l.after(u,"run",n.hitch(this,"_cycle"),!0),q++);t||(t=setInterval(n.hitch(u,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),
                    this._timer=null,q--);0>=q&&(clearInterval(t),t=null,q=0)}});var p=h("ie")?function(a){var d=a.style;d.width.length||"auto"!=k.get(a,"width")||(d.width="auto")}:function(){};g._fade=function(f){f.node=d.byId(f.node);var b=a({properties:{}},f);f=b.properties.opacity={};f.start="start"in b?b.start:function(){return+k.get(b.node,"opacity")||0};f.end=b.end;f=g.animateProperty(b);l.after(f,"beforeBegin",n.partial(p,b.node),!0);return f};g.fadeIn=function(d){return g._fade(a({end:1},d))};g.fadeOut=function(d){return g._fade(a({end:0},
                d))};g._defaultEasing=function(a){return.5+Math.sin((a+1.5)*Math.PI)/2};var v=function(a){this._properties=a;for(var d in a){var f=a[d];f.start instanceof m&&(f.tempColor=new m)}};v.prototype.getValue=function(a){var d={},f;for(f in this._properties){var b=this._properties[f],g=b.start;g instanceof m?d[f]=m.blendColors(g,b.end,a,b.tempColor).toCss():n.isArray(g)||(d[f]=(b.end-g)*a+g+("opacity"!=f?b.units||"px":0))}return d};g.animateProperty=function(f){var b=f.node=d.byId(f.node);f.easing||(f.easing=
                c._defaultEasing);f=new r(f);l.after(f,"beforeBegin",n.hitch(f,function(){var d={},f;for(f in this.properties){var g=function(a,d){var f={height:a.offsetHeight,width:a.offsetWidth}[d];if(void 0!==f)return f;f=k.get(a,d);return"opacity"==d?+f:q?f:parseFloat(f)};if("width"==f||"height"==f)this.node.display="block";var c=this.properties[f];n.isFunction(c)&&(c=c(b));c=d[f]=a({},n.isObject(c)?c:{end:c});n.isFunction(c.start)&&(c.start=c.start(b));n.isFunction(c.end)&&(c.end=c.end(b));var q=0<=f.toLowerCase().indexOf("color");
                "end"in c?"start"in c||(c.start=g(b,f)):c.end=g(b,f);q?(c.start=new m(c.start),c.end=new m(c.end)):c.start="opacity"==f?+c.start:parseFloat(c.start)}this.curve=new v(d)}),!0);l.after(f,"onAnimate",n.hitch(k,"set",f.node),!0);return f};g.anim=function(a,d,f,b,c,q){return g.animateProperty({node:a,duration:f||r.prototype.duration,properties:d,easing:b,onEnd:c}).play(q||0)};a(c,g);c._Animation=r;return g})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(c,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 n,e){var m=c.Color=function(b){b&&this.setColor(b)};m.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:e.transparentColor||[0,0,0,0]};b.extend(m,{r:255,g:255,b:255,a:1,_set:function(b,c,d,k){this.r=b;this.g=c;this.b=d;this.a=k},setColor:function(c){b.isString(c)?
                m.fromString(c,this):b.isArray(c)?m.fromArray(c,this):(this._set(c.r,c.g,c.b,c.a),c instanceof m||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+n.map(["r","g","b"],function(b){b=this[b].toString(16);return 2>b.length?"0"+b:b},this).join("")},toCss:function(b){var c=this.r+", "+this.g+", "+this.b;return(b?"rgba("+c+", "+this.a:"rgb("+c)+")"},toString:function(){return this.toCss(!0)}});
            m.blendColors=c.blendColors=function(b,c,d,k){k=k||new m;k.r=Math.round(b.r+(c.r-b.r)*d);k.g=Math.round(b.g+(c.g-b.g)*d);k.b=Math.round(b.b+(c.b-b.b)*d);k.a=b.a+(c.a-b.a)*d;return k.sanitize()};m.fromRgb=c.colorFromRgb=function(b,c){return(b=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&m.fromArray(b[1].split(/\s*,\s*/),c)};m.fromHex=c.colorFromHex=function(b,c){var d=c||new m,k=4==b.length?4:8,a=(1<<k)-1;b=Number("0x"+b.substr(1));if(isNaN(b))return null;n.forEach(["b","g","r"],function(c){var f=
                b&a;b>>=k;d[c]=4==k?17*f:f});d.a=1;return d};m.fromArray=c.colorFromArray=function(b,c){c=c||new m;c._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));isNaN(c.a)&&(c.a=1);return c.sanitize()};m.fromString=c.colorFromString=function(b,c){var d=m.named[b];return d&&m.fromArray(d,c)||m.fromRgb(b,c)||m.fromHex(b,c)};return m})},"dojo/request":function(){define(["./request/default!"],function(c){return c})},"dojo/request/default":function(){define(["exports","require","../has"],function(c,b,n){var e=
            n("config-requestProvider"),m;if(n("host-browser")||n("host-webworker"))m="./xhr";e||(e=m);c.getPlatformDefaultId=function(){return m};c.load=function(c,h,d,k){b(["platform"==c?m:e],function(a){d(a)})}})},"esri/Map":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/Logger ./core/accessorSupport/decorators ./support/basemapUtils ./support/groundUtils ./support/LayersMixin".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q){var t=a.getLogger("esri.Map");return function(a){function b(d){d=a.call(this,d)||this;d.basemap=null;d.ground=new l;d._basemapCache=f.createCache();return d}n(b,a);Object.defineProperty(b.prototype,"allLayers",{get:function(){return new d({root:this,rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:function(a){return a.layers}})},enumerable:!0,configurable:!0});b.prototype.castBasemap=function(a){return f.ensureType(a,
                this._basemapCache)};b.prototype.castGround=function(a){a=r.ensureType(a);return a?a:(t.error("Map.ground may not be set to null or undefined"),this._get("ground"))};b.prototype.findLayerById=function(a){return this.allLayers.find(function(d){return d.id===a})};e([g.property({readOnly:!0})],b.prototype,"allLayers",null);e([g.property({type:m})],b.prototype,"basemap",void 0);e([g.cast("basemap")],b.prototype,"castBasemap",null);e([g.property({type:l,nonNullable:!0})],b.prototype,"ground",void 0);e([g.cast("ground")],
                b.prototype,"castGround",null);return b=e([g.subclass("esri.Map")],b)}(g.declared(q.LayersMixin(k.EventedMixin(h))))})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(c,b){return function(b,c){b.__bases__=c.__bases__}})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(c,b,n,e){var m=arguments.length,l=3>m?b:null===e?e=Object.getOwnPropertyDescriptor(b,n):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=
            Reflect.decorate(c,b,n,e);else for(var d=c.length-1;0<=d;d--)if(h=c[d])l=(3>m?h(l):3<m?h(b,n,l):h(b,n))||l;return 3<m&&l&&Object.defineProperty(b,n,l),l}})},"esri/Basemap":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./core/arrayUtils ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A){var x=0,B=q.getLogger("esri.Basemap");return function(a){function f(f){var b=a.call(this,f)||this;b.id=null;b.portalItem=null;b.spatialReference=null;b.thumbnailUrl=null;b.title="Basemap";b.id=Date.now().toString(16)+"-basemap-"+x++;b.baseLayers=new d;b.referenceLayers=new d;var c=function(a){a.parent&&a.parent!==b&&"remove"in a.parent&&a.parent.remove(a);a.parent=b;"elevation"===a.type&&B.error("Layer '"+a.title+", id:"+a.id+"' of type '"+a.type+
                "' is not supported as a basemap layer and will therefore be ignored.")};b.baseLayers.on("after-add",function(a){return c(a.item)});b.referenceLayers.on("after-add",function(a){return c(a.item)});b.baseLayers.on("after-remove",function(a){a.item.parent=null});b.referenceLayers.on("after-remove",function(a){a.item.parent=null});return b}e(f,a);b=f;f.prototype.initialize=function(){var a=this;this.when().catch(function(d){B.error("#load()","Failed to load basemap (title: '"+a.title+"', id: '"+a.id+
                "')",d)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};f.prototype.normalizeCtorArgs=function(a){a&&"resourceInfo"in a&&(this._set("resourceInfo",a.resourceInfo),a=n({},a),delete a.resourceInfo);return a};Object.defineProperty(f.prototype,"baseLayers",{set:function(a){this._set("baseLayers",k.referenceSetter(a,this._get("baseLayers")))},enumerable:!0,configurable:!0});f.prototype._writeBaseLayers=function(a,d,f){var b=this,c=[];a&&(f=n({},f,{layerContainerType:"basemap"}),
                this.baseLayers.forEach(function(a){a=A.getLayerJSON(a,b._getLayerJSONFromResourceInfo(a),f);t.isSome(a)&&c.push(a)}),this.referenceLayers.forEach(function(a){a=A.getLayerJSON(a,b._getLayerJSONFromResourceInfo(a),f);t.isSome(a)&&(a.isReference=!0,c.push(a))}));d.baseMapLayers=c};Object.defineProperty(f.prototype,"referenceLayers",{set:function(a){this._set("referenceLayers",k.referenceSetter(a,this._get("referenceLayers")))},enumerable:!0,configurable:!0});f.prototype.writeTitle=function(a,d){d.title=
                a||"Basemap"};f.prototype.load=function(a){this.addResolvingPromise(this._loadFromSource(a));return u.resolve(this)};f.prototype.loadAll=function(){var a=this;return r.loadAll(this,function(d){d(a.baseLayers,a.referenceLayers)})};f.prototype.clone=function(){var a={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(a.loadStatus="loaded");return(new b({resourceInfo:this.resourceInfo})).set(a)};f.prototype.read=
                function(a,d){this.resourceInfo||this._set("resourceInfo",{data:a,context:d});this.inherited(arguments)};f.prototype.write=function(a,d){a=a||{};d&&d.origin||(d=n({origin:"web-map"},d));this.inherited(arguments,[a,d]);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(a.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(function(a){a=g.clone(a);a.url&&p.isProtocolRelative(a.url)&&(a.url="https:"+a.url);a.templateUrl&&p.isProtocolRelative(a.templateUrl)&&(a.templateUrl="https:"+
                a.templateUrl);return a}));return a};f.prototype._loadFromSource=function(a){var d=this.resourceInfo,f=this.portalItem;u.throwIfAborted(a);return d?this._loadLayersFromJSON(d.data,d.context?d.context.url:null,a):f?this._loadFromItem(f,a):u.resolve(null)};f.prototype._loadLayersFromJSON=function(a,d,f){var b=this,g=this.resourceInfo&&this.resourceInfo.context,q=this.portalItem&&this.portalItem.portal||g&&g.portal||null,k=g&&"web-scene"===g.origin?"web-scene":"web-map";return u.create(function(a){return c(["./portal/support/layersCreator"],
                a)}).then(function(c){var g=[];u.throwIfAborted(f);if(a.baseMapLayers&&Array.isArray(a.baseMapLayers)){var p={context:{origin:k,url:d,portal:q,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},e=c.populateOperationalLayers(b.baseLayers,a.baseMapLayers.filter(function(a){return!a.isReference}),p);g.push(e);c=c.populateOperationalLayers(b.referenceLayers,a.baseMapLayers.filter(function(a){return a.isReference}),p);g.push(c)}return u.eachAlways(g)}).then(function(){})};f.prototype._loadFromItem=
                function(a,d){var f=this;return a.load(d).then(function(a){return a.fetchData("json",d)}).then(function(b){var c=p.urlToObject(a.itemUrl);f._set("resourceInfo",{data:b.baseMap,context:{origin:"web-map",portal:a.portal||w.getDefault(),url:c}});f.read(f.resourceInfo.data,f.resourceInfo.context);f.read({spatialReference:b.spatialReference},f.resourceInfo.context);f.read({title:a.title,thumbnailUrl:a.thumbnailUrl},{origin:"portal-item",portal:a.portal||w.getDefault(),url:c});return f._loadLayersFromJSON(f.resourceInfo.data,
                    c,d)})};f.prototype._getLayerJSONFromResourceInfo=function(a){var d=this.get("resourceInfo.data.baseMapLayers");return t.isSome(d)?h.find(d,function(d){return d.id===a.id}):null};f.fromId=function(a){return(a=y.esriBasemapDefinitions[a])?b.fromJSON(a):null};var b;m([v.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer:function(a,d,f,b){this._writeBaseLayers(a,d,b)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:d},elevationLayers:{type:d}},writer:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             d,f,b){this._writeBaseLayers(a,d,b)}}}}}})],f.prototype,"baseLayers",null);m([v.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],f.prototype,"id",void 0);m([v.property({type:z})],f.prototype,"portalItem",void 0);m([v.property()],f.prototype,"referenceLayers",null);m([v.property({readOnly:!0})],f.prototype,"resourceInfo",void 0);m([v.property({type:l.SpatialReference})],f.prototype,"spatialReference",void 0);m([v.property()],f.prototype,"thumbnailUrl",void 0);m([v.property({type:String,
                json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],f.prototype,"title",void 0);m([v.writer("title")],f.prototype,"writeTitle",null);return f=b=m([v.subclass("esri.Basemap")],f)}(v.declared(a.JSONSupportMixin(f)))})},"esri/core/tsSupport/assignHelper":function(){define([],function(){return Object.assign||function(c){for(var b,n=1,e=arguments.length;n<e;n++){b=arguments[n];for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])}return c}})},"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=m;b.BaseGeometry=l;b.Multipoint=h;b.Point=d;b.Polygon=k;b.Polyline=a;b.SpatialReference=g;b.isGeometry=function(a){return a instanceof l};b.fromJSON=f.fromJSON;b.typeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});b.isFeatureGeometryType=function(a){return"point"===
                a||"multipoint"===a||"polyline"===a||"polygon"===a};b.featureGeometryTypeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b.geometryTypes={base:l,key:"type",typeMap:{extent:m,multipoint:h,point:d,polyline:a,polygon:k}};b.ensureType=e.ensureOneOfType(b.geometryTypes)})},"esri/core/jsonMap":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});var n=
            function(){function b(b,c){void 0===c&&(c={ignoreUnknown:!1});var e=this;this.jsonToAPI=b;this.options=c;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(b);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(d){return e.fromJSON(d)};this.write=function(d,b,a){d=e.toJSON(d);void 0!==d&&(b[a]=d)}}b.prototype.toJSON=function(b){return this.apiToJSON.hasOwnProperty(b)?this.apiToJSON[b]:this.options.ignoreUnknown?void 0:
                b};b.prototype.fromJSON=function(b){return this.jsonToAPI.hasOwnProperty(b)?this.jsonToAPI[b]:this.options.ignoreUnknown?void 0:b};b.prototype.invertMap=function(b){var c={},e;for(e in b)c[b[e]]=e;return c};b.prototype.getKeysSorted=function(b){var c=[],e;for(e in b)c.push(e);c.sort();return c};return b}();b.JSONMap=n;b.strict=function(){return function(b){return new n(b,{ignoreUnknown:!0})}};b.default=n})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../compilerUtils",
            "../Logger"],function(c,b,n,e){function m(a){return null==a?a:new Date(a)}function l(a){return null==a?a:!!a}function h(a){return null==a?a:a.toString()}function d(a){return null==a?a:"number"===typeof a&&isNaN(a)?0:parseFloat(a)}function k(a){return null==a?a:Math.round(parseFloat(a))}function a(a){return a&&a.constructor&&void 0!==a.constructor._meta}function g(a,d){return null!=d&&a&&!(d instanceof a)}function f(a){return a&&("isCollection"in a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in
            a}))}function r(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function q(a,d){if(!d||!d.constructor||!f(d.constructor))return t(a,d)?d:new a(d);var b=r(a.prototype.itemType),c=r(d.constructor.prototype.itemType);if(!b)return d;if(!c)return new a(d);if(b===c)return d;if((c=c._meta&&c._meta.bases)&&-1!==c.indexOf(b))return new a(d);t(a,d);return d}function t(d,f){return a(f)?(H.error("Accessor#set","Assigning an instance of '"+(f.declaredClass||"unknown")+"' which is not a subclass of '"+
            p(d)+"'"),!0):!1}function u(a,d){return null==d?d:f(a)?q(a,d):g(a,d)?t(a,d)?d:new a(d):d}function p(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}function v(a){switch(a){case Number:return d;case F:return k;case Boolean:return l;case String:return h;case Date:return m;default:return u.bind(null,a)}}function w(a,d){var f=v(a);return 1===arguments.length?f:f(d)}function z(a,d,f){return 1===arguments.length?z.bind(null,a):d?Array.isArray(d)?d.map(function(d){return a(d,f)}):[a(d,f)]:
            d}function y(a,d,f){return 0!==d&&Array.isArray(f)?f.map(function(f){return y(a,d-1,f)}):a(f)}function A(a,d,f){if(2===arguments.length)return A.bind(null,a,d);if(!f)return f;f=y(a,d,f);for(var b=d,c=f;0<b&&Array.isArray(c);)b--,c=c[0];if(void 0!==c)for(c=0;c<b;c++)f=[f];return f}function x(a,d){if(2===arguments.length)return x(a).call(null,d);for(var f=new Set,b=a.filter(function(a){return"function"!==typeof a}),c=a.filter(function(a){return"function"===typeof a}),q=0;q<a.length;q++){var k=a[q];
            "string"!==typeof k&&"number"!==typeof k||f.add(k)}var e=null,h=null;return function(a,d){if(null==a)return a;var q=typeof a,k="string"===q||"number"===q;if(k&&(f.has(a)||c.some(function(a){return"string"===q&&a===String||"number"===q&&a===Number}))||"object"===q&&c.some(function(d){return!g(a,d)}))return a;k&&b.length?(e||(e=b.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),H.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+
            e)):"object"===typeof a&&c.length?(h||(h=c.map(function(a){return p(a)}).join(", ")),H.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+h)):H.error("Accessor#set","'"+a+"' is not a valid value for this property");d&&(d.valid=!1);return null}}function B(d,f){if(2===arguments.length)return B(d).call(null,f);var b={},c=[],q=[],k;for(k in d.typeMap){var e=d.typeMap[k];b[k]=w(e);c.push(p(e));q.push(k)}var h="string"===typeof d.key?function(a){return a[d.key]}:
            d.key;return function(f){if(d.base&&!g(d.base,f)||null==f)return f;var k=h(f)||d.defaultKeyValue,p=b[k];if(!p)return H.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+c.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+q.join("', '")+"'")+")"),null;if(!g(d.typeMap[k],f))return f;if("string"===typeof d.key&&!a(f)){var k={},e;for(e in f)e!==d.key&&(k[e]=f[e]);return p(k)}return p(f)}}function D(a){switch(a.type){case "native":return w(a.value);
            case "array":return z(D(a.value));case "one-of":return E(a);default:n.neverReached(a)}return null}function E(a){var d=null;return function(f,b){if(G(f,a))return f;null==d&&(d=C(a));H.error("Accessor#set","Invalid property value, value needs to be of type "+d);b&&(b.valid=!1);return null}}function C(a){switch(a.type){case "native":switch(a.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case F:return"integer";case Date:return"date";default:return p(a.value)}case "array":return"array of "+
            C(a.value);case "one-of":return a=a.values.map(function(a){return C(a)}),"one of "+a.slice(0,a.length-1)+" or "+a[a.length-1];default:n.neverReached(a)}return"unknown"}function G(a,d){if(null==a)return!0;switch(d.type){case "native":switch(d.value){case Number:case F:return"number"===typeof a;case Boolean:return"boolean"===typeof a;case String:return"string"===typeof a}return a instanceof d.value;case "array":return Array.isArray(a)?!a.some(function(a){return!G(a,d.value)}):!1;case "one-of":return d.values.some(function(d){return G(a,
            d)})}}Object.defineProperty(b,"__esModule",{value:!0});var H=e.getLogger("esri.core.Accessor");b.ensureDate=m;b.ensureBoolean=l;b.ensureString=h;b.ensureNumber=d;b.ensureInteger=k;b.isClassedType=a;b.requiresType=g;b.ensureClass=u;b.ensureType=w;b.ensureArrayTyped=z;b.ensureArray=function(a,d){return 1===arguments.length?z(w.bind(null,a)):z(w.bind(null,a),d)};b.ensureNArrayTyped=A;b.ensureNArray=function(a,d,f){return 2===arguments.length?A(w.bind(null,a),d):A(w.bind(null,a),d,f)};b.isOneOf=function(a){return Array.isArray(a)?
            !a.some(function(d){d=typeof d;return!("string"===d||"number"===d||"function"===d&&1<a.length)}):!1};b.ensureOneOf=x;b.ensureOneOfType=B;var F=function(){return function(){}}();b.Integer=F;b.types={native:function(a){return{type:"native",value:a}},array:function(a){return{type:"array",value:a}},oneOf:function(a){return{type:"one-of",values:a}}};b.isLongFormType=function(a){if(!(a&&"type"in a))return!1;switch(a.type){case "native":case "array":case "one-of":return!0;default:n.neverReachedSilent(a)}return!1};
            b.ensureLongFormType=D;b.default=w})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.neverReached=function(b){};b.neverReachedSilent=function(b){};b.typeCast=function(b){return function(){return b}};b.tuple=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return b}})},"esri/core/has":function(){define("require exports dojo/sniff ../config ./global ../views/webgl/context-util".split(" "),
            function(c,b,n,e,m,l){function h(){if(a)return a;a={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1,version:0};var d=document.createElement("canvas");if(!d)return a;var b=l.createContext(d,{failIfMajorPerformanceCaveat:!0},"webgl");!b&&(b=l.createContext(d,{},"webgl"))&&(a.majorPerformanceCaveat=
                !0);if(!b)return a;d=b.getParameter(b.VERSION);if(!d)return a;if(d=d.match(/^WebGL\s+([\d.]*)/)){a.version=parseFloat(d[1]);a.available=.94<=a.version;if(d=b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT))a.supportsHighPrecisionFragment=0<d.precision;a.supportsVertexShaderSamplers=0<b.getParameter(b.MAX_VERTEX_TEXTURE_IMAGE_UNITS);a.supportsElementIndexUint=null!==b.getExtension("OES_element_index_uint");a.supportsStandardDerivatives=null!==b.getExtension("OES_standard_derivatives");a.supportsInstancedArrays=
                null!==b.getExtension("ANGLE_instanced_arrays");a.supportsTextureFloat=null!==b.getExtension("OES_texture_float");a.supportsColorBufferFloat=null!==b.getExtension("WEBGL_color_buffer_float")}a.maxTextureSize=b.getParameter(b.MAX_TEXTURE_SIZE);return a}function d(){if(g)return g;g={available:!1,version:0};var a=document.createElement("canvas");if(!a)return g;a=l.createContext(a,{},"webgl2");if(!a)return g;g.available=!0;a=a.getParameter(a.VERSION);if(!a)return g;if(a=a.match(/^WebGL\s+([\d.]*)/))g.version=
                parseFloat(a[1]);return g}if("object"===typeof e.has){c=0;for(b=Object.keys(e.has);c<b.length;c++){var k=b[c];n.add(k,e.has[k],!1,!0)}delete e.has}(function(){var a=navigator.userAgent,b=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=a.match(/iPhone/i);b&&n.add("esri-mobile",b);a&&n.add("esri-iPhone",a);n.add("esri-geolocation",function(){return!!navigator.geolocation});n.add("esri-canvas-svg-support",function(){return!(n("trident")||n("ie"))});n.add("esri-secure-context",
                function(){if("isSecureContext"in m)return m.isSecureContext;if(m.location&&m.location.origin)return 0===m.location.origin.indexOf("https:")});n.add("esri-wasm","WebAssembly"in m);n.add("esri-shared-array-buffer",function(){var a=!1===m.crossOriginIsolated;return"SharedArrayBuffer"in m&&!a});n.add("esri-atomics","Atomics"in m);n.add("esri-workers","Worker"in m);n.add("esri-text-decoder","TextDecoder"in m);n.add("esri-deprecation-warnings",!0);n.add("esri-native-promise",!n("disable-feature:esri-native-promise"));
                n("host-webworker")||(n.add("esri-abortable-fetch","fetch"in m&&"signal"in new Request("https://www.arcgis.com")),n.add("esri-image-decode",function(){if("decode"in new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';a.decode().then(function(){n.add("esri-image-decode",!0,!0,!0)}).catch(function(){n.add("esri-image-decode",!1,!0,!0)})}else return!1}),n.add("esri-url-encodes-apostrophe",function(){var a=
                    m.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),n.add("esri-webgl",function(){return h().available}),n.add("esri-webgl-high-precision-fragment",function(){return h().supportsHighPrecisionFragment}),n.add("esri-webgl-vertex-shader-samplers",function(){return h().supportsVertexShaderSamplers}),n.add("esri-webgl-element-index-uint",function(){return h().supportsElementIndexUint}),n.add("esri-webgl-standard-derivatives",function(){return h().supportsStandardDerivatives}),n.add("esri-webgl-texture-float",
                    function(){return h().supportsTextureFloat}),n.add("esri-webgl-color-buffer-float",function(){return h().supportsColorBufferFloat}),n.add("esri-webgl-instanced-arrays",function(){return h().supportsInstancedArrays}),n.add("esri-webgl-major-performance-caveat",function(){return h().majorPerformanceCaveat}),n.add("esri-featurelayer-webgl",!0),n.add("esri-featurelayer-webgl-labeling",!0),n.add("esri-webgl2",function(){return d().available}),n.add("esri-webgl-max-texture-size",function(){return h().maxTextureSize}))})();
                var a=null,g=null;return n})},"esri/config":function(){define(["require","exports","@dojo/framework/has/has","./core/global","./core/object"],function(c,b,n,e,m){n.add("postmessage",!1,!0);c={applicationUrl:e.location&&e.location.href,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",
            portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};e.esriConfig&&m.deepMerge(c,e.esriConfig,!0);c.request.corsEnabledServers=[];c.request.corsEnabledServers.push=
            function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return c})},"@dojo/framework/has/has":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],c)})(function(c,b){function n(a){a=a.toLowerCase();return!!(a in
            d||a in b.testCache||b.testFunctions[a])}function e(a,c,f){void 0===f&&(f=!1);var g=a.toLowerCase();if(n(g)&&!f&&!(g in d))throw new TypeError('Feature "'+a+'" exists and overwrite not true.');"function"===typeof c?b.testFunctions[g]=c:(b.testCache[g]=c,delete b.testFunctions[g])}function m(a){var c=a.toLowerCase();if(c in d)a=d[c];else if(b.testFunctions[c])a=b.testCache[c]=b.testFunctions[c].call(null),delete b.testFunctions[c];else if(c in b.testCache)a=b.testCache[c];else throw new TypeError('Attempt to detect unregistered has feature "'+
            a+'"');return a}Object.defineProperty(b,"__esModule",{value:!0});var l=c("tslib"),h=c("../shim/global");b.testCache={};b.testFunctions={};c=(h.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in h.default&&delete h.default.DojoHasEnvironment;var d=c?"function"===typeof c?c.apply(h.default):c:{};b.load=function(a,d,b,c){a?d([a],b):b()};b.normalize=function(a,d){function b(a){var d=c[g++];if(":"===d)return null;if("?"===c[g++]){if(!a&&m(d))return b();b(!0);return b(a)}return d}var c=
            a.match(/[\?:]|[^:\?]*/g)||[],g=0;return(a=b())&&d(a)};b.exists=n;b.add=e;b.default=m;e("public-path",void 0);e("dojo-debug",!1);e("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);e("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});e("fetch","fetch"in h.default&&"function"===typeof h.default.fetch,!0);e("es6-array",function(){return["from","of"].every(function(a){return a in h.default.Array})&&["findIndex",
            "find","copyWithin"].every(function(a){return a in h.default.Array.prototype})},!0);e("es6-array-fill",function(){return"fill"in h.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);e("es7-array",function(){return"includes"in h.default.Array.prototype},!0);e("es6-map",function(){if("function"===typeof h.default.Map)try{var a=new h.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&m("es6-symbol")&&"function"===typeof a.values&&"function"===typeof a.entries}catch(g){}return!1},
            !0);e("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===typeof h.default.Math[a]})},!0);e("es6-math-imul",function(){return"imul"in h.default.Math?-5===Math.imul(4294967295,5):!1},!0);e("es6-object",function(){return m("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);e("es2017-object",function(){return["values",
            "entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);e("es-observable",function(){return"undefined"!==typeof h.default.Observable},!0);e("es6-promise",function(){return"undefined"!==typeof h.default.Promise&&m("es6-symbol")},!0);e("es2018-promise-finally",function(){return m("es6-promise")&&"undefined"!==typeof h.default.Promise.prototype.finally},!0);e("es6-set",function(){if("function"===typeof h.default.Set){var a=new h.default.Set([1]);
            return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&m("es6-symbol")}return!1},!0);e("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===typeof h.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===typeof h.default.String.prototype[a]})},!0);e("es6-string-raw",function(){function a(a){for(var d=1;d<arguments.length;d++);d=l.__spread(a);d.raw=a.raw;return d}if("raw"in h.default.String){var d=
            a(k||(k=l.__makeTemplateObject(["a\n",""],["a\\n",""])),1);d.raw=["a\\n"];return"a\\n"===h.default.String.raw(d,42)}return!1},!0);e("es2017-string",function(){return["padStart","padEnd"].every(function(a){return"function"===typeof h.default.String.prototype[a]})},!0);e("es6-symbol",function(){return"undefined"!==typeof h.default.Symbol&&"symbol"===typeof Symbol()},!0);e("es6-weakmap",function(){if("undefined"!==typeof h.default.WeakMap){var a={},d={},b=new h.default.WeakMap([[a,1]]);Object.freeze(a);
            return 1===b.get(a)&&b.set(d,2)===b&&m("es6-symbol")}return!1},!0);e("microtasks",function(){return m("es6-promise")||0||m("dom-mutationobserver")},!0);e("postmessage",function(){return"undefined"!==typeof h.default.window&&"function"===typeof h.default.postMessage},!0);e("raf",function(){return"function"===typeof h.default.requestAnimationFrame},!0);e("setimmediate",function(){return"undefined"!==typeof h.default.setImmediate},!0);e("dom-mutationobserver",function(){if(m("host-browser")&&(h.default.MutationObserver||
            h.default.WebKitMutationObserver)){var a=document.createElement("div"),d=new (h.default.MutationObserver||h.default.WebKitMutationObserver)(function(){});d.observe(a,{attributes:!0});a.style.setProperty("display","block");return!!d.takeRecords().length}return!1},!0);e("dom-webanimation",function(){return m("host-browser")&&void 0!==h.default.Animation&&void 0!==h.default.KeyframeEffect},!0);e("abort-controller",function(){return"undefined"!==typeof h.default.AbortController});e("abort-signal",function(){return"undefined"!==
            typeof h.default.AbortSignal});e("dom-intersection-observer",function(){return m("host-browser")&&void 0!==h.default.IntersectionObserver},!0);e("dom-resize-observer",function(){return m("host-browser")&&void 0!==h.default.ResizeObserver},!0);e("dom-pointer-events",function(){return m("host-browser")&&void 0!==h.default.onpointerdown},!0);e("build-elide",!1);var k})},"tslib/tslib":function(){var c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w;(function(a){function d(a,d){a!==b&&("function"===typeof Object.create?
            Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0);return function(b,f){return a[b]=d?d(b,f):f}}var b="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(f){a(d(b,d(f)))}):"object"===typeof module&&"object"===typeof module.exports?a(d(b,d(module.exports))):a(d(b))})(function(z){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        d){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b])};c=function(a,d){function b(){this.constructor=a}y(a,d);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)};b=Object.assign||function(a){for(var d,b=1,f=arguments.length;b<f;b++){d=arguments[b];for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}return a};n=function(a,d){var b={},f;for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&0>d.indexOf(f)&&(b[f]=a[f]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var c=
            0;for(f=Object.getOwnPropertySymbols(a);c<f.length;c++)0>d.indexOf(f[c])&&(b[f[c]]=a[f[c]])}return b};e=function(a,d,b,f){var c=arguments.length,g=3>c?d:null===f?f=Object.getOwnPropertyDescriptor(d,b):f,q;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,d,b,f);else for(var k=a.length-1;0<=k;k--)if(q=a[k])g=(3>c?q(g):3<c?q(d,b,g):q(d,b))||g;return 3<c&&g&&Object.defineProperty(d,b,g),g};m=function(a,d){return function(b,f){d(b,f,a)}};l=function(a,d){if("object"===
            typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,d)};h=function(a,d,b,f){return new (b||(b=Promise))(function(c,g){function q(a){try{p(f.next(a))}catch(J){g(J)}}function k(a){try{p(f["throw"](a))}catch(J){g(J)}}function p(a){a.done?c(a.value):(new b(function(d){d(a.value)})).then(q,k)}p((f=f.apply(a,d||[])).next())})};d=function(a,d){function b(a){return function(d){return f([a,d])}}function f(b){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=
            1,q&&(k=b[0]&2?q["return"]:b[0]?q["throw"]||((k=q["return"])&&k.call(q),0):q.next)&&!(k=k.call(q,b[1])).done)return k;if(q=0,k)b=[b[0]&2,k.value];switch(b[0]){case 0:case 1:k=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++;q=b[1];b=[0];continue;case 7:b=c.ops.pop();c.trys.pop();continue;default:if(!(k=c.trys,k=0<k.length&&k[k.length-1])&&(6===b[0]||2===b[0])){c=0;continue}if(3===b[0]&&(!k||b[1]>k[0]&&b[1]<k[3]))c.label=b[1];else if(6===b[0]&&c.label<k[1])c.label=k[1],k=b;else if(k&&
            c.label<k[2])c.label=k[2],c.ops.push(b);else{k[2]&&c.ops.pop();c.trys.pop();continue}}b=d.call(a,c)}catch(J){b=[6,J],q=0}finally{g=k=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var c={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},g,q,k,p;return p={next:b(0),"throw":b(1),"return":b(2)},"function"===typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p};k=function(a,d){for(var b in a)d.hasOwnProperty(b)||(d[b]=a[b])};a=function(a){var d="function"===
            typeof Symbol&&a[Symbol.iterator],b=0;return d?d.call(a):{next:function(){a&&b>=a.length&&(a=void 0);return{value:a&&a[b++],done:!a}}}};g=function(a,d){var b="function"===typeof Symbol&&a[Symbol.iterator];if(!b)return a;a=b.call(a);var f,c=[],g;try{for(;(void 0===d||0<d--)&&!(f=a.next()).done;)c.push(f.value)}catch(G){g={error:G}}finally{try{f&&!f.done&&(b=a["return"])&&b.call(a)}finally{if(g)throw g.error;}}return c};f=function(){for(var a=[],d=0;d<arguments.length;d++)a=a.concat(g(arguments[d]));
            return a};r=function(a){return this instanceof r?(this.v=a,this):new r(a)};q=function(a,d,b){function f(a){p[a]&&(e[a]=function(d){return new Promise(function(b,f){1<h.push([a,d,b,f])||c(a,d)})})}function c(a,d){try{var b=p[a](d);b.value instanceof r?Promise.resolve(b.value.v).then(g,q):k(h[0][2],b)}catch(K){k(h[0][3],K)}}function g(a){c("next",a)}function q(a){c("throw",a)}function k(a,d){(a(d),h.shift(),h.length)&&c(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");
            var p=b.apply(a,d||[]),e,h=[];return e={},f("next"),f("throw"),f("return"),e[Symbol.asyncIterator]=function(){return this},e};t=function(a){function d(d,c){b[d]=a[d]?function(b){return(f=!f)?{value:r(a[d](b)),done:"return"===d}:c?c(b):b}:c}var b,f;return b={},d("next"),d("throw",function(a){throw a;}),d("return"),b[Symbol.iterator]=function(){return this},b};u=function(d){function b(a){g[a]=d[a]&&function(b){return new Promise(function(c,g){b=d[a](b);f(c,g,b.done,b.value)})}}function f(a,d,b,f){Promise.resolve(f).then(function(d){a({value:d,
            done:b})},d)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=d[Symbol.asyncIterator],g;return c?c.call(d):(d="function"===typeof a?a(d):d[Symbol.iterator](),g={},b("next"),b("throw"),b("return"),g[Symbol.asyncIterator]=function(){return this},g)};p=function(a,d){Object.defineProperty?Object.defineProperty(a,"raw",{value:d}):a.raw=d;return a};v=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var b in a)Object.hasOwnProperty.call(a,b)&&(d[b]=
            a[b]);d["default"]=a;return d};w=function(a){return a&&a.__esModule?a:{"default":a}};z("__extends",c);z("__assign",b);z("__rest",n);z("__decorate",e);z("__param",m);z("__metadata",l);z("__awaiter",h);z("__generator",d);z("__exportStar",k);z("__values",a);z("__read",g);z("__spread",f);z("__await",r);z("__asyncGenerator",q);z("__asyncDelegator",t);z("__asyncValues",u);z("__makeTemplateObject",p);z("__importStar",v);z("__importDefault",w)})},"@dojo/framework/shim/global":function(){(function(c){"object"===
        typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports"],c)})(function(c,b){Object.defineProperty(b,"__esModule",{value:!0});c=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();b.default=c})},"esri/core/global":function(){define(["require","exports"],function(c,b){return function(){if("undefined"!==
            typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/core/object":function(){define(["require","exports","./lang"],function(c,b,n){function e(b,c,d){for(var k=0;k<b.length;k++){var a=b[k];if(null==d)return;if(!(a in d))if(c)d[a]={};else return;d=d[a]}return d}function m(b,c,d){return c?Object.keys(c).reduce(function(b,a){var g=b[a],f=c[a];if(g===f)return b;if(void 0===g)return b[a]=
            n.clone(f),b;if(Array.isArray(f)||Array.isArray(b))g=g?Array.isArray(g)?b[a]=g.concat():b[a]=[g]:b[a]=[],f&&(Array.isArray(f)||(f=[f]),d?f.forEach(function(a){-1===g.indexOf(a)&&g.push(a)}):b[a]=f.concat());else if(f&&"object"===typeof f)b[a]=m(g,f,d);else if(!b.hasOwnProperty(a)||c.hasOwnProperty(a))b[a]=f;return b},b||{}):b}Object.defineProperty(b,"__esModule",{value:!0});b.deepMerge=function(b,c,d){void 0===d&&(d=!1);return m(b,c,d)};b.getDeepValue=function(b,c){if(null!=c)return c[b]||e(b.split("."),
            !1,c)};b.setDeepValue=function(b,c,d){var k=b.split(".");b=k.pop();(d=e(k,!0,d))&&b&&(d[b]=c)}})},"esri/core/lang":function(){define(["require","exports","./typedArrayUtil"],function(c,b,n){function e(b,d){var c;if(d)for(c in b)b.hasOwnProperty(c)&&(void 0===b[c]?delete b[c]:b[c]instanceof Object&&e(b[c],!0));else for(c in b)b.hasOwnProperty(c)&&void 0===b[c]&&delete b[c];return b}function m(b){if(!b||"object"!==typeof b||"function"===typeof b)return b;if(n.isInt8Array(b)||n.isUint8Array(b)||n.isUint8ClampedArray(b)||
            n.isInt16Array(b)||n.isUint16Array(b)||n.isInt32Array(b)||n.isUint32Array(b)||n.isFloat32Array(b)||n.isFloat64Array(b))return n.slice(b);if(b instanceof Date)return new Date(b.getTime());if(b instanceof ArrayBuffer)return b.slice(0,b.byteLength);if(b instanceof Map){var d=new Map;b.forEach(function(a,b){d.set(b,m(a))});return d}if(b instanceof Set){var c=new Set;b.forEach(function(a){c.add(m(a))});return c}return"function"===typeof b.clone?b.clone():"function"===typeof b.map&&"function"===typeof b.forEach?
            b.map(m):"function"===typeof b.notifyChange&&"function"===typeof b.watch?b.clone():l({},b,m)}function l(b,d,c){var a,g,f={};for(a in d){g=d[a];var k=!(a in f)||f[a]!==g;if(!(a in b)||b[a]!==g&&k)b[a]=c?c(g):g}return b}Object.defineProperty(b,"__esModule",{value:!0});b.fixJson=e;b.clone=m;b.equals=function(b,d){return b===d||"number"===typeof b&&isNaN(b)&&"number"===typeof d&&isNaN(d)||"function"===typeof(b||{}).getTime&&"function"===typeof(d||{}).getTime&&b.getTime()===d.getTime()||!1};b.mixin=function(b){void 0===
        b&&(b={});for(var d=[],c=1;c<arguments.length;c++)d[c-1]=arguments[c];for(c=0;c<d.length;c++)l(b,d[c]);return b}})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.forEach=function(b,c){if(b.forEach)b.forEach(c);else for(var e=0;e<b.length;e++)c(b[e],e,b)};b.slice=function(b,c,m){if(b.slice)return b.slice(c,m);void 0===c?c=0:(0>c&&(c+=b.length),c=Math.min(b.length,Math.max(0,c)));void 0===m?m=b.length:(0>m&&(m+=b.length),
            m=Math.min(b.length,Math.max(0,m)));m=Math.max(0,m-c);for(var e=new b.constructor(m),h=0;h<m;h++)e[h]=b[c+h];return e};b.isArrayBuffer=function(b){return b instanceof ArrayBuffer||b&&b.constructor&&"ArrayBuffer"===b.constructor.name};b.isInt8Array=function(b){return b instanceof Int8Array||b&&b.constructor&&"Int8Array"===b.constructor.name};b.isUint8Array=function(b){return b instanceof Uint8Array||b&&b.constructor&&"Uint8Array"===b.constructor.name};b.isUint8ClampedArray=function(b){return b instanceof
            Uint8ClampedArray||b&&b.constructor&&"Uint8ClampedArray"===b.constructor.name};b.isInt16Array=function(b){return b instanceof Int16Array||b&&b.constructor&&"Int16Array"===b.constructor.name};b.isUint16Array=function(b){return b instanceof Uint16Array||b&&b.constructor&&"Uint16Array"===b.constructor.name};b.isInt32Array=function(b){return b instanceof Int32Array||b&&b.constructor&&"Int32Array"===b.constructor.name};b.isUint32Array=function(b){return b instanceof Uint32Array||b&&b.constructor&&"Uint32Array"===
            b.constructor.name};b.isFloat32Array=function(b){return b instanceof Float32Array||b&&b.constructor&&"Float32Array"===b.constructor.name};b.isFloat64Array=function(b){return b instanceof Float64Array||b&&b.constructor&&"Float64Array"===b.constructor.name};b.toArray=function(b){for(var c=Array(b.length),m=0;m<b.length;m++)c[m]=b[m];return c};b.estimateSize=function(b){return b?128+b.buffer.byteLength+64:0}})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(c,b){function n(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         d,c){void 0===d&&(d={});var a;switch(c){case "webgl":a=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":a=["webgl2"];break;default:a=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}c=null;for(var g=0;g<a.length;g++){var f=a[g];try{c=b.getContext(f,d)}catch(r){}if(c)break}return c}function e(b,d){(b=b.parentNode)&&(b.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
            d+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(b,"__esModule",{value:!0});b.createContextOrErrorHTML=function(b,d,c){void 0===d&&(d={});if(!window.WebGLRenderingContext)return e(b,m),null;d=n(b,d,c);return d?d:(e(b,l),null)};b.createContext=n;var m='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',l='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
        "esri/core/Logger":function(){define(["require","exports","./has","./string","@dojo/framework/shim/Promise"],function(c,b,n,e){var m={info:0,warn:1,error:2};c=function(){function b(c){void 0===c&&(c={});this._loggedMessages={error:new Map,warn:new Map,info:new Map};this.module=c.module||"";this.writer=c.writer||null;this.level=c.level||null;null!=c.enabled&&(this.enabled=!!c.enabled);b._loggers[this.module]=this;c=this.module.lastIndexOf(".");-1!==c&&(this.parent=b.getLogger(this.module.slice(0,c)))}
            b.prototype.log=function(c,d){for(var k=[],a=2;a<arguments.length;a++)k[a-2]=arguments[a];if(this._isEnabled()&&this._matchLevel(c)){if("always"!==d&&!b._throttlingDisabled){var a=this._argsToKey(k),g=this._loggedMessages[c].get(a);if("once"===d&&null!=g||"oncePerTick"===d&&g>=b._tickCounter)return;this._loggedMessages[c].set(a,b._tickCounter);b._scheduleTickCounterIncrement()}(a=this._inheritedWriter())&&a.apply(void 0,[c,this.module].concat(k))}};b.prototype.error=function(){for(var b=[],d=0;d<
            arguments.length;d++)b[d]=arguments[d];this.log.apply(this,["error","always"].concat(b))};b.prototype.warn=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];this.log.apply(this,["warn","always"].concat(b))};b.prototype.info=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];this.log.apply(this,["info","always"].concat(b))};b.prototype.errorOnce=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];this.log.apply(this,["error","once"].concat(b))};
            b.prototype.warnOnce=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];this.log.apply(this,["warn","once"].concat(b))};b.prototype.infoOnce=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];this.log.apply(this,["info","once"].concat(b))};b.prototype.errorOncePerTick=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];this.log.apply(this,["error","oncePerTick"].concat(b))};b.prototype.warnOncePerTick=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=
                arguments[d];this.log.apply(this,["warn","oncePerTick"].concat(b))};b.prototype.infoOncePerTick=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];this.log.apply(this,["info","oncePerTick"].concat(b))};b.prototype.getLogger=function(c){return b.getLogger(this.module+"."+c)};Object.defineProperty(b,"test",{get:function(){return{resetLoggers:function(c){void 0===c&&(c={});var d=b._loggers;b._loggers=c;return d},set throttlingDisabled(c){b._throttlingDisabled=c}}},enumerable:!0,configurable:!0});
            b.getLogger=function(c){var d=b._loggers[c];d||(d=new b({module:c}));return d};b.prototype._parentWithMember=function(b,d){for(var c=this;c&&null==c[b];)c=c.parent;return c?c[b]:d};b.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};b.prototype._consoleWriter=function(b,d){for(var c=[],a=2;a<arguments.length;a++)c[a-2]=arguments[a];console[b].apply(console,["["+d+"]"].concat(c))};b.prototype._matchLevel=function(b){return m[this._parentWithMember("level",
                "error")]<=m[b]};b.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};b.prototype._argsToKey=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];return e.numericHash(JSON.stringify(b,function(d,a){return"object"!==typeof a||Array.isArray(a)?a:"[Object]"}))};b._scheduleTickCounterIncrement=function(){b._tickCounterScheduled||(b._tickCounterScheduled=!0,Promise.resolve().then(function(){b._tickCounter++;b._tickCounterScheduled=!1}))};b._loggers={};b._tickCounter=
                0;b._tickCounterScheduled=!1;b._throttlingDisabled=!1;return b}();c.getLogger("esri").level="warn";return c})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(c,b,n,e){Object.defineProperty(b,"__esModule",{value:!0});var m=/\{([^\}]+)\}/g;b.endsWith=e.endsWith;b.startsWith=e.startsWith;b.padEnd=e.padEnd;b.padStart=e.padStart;b.replace=function(b,c){return b.replace(m,"object"===typeof c?function(d,b){return n.getDeepValue(b,c)}:function(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      b){return c(b)})};b.escapeRegExpString=function(b,c){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(d){return c&&-1!==c.indexOf(d)?d:"\\"+d})};b.numericHash=function(b){for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d),c|=0;return c}})},"@dojo/framework/shim/string":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),
            c)})(function(c,b){Object.defineProperty(b,"__esModule",{value:!0});var n=c("tslib"),e=c("./global"),m=c("../has/has");c=c("./support/util");b.HIGH_SURROGATE_MIN=55296;b.HIGH_SURROGATE_MAX=56319;b.LOW_SURROGATE_MIN=56320;b.LOW_SURROGATE_MAX=57343;if(m.default("es6-string")&&m.default("es6-string-raw"))b.fromCodePoint=e.default.String.fromCodePoint,b.raw=e.default.String.raw,b.codePointAt=c.wrapNative(e.default.String.prototype.codePointAt),b.endsWith=c.wrapNative(e.default.String.prototype.endsWith),
            b.includes=c.wrapNative(e.default.String.prototype.includes),b.normalize=c.wrapNative(e.default.String.prototype.normalize),b.repeat=c.wrapNative(e.default.String.prototype.repeat),b.startsWith=c.wrapNative(e.default.String.prototype.startsWith);else{var l=function(b,d,c,a,g){void 0===g&&(g=!1);if(null==d)throw new TypeError("string."+b+" requires a valid string to search against.");b=d.length;return[d,String(c),Math.min(Math.max(a!==a?g?b:0:a,0),b)]};b.fromCodePoint=function(){for(var c=0;c<arguments.length;c++);
            c=arguments.length;if(!c)return"";for(var d=String.fromCharCode,k=[],a=-1,g="";++a<c;){var f=Number(arguments[a]);if(!(isFinite(f)&&Math.floor(f)===f&&0<=f&&1114111>=f))throw RangeError("string.fromCodePoint: Invalid code point "+f);65535>=f?k.push(f):(f-=65536,k.push((f>>10)+b.HIGH_SURROGATE_MIN,f%1024+b.LOW_SURROGATE_MIN));if(a+1===c||16384<k.length)g+=d.apply(null,k),k.length=0}return g};b.raw=function(b){for(var d=[],c=1;c<arguments.length;c++)d[c-1]=arguments[c];var c=b.raw,a="",g=d.length;if(null==
            b||null==b.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var f=0,e=c.length;f<e;f++)a+=c[f]+(f<g&&f<e-1?d[f]:"");return a};b.codePointAt=function(c,d){void 0===d&&(d=0);if(null==c)throw new TypeError("string.codePointAt requries a valid string.");var k=c.length;d!==d&&(d=0);if(!(0>d||d>=k)){var a=c.charCodeAt(d);return a>=b.HIGH_SURROGATE_MIN&&a<=b.HIGH_SURROGATE_MAX&&k>d+1&&(c=c.charCodeAt(d+1),c>=b.LOW_SURROGATE_MIN&&c<=b.LOW_SURROGATE_MAX)?1024*(a-
            b.HIGH_SURROGATE_MIN)+c-b.LOW_SURROGATE_MIN+65536:a}};b.endsWith=function(b,d,c){if(""===d)return!0;if("undefined"===typeof c)c=b.length;else if(null===c||isNaN(c))return!1;c=n.__read(l("endsWith",b,d,c,!0),3);b=c[0];d=c[1];c=c[2];var a=c-d.length;return 0>a?!1:b.slice(a,c)===d};b.includes=function(b,d,c){void 0===c&&(c=0);c=n.__read(l("includes",b,d,c),3);b=c[0];d=c[1];c=c[2];return-1!==b.indexOf(d,c)};b.repeat=function(b,d){void 0===d&&(d=0);if(null==b)throw new TypeError("string.repeat requires a valid string.");
            d!==d&&(d=0);if(0>d||Infinity===d)throw new RangeError("string.repeat requires a non-negative finite count.");for(var c="";d;)d%2&&(c+=b),1<d&&(b+=b),d>>=1;return c};b.startsWith=function(b,d,c){void 0===c&&(c=0);d=String(d);c=n.__read(l("startsWith",b,d,c),3);b=c[0];d=c[1];c=c[2];var a=c+d.length;return a>b.length?!1:b.slice(c,a)===d}}m.default("es2017-string")?(b.padEnd=c.wrapNative(e.default.String.prototype.padEnd),b.padStart=c.wrapNative(e.default.String.prototype.padStart)):(b.padEnd=function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    d,k){void 0===k&&(k=" ");if(null===c||void 0===c)throw new TypeError("string.repeat requires a valid string.");if(Infinity===d)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===d||void 0===d||0>d)d=0;c=String(c);d-=c.length;0<d&&(c+=b.repeat(k,Math.floor(d/k.length))+k.slice(0,d%k.length));return c},b.padStart=function(c,d,k){void 0===k&&(k=" ");if(null===c||void 0===c)throw new TypeError("string.repeat requires a valid string.");if(Infinity===d)throw new RangeError("string.padStart requires a non-negative finite count.");
            if(null===d||void 0===d||0>d)d=0;c=String(c);d-=c.length;0<d&&(c=b.repeat(k,Math.floor(d/k.length))+k.slice(0,d%k.length)+c);return c})})},"@dojo/framework/shim/support/util":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports"],c)})(function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.getValueDescriptor=function(b,c,m,l){void 0===c&&(c=
            !1);void 0===m&&(m=!0);void 0===l&&(l=!0);return{value:b,enumerable:c,writable:m,configurable:l}};b.wrapNative=function(b){return function(c){for(var e=[],l=1;l<arguments.length;l++)e[l-1]=arguments[l];return b.apply(c,e)}}})},"@dojo/framework/shim/Promise":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),
            c)})(function(c,b){Object.defineProperty(b,"__esModule",{value:!0});var n=c("tslib"),e=c("./global"),m=c("./support/queue");c("./Symbol");c=c("../has/has");b.ShimPromise=e.default.Promise;b.isThenable=function(b){return b&&"function"===typeof b.then};c.default("es6-promise")||(e.default.Promise=b.ShimPromise=(l=function(){function c(d){var k=this;this.state=1;this[Symbol.toStringTag]="Promise";var a=!1,g=[],f=function(a){g&&g.push(a)},e=function(a,d){1===k.state&&(k.state=a,k.resolvedValue=d,f=m.queueMicroTask,
        g&&0<g.length&&m.queueMicroTask(function(){if(g){for(var a=g.length,d=0;d<a;++d)g[d].call(null);g=null}}))},q=function(d,f){1!==k.state||a||(b.isThenable(f)?(f.then(e.bind(null,0),e.bind(null,2)),a=!0):e(d,f))};this.then=function(a,d){return new c(function(b,c){f(function(){var f=2===k.state?d:a;if("function"===typeof f)try{b(f(k.resolvedValue))}catch(z){c(z)}else 2===k.state?c(k.resolvedValue):b(k.resolvedValue)})})};try{d(q.bind(null,0),q.bind(null,2))}catch(t){e(2,t)}}c.all=function(d){return new this(function(k,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               a){function g(a,d){e[a]=d;++q;h||q<t||k(e)}function f(d,f){++t;b.isThenable(f)?f.then(g.bind(null,d),a):c.resolve(f).then(g.bind(null,d))}var e=[],q=0,t=0,h=!0,p=0;try{for(var v=n.__values(d),w=v.next();!w.done;w=v.next())f(p,w.value),p++}catch(A){l={error:A}}finally{try{w&&!w.done&&(m=v.return)&&m.call(v)}finally{if(l)throw l.error;}}(h=!1,q<t)||k(e);var l,m})};c.race=function(d){return new this(function(b,a){try{for(var g=n.__values(d),f=g.next();!f.done;f=g.next()){var k=f.value;k instanceof c?
            k.then(b,a):c.resolve(k).then(b)}}catch(u){q={error:u}}finally{try{f&&!f.done&&(e=g.return)&&e.call(g)}finally{if(q)throw q.error;}}var q,e})};c.reject=function(d){return new this(function(b,a){a(d)})};c.resolve=function(d){return new this(function(b){b(d)})};c.prototype.catch=function(d){return this.then(void 0,d)};return c}(),l[Symbol.species]=b.ShimPromise,l));c.default("es2018-promise-finally")||(e.default.Promise.prototype.finally=function(b){return this.then(b&&function(d){return Promise.resolve(b()).then(function(){return d})},
            b&&function(d){return Promise.resolve(b()).then(function(){throw d;})})});b.default=b.ShimPromise;var l})},"@dojo/framework/shim/support/queue":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],c)})(function(c,b){function n(a){a&&a.isActive&&a.callback&&a.callback()}function e(a,d){return{destroy:function(){this.destroy=
                function(){};a.isActive=!1;a.callback=null;d&&d()}}}Object.defineProperty(b,"__esModule",{value:!0});var m=c("../global"),l=c("../../has/has"),h,d;b.queueTask=function(){function a(a){a={isActive:!0,callback:a};var f=b(a);return e(a,d&&function(){d(f)})}var d,b;if(l.default("postmessage")){var c=[];m.default.addEventListener("message",function(a){a.source===m.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),c.length&&n(c.shift()))});b=function(a){c.push(a);m.default.postMessage("dojo-queue-message",
            "*")}}else l.default("setimmediate")?(d=m.default.clearImmediate,b=function(a){return setImmediate(n.bind(null,a))}):(d=m.default.clearTimeout,b=function(a){return setTimeout(n.bind(null,a),0)});return l.default("microtasks")?a:function(d){h();return a(d)}}();if(!l.default("microtasks")){var k=!1;d=[];h=function(){k||(k=!0,b.queueTask(function(){k=!1;if(d.length)for(var a=void 0;a=d.shift();)n(a)}))}}b.queueAnimationTask=function(){function a(a){a={isActive:!0,callback:a};var d=requestAnimationFrame(n.bind(null,
            a));return e(a,function(){cancelAnimationFrame(d)})}return l.default("raf")?l.default("microtasks")?a:function(d){h();return a(d)}:b.queueTask}();b.queueMicroTask=function(){var a;if(l.default("host-node"))a=function(a){m.default.process.nextTick(n.bind(null,a))};else if(l.default("es6-promise"))a=function(a){m.default.Promise.resolve(a).then(n)};else if(l.default("dom-mutationobserver")){var b=m.default.MutationObserver||m.default.WebKitMutationObserver,f=document.createElement("div"),c=[];(new b(function(){for(;0<
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   c.length;){var a=c.shift();a&&a.isActive&&a.callback&&a.callback()}})).observe(f,{attributes:!0});a=function(a){c.push(a);f.setAttribute("queueStatus","1")}}else a=function(a){h();d.push(a)};return function(d){d={isActive:!0,callback:d};a(d);return e(d)}}()})},"@dojo/framework/shim/Symbol":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has",
            "./global","./support/util"],c)})(function(c,b){function n(a){return a&&("symbol"===typeof a||"Symbol"===a["@@toStringTag"])||!1}Object.defineProperty(b,"__esModule",{value:!0});var e=c("../has/has"),m=c("./global"),l=c("./support/util");b.Symbol=m.default.Symbol;if(!e.default("es6-symbol")){var h=function(a){if(!n(a))throw new TypeError(a+" is not a symbol");return a},d=Object.defineProperties,k=Object.defineProperty,a=Object.create,g=Object.prototype,f={},r=function(){var d=a(null);return function(a){for(var b=
            0,f;d[String(a)+(b||"")];)++b;a+=String(b||"");d[a]=!0;f="@@"+a;Object.getOwnPropertyDescriptor(g,f)||k(g,f,{set:function(a){k(this,f,l.getValueDescriptor(a))}});return f}}(),q=function u(a){if(this instanceof q)throw new TypeError("TypeError: Symbol is not a constructor");return u(a)};b.Symbol=m.default.Symbol=function p(a){if(this instanceof p)throw new TypeError("TypeError: Symbol is not a constructor");var b=Object.create(q.prototype);a=void 0===a?"":String(a);return d(b,{__description__:l.getValueDescriptor(a),
            __name__:l.getValueDescriptor(r(a))})};k(b.Symbol,"for",l.getValueDescriptor(function(a){return f[a]?f[a]:f[a]=b.Symbol(String(a))}));d(b.Symbol,{keyFor:l.getValueDescriptor(function(a){var d;h(a);for(d in f)if(f[d]===a)return d}),hasInstance:l.getValueDescriptor(b.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:l.getValueDescriptor(b.Symbol.for("isConcatSpreadable"),!1,!1),iterator:l.getValueDescriptor(b.Symbol.for("iterator"),!1,!1),match:l.getValueDescriptor(b.Symbol.for("match"),!1,!1),observable:l.getValueDescriptor(b.Symbol.for("observable"),
                !1,!1),replace:l.getValueDescriptor(b.Symbol.for("replace"),!1,!1),search:l.getValueDescriptor(b.Symbol.for("search"),!1,!1),species:l.getValueDescriptor(b.Symbol.for("species"),!1,!1),split:l.getValueDescriptor(b.Symbol.for("split"),!1,!1),toPrimitive:l.getValueDescriptor(b.Symbol.for("toPrimitive"),!1,!1),toStringTag:l.getValueDescriptor(b.Symbol.for("toStringTag"),!1,!1),unscopables:l.getValueDescriptor(b.Symbol.for("unscopables"),!1,!1)});d(q.prototype,{constructor:l.getValueDescriptor(b.Symbol),
            toString:l.getValueDescriptor(function(){return this.__name__},!1,!1)});d(b.Symbol.prototype,{toString:l.getValueDescriptor(function(){return"Symbol ("+h(this).__description__+")"}),valueOf:l.getValueDescriptor(function(){return h(this)})});k(b.Symbol.prototype,b.Symbol.toPrimitive,l.getValueDescriptor(function(){return h(this)}));k(b.Symbol.prototype,b.Symbol.toStringTag,l.getValueDescriptor("Symbol",!1,!1,!0));k(q.prototype,b.Symbol.toPrimitive,l.getValueDescriptor(b.Symbol.prototype[b.Symbol.toPrimitive],
            !1,!1,!0));k(q.prototype,b.Symbol.toStringTag,l.getValueDescriptor(b.Symbol.prototype[b.Symbol.toStringTag],!1,!1,!0))}b.isSymbol=n;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(a){b.Symbol[a]||Object.defineProperty(b.Symbol,a,l.getValueDescriptor(b.Symbol.for(a),!1,!1))});b.default=b.Symbol})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q){function t(a,d,b){return null==d?b:null==b?d:a(d,b)}c=function(d){function b(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=d.apply(this,a)||this;a.type="extent";a.xmin=0;a.ymin=0;a.mmin=void 0;a.zmin=void 0;a.xmax=0;a.ymax=0;a.mmax=void 0;a.zmax=void 0;return a}n(b,d);c=b;b.prototype.normalizeCtorArgs=function(d,b,f,c,g){return!d||"esri.geometry.SpatialReference"!==d.declaredClass&&null==d.wkid?"object"===typeof d?(d.spatialReference=null==d.spatialReference?
                a.WGS84:d.spatialReference,d):{xmin:d,ymin:b,xmax:f,ymax:c,spatialReference:null==g?a.WGS84:g}:{spatialReference:d,xmin:0,ymin:0,xmax:0,ymax:0}};b.fromBounds=function(a,d){return new c({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:d})};Object.defineProperty(b.prototype,"center",{get:function(){var a=new k({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},
                enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},
                enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var d=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-d.x,a.y-d.y,a.z-d.z):this.offset(a.x-d.x,a.y-d.y)};b.prototype.clone=function(){var a=new c;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);
                null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var d=this.spatialReference,b=a.spatialReference;d&&b&&!d.equals(b)&&q.canProject(d,b)&&(a=d.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));return"point"===a.type?g.extentContainsPoint(this,a):"extent"===a.type?g.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var d=this.spatialReference,b=a.spatialReference;d&&b&&!d.equals(b)&&
            q.canProject(d,b)&&(a=d.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var d=this.width*a,b=this.height*a;this.xmin+=d;this.ymin+=b;this.xmax-=d;this.ymax-=b;this.hasZ&&(d=(this.zmax-this.zmin)*a,this.zmin+=d,this.zmax-=d);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=
                a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(m.isNone(a))return!1;var d=this.spatialReference,b=a.spatialReference;d&&b&&!d.equals(b)&&q.canProject(d,b)&&(a=d.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));d=f.getExtentIntersector(a.type);return"mesh"!==a.type?d(this,a):d(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,d,b){this.xmin+=a;this.ymin+=d;this.xmax+=
                a;this.ymax+=d;null!=b&&(this.zmin+=b,this.zmax+=b);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=t(Math.min,this.zmin,a.zmin),this.zmax=t(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=t(Math.min,this.mmin,a.mmin),this.mmax=t(Math.max,this.mmax,
                a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=t(Math.max,this.zmin,a.zmin),this.zmax=t(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=t(Math.max,this.mmin,a.mmin),this.mmax=t(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,
                a)};b.prototype._shiftCM=function(d){void 0===d&&(d=r.getInfo(this.spatialReference));if(!d||!this.spatialReference)return this;var b=this.spatialReference,f=this._getCM(d);if(f){var c=b.isWebMercator?q.webMercatorToGeographic(f):f;this.xmin-=f.x;this.xmax-=f.x;b.isWebMercator||(c.x=this._normalizeX(c.x,d).x);this.spatialReference=new a(l.replace(b.isWGS84?d.altTemplate:d.wkTemplate,{Central_Meridian:c.x}))}return this};b.prototype._getCM=function(a){var d=null,b=a.valid;a=b[0];var b=b[1],f=this.xmin,
                c=this.xmax;f>=a&&f<=b&&c>=a&&c<=b||(d=this.center);return d};b.prototype._normalize=function(a,d,b){var f=this.spatialReference;if(!f)return this;b=b||r.getInfo(f);if(!b)return this;var c=this._getParts(b).map(function(a){return a.extent});if(2>c.length)return c[0]||this;if(2<c.length)return a?this._shiftCM(b):this.set({xmin:b.valid[0],xmax:b.valid[1]});if(a)return this._shiftCM(b);if(d)return c;var g=!0,q=!0;c.forEach(function(a){a.hasZ||(g=!1);a.hasM||(q=!1)});return{rings:c.map(function(a){var d=
                    [[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(g)for(var b=(a.zmax-a.zmin)/2,f=0;f<d.length;f++)d[f].push(b);if(q)for(a=(a.mmax-a.mmin)/2,f=0;f<d.length;f++)d[f].push(a);return d}),hasZ:g,hasM:q,spatialReference:f}};b.prototype._getParts=function(a){var d=this.cache._parts;if(!d){var d=[],b=this.ymin,f=this.ymax,g=this.spatialReference,q=this.width,p=this.xmin,e=this.xmax,k=void 0;a=a||r.getInfo(g);var t=a.valid,h=t[0],u=t[1],k=this._normalizeX(this.xmin,a),v=
                k.x,t=k.frameId,k=this._normalizeX(this.xmax,a),w=k.x;a=k.frameId;k=v===w&&0<q;if(q>2*u){q=new c(p<e?v:w,b,u,f,g);p=new c(h,b,p<e?w:v,f,g);e=new c(0,b,u,f,g);b=new c(h,b,0,f,g);f=[];g=[];q.contains(e)&&f.push(t);q.contains(b)&&g.push(t);p.contains(e)&&f.push(a);p.contains(b)&&g.push(a);for(h=t+1;h<a;h++)f.push(h),g.push(h);d.push({extent:q,frameIds:[t]},{extent:p,frameIds:[a]},{extent:e,frameIds:f},{extent:b,frameIds:g})}else v>w||k?d.push({extent:new c(v,b,u,f,g),frameIds:[t]},{extent:new c(h,b,
                    w,f,g),frameIds:[a]}):d.push({extent:new c(v,b,w,f,g),frameIds:[t]});this.cache._parts=d}a=this.hasZ;b=this.hasM;if(a||b)for(t={},a&&(t.zmin=this.zmin,t.zmax=this.zmax),b&&(t.mmin=this.mmin,t.mmax=this.mmax),a=0;a<d.length;a++)d[a].extent.set(t);return d};b.prototype._normalizeX=function(a,d){var b=d.valid;d=b[0];var f=b[1],b=2*f,c=0;a>f?(d=Math.ceil(Math.abs(a-f)/b),a-=d*b,c=d):a<d&&(d=Math.ceil(Math.abs(a-d)/b),a+=d*b,c=-d);return{x:a,frameId:c}};var c;e([h.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],
                b.prototype,"cache",void 0);e([h.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);e([h.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);e([h.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);e([h.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);e([h.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,
                "height",null);e([h.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);e([h.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);e([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);e([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},
                    write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);e([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);e([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
                b.prototype,"zmax",void 0);return b=c=e([h.subclass("esri.geometry.Extent")],b)}(h.declared(d));c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/core/maybe":function(){define(["require","exports","./has"],function(c,b,n){function e(b,c,e){return null!=b?e(b):c}Object.defineProperty(b,"__esModule",{value:!0});b.isSome=function(b){return null!=b};b.isNone=function(b){return null==b};b.applySome=function(b,c){return null!=b?c(b):null};b.unwrap=function(b){return b};b.unwrapOr=function(b,c){return null!=
        b?b:"function"===typeof c?c():c};b.expect=function(b){return b};b.mapSome=function(b,c){var e=[];b.forEach(function(d){d=c(d);null!=d&&e.push(d)});return e};b.mapMany=function(b,c){for(var h=[],d=0;d<b.length;d++)h.push(e(b[d],null,c));return h};b.forEachSome=function(b,c){for(var h=0;h<b.length;h++)e(b[h],null,c)};b.mapOr=e;b.andThen=function(b,c){return null!=b?c(b):null};b.mapSomeFirst=function(b,c){for(var e=0;e<b.length;e++){var d=c(b[e]);if(null!=d)return d}return null};b.get=function(b){for(var c=
            [],e=1;e<arguments.length;e++)c[e-1]=arguments[e];for(var e=b,d=0;d<c.length&&e;)e=e[c[d++]];return e}})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),function(c,b,n,e,m,l,h,d,k,a,g,f){function r(a){for(var d in a)b.hasOwnProperty(d)||(b[d]=a[d])}
            Object.defineProperty(b,"__esModule",{value:!0});r(n);r(e);r(m);r(l);r(h);r(d);r(k);r(a);r(g);r(f)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=function(b){return function(c,e){n.getPropertyMetadata(c,e).aliasOf=b}}})},"esri/core/accessorSupport/metadata":function(){define(["require","exports","./utils"],function(c,b,n){function e(a){return null!=a.__accessorMetadata__}
            function m(a){return e(a)&&null!=l(a).properties}function l(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function h(a){a=l(a);var d=a.properties;d||(d=a.properties={});return d}function d(a,d){var b=l(a);a=b.parameters;a||(a=b.parameters={});b=a[d];b||(b=[],a[d]=b);return b}function k(a){return g.test(a)?"replace":"merge"}function a(a){return f.test(a)?k(a.slice(11)):"merge"}Object.defineProperty(b,
                "__esModule",{value:!0});b.hasMetadata=e;b.hasPropertiesMetadata=m;b.hasPropertyMetadata=function(a,d){return m(a)&&null!=h(a)[d]};b.hasParametersMetadata=function(a,d){return e(a)&&null!=l(a).parameters&&null!=l(a).parameters[d]};b.getMetadata=l;b.getPropertiesMetadata=h;b.getPropertyMetadata=function(a,d){a=h(a);var b=a[d];b||(b=a[d]={});return b};b.setPropertyMetadata=function(a,d,b){h(a)[d]=b};b.getParametersMetadata=d;b.getParameterMetadata=function(a,b,f){var c=d(a,b)[f];c||(d(a,b)[f]=c={index:f});
                return c};b.merge=function(d,b){return n.merge(d,b,a)};b.mergeProperty=function(a,d){return n.merge(a,d,k)};var g=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,f=/^properties\./})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../handleUtils","../lang"],function(c,b,n,e){function m(d,b,a){return b?Object.keys(b).reduce(function(d,f){var c=null,g="merge";a&&(c=a.path?a.path+"."+f:f,g=a.policy(c));if("replace"===g)return d[f]=b[f],d;if(void 0===d[f])return d[f]=
            e.clone(b[f]),d;var k=d[f],g=b[f];if(k===g)return d;if(Array.isArray(g)||Array.isArray(d))k=k?Array.isArray(k)?d[f]=k.concat():d[f]=[k]:d[f]=[],g&&(Array.isArray(g)||(g=[g]),g.forEach(function(a){-1===k.indexOf(a)&&k.push(a)}));else if(g&&"object"===typeof g)if(a){var h=a.path;a.path=c;d[f]=m(k,g,a);a.path=h}else d[f]=m(k,g,null);else if(!d.hasOwnProperty(f)||b.hasOwnProperty(f))d[f]=g;return d},d||{}):d}function l(d){return Array.isArray(d)?d:d.split(".")}function h(d){if(Array.isArray(d)||-1<d.indexOf(",")){d=
            Array.isArray(d)?d:d.split(",");for(var b=0;b<d.length;b++)d[b]=d[b].trim();return 1===d.length?d[0]:d}return d.trim()}Object.defineProperty(b,"__esModule",{value:!0});b.getProperties=function(d){return d?d.__accessor__?d.__accessor__:d.propertyInvalidated?d:null:null};b.isPropertyDeclared=function(d,b){return d&&d.metadatas&&null!=d.metadatas[b]};b.merge=function(d,b,a){return a?m(d,b,{policy:a,path:""}):m(d,b,null)};b.pathToStringOrArray=function(d){return!d||"string"===typeof d&&-1===d.indexOf(".")?
            d:l(d)};b.pathToArray=l;b.splitPath=h;b.parseConditionalPath=function(d){if(-1===d.indexOf("?"))return null;d=l(d);for(var b=Array(d.length),a=0;a<d.length;a++){var c=d[a];b[a]="?"===c[c.length-1];b[a]&&(d[a]=c.slice(0,-1))}return{fullPath:d.join("."),conditional:b}};b.parse=function(d,b,a,c){b=h(b);return Array.isArray(b)?(b=b.map(function(b){return c(d,b.trim(),a)}),n.handlesGroup(b)):c(d,b.trim(),a)};b.once=function(d){var b=!1;return function(){b||(b=!0,d())}}})},"esri/core/handleUtils":function(){define(["require",
            "exports","./maybe","./accessorSupport/utils"],function(c,b,n,e){function m(b){return{remove:e.once(b||function(){})}}Object.defineProperty(b,"__esModule",{value:!0});b.handlesGroup=function(b){return m(function(){return b.forEach(function(b){return n.isSome(b)&&b.remove()})})};b.makeHandle=m;b.refHandle=function(b){return m(function(){var c=b();n.isSome(c)&&c.remove()})};b.destroyHandle=function(b){return m(function(){return b.destroy()})};b.timeoutHandle=function(b,c){var d=setTimeout(b,c);return{remove:function(){return clearTimeout(d)}}}})},
        "esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require","exports","../metadata"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=function(){return function(b,c){n.getMetadata(b).autoDestroy=!0;return b[c]}}})},"esri/core/accessorSupport/decorators/cast":function(){define("require exports ../../deprecate ../../Logger ../ensureType ../metadata".split(" "),function(c,b,n,e,m,l){function h(a){var b="_meta"in a?m.ensureType(a):a;return function(){for(var a=
            [],f=0;f<arguments.length;f++)a[f]=arguments[f];a.push(b);return"number"===typeof a[2]?k.apply(this,a):d.apply(this,a)}}function d(a,d,b,c){l.getPropertyMetadata(a,d).cast=c}function k(a,d,b,c){n.deprecated(e.getLogger("esri.core.accessorSupport.decorators.cast"),"@cast decorator on method parameters is deprecated for compatibility with ES decorator spec",{version:"4.14",see:"https://arcg.is/vvbW8"});l.getParameterMetadata(a,d,b).cast=c}function a(a){return function(d,b){l.getPropertyMetadata(d,a).cast=
            d[b]}}Object.defineProperty(b,"__esModule",{value:!0});var g=Object.prototype.toString;b.autocastMethod=function(a,d,b){if(l.hasParametersMetadata(a,d)){var f=l.getParametersMetadata(a,d).filter(function(a){return null!=a.cast});if(f.length){var c=b.value;b.value=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];for(d=0;d<f.length;d++){var b=f[d];a[b.index]=b.cast(a[b.index])}return c.apply(this,a)};return b}console.warn("Method "+a.declaredClass+"::"+d+" is decorated with @cast but no parameters are decorated")}};
            b.cast=function(){for(var d=[],b=0;b<arguments.length;b++)d[b]=arguments[b];if(3!==d.length||"string"!==typeof d[1]){if(1===d.length&&"[object Function]"===g.call(d[0]))return h(d[0]);if(1===d.length&&"string"===typeof d[0])return a(d[0])}}})},"esri/core/deprecate":function(){define(["require","exports","./has"],function(c,b,n){function e(b,c,d){void 0===d&&(d={});if(n("esri-deprecation-warnings")){var e=d.replacement,a=d.version,g=d.see;d=d.warnOnce;e&&(c+="\n\t\ud83d\udee0\ufe0f Replacement: "+
            e);a&&(c+="\n\t\u2699\ufe0f Version: "+a);g&&(c+="\n\t\ud83d\udd17 See "+g+" for more details.");e=c;a=d;void 0===a&&(a=!1);a&&m.has(e)||(a&&m.add(e),b.warn("\ud83d\uded1 DEPRECATED - "+e))}}Object.defineProperty(b,"__esModule",{value:!0});var m=new Set;b.deprecatedModule=function(b,c,d){void 0===d&&(d={});n("esri-deprecation-warnings")&&e(b,"Module: "+c,d)};b.deprecatedFunction=function(b,c,d){void 0===d&&(d={});if(n("esri-deprecation-warnings")){var k=d.moduleName;e(b,"Function: "+((k?k+"::":"")+
            c+"()"),d)}};b.deprecatedProperty=function(b,c,d){void 0===d&&(d={});if(n("esri-deprecation-warnings")){var k=d.moduleName;e(b,"Property: "+((k?k+"::":"")+c),d)}};b.deprecated=e})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports","../../declare"],function(c,b,n){function e(b){var c=Object.getPrototypeOf(b.prototype),e=b._meta&&b._meta.bases;b=b._meta&&b._meta.parents;if(c&&e&&b&&!(1>=b.length))for(var d=1;d<e.length;d++){var k=e[d],a=k.__accessorMetadata__&&k.__accessorMetadata__.properties,
            g=c,c=Object.getPrototypeOf(c);if(-1!==b.indexOf(k))for(var f=0,r=Object.getOwnPropertyNames(k.prototype);f<r.length;f++){var q=r[f];if("initialized"!==q&&"constructed"!==q&&"destroyed"!==q&&!(a&&q in a)){var t=Object.getOwnPropertyDescriptor(k.prototype,q);t&&(t.get||t.set)&&Object.defineProperty(g,q,t)}}}}Object.defineProperty(b,"__esModule",{value:!0});b.declared=function(b){var c=function(){return this||{}};if(1<arguments.length){for(var h=[],d=0;d<arguments.length;d++)h.push(arguments[d]);b=
            n(h);e(b)}c.__bases__=[b];return c}})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare","./deprecate","./Logger"],function(c,b,n,e,m){function l(a,d){a&&!Array.isArray(a)&&"function"!==typeof a&&(d=a,a=null);a=a||[];d=d||{};return h([this].concat(a),d)}function h(b,c){b&&!Array.isArray(b)&&"function"!==typeof b&&(c=b,b=null);"function"===typeof b?b=[b]:b||(b=[]);1<b.length&&e.deprecated(d,"Extending multiple classes with Accessor",{version:"4.13",see:"https://arcg.is/T8fr4"});
            c=c||{};var f,g;f=0;for(g=k.length;f<g;f++)k[f](b,c);b=n(b,c);b.createSubclass=l;var t=b.prototype.isInstanceOf;b.prototype.isInstanceOf=function(){e.deprecatedFunction(d,"isInstanceOf",{moduleName:"Accessor",replacement:"Use `instanceof` or check for property presence `'property' in instance`",version:"4.13"});return t.apply(this,arguments)};f=0;for(g=a.length;f<g;f++)a[f](b);return b}var d=m.getLogger("esri.core.Accessor"),k=[],a=[];(function(d){d.hasMixin=function(a,d){a=Array.isArray(a)?a.reduce(function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              d){return d._meta?a.concat(d._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof d)for(var b=a.length-1;0<=b;b--)if(a[b].prototype.declaredClass===d)return!0;return-1!==a.indexOf(d)};d.safeMixin=function(a,d){return n.safeMixin(a,d)};d.before=function(a){k.push(a)};d.after=function(d){a.push(d)}})(h||(h={}));return h})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(c,b,n){function e(a,d){throw Error("declare"+(d?" "+d:"")+": "+a);}function m(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         d){for(var b=[],c=[{cls:0,refs:[]}],f={},g=1,q=a.length,p=0,k,t,h,r,u;p<q;++p){(k=a[p])?"[object Function]"!=A.call(k)&&e("mixin #"+p+" is not a callable constructor.",d):e("mixin #"+p+" is unknown. Did you use dojo.require to pull it in?",d);t=k._meta?k._meta.bases:[k];h=0;for(k=t.length-1;0<=k;--k)r=t[k].prototype,r.hasOwnProperty("declaredClass")||(r.declaredClass="uniqName_"+B++),r=r.declaredClass,f.hasOwnProperty(r)||(f[r]={count:0,refs:[],cls:t[k]},++g),r=f[r],h&&h!==r&&(r.refs.push(h),++h.count),
            h=r;++h.count;c[0].refs.push(h)}for(;c.length;){h=c.pop();b.push(h.cls);for(--g;u=h.refs,1==u.length;){h=u[0];if(!h||--h.count){h=0;break}b.push(h.cls);--g}if(h)for(p=0,q=u.length;p<q;++p)h=u[p],--h.count||c.push(h)}g&&e("can't build consistent linearization",d);k=a[0];b[0]=k?k._meta&&k===b[b.length-k._meta.bases.length]?k._meta.bases.length:1:0;return b}function l(a,d,b,c){var f,g,q,p,k,t,h=this._inherited=this._inherited||{};"string"===typeof a&&(f=a,a=d,d=b,b=c);if("function"===typeof a)q=a,a=
            d,d=b;else try{q=a.callee}catch(R){if(R instanceof TypeError)e("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw R;}(f=f||q.nom)||e("can't deduce a name to call inherited()",this.declaredClass);b=c=0;p=this.constructor._meta;c=p.bases;t=h.p;if("constructor"!=f){if(h.c!==q&&(t=0,k=c[0],p=k._meta,p.hidden[f]!==q)){(g=p.chains)&&"string"==typeof g[f]&&e("calling chained method with inherited: "+f,this.declaredClass);do if(p=k._meta,g=
            k.prototype,p&&(g[f]===q&&g.hasOwnProperty(f)||p.hidden[f]===q))break;while(k=c[++t]);t=k?t:-1}if(k=c[++t])if(g=k.prototype,k._meta&&g.hasOwnProperty(f))b=g[f];else{q=y[f];do if(g=k.prototype,(b=g[f])&&(k._meta?g.hasOwnProperty(f):b!==q))break;while(k=c[++t])}b=k&&b||y[f]}else{if(h.c!==q&&(t=0,(p=c[0]._meta)&&p.ctor!==q)){for((g=p.chains)&&"manual"===g.constructor||e("calling chained constructor with inherited",this.declaredClass);(k=c[++t])&&(!(p=k._meta)||p.ctor!==q););t=k?t:-1}for(;(k=c[++t])&&
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      !(b=(p=k._meta)?p.ctor:k););b=k&&b}h.c=b;h.p=t;if(b)return!0===d?b:b.apply(this,d||a)}function h(a,d,b){return"string"===typeof a?"function"===typeof d?this.__inherited(a,d,b,!0):this.__inherited(a,d,!0):"function"===typeof a?this.__inherited(a,d,!0):this.__inherited(a,!0)}function d(a,d,b,c){var f=this.getInherited(a,d,b);if(f)return f.apply(this,c||b||d||a)}function k(a){for(var d=this.constructor._meta.bases,b=0,c=d.length;b<c;++b)if(d[b]===a)return!0;return this instanceof a}function a(a,d){for(var b in d)"constructor"!=
        b&&d.hasOwnProperty(b)&&(a[b]=d[b])}function g(a){w.safeMixin(this.prototype,a);return this}function f(a,d){a instanceof Array||"function"===typeof a||(d=a,a=void 0);d=d||{};a=a||[];return w([this].concat(a),d)}function r(a,d){return function(){var b=arguments,c=b,f=b[0],g,q;q=a.length;var e;if(!(this instanceof b.callee))return v(b);if(d&&(f&&f.preamble||this.preamble))for(e=Array(a.length),e[0]=b,g=0;;){(f=b[0])&&(f=f.preamble)&&(b=f.apply(this,b)||b);f=a[g].prototype;(f=f.hasOwnProperty("preamble")&&
            f.preamble)&&(b=f.apply(this,b)||b);if(++g==q)break;e[g]=b}for(g=q-1;0<=g;--g)f=a[g],(f=(q=f._meta)?q.ctor:f)&&f.apply(this,e?e[g]:b);(f=this.postscript)&&f.apply(this,c)}}function q(a,d){return function(){var b=arguments,c=b,f=b[0];if(!(this instanceof b.callee))return v(b);d&&(f&&(f=f.preamble)&&(c=f.apply(this,c)||c),(f=this.preamble)&&f.apply(this,c));a&&a.apply(this,b);(f=this.postscript)&&f.apply(this,b)}}function t(a){return function(){var d=arguments,b=0,c,f;if(!(this instanceof d.callee))return v(d);
            for(;c=a[b];++b)if(c=(f=c._meta)?f.ctor:c){c.apply(this,d);break}(c=this.postscript)&&c.apply(this,d)}}function u(a,d,b){return function(){var c,f,g=0,q=1;b&&(g=d.length-1,q=-1);for(;c=d[g];g+=q)f=c._meta,(c=(f?f.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function p(a){x.prototype=a.prototype;a=new x;x.prototype=null;return a}function v(a){var d=a.callee,b=p(d);d.apply(b,a);return b}function w(d,c,v){"string"!=typeof d&&(v=c,c=d,d="");v=v||{};var x,B,C,G,M,E,L,K=1,R=c;"[object Array]"==A.call(c)?
            (E=m(c,d),C=E[0],K=E.length-C,c=E[K]):(E=[0],c?"[object Function]"==A.call(c)?(C=c._meta,E=E.concat(C?C.bases:c)):e("base class is not a callable constructor.",d):null!==c&&e("unknown base class. Did you use dojo.require to pull it in?",d));if(c)for(B=K-1;;--B){x=p(c);if(!B)break;C=E[B];(C._meta?a:z)(x,C.prototype);G=b("csp-restrictions")?function(){}:new Function;G.superclass=c;G.prototype=x;c=x.constructor=G}else x={};w.safeMixin(x,v);C=v.constructor;C!==y.constructor&&(C.nom="constructor",x.constructor=
            C);for(B=K-1;B;--B)(C=E[B]._meta)&&C.chains&&(L=z(L||{},C.chains));x["-chains-"]&&(L=z(L||{},x["-chains-"]));c&&c.prototype&&c.prototype["-chains-"]&&(L=z(L||{},c.prototype["-chains-"]));C=!L||!L.hasOwnProperty("constructor");E[0]=G=L&&"manual"===L.constructor?t(E):1==E.length?q(v.constructor,C):r(E,C);G._meta={bases:E,hidden:v,chains:L,parents:R,ctor:v.constructor};G.superclass=c&&c.prototype;G.extend=g;G.createSubclass=f;G.prototype=x;x.constructor=G;x.getInherited=h;x.isInstanceOf=k;x.inherited=
            D;x.__inherited=l;d&&(x.declaredClass=d,n.setObject(d,G));if(L)for(M in L)x[M]&&"string"==typeof L[M]&&"constructor"!=M&&(C=x[M]=u(M,E,"after"===L[M]),C.nom=M);return G}var z=n.mixin,y=Object.prototype,A=y.toString,x,B=0;x=b("csp-restrictions")?function(){}:new Function;var D=c.config.isDebug?d:l;c.safeMixin=w.safeMixin=function(a,d){var b,c;for(b in d)c=d[b],c===y[b]&&b in y||"constructor"==b||("[object Function]"==A.call(c)&&(c.nom=b),a[b]=c);return a};return c.declare=w})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
            "exports","../../jsonMap","./property"],function(c,b,n,e){function m(b){return e.property({type:b})}Object.defineProperty(b,"__esModule",{value:!0});b.enumeration=m;(function(b){b.serializable=function(){return function(b,d){void 0===d&&(d={ignoreUnknown:!0});b=b instanceof n.JSONMap?b:new n.JSONMap(b,d);return e.property({type:d&&d.ignoreUnknown?b.apiValues:String,json:{type:b.jsonValues,read:{reader:b.read},write:{writer:b.write}}})}}})(m=b.enumeration||(b.enumeration={}))})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
            function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.decorators.property");b.property=function(b){void 0===b&&(b={});return function(d,c){var a=d.constructor.prototype;a!==Function.prototype&&((d=Object.getOwnPropertyDescriptor(d,c))&&(d.get||d.set)?(b=e.clone(b),d.set&&(b.set=d.set),d.get&&(b.get=d.get)):d&&d.hasOwnProperty("value")&&(b=e.clone(b),b.value=d.value),c=l.getPropertyMetadata(a,c),l.mergeProperty(c,b))}};b.propertyJSONMeta=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      d,c){b=l.getPropertyMetadata(b.constructor.prototype,c);b.json||(b.json={});b=b.json;void 0!==d&&(b.origins||(b.origins={}),b.origins[d]||(b.origins[d]={}),b=b.origins[d]);return b}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(c,b,n,e){Object.defineProperty(b,"__esModule",{value:!0});b.reader=function(b,c,h){var d,k;void 0===c||Array.isArray(c)?(k=b,h=c,d=[void 0]):(k=c,d=Array.isArray(b)?b:[b]);return function(a,b){var c=
            a.constructor.prototype;d.forEach(function(d){d=e.propertyJSONMeta(a,d,k);d.read&&"object"!==typeof d.read&&(d.read={});n.setDeepValue("read.reader",c[b],d);h&&(d.read.source=(d.read.source||[]).concat(h))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.shared=function(b){return function(c,m){c[m]=b}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports",
            "../../declare","../metadata"],function(c,b,n,e){function m(a,d){a.read&&("function"===typeof a.read?d.push(a.read):"object"===typeof a.read&&a.read.reader&&d.push(a.read.reader))}function l(a,d){a.write&&("function"===typeof a.write?d.push(a.write):"object"===typeof a.write&&a.write.writer&&d.push(a.write.writer))}function h(a){var d=[];a=e.getPropertiesMetadata(a.prototype);if(!a)return d;for(var b in a){var c=a[b];c.cast&&d.push(c.cast);c.copy&&d.push(c.copy);if(c=c.json)if(m(c,d),l(c,d),c=c.origins)for(var g in c){var k=
            c[g];m(k,d);l(k,d)}}return d}function d(d){var b={values:{},descriptors:{}},c=["__bases__"],g=e.getPropertiesMetadata(d.prototype),k=h(d);Object.getOwnPropertyNames(d.prototype).filter(function(b){return-1!==c.indexOf(b)||g&&g.hasOwnProperty(b)||!a(Object.getOwnPropertyDescriptor(d.prototype,b))&&-1!==k.indexOf(d.prototype[b])?!1:!0}).forEach(function(c){var f=Object.getOwnPropertyDescriptor(d.prototype,c);a(f)?b.descriptors[c]=f:b.values[c]=d.prototype[c]});return b}function k(d){var b=Object.getOwnPropertyNames(d),
            c=Object.getPrototypeOf(d.prototype).constructor,g=Object.getOwnPropertyNames(Function);g.push("__bases__","caller","arguments");var e=Object.getOwnPropertyNames(c),k={values:{},descriptors:{}};b.filter(function(a){return-1!==g.indexOf(a)?!1:-1===e.indexOf(a)||c[a]!==d[a]?!0:!1}).forEach(function(b){var c=Object.getOwnPropertyDescriptor(d,b);a(c)?k.descriptors[b]=c:k.values[b]=d[b]});return k}function a(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(b,"__esModule",{value:!0});b.subclass=function(b){return function(c){var f=
            d(c),g=k(c);null!=b&&(f.values.declaredClass=b);c=n(c.__bases__,f.values);var e=Object.getPrototypeOf(c.prototype),h=c._meta&&c._meta.bases,p=c._meta&&c._meta.parents;if(e&&h&&p&&!(1>=p.length))for(var v=1;v<h.length;v++){var w=h[v],l=w.__accessorMetadata__&&w.__accessorMetadata__.properties,m=e,e=Object.getPrototypeOf(e);if(-1!==p.indexOf(w))for(var A=0,x=Object.getOwnPropertyNames(w.prototype);A<x.length;A++){var B=x[A];if("initialized"!==B&&"constructed"!==B&&"destroyed"!==B&&!(l&&B in l)){var D=
            Object.getOwnPropertyDescriptor(w.prototype,B);a(D)&&Object.defineProperty(m,B,D)}}}Object.defineProperties(c.prototype,f.descriptors);for(var E in g.values)c[E]=g.values[E];Object.defineProperties(c,g.descriptors);return c}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(c,b,n,e){Object.defineProperty(b,"__esModule",{value:!0});b.writer=function(b,c,h){var d,k;void 0===c?(k=b,d=[void 0]):"string"!==typeof c?(k=b,d=[void 0],
            h=c):(k=c,d=Array.isArray(b)?b:[b]);return function(a,b){var c=a.constructor.prototype;d.forEach(function(d){d=e.propertyJSONMeta(a,d,k);d.write&&"object"!==typeof d.write&&(d.write={});h&&n.setDeepValue("write.target",h,d);n.setDeepValue("write.writer",c[b],d)})}}})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(c,b,n,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            e,m,l,h){return function(d){function b(a){a=d.call(this,a)||this;a.type=null;a.extent=null;a.hasM=!1;a.hasZ=!1;a.spatialReference=h.WGS84;return a}n(b,d);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,d){if(a instanceof h)return a;if(null!=a){var b=new h;b.read(a,d);return b}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=
            function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,d){this.cache[a]=d};e([l.property()],b.prototype,"type",void 0);e([l.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);e([l.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);e([l.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);e([l.property({type:Boolean,
            json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);e([l.property({type:h,json:{write:!0}})],b.prototype,"spatialReference",void 0);e([l.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=e([l.subclass("esri.geometry.Geometry")],b)}(l.declared(m.JSONSupport))})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
            function(c,b,n,e,m,l,h,d,k){function a(a,d){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var b=new this;b.read(a,d);return b}function g(a){return a&&"read"in a&&"write"in a&&"toJSON"in a}Object.defineProperty(b,"__esModule",{value:!0});b.JSONSupportMixin=function(b){b=function(b){function c(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return b.apply(this,a)||this}n(c,b);c.prototype.read=function(a,b){d.default(this,a,b)};c.prototype.write=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      d){return k.default(this,a||{},d)};c.prototype.toJSON=function(a){return this.write(null,a)};c.fromJSON=function(d,b){return a.call(this,d,b)};return c=e([h.subclass("esri.core.JSONSupport")],c)}(h.declared(b));b.prototype.toJSON.isDefaultToJSON=!0;return b};b.isJSONSupport=g;l.after(function(d){for(var b=d.prototype;;){if(g(b)){d.fromJSON=a.bind(d);break}b=Object.getPrototypeOf(b);if(!b)break}});c=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}n(d,a);return d=e([h.subclass("esri.core.JSONSupport")],
                d)}(h.declared(b.JSONSupportMixin(m)));b.JSONSupport=c})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/testSupport".split(" "),function(c,b,n,e,m,l,h){b=b.default;c.before(function(b,a){c.hasMixin(b,d)&&e.processPrototype(a)});c.after(function(b){c.hasMixin(b,d)&&(e.processClass(b),Object.defineProperties(b.prototype,{initialized:{get:function(){return this.__accessor__&&
                    this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var d=c(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===d)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",
                {value:new b(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var c=[],a=0;a<arguments.length;a++)c.push(arguments[a]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,c)}if(h.interceptor)h.interceptor.onInstanceConstruct(this)},__accessor__:null,postscript:function(d){var a=this.__accessor__;d=a.ctorArgs||d;a.initialize();d&&(this.set(d),a.ctorArgs=null);a.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
            }catch(k){console.warn(k.stack)}else if(l.removeTarget(this),this.__accessor__.destroy(),h.interceptor)h.interceptor.onInstanceDestroy(this)},get:function(d){return n.get(this,d)},hasOwnProperty:function(d){return this.__accessor__?this.__accessor__.has(d):Object.prototype.hasOwnProperty.call(this,d)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(d,a){m.set(this,d,a);return this},watch:function(d,a,b){return l.watch(this,d,a,b)},_clearOverride:function(d){return this.__accessor__.clearOverride(d)},
            _override:function(d,a){return this.__accessor__.override(d,a)},_isOverridden:function(d){return this.__accessor__.isOverridden(d)},notifyChange:function(d){this.__accessor__.propertyInvalidated(d)},_get:function(d){return this.__accessor__.internalGet(d)},_set:function(d,a){return this.__accessor__.internalSet(d,a)}});return d})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     b,n,e,m,l,h,d,k){Object.defineProperty(b,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.Properties");c=function(){function b(a){this.host=a;this._origin=6;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new k.Store;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}b.prototype.initialize=function(){this.lifecycle=1;h.instanceCreated(this.host,this.metadatas)};b.prototype.constructed=
            function(){this.lifecycle=2};b.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var d=0,b=Object.getOwnPropertyNames(a);d<b.length;d++){var c=b[d],g=a[c];if(g){for(;0<g.length;)g.pop().propertyDestroyed(this,c);a[c]=null}}if(this.autoDestroy)for(c in this.metadatas)(a=this.internalGet(c))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[c].nonNullable||this.internalSet(c,null))};Object.defineProperty(b.prototype,"initialized",{get:function(){return 0!==this.lifecycle},
            enumerable:!0,configurable:!0});b.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};b.prototype.get=function(a){var d=this.metadatas[a],b=d.get;return!this.store.has(a)||b&&this.dirties[a]?b?(d=b.call(this.host),this.store.set(a,d,1),this.propertyCommitted(a),d):d.value:this.store.get(a)};b.prototype.getterStatic=function(a,d){return this.store.has(a)?this.store.get(a):d.value};b.prototype.getterComputed=function(a,d){if(this.store.has(a)&&
            !this.dirties[a])return this.store.get(a);d=d.get.call(this.host);this.store.set(a,d,1);this.propertyCommitted(a);return d};b.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":d.idToName(b)};b.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};b.prototype.internalGet=function(a){if(this.metadatas[a]){var d=this.store;return d.has(a)?d.get(a):this.metadatas[a].value}};b.prototype.internalSet=
            function(a,d){if(this.metadatas[a]){var b=this.initialized?this._origin:0,c=this.store.get(a);e.equals(d,c)&&b===this.store.originOf(a)&&this.store.has(a,b)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,d,b),this.propertyCommitted(a))}};b.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};b.prototype.keys=function(){return Object.keys(this.metadatas)};b.prototype.override=function(d,b){if(this.metadatas[d]){this.overridden||(this.overridden=
            {});var c=this.metadatas[d];if(!c.nonNullable||null!=b){if(c=c.cast){b=this.cast(c,b);var c=b.valid,f=b.value;a.release(b);if(!c)return;b=f}this.overridden[d]=!0;this.internalSet(d,b)}}};b.prototype.set=function(d,b){if(this.metadatas[d]){var c=this.metadatas[d];if(!c.nonNullable||null!=b){var f=c.set;if(c=c.cast){b=this.cast(c,b);var c=b.valid,g=b.value;a.release(b);if(!c)return;b=g}f?f.call(this.host,b):this.internalSet(d,b)}}};b.prototype.setDefaultOrigin=function(a){this._origin=d.nameToId(a)};
            b.prototype.getDefaultOrigin=function(){return d.idToName(this._origin)};b.prototype.propertyInvalidated=function(a){var d=this.dirties;this.isOverridden(a)||(d[a]=!0);if(d=this.cursors&&this.cursors[a])for(var b=0;b<d.length;b++)d[b].propertyInvalidated(this,a)};b.prototype.propertyCommitted=function(a){var d=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(d)for(var b=0;b<d.length;b++)d[b].propertyCommitted(this,a)};b.prototype.addCursor=function(a,d){this.cursors||(this.cursors={});var b=this.cursors[a];
                b||(this.cursors[a]=b=[]);b.push(d)};b.prototype.removeCursor=function(a,d){var b=this.cursors[a];this.cursors[a]&&(b.splice(b.indexOf(d),1),0===b.length&&(this.cursors[a]=null))};b.prototype.cast=function(d,b){var c=a.acquire();c.valid=!0;c.value=b;d&&(c.value=d.call(this.host,b,c));return c};return b}();n=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var a=new l(n);b.default=c})},"esri/core/ObjectPool":function(){define(["require",
            "exports"],function(c,b){var n=function(){return function(){}}();return function(){function b(b,c,e,d,k){void 0===d&&(d=1);void 0===k&&(k=0);this.classConstructor=b;this.acquireFunctionOrWithConstructor=c;this.releaseFunction=e;this.growthSize=d;!0===c?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof c&&(this.acquireFunction=c);this._pool=Array(k);this._initialSize=k;if(this.classConstructor)for(b=0;b<k;b++)this._pool[b]=new this.classConstructor;this.growthSize=Math.max(d,
            1)}b.prototype.destroy=function(){this.prune(0)};b.prototype.acquire=function(){var c;c=this.classConstructor||n;if(b.test.disabled)c=new c;else{if(0===this._pool.length)for(var e=this.growthSize,h=0;h<e;h++)this._pool[h]=new c;c=this._pool.pop()}if(this.acquireFunction){for(h=arguments.length;0<h;h--)arguments[h]=arguments[h-1];arguments[0]=c;arguments.length++;this.acquireFunction.apply(this,arguments)}else c&&c.acquire&&"function"===typeof c.acquire&&c.acquire.apply(c,arguments);return c};b.prototype.release=
            function(c){c&&!b.test.disabled&&(this.releaseFunction?this.releaseFunction(c):c&&c.release&&"function"===typeof c.release&&c.release(),this._pool.push(c))};b.prototype.prune=function(b){void 0===b&&(b=this._initialSize);if(!(b>=this._pool.length)){for(var c=b;c<this._pool.length;++c)this._dispose(this._pool[c]);this._pool.length=b}};b.prototype._dispose=function(b){b.dispose&&"function"===typeof b.dispose&&b.dispose()};b.prototype._constructorAcquireFunction=function(){this.classConstructor&&this.classConstructor.call.apply(this.classConstructor,
            arguments)};b.test={disabled:!1};return b}()})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});var l=[n.default,e.default,m.default];b.processPrototypeMetadatas=function(b,d){for(var c=0;c<l.length;c++){var a=l[c];if(a.processPrototypePropertyMetadata)for(var g in b)a.processPrototypePropertyMetadata(g,
            b[g],b,d)}};b.processClassMetadatas=function(b,d){for(var c=0;c<l.length;c++){var a=l[c];if(a.processClassPropertyMetadata)for(var g in b)a.processClassPropertyMetadata(g,b[g],b,d)}};b.instanceCreated=function(b,d){for(var c=Object.getOwnPropertyNames(d),a=0;a<l.length;a++){var g=l[a];g.instanceCreated&&g.instanceCreated(b,d,c)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(c,b,n,e,m,l,h){function d(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             a,d){var c=l.getProperties(b);return h.wire(b,d.aliasOf,function(){c.propertyInvalidated(a)})}Object.defineProperty(b,"__esModule",{value:!0});b.AliasedPropertyExtension={processClassPropertyMetadata:function(b,a,d,c){var f=a.aliasOf;if(f&&(b=f.split(".")[0],null!=d[b]&&!a.set&&!a.get)){var g;a.get=function(){var a=e.default(this,f);if("function"===typeof a){g||(g=f.split(".").slice(0,-1).join("."));var b=e.default(this,g);b&&(a=a.bind(b))}return a};a.readOnly||(a.set=function(a){return m.default(this,
                f,a)})}},instanceCreated:function(b,a,c){for(var f=0;f<c.length;f++){var g=c[f],e=a[g];e.aliasOf&&d(b,g,e)}}};b.default=b.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(c,b,n){function e(b,c,a){b="?"===b[b.length-1]?b.slice(0,-1):b;if(null!=a.getItemAt||Array.isArray(a)){var d=parseInt(b,10);if(!isNaN(d))return Array.isArray(a)?a[d]:a.getItemAt(d)}d=n.getProperties(a);return c?n.isPropertyDeclared(d,b)?d.get(b):a[b]:n.isPropertyDeclared(d,
            b)?d.internalGet(b):a[b]}function m(b,c,a,g){if(null==b)return b;if((b=e(c[g],a,b))||!(g<c.length-1))return g===c.length-1?b:m(b,c,a,g+1)}function l(b,c,a,g){void 0===a&&(a=!1);void 0===g&&(g=0);return"string"===typeof c&&-1===c.indexOf(".")?e(c,a,b):m(b,n.pathToArray(c),a,g)}function h(b,c){return l(b,c,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.valueOf=l;b.get=h;b.exists=function(b,c){return void 0!==l(c,b,!0)};b.default=h})},"esri/core/accessorSupport/set":function(){define(["require",
            "exports","../has","../Logger","./get"],function(c,b,n,e,m){function l(b,d,c){if(b&&d)if("object"===typeof d){c=0;for(var a=Object.getOwnPropertyNames(d);c<a.length;c++){var g=a[c];l(b,g,d[g])}}else"_"!==d[0]&&(-1!==d.indexOf(".")?(d=d.split("."),g=d.splice(d.length-1,1)[0],l(m.default(b,d),g,c)):b[d]=c)}Object.defineProperty(b,"__esModule",{value:!0});e.getLogger("esri.core.accessorSupport.set");b.set=l;b.default=l})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],
            function(c,b,n){function e(a,b,c){b=n.splitPath(b);if(Array.isArray(b)){for(var f=[],g=0;g<b.length;g++)f.push((new m(b[g],c)).install(a));return new d(f)}a=(new m(b,c)).install(a);return new k(a)}Object.defineProperty(b,"__esModule",{value:!0});var m=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=n.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=n.pathToArray(this.path)}else"?"===a[a.length-
            1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new h(this,a):new l(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),l=function(){function a(a,b){this.binding=a;this.target=b;n.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(n.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=
                null)};a.prototype.propertyDestroyed=function(a,b){n.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(){this.binding&&this.binding.notify(this.target)};return a}(),h=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=n.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],
                this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=
                function(a,b){for(var d=this.stack,c=d[d.length-1];c.properties!==a&&c.propertyName!==b;)c.properties.removeCursor(c.propertyName,this),d.pop(),c=d[d.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=n.getProperties(b))&&a.length<this.binding.chain.length){var d=this.binding.chain[a.length];this.binding.conditional&&
            this.binding.conditional[a.length]&&!b.metadatas[d]||(this.stack.push({properties:b,propertyName:d}),b.addCursor(d,this),this.moveForward())}};return a}(),d=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),k=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();b.create=function(a,b){a=n.splitPath(a);if(Array.isArray(a)){for(var c=
                [],g=0;g<a.length;g++)c.push(new m(a[g],b));return function(a){for(var b=[],f=0;f<c.length;f++)b[f]=c[f].install(a);return new d(b)}}var e=new m(a,b);return function(a){return new k(e.install(a))}};b.wire=e;b.default=e})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});e.getLogger("esri.core.accessorSupport.extensions.computedProperty");
            b.ComputedPropertyExtension={processClassPropertyMetadata:function(b,d,c,a){d.dependsOn&&d.dependsOn.length&&(d.wire=l.create(d.dependsOn,function(a){return m.getProperties(a).propertyInvalidated(b)}))},instanceCreated:function(b,d,c){for(var a=0;a<c.length;a++){var g=d[c[a]];g.wire&&g.wire(b)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
            function(c,b,n,e,m,l,h){function d(b,a,d){var c=b&&b.json;b&&b.json&&b.json.origins&&d&&(b=b.json.origins[d.origin])&&("any"===a||a in b)&&(c=b);return c}Object.defineProperty(b,"__esModule",{value:!0});b.originSpecificReadPropertyDefinition=function(b,a){return d(b,"read",a)};b.originSpecificWritePropertyDefinition=function(b,a){return d(b,"write",a)};b.originSpecificPropertyDefinition=d;b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(b,a){if(l.process(a)){e.process(a);
                    for(var d=a.type,c=0;Array.isArray(d)&&!n.isOneOf(d);)d=d[0],c++;if(a.json.origins)for(var k in a.json.origins){var q=a.json.origins[k];m.create(d,c,b,q);h.create(d,c,b,q)}m.create(d,c,b,a.json);h.create(d,c,b,a.json)}}};b.default=b.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=function(b){if(b.json&&b.json.origins){var c=b.json.origins,
            m={"web-document":["web-scene","web-map"]};b=function(b){if(c[b]){var d=c[b];m[b].forEach(function(b){c[b]=d});delete c[b]}};for(var l in m)b(l)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../Logger","../../../object","./type"],function(c,b,n,e,m){function l(b,d){if(1<d)return k(b,d);if(1===d)return a(b);if(g(b)){var c=a(b.prototype.itemType.Type);return function(a,d,f){return(a=c(a,d,f))?new b(a):a}}return h(b)}function h(a){return a.prototype.read?
            function(b,d,c){if(null==b)return b;d=typeof b;if("object"!==d)r.error("Expected JSON value of type 'object' to deserialize type '"+a.prototype.declaredClass+"', but got '"+d+"'");else return d=new a,d.read(b,c),d}:a.fromJSON}function d(a,b,c,f){return 0!==f&&Array.isArray(b)?b.map(function(b){return d(a,b,c,f-1)}):a(b,null,c)}function k(a,b){a=h(a);var c=d.bind(null,a);return function(a,d,f){if(null==a)return a;a=c(a,f,b);d=b;for(f=a;0<d&&Array.isArray(f);)d--,f=f[0];if(void 0!==f)for(f=0;f<d;f++)a=
            [a];return a}}function a(a){var b=h(a);return function(a,d,c){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,c)}):[b(a,null,c)]}}function g(a){return m.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?f(a.Type):!1:!1}function f(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||g(a))}Object.defineProperty(b,"__esModule",{value:!0});var r=n.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");
            b.create=function(a,b,d,c){(!c.read||!c.read.reader&&!1!==c.read.enabled)&&f(a)&&e.setDeepValue("read.reader",l(a,b),c)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.isCollection=function(b){return!!b&&b.prototype&&b.prototype.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require",
            "exports"],function(c,b){function n(b){"boolean"===typeof b.read?b.read={enabled:b.read}:"function"===typeof b.read?b.read={enabled:!0,reader:b.read}:b.read&&"object"===typeof b.read&&void 0===b.read.enabled&&(b.read.enabled=!0)}function e(b){"boolean"===typeof b.write?b.write={enabled:b.write}:"function"===typeof b.write?b.write={enabled:!0,writer:b.write}:b.write&&"object"===typeof b.write&&void 0===b.write.enabled&&(b.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=
            function(b){b.json||(b.json={});n(b.json);e(b.json);if(b.json.origins)for(var c in b.json.origins)n(b.json.origins[c]),e(b.json.origins[c]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(c,b,n,e){function m(a,b,d,c){n.setDeepValue(d,l(a,c),b)}function l(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:
            Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function h(a,b,d,c){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return l(a,c)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[l(a,c)];n.setDeepValue(d,a,b)}function d(a,b,c){return 0!==c&&Array.isArray(a)?a.map(function(a){return d(a,b,c-1)}):l(a,b)}function k(a){return function(b,c,e,q){if(null===b)b=null;else{b=d(b,q,a);q=a;for(var f=b;0<q&&Array.isArray(f);)q--,f=f[0];if(void 0!==f)for(f=0;f<q;f++)b=[b]}n.setDeepValue(e,
            b,c)}}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,d,c){!c.write||c.write.writer||!1===c.write.enabled&&!c.write.overridePolicy||(1===b||e.isCollection(a)?c.write.writer=h:c.write.writer=1<b?k(b):m)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(c,b){function n(b){switch(b){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function e(b){switch(b){case 0:return"defaults";
            case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}}Object.defineProperty(b,"__esModule",{value:!0});b.nameToId=n;b.idToName=e;b.readableNameToId=function(b){return n(b)};b.idToReadableName=function(b){return e(b)};b.writableNameToId=function(b){return n(b)};b.idToWritableName=function(b){return e(b)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","../arrayUtils","../lang"],function(c,b,n,e){Object.defineProperty(b,
            "__esModule",{value:!0});c=function(){function b(){this._values=new Map}b.prototype.clone=function(c){var h=new b;this._values.forEach(function(b,k){c&&c.has(k)||h.set(k,e.clone(b))});return h};b.prototype.get=function(b){return this._values.get(b)};b.prototype.originOf=function(){return 6};b.prototype.keys=function(){return n.keysOfMap(this._values)};b.prototype.set=function(b,c){this._values.set(b,c)};b.prototype.delete=function(b){this._values.delete(b)};b.prototype.has=function(b){return this._values.has(b)};
            b.prototype.forEach=function(b){this._values.forEach(b)};return b}();b.Store=c})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(c,b,n,e){function m(b,d,c,f){f=f||a;for(var g=Math.max(0,f.last-10),e=g;e<c;++e)if(b[e]===d)return f.last=e;c=Math.min(g,c);for(e=0;e<c;++e)if(b[e]===d)return f.last=e;return-1}function l(a,b){return-1===a.indexOf(b)}function h(a,b,d){return!a.some(b.bind(null,d))}function d(a){return a}Object.defineProperty(b,
            "__esModule",{value:!0});b.find=n.find;b.findIndex=n.findIndex;b.includes=n.includes;b.unique=function(a,b){return b?a.filter(function(a,d,c){return n.findIndex(c,b.bind(null,a))===d}):a.filter(function(a,b,d){return d.indexOf(a)===b})};b.equals=function(a,b,d){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(d)for(var c=0;c<a.length;c++){if(!d(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.difference=function(a,b,d){var c;d?(c=b.filter(h.bind(null,
            a,d)),a=a.filter(h.bind(null,b,d))):(c=b.filter(l.bind(null,a)),a=a.filter(l.bind(null,b)));return{added:c,removed:a}};b.intersect=function(a,b,d){return a&&b?d?a.filter(function(a){return-1<n.findIndex(b,function(b){return d(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};var k=!!Array.prototype.fill;b.constant=function(a,b){if(k)return Array(a).fill(b);for(var d=Array(a),c=0;c<a;c++)d[c]=b;return d};b.range=function(a,b){void 0===b&&(b=a,a=0);for(var d=Array(b-a),c=a;c<b;c++)d[c-a]=c;
            return d};b.binaryIndexOf=function(a,b,d){for(var c=a.length,f=0,g=c-1;f<g;){var e=f+Math.floor((g-f)/2);b>a[e]?f=e+1:g=e}g=a[f];return d?b>=a[c-1]?-1:g===b?f:f-1:g===b?f:-1};b.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};c=function(){return function(){this.last=0}}();b.PositionHint=c;var a=new c;b.indexOf=m;b.removeUnordered=function(a,b,d,c){var f=null==d?a.length:d;c=m(a,b,f,c);if(-1!==c)return a[c]=a[f-1],null==d&&a.pop(),b};var g=new Set;b.removeUnorderedMany=
            function(b,d,c,f,e,k){void 0===c&&(c=b.length);void 0===f&&(f=d.length);if(0===f||0===c)return c;g.clear();for(var p=0;p<f;++p)g.add(d[p]);e=e||a;for(p=d=Math.max(0,e.last-10);p<c;++p)if(g.has(b[p])&&(k&&k.push(b[p]),g.delete(b[p]),b[p]=b[c-1],--c,--p,0===g.size||0===c))return g.clear(),c;for(p=0;p<d;++p)if(g.has(b[p])&&(k&&k.push(b[p]),g.delete(b[p]),b[p]=b[c-1],--c,--p,0===g.size||0===c))return g.clear(),c;g.clear();return c};b.pickRandom=function(a,b,d){var c=a.length;if(b>=c)return a.slice(0);
            d=(f.seed=d)?function(){return f.getFloat()}:Math.random;for(var g=new Set,e=[];e.length<b;){var k=Math.floor(d()*c);g.has(k)||(g.add(k),e.push(a[k]))}return e};b.shuffle=function(a,b){b=(f.seed=b)?function(){return f.getFloat()}:Math.random;for(var d=a.length-1;0<d;d--){var c=Math.floor(b()*(d+1)),g=a[d];a[d]=a[c];a[c]=g}return a};var f=new e;b.keysOfMap=function(a){var b=Array(a.size),d=0;a.forEach(function(a,c){return b[d++]=c});return b};b.keysOfSet=function(a,b){void 0===b&&(b=d);var c=Array(a.size),
            f=0;a.forEach(function(a){return c[f++]=b(a)});return c};b.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),d=0;a.forEach(function(a){return b[d++]=a});return b};b.remove=function(a,b){var d=a.indexOf(b);return-1!==d?(a.splice(d,1),b):null}})},"@dojo/framework/shim/array":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),
            c)})(function(c,b){Object.defineProperty(b,"__esModule",{value:!0});var n=c("tslib"),e=c("./global"),m=c("./iterator"),l=c("./number"),h=c("../has/has");c=c("./support/util");if(h.default("es6-array")&&h.default("es6-array-fill"))b.from=e.default.Array.from,b.of=e.default.Array.of,b.copyWithin=c.wrapNative(e.default.Array.prototype.copyWithin),b.fill=c.wrapNative(e.default.Array.prototype.fill),b.find=c.wrapNative(e.default.Array.prototype.find),b.findIndex=c.wrapNative(e.default.Array.prototype.findIndex);
        else{var d=function(a){if(isNaN(a))return 0;a=Number(a);isFinite(a)&&(a=Math.floor(a));return Math.min(Math.max(a,0),l.MAX_SAFE_INTEGER)},k=function(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},a=function(a,b){return 0>a?Math.max(b+a,0):Math.min(a,b)};b.from=function(a,b,c){if(null==a)throw new TypeError("from: requires an array-like object");b&&c&&(b=b.bind(c));c=d(a.length);var f="function"===typeof this?Object(new this(c)):Array(c);if(!m.isArrayLike(a)&&
            !m.isIterable(a))return f;if(m.isArrayLike(a)){if(0===c)return[];for(var g=0;g<a.length;g++)f[g]=b?b(a[g],g):a[g]}else{g=0;try{for(var e=n.__values(a),p=e.next();!p.done;p=e.next()){var k=p.value;f[g]=b?b(k,g):k;g++}}catch(y){h={error:y}}finally{try{p&&!p.done&&(r=e.return)&&r.call(e)}finally{if(h)throw h.error;}}}void 0!==a.length&&(f.length=c);return f;var h,r};b.of=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Array.prototype.slice.call(a)};b.copyWithin=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                c,e,q){if(null==b)throw new TypeError("copyWithin: target must be an array-like object");var f=d(b.length);c=a(k(c),f);e=a(k(e),f);q=a(void 0===q?f:k(q),f);q=Math.min(q-e,f-c);f=1;c>e&&c<e+q&&(f=-1,e+=q-1,c+=q-1);for(;0<q;)e in b?b[c]=b[e]:delete b[c],c+=f,e+=f,q--;return b};b.fill=function(b,c,e,q){var f=d(b.length);e=a(k(e),f);for(q=a(void 0===q?f:k(q),f);e<q;)b[e++]=c;return b};b.find=function(a,d,c){d=b.findIndex(a,d,c);return-1!==d?a[d]:void 0};b.findIndex=function(a,b,c){var f=d(a.length);if(!b)throw new TypeError("find: second argument must be a function");
            c&&(b=b.bind(c));for(c=0;c<f;c++)if(b(a[c],c,a))return c;return-1}}h.default("es7-array")?b.includes=c.wrapNative(e.default.Array.prototype.includes):b.includes=function(a,b,d){void 0===d&&(d=0);var c;c=a.length;c=Number(c);isNaN(c)?c=0:(isFinite(c)&&(c=Math.floor(c)),c=Math.min(Math.max(c,0),l.MAX_SAFE_INTEGER));for(;d<c;++d){var f=a[d];if(b===f||b!==b&&f!==f)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=
            c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],c)})(function(c,b){function n(b){return b&&"function"===typeof b[Symbol.iterator]}function e(b){return b&&"number"===typeof b.length}function m(b){if(n(b))return b[Symbol.iterator]();if(e(b))return new d(b)}Object.defineProperty(b,"__esModule",{value:!0});c("./Symbol");var l=c("./string"),h={done:!0,value:void 0},d=function(){function b(a){this._nextIndex=-1;
            n(a)?this._nativeIterator=a[Symbol.iterator]():this._list=a}b.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:h:h};b.prototype[Symbol.iterator]=function(){return this};return b}();b.ShimIterator=d;b.isIterable=n;b.isArrayLike=e;b.get=m;b.forOf=function(b,a,d){function c(){g=!0}var g=!1;if(e(b)&&"string"===typeof b)for(var k=b.length,h=0;h<k;++h){var u=b[h];if(h+1<k){var p=u.charCodeAt(0);
            p>=l.HIGH_SURROGATE_MIN&&p<=l.HIGH_SURROGATE_MAX&&(u+=b[++h])}a.call(d,u,b,c);if(g)break}else if(k=m(b))for(h=k.next();!h.done;){a.call(d,h.value,b,c);if(g)break;h=k.next()}}})},"@dojo/framework/shim/number":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],c)})(function(c,b){function n(b){return"number"===typeof b&&m.default.isFinite(b)}
            function e(b){return n(b)&&Math.floor(b)===b}Object.defineProperty(b,"__esModule",{value:!0});var m=c("./global");b.EPSILON=1;b.MAX_SAFE_INTEGER=Math.pow(2,53)-1;b.MIN_SAFE_INTEGER=-b.MAX_SAFE_INTEGER;b.isNaN=function(b){return"number"===typeof b&&m.default.isNaN(b)};b.isFinite=n;b.isInteger=e;b.isSafeInteger=function(c){return e(c)&&Math.abs(c)<=b.MAX_SAFE_INTEGER}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(c,b){return function(){function b(b){void 0===b&&(b=1);this._seed=
            b}Object.defineProperty(b.prototype,"seed",{set:function(c){this._seed=null==c?Math.random()*b._m:c},enumerable:!0,configurable:!0});b.prototype.getInt=function(){return this._seed=(b._a*this._seed+b._c)%b._m};b.prototype.getFloat=function(){return this.getInt()/(b._m-1)};b.prototype.getIntRange=function(b,c){return Math.round(this.getFloatRange(b,c))};b.prototype.getFloatRange=function(c,m){m-=c;var e=this.getInt()/b._m;return c+Math.floor(e*m)};b._m=2147483647;b._a=48271;b._c=0;return b}()})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
            function(c,b,n,e,m,l,h){function d(a,b){return function(d){d=+a(d);null!=b.step&&(d=Math.round(d/b.step)*b.step);null!=b.min&&(d=Math.max(b.min,d));null!=b.max&&(d=Math.min(b.max,d));return d}}function k(a,b){return null==b.get?function(){return this.__accessor__?this.__accessor__.getterStatic(a,b):b.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(a,b):b.value}}Object.defineProperty(b,"__esModule",{value:!0});b.processPrototype=function(a){var b=a.declaredClass,c=a.properties||
                {},k;for(k in c){var q=c[k],h=typeof q;null==q?m.setPropertyMetadata(a,k,{value:q}):Array.isArray(q)?m.setPropertyMetadata(a,k,{type:[q[0]],value:null}):"object"===h?l.getProperties(q)||q instanceof Date?m.setPropertyMetadata(a,k,{type:q.constructor,value:q}):m.setPropertyMetadata(a,k,q):"boolean"===h?m.setPropertyMetadata(a,k,{type:Boolean,value:q}):"string"===h?m.setPropertyMetadata(a,k,{type:String,value:q}):"number"===h?m.setPropertyMetadata(a,k,{type:Number,value:q}):"function"===h&&m.setPropertyMetadata(a,
                k,{type:q,value:null})}a=m.getPropertiesMetadata(a);for(k in a){c=a[k];h=c.type;q=c.types;if(!c.cast)if(h){q=c;var u=0,p=h;if(n.isLongFormType(h))h=n.ensureLongFormType(h);else{for(;Array.isArray(p)&&1===p.length&&"string"!==typeof p[0]&&"number"!==typeof p[0];)p=p[0],u++;h=n.isOneOf(p)?0===u?n.ensureOneOf(p):n.ensureNArrayTyped(n.ensureOneOf(p),u):1===u?n.ensureArray(p):1<u?n.ensureNArray(p,u):h.from?h.from:n.ensureType(h)}q.cast=h}else q&&(Array.isArray(q)?c.cast=n.ensureArrayTyped(n.ensureOneOfType(q[0])):
                c.cast=n.ensureOneOfType(q));c.range&&(c.cast=d(c.cast,c.range))}e.processPrototypeMetadatas(a,b);return a};b.processClass=function(a){for(var b=a.prototype,d=b.declaredClass,c=a._meta.bases,q={},t=c.length-1;0<=t;t--)m.merge(q,m.getMetadata(c[t].prototype));var u=q.properties;e.processClassMetadatas(u,d);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:u,autoDestroy:!!q.autoDestroy}});for(var p={},d=function(a){var b=u[a];p[a]={enumerable:!0,configurable:!0,get:k(a,b),set:function(d){var c=
                    this.__accessor__;if(!c)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:d});else if(!Object.isFrozen(this)){if(c.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===c.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);c.set(a,d)}}}},c=0,t=Object.getOwnPropertyNames(u);c<t.length;c++)d(t[c]);Object.defineProperties(a.prototype,
                p);if(q.parameters)for(a=0,d=Object.getOwnPropertyNames(q.parameters);a<d.length;a++)c=d[a],t=Object.getOwnPropertyDescriptor(b,c)||{value:b[c]},(t=h.autocastMethod(b,c,t))&&Object.defineProperty(b,c,t);return q}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(c,b,n,e,m,l,h,d,k){function a(a){v.has(a)?w.splice(w.indexOf(a),1):v.add(a);w.push(a);z||(z=l.schedule(f))}function g(a){if(!a.removed){var b=
            a.callback,d=a.path,c=a.oldValue,f=a.target,g=h.valueOf(f,a.propertyPath,!0);e.equals(c,g)||(a.oldValue=g,b.call(f,g,c,d,f))}}function f(){for(var a=10;z&&a--;){z=null;var b=w;w=p.acquire();v.clear();for(var d=p.acquire(),c=0,f=b;c<f.length;c++){var e=f[c],k=e.uid;g(e);k===e.uid&&e.removed&&d.push(e)}for(c=0;c<w.length;c++)e=w[c],e.removed&&(d.push(e),v.delete(e),w.splice(c,1),--c);for(c=0;c<d.length;c++)u.pool.release(d[c]);p.release(b);p.release(d);y.forEach(function(a){return a()})}}function r(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  c,f){var g=d.parse(b,c,f,function(b,c,f){var e=h.valueOf(b,c,!0),p,q,t=k.wire(b,c,function(b,d){b.__accessor__.destroyed||p&&p.uid!==q?g.remove():(p||(p=u.pool.acquire(b,d,e,f),q=p.uid,e=null),a(p))});return{remove:d.once(function(){t.remove();p&&(p.uid!==q||p.removed||(p.removed=!0,a(p)),p=null);g=t=e=null})}});return g}function q(a,b,c){var f=d.parse(a,b,c,function(a,b,d){var c=h.valueOf(a,b,!0),g=!1;return k.wire(a,b,function(a,b){if(a.__accessor__.destroyed)f.remove();else if(!g){g=!0;var p=h.valueOf(a,
            b,!0);e.equals(c,p)||d.call(a,p,c,b,a);c=h.valueOf(a,b,!0);g=!1}})});return f}function t(a,b,d,c){void 0===c&&(c=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:c?q(a,b,d):r(a,b,d)}Object.defineProperty(b,"__esModule",{value:!0});var u=function(){function a(b,c,f,g){this.target=b;this.path=c;this.oldValue=f;this.callback=g;this.uid=0;this.removed=!1;this.propertyPath=d.pathToStringOrArray(c);this.uid=++a.uid}a.prototype.release=function(){this.target=this.path=this.propertyPath=
            this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new m.ReentrantObjectPool(a,!0);a.uid=0;return a}(),p=new n,v=new Set,w=p.acquire(),z;b.dispatchTarget=function(a){for(var b=p.copy(w),d=0;d<b.length;d++){var c=b[d];c.target===a&&(g(c),v.delete(c),w.splice(w.indexOf(c),1))}};b.removeTarget=function(a){for(var b=0;b<w.length;b++){var d=w[b];d.target===a&&(d.removed=!0)}};b.dispatch=f;var y=new Set;b.afterDispatch=function(a){y.add(a);return{remove:function(){y.delete(a)}}};
            b.watch=t;b.isValueInUse=function(a){return w.some(function(b){return b.oldValue===a})};b.default=t})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(c,b,n){function e(b){b.length=0}var m=Array.prototype.splice;c=function(){function b(b,c){void 0===b&&(b=50);void 0===c&&(c=50);this._pool=new n(Array,!1,e,c,b)}b.prototype.acquire=function(){return this._pool.acquire()};b.prototype.copy=function(b){var d=this.acquire();b.unshift(0,0);m.apply(d,b);b.splice(0,2);
            return d};b.prototype.release=function(b){this._pool.release(b)};b.prototype.prune=function(){this._pool.prune(0)};b.acquire=function(){return l.acquire()};b.copy=function(b){return l.copy(b)};b.release=function(b){return l.release(b)};b.prune=function(){l.prune()};return b}();var l=new c(100);return c})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(c,b,n,e){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function c(){var c=
            null!==b&&b.apply(this,arguments)||this;c._set=new Set;return c}n(c,b);c.prototype.destroy=function(){b.prototype.destroy.call(this);this._set=null};c.prototype.acquire=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];c=b.prototype.acquire.apply(this,c);this._set.delete(c);return c};c.prototype.release=function(c){c&&!this._set.has(c)&&(b.prototype.release.call(this,c),this._set.add(c))};c.prototype._dispose=function(c){this._set.delete(c);b.prototype._dispose.call(this,c)};return c}(e);
            b.ReentrantObjectPool=c})},"esri/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e])};return function(b,n){function e(){this.constructor=b}c(b,n);b.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}()})},"esri/core/scheduling":function(){define("require exports ./nextTick ./now ./PooledArray ./promiseUtils ./requestAnimationFrame".split(" "),
            function(c,b,n,e,m,l,h){function d(a){void 0===a&&(a=e());b.debug.rafId=null;0<z.length&&(b.debug.rafId=k());b.debug.executeFrameTasks(a)}function k(){return b.debug.requestNextFrame?b.debug.requestNextFrame(f):f()}function a(){z.forEach(function(a){a.removed&&A.push(a)});z.removeUnorderedMany(A.data,A.length);A.clear()}function g(){for(;w.length;){var a=w.shift();a.isActive&&(a.isActive=!1,a.callback())}b.debug.willDispatch=!1}function f(){return h(d)}Object.defineProperty(b,"__esModule",{value:!0});
                b.now=e;var r=function(){return function(a){this.phases=a;this.paused=!1;this.ticks=-1;this.removed=!1}}(),q=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),t=-1,u=0,p={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},v=["prepare","preRender","render","postRender","update"],w=[],z=new m,y=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused=
                    !0};a.prototype.resume=function(){this._task.paused=!1};return a}();b.FrameTaskHandle=y;b.debug={frameTasks:z,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(b){void 0===b&&(b=!1);z.forEach(function(a){a.removed=!0});b&&a()},dispatch:g,executeFrameTasks:function(b){void 0===b&&(b=e());0>t&&(t=b);var d=b-t,c=0<u?u:1E3/60,f=Math.max(0,d-c);t=b;for(var g=function(a){var g=v[a];z.forEach(function(k){k.paused||k.removed||(0===a&&k.ticks++,k.phases[g]&&(p.time=b,p.deltaTime=0===
                    k.ticks?0:d,p.elapsedFrameTime=e()-b,p.frameDuration=c-f,k.phases[g].call(k,p)))})},k=0;k<v.length;k++)g(k);a()}};b.schedule=function(a){a=new q(a);w.push(a);b.debug.willDispatch||(b.debug.willDispatch=!0,n(g));return a};b.addFrameTask=function(a){a=new r(a);z.push(a);b.debug.rafId||(t=-1,b.debug.rafId=k());return new y(a)};b.setFrameDuration=function(a){u=Math.max(0,a)};b.requestNextFrame=k;var A=new m;b.waitTicks=function(a,b){void 0===a&&(a=1);var d=l.createResolver(),c=function(){l.isAborted(b)?
                    d.reject(l.createAbortError()):0===a?d():(--a,n(function(){return c()}))};c();return d.promise}})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(c,b,n){function e(){if(n.postMessage&&!n.importScripts){var a=n.onmessage,b=!0;n.onmessage=function(){b=!1};n.postMessage("","*");n.onmessage=a;return b}return!1}function m(a){d.push(a);1===d.length&&h(function(){for(var a=0,b=k;a<b.length;a++)(0,b[a])();a=d.slice();for(b=d.length=0;b<a.length;b++)(0,a[b])()})}var l=n.MutationObserver||
            n.WebKitMutationObserver,h=function(){if(n.process&&n.process.nextTick)return function(a){n.process.nextTick(a)};if(n.Promise)return function(a){n.Promise.resolve().then(a)};if(l){var a=[],b=document.createElement("div");(new l(function(){for(;0<a.length;)a.shift()()})).observe(b,{attributes:!0});return function(d){a.push(d);b.setAttribute("queueStatus","1")}}if(e()){var d=[];n.addEventListener("message",function(a){if(a.source===n&&"esri-nexttick-message"===a.data)for(a.stopPropagation();d.length;)d.shift()()},
            !0);return function(a){d.push(a);n.postMessage("esri-nexttick-message","*")}}return n.setImmediate?function(a){return n.setImmediate(a)}:function(a){return n.setTimeout(a,0)}}(),d=[],k=[];(function(a){a.before=function(a){k.push(a);return{remove:function(){k=k.filter(function(b){return b!==a})}}}})(m||(m={}));return m})},"esri/core/now":function(){define(["require","exports","./global"],function(c,b,n){return function(){var b=n.performance||{};if(b.now)return function(){return b.now()};if(b.webkitNow)return function(){return b.webkitNow()};
            if(b.mozNow)return function(){return b.mozNow()};if(b.msNow)return function(){return b.msNow()};if(b.oNow)return function(){return b.oNow()};var c;c=b.timing&&b.timing.navigationStart?b.timing.navigationStart:Date.now();return function(){return Date.now()-c}}()})},"esri/core/PooledArray":function(){define(["require","exports","./tsSupport/generatorHelper","./arrayUtils","./HeapSort"],function(c,b,n,e,m){return function(){function b(b){var d=this;this.data=[];this._length=0;this._allocator=null;this._deallocator=
            function(){};this._shrink=function(){};this._hint=new e.PositionHint;b&&(b.initialSize&&(this.data=Array(b.initialSize)),b.allocator?(this._allocator=b.allocator,this._deallocator=b.deallocator):"deallocator"in b&&(this._deallocator=b.deallocator),b.shrink&&(this._shrink=function(){d.data.length>1.5*d.length&&(d.data.length=Math.floor(1.1*d.length))}))}b.prototype.toArray=function(){return this.data.slice(0,this.length)};b.prototype.getItemAt=function(b){if(!(0>b||b>=this._length))return this.data[b]};
            Object.defineProperty(b.prototype,"length",{get:function(){return this._length},set:function(b){if(b>this._length)if(this._allocator)for(;this._length<b;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=b;else{if(this._deallocator)for(var d=b;d<this._length;++d)this.data[d]=this._deallocator(this.data[d]);this._length=b;this._shrink()}},enumerable:!0,configurable:!0});b.prototype.clear=function(){this.length=0};b.prototype.prune=function(){this.clear();this.data=
                []};b.prototype.push=function(b){this.data[this._length++]=b};b.prototype.pushArray=function(b,d){void 0===d&&(d=b.length);for(var c=0;c<d;c++)this.data[this._length++]=b[c]};b.prototype.fill=function(b,d){for(var c=0;c<d;c++)this.data[this._length++]=b};b.prototype.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));++this._length;return this.back()};b.prototype.pop=function(){if(0!==this.length){var b=this.data[this.length-1];--this.length;this._shrink();
                return b}};b.prototype.iterableRemoveMany=function(b){var d,c;return n(this,function(a){switch(a.label){case 0:d=[],c=0,a.label=1;case 1:if(!(c<this.length)||c>=this.length)return[3,4];0>e.indexOf(b.data,this.data[c],b.length,b._hint)&&d.push(this.data[c]);return[4];case 2:a.sent(),a.label=3;case 3:return++c,[3,1];case 4:return this.data=d,this._length=this.data.length,[2]}})};b.prototype.remove=function(b){var d=e.indexOf(this.data,b,this.length,this._hint);if(-1!==d)return this.data.splice(d,1),
                --this.length,b};b.prototype.removeUnordered=function(b){b=e.removeUnordered(this.data,b,this.length,this._hint);void 0!==b&&--this.length;return b};b.prototype.removeUnorderedIndex=function(b){if(!(b>=this.length||0>b))return this.swapElements(b,this.length-1),this.pop()};b.prototype.removeUnorderedMany=function(b,d,c){void 0===d&&(d=b.length);this.length=e.removeUnorderedMany(this.data,b,this.length,d,this._hint,c)};b.prototype.front=function(){if(0!==this.length)return this.data[0]};b.prototype.back=
                function(){if(0!==this.length)return this.data[this.length-1]};b.prototype.swapElements=function(b,d){var c;b>=this.length||d>=this.length||b===d||(c=[this.data[d],this.data[b]],this.data[b]=c[0],this.data[d]=c[1])};b.prototype.sort=function(b){m.sort(this.data,0,this.length,b)};b.prototype.iterableSort=function(b){return m.iterableSort(this.data,0,this.length,b)};b.prototype.some=function(b,d){for(var c=0;c<this.length;++c)if(b.call(d,this.data[c],c,this.data))return!0;return!1};b.prototype.filterInPlace=
                function(b,d){for(var c=0,a=0;a<this._length;++a){var g=this.data[a];b.call(d,g,a,this.data)&&(this.data[a]=this.data[c],this.data[c]=g,c++)}if(this._deallocator)for(a=c;a<this._length;a++)this.data[a]=this._deallocator(this.data[a]);this._length=c;return this};b.prototype.forEach=function(b,d){for(var c=this.length,a=0;a<Math.min(this.length,c);++a)b.call(d,this.data[a],a,this.data)};b.prototype.iterableForEach=function(){var b;return n(this,function(d){switch(d.label){case 0:b=0,d.label=1;case 1:return b<
            this.length?[4,this.data[b]]:[3,4];case 2:d.sent(),d.label=3;case 3:return++b,[3,1];case 4:return[2]}})};b.prototype.map=function(b,d){for(var c=Array(this.length),a=0;a<this.length;++a)c[a]=b.call(d,this.data[a],a,this.data);return c};b.prototype.reduce=function(b,d){for(var c=0;c<this.length;++c)d=b(d,this.data[c],c,this.data);return d};return b}()})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(c,b){function n(a){return function(b){return e([a,b])}}function e(a){if(l)throw new TypeError("Generator is already executing.");
            for(;m;)try{if(l=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return m.label++,{value:a[1],done:!1};case 5:m.label++;h=a[1];a=[0];continue;case 7:a=m.ops.pop();m.trys.pop();continue;default:if(!(d=m.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){m=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))m.label=a[1];else if(6===a[0]&&m.label<d[1])m.label=
                d[1],d=a;else if(d&&m.label<d[2])m.label=d[2],m.ops.push(a);else{d[2]&&m.ops.pop();m.trys.pop();continue}}a=b.call(c,m)}catch(g){a=[6,g],h=0}finally{l=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var m={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,h,d,k;return k={next:n(0),"throw":n(1),"return":n(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}})},"esri/core/HeapSort":function(){define(["require","exports","./tsSupport/generatorHelper"],
            function(c,b,n){var e;(function(b){function c(b,c,a,g){for(var d=c,e=a>>>1,k=b[d-1];c<=e;){c=d<<1;c<a&&0>g(b[c-1],b[c])&&++c;var t=b[c-1];if(0>=g(t,k))break;b[d-1]=t;d=c}b[d-1]=k}function e(b,c){return b<c?-1:b>c?1:0}b.sort=function(b,k,a,g){void 0===k&&(k=0);void 0===a&&(a=b.length);void 0===g&&(g=e);for(var d=a>>>1;d>k;d--)c(b,d,a,g);for(var h=k+1,d=a-1;d>k;d--)a=b[k],b[k]=b[d],b[d]=a,c(b,h,d,g)};b.iterableSort=function(b,k,a,g){var d,h,q;return n(this,function(f){switch(f.label){case 0:void 0===
            k&&(k=0),void 0===a&&(a=b.length),void 0===g&&(g=e),d=a>>>1,f.label=1;case 1:if(!(d>k))return[3,4];c(b,d,a,g);return[4];case 2:f.sent(),f.label=3;case 3:return d--,[3,1];case 4:h=k+1,d=a-1,f.label=5;case 5:if(!(d>k))return[3,8];q=b[k];b[k]=b[d];b[d]=q;c(b,h,d,g);return[4];case 6:f.sent(),f.label=7;case 7:return d--,[3,5];case 8:return[2]}})}})(e||(e={}));return e})},"esri/core/promiseUtils":function(){define("require exports @dojo/framework/shim/AbortController dojo/Deferred dojo/promise/all ./clock ./Error ./events ./has ./maybe ./Logger @dojo/framework/shim/Promise".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g){function f(a){return k("esri-native-promise")?Promise.all(a):m(a)}function r(a,b){if(k("esri-native-promise"))return new Promise(function(b,d){try{a(b,d)}catch(J){Promise.resolve().then(function(){return d(J)})}});var d=new e(b);try{a(function(a){return D(a).then(d.resolve)},d.reject)}catch(F){d.reject(F)}return d.promise}function q(a){void 0===a&&(a="Aborted");a=new h("AbortError",a);a.dojoType="cancel";return a}function t(){return new n.default}function u(a){if(v(a))throw q();
            }function p(b){return a.isSome(b)?"aborted"in b?b:b.signal:b}function v(b){b=p(b);return a.isSome(b)&&b.aborted}function w(b,c){b=p(b);if(!a.isNone(b))if(b.aborted)c();else return d.once(b,"abort",function(){return c()})}function z(a){return a&&("AbortError"===a.name||"cancel"===a.dojoType)}function y(a){var b=null;a=r(function(a,d){b={resolve:a,reject:d}},a);b.promise=a;b.cancel=function(){b.reject(q())};return b}function A(a){if(a){if("function"!==typeof a.forEach){var b=Object.keys(a),d=b.map(function(b){return a[b]});
                return A(d).then(function(a){var d={};b.forEach(function(b,c){return d[b]=a[c]});return d})}var c=null,f=x;return r(function(b,d){var g=[],e=a.length;0===e&&b(g);a.forEach(function(a){var p={promise:a||f(a)};g.push(p);p.promise.then(function(a){p.value=a}).catch(function(a){p.error=a}).then(function(){--e;0===e&&(c?d(q()):b(g))})})},function(b){c=b||"Invocation cancellation";a.forEach(function(a){"cancel"in a&&a.cancel(b)})})}}function x(a){void 0===a&&(a=void 0);if(k("esri-native-promise"))return Promise.resolve(a);
                var b=new e;b.resolve(a);return b.promise}function B(a,b,d){void 0===b&&(b=void 0);var c=t();w(d,function(){return c.abort()});return r(function(d,f){var g=setTimeout(function(){g=0;d(b)},a);w(c,function(){g&&(clearTimeout(g),f(q()))})},function(){return c.abort()})}function D(a){return a&&"object"===typeof a&&"then"in a&&"function"===typeof a.then?a:x(a)}Object.defineProperty(b,"__esModule",{value:!0});var E=g.getLogger("esri");b.all=f;b.filter=function(a,b){var d=a.slice();return f(a.map(function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        d){return b(a,d)})).then(function(a){return d.filter(function(b,d){return a[d]})})};b.create=r;b.createAbortError=q;b.createAbortController=t;b.throwIfAborted=u;b.isAborted=v;b.throwIfAbortError=function(a){if(z(a))throw a;};b.throwIfNotAbortError=function(a){if(!z(a))throw a;};b.onAbort=w;b.onAbortOrThrow=function(b,c){b=p(b);if(!a.isNone(b))return u(b),d.once(b,"abort",function(){return c(q())})};b.isAbortError=z;b.ignoreAbortErrors=function(a){return a.catch(function(a){if(!z(a))throw a;})};b.logOnError=
                function(b,d){return b.catch(function(b){z(b)||(d=a.isSome(d)?d:E,d.error(b))})};b.createDeferred=y;b.eachAlways=A;b.isThenable=function(a){return a&&"function"===typeof a.then};b.eachAlwaysValues=function(a){return A(a).then(function(a){return a.filter(function(a){return!!a.value}).map(function(a){return a.value})})};b.first=function(a){return a&&a.length?r(function(b,d){for(var c=0;c<a.length;c++)a[c].then(b,d)}):x()};b.reject=function(a){if(k("esri-native-promise"))return Promise.reject(a);var b=
                new e;b.reject(a);return b.promise};b.resolve=x;b.after=B;b.timeout=function(a,b,d,c){var f=d&&"abort"in d?d:null;null!=c||f||(c=d);var g=setTimeout(function(){g=0;f&&f.abort()},b),e=function(){throw c||new h("promiseUtils:timeout","The wrapped promise did not resolve within "+b+" ms");};return a.then(function(a){if(0===g)throw e();clearTimeout(g);return a},function(a){clearTimeout(g);throw 0===g?e():a;})};b.wrapCallback=function(a){var b=!1;return r(function(){a(function(a){b||x(a)})},function(){return b=
                !0})};b.isPromiseLike=function(a){return a&&"function"===typeof a.then};b.when=D;b.debounce=function(a,b){void 0===b&&(b=-1);var d,c,f,g,e=null,p=function(){for(var k=[],h=0;h<arguments.length;h++)k[h]=arguments[h];if(d)return c=k,g&&g.reject(q()),g=y(),k=g.promise,e&&(h=e,e=null,h.abort()),k;f=g||y();g=null;if(0<b){var u=t(),v=d=D(a.apply(void 0,k.concat([u.signal])));B(b).then(function(){d===v&&(g?u.abort():e=u)})}else d=1,d=D(a.apply(void 0,k));var k=function(){var a=c;c=f=d=e=null;null!=a&&p.apply(void 0,
                a)},h=d,w=f;h.then(k,k);h.then(w.resolve,w.reject);return w.promise};return p};b.createResolver=function(a){var b,d;a=r(function(a,c){b=a;d=c},a);var c=function(a){b(a)};c.resolve=function(a){return b(a)};c.reject=function(a){return d(a)};c.timeout=function(a,b){return l.default.setTimeout(function(){return c.reject(b)},a)};c.promise=a;return c};b.always=function(a,b){return a.then(b,b)}})},"@dojo/framework/shim/AbortController":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?
            (c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],c)})(function(c,b){Object.defineProperty(b,"__esModule",{value:!0});var n=c("./global"),e=c("../has/has"),m=c("./array");b.ShimAbortSignal=n.default.AbortSignal;e.default("abort-signal")||(n.default.AbortSignal=b.ShimAbortSignal=function(){function b(){this._aborted=!1;this.listeners={}}Object.defineProperty(b.prototype,"aborted",{get:function(){return this._aborted},
            enumerable:!0,configurable:!0});b.prototype.addEventListener=function(b,d){b in this.listeners||(this.listeners[b]=[]);this.listeners[b].push(d)};b.prototype.removeEventListener=function(b,d){if(b in this.listeners){var c=m.findIndex(this.listeners[b],function(a){return a===d});0<=c&&this.listeners[b].splice(c,1)}};b.prototype.dispatchEvent=function(b){var d=this,c=b.type;"abort"===c&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,b));if(!(c in this.listeners))return!1;
            this.listeners[c].forEach(function(a){setTimeout(function(){return a.call(d,b)},0)});return!b.preventDefault};return b}());b.ShimAbortController=n.default.AbortController;e.default("abort-controller")||(n.default.AbortController=b.ShimAbortController=function(){function c(){this.signal=new b.ShimAbortSignal}c.prototype.abort=function(){var b;try{b=new Event("abort")}catch(d){"undefined"!==typeof document?(b=document.createEvent("Event"),b.initEvent("abort",!1,!1)):b={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(b)};
            return c}());b.default=b.ShimAbortController})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(c,b,n,e){var m=c.some;return function(c){var h,d;b.isArray(c)?d=c:c&&"object"===typeof c&&(h=c);var k,a=[];if(h){d=[];for(var g in h)Object.hasOwnProperty.call(h,g)&&(a.push(g),d.push(h[g]));k={}}else d&&(k=[]);if(!d||!d.length)return(new n).resolve(k);var f=new n;f.promise.always(function(){k=a=null});var r=d.length;m(d,function(b,d){h||a.push(d);
            e(b,function(b){f.isFulfilled()||(k[a[d]]=b,0===--r&&f.resolve(k))},f.reject);return f.isFulfilled()});return f.promise}})},"esri/core/clock":function(){define(["require","exports","./global"],function(c,b,n){function e(b){return{setTimeout:function(c,e){var d=b.setTimeout(c,e);return{remove:function(){return b.clearTimeout(d)}}}}}Object.defineProperty(b,"__esModule",{value:!0});b.wrap=e;b.default=e(n)})},"esri/core/Error":function(){define("require exports ./tsSupport/extendsHelper ./lang ./Logger ./Message".split(" "),
            function(c,b,n,e,m,l){c=function(b){function d(c,a,g){var f=b.call(this,c,a,g)||this;return f instanceof d?f:new d(c,a,g)}n(d,b);d.prototype.toJSON=function(){if(null!=this.details)try{var b=e.clone(this.details);return{name:this.name,message:this.message,details:b,dojoType:this.dojoType}}catch(a){throw m.getLogger("esri.core.Error").error(a),a;}return{name:this.name,message:this.message,details:this.details,dojoType:this.dojoType}};d.fromJSON=function(b){var a=new d(b.name,b.message,b.details);null!=
            b.dojoType&&(a.dojoType=b.dojoType);return a};return d}(l);c.prototype.type="error";return c})},"esri/core/Message":function(){define(["require","exports","./object"],function(c,b,n){function e(b,c){return b.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(b,d){if(""===d)return"$";b=n.getDeepValue(d,c);b=null==b?"":b;if("undefined"===typeof b)throw Error('could not find key "'+d+'" in template');return b.toString()})}return function(){function b(c,h,d){this instanceof b&&(this.name=c,this.message=
            h&&e(h,d)||"",this.details=d)}b.prototype.toString=function(){return"["+this.name+"]: "+this.message};return b}()})},"esri/core/events":function(){define(["require","exports"],function(c,b){function n(b){return b&&("function"===typeof b.on||"function"===typeof b.addEventListener)}function e(b,c,e){if(!n(b))throw new TypeError("target is not a Evented or EventTarget object");if("on"in b)return b.on(c,e);if(Array.isArray(c)){for(var d=c.slice(),k=0;k<d.length;k++)b.addEventListener(d[k],e);return{remove:function(){for(var a=
                0;a<d.length;a++)b.removeEventListener(d[a],e)}}}b.addEventListener(c,e);return{remove:function(){b.removeEventListener(c,e)}}}Object.defineProperty(b,"__esModule",{value:!0});b.isEventTarget=n;b.on=e;b.once=function(b,c,h){if(!n(b))throw new TypeError("target is not a Evented or EventTarget object");if("once"in b)return b.once(c,h);var d=e(b,c,function(c){d.remove();h.call(b,c)});return{remove:function(){d.remove()}}};b.pausable=function(b,c,h){var d=!1,k=e(b,c,function(a){d||h.call(b,a)});return{resume:function(){d=
                !1},pause:function(){d=!0},remove:function(){k.remove()}}};b.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};b.eventKey=function(c){c=c.key;return b.ieKeyNormalizationMap[c]||c}})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(c,b,n,e){var m=e();c=n.requestAnimationFrame;
            if(!c){b=["ms","moz","webkit","o"];for(var l=0;l<b.length&&!c;++l)c=n[b[l]+"RequestAnimationFrame"];c||(c=function(b){var d=e(),c=Math.max(0,16-(d-m)),a=n.setTimeout(function(){b(e())},c);m=d+c;return a})}return c})},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.interceptor=null})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),
            function(c,b,n,e,m,l){function h(b,a,c){void 0===c&&(c=d);if(a&&"object"===typeof a){for(var f=m.getProperties(b),g=f.metadatas,q={},k=0,h=Object.getOwnPropertyNames(a);k<h.length;k++){var p=q,v=g,w=h[k],n=a,y=c,A=l.originSpecificReadPropertyDefinition(v[w],y);A&&(!A.read||!1!==A.read.enabled&&!A.read.source)&&(p[w]=!0);for(var x=0,B=Object.getOwnPropertyNames(v);x<B.length;x++){var D=B[x],A=l.originSpecificReadPropertyDefinition(v[D],y),E;a:{E=w;var C=n;if(A&&A.read&&!1!==A.read.enabled&&A.read.source)if(A=
                A.read.source,"string"===typeof A){if(A===E||-1<A.indexOf(".")&&0===A.indexOf(E)&&e.exists(A,C)){E=!0;break a}}else for(var G=0;G<A.length;G++){var H=A[G];if(H===E||-1<H.indexOf(".")&&0===H.indexOf(E)&&e.exists(H,C)){E=!0;break a}}E=!1}E&&(p[D]=!0)}}f.setDefaultOrigin(c.origin);h=0;for(p=Object.getOwnPropertyNames(q);h<p.length;h++)k=p[h],w=(v=l.originSpecificReadPropertyDefinition(g[k],c).read)&&v.source,n=void 0,n=w&&"string"===typeof w?e.valueOf(a,w):a[k],v&&v.reader&&(n=v.reader.call(b,n,a,c)),
            void 0!==n&&f.set(k,n);if(!c||!c.ignoreDefaults)for(a=0,g=Object.getOwnPropertyNames(g);a<g.length;a++)k=g[a],q[k]||(h=b,p=f,v=c,w=(w=l.originSpecificPropertyDefinition(p.metadatas[k],"any",v))&&w.default,void 0!==w&&(h="function"===typeof w?w.call(h,k,v):w,void 0!==h&&p.set(k,h)));f.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});var d={origin:"service"};b.read=h;b.readLoadable=function(b,a,c,f){void 0===f&&(f=d);a=n({},f,{messages:[]});c(a);a.messages.forEach(function(a){"warning"!==
            a.type||b.loaded?f&&f.messages.push(a):b.loadWarnings.push(a)})};b.default=h})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(c,b,n,e,m,l,h,d){function k(a,b,d,c,k,p){if(!c||!c.write)return!1;var f=a.get(d);if(!k&&c.write.overridePolicy){var q=c.write.overridePolicy.call(a,f,d,p);void 0!==q&&(k=q)}k||(k=c.write);if(!k||!1===k.enabled)return!1;if((null===f&&!k.allowNull||
            void 0===f)&&k.isRequired)return(b=new e("web-document-write:property-required","Missing value for required property '"+d+"' on '"+a.declaredClass+"'",{propertyName:d,target:a}),p)&&p.messages?p.messages.push(b):b&&!p&&g.error(b.name,b.message),!1;if(void 0===f||null===f&&!k.allowNull)return!1;q=c.default;void 0===q?f=!1:"function"===typeof q?Array.isArray(f)?(a=q.call(a,d,p),f=n.equals(a,f)):f=!1:f=q===f;return f?!1:void 0!==c.default?!0:!k.ignoreOrigin&&p&&p.origin&&b.store.originOf(d)<l.nameToId(p.origin)?
            !1:!0}function a(a,b,c){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return h.merge(b,a.toJSON());var f=h.getProperties(a),g=f.metadatas,e;for(e in g){var q=d.originSpecificWritePropertyDefinition(g[e],c);if(k(a,f,e,q,null,c)){var w=a.get(e),r={};q.write.writer.call(a,w,r,"string"===typeof q.write.target?q.write.target:e,c);q=r;0<Object.keys(q).length&&(b=h.merge(b,q),c&&c.writtenProperties&&c.writtenProperties.push({target:a,propName:e,oldOrigin:l.idToReadableName(f.store.originOf(e)),
            newOrigin:c.origin}))}}return b}Object.defineProperty(b,"__esModule",{value:!0});var g=m.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,b,c,g){var f=h.getProperties(a),e=d.originSpecificWritePropertyDefinition(f.metadatas[b],g);return e?k(a,f,b,e,c,g):!1};b.write=a;b.default=a})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k){c=function(a){function b(b){b=a.call(this,b)||this;b.latestWkid=null;b.wkid=null;b.wkt=null;b.imageCoordinateSystem=null;return b}e(b,a);c=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return c.WebMercator;if(4326===a.wkid)return c.WGS84}var b=new c;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){var b;return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return k.isWGS84(this)},
                enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return k.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return k.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return k.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,b){this.wkid||(b.wkt=a)};b.prototype.clone=function(){if(this===
                c.WGS84)return c.WGS84;if(this===c.WebMercator)return c.WebMercator;var a=new c;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);this.imageCoordinateSystem&&(a.imageCoordinateSystem=h.clone(this.imageCoordinateSystem));return a};b.prototype.equals=function(a){if(null==a)return!1;if(this.imageCoordinateSystem||a.imageCoordinateSystem){if(null==
                this.imageCoordinateSystem||null==a.imageCoordinateSystem)return!1;var b=a.imageCoordinateSystem,d=b.id,b=b.referenceServiceName,c=a.imageCoordinateSystem.geodataXform,f=this.imageCoordinateSystem;return null==d||c?JSON.stringify(f)===JSON.stringify(a.imageCoordinateSystem):b?f.id===d&&f.referenceServiceName===b:f.id===d}return k.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};var c;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;m([d.property({dependsOn:["wkid"],readOnly:!0})],
                b.prototype,"isWGS84",null);m([d.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);m([d.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);m([d.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);m([d.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);m([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],
                b.prototype,"wkid",void 0);m([d.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);m([d.writer("wkt"),d.writer("web-scene","wkt")],b.prototype,"writeWkt",null);m([d.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);m([d.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);m([d.property()],b.prototype,"imageCoordinateSystem",void 0);return b=c=m([d.subclass("esri.geometry.SpatialReference")],
                b)}(d.declared(l.JSONSupport));c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=new c({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});c.WGS84=new c(k.WGS84);c.WebMercator=new c(k.WebMercator);Object.freeze&&(Object.freeze(c.GCS_NAD_1927),Object.freeze(c.WGS84),Object.freeze(c.WebMercator));return c})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require",
            "exports","../../core/string","./WKIDUnitConversion"],function(c,b,n,e){function m(a){return h(a)&&a.wkid?g[a.wkid]:null}function l(a){return h(a)&&!0===d[a.wkid]}function h(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(b,"__esModule",{value:!0});var d={102113:!0,102100:!0,3857:!0,3785:!0},k={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};c=[-2.0037508342788905E7,2.0037508342788905E7];var a=[-2.0037508342787E7,2.0037508342787E7],g={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
                valid:c,origin:a,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:c,origin:a,
                dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c,origin:a,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
                valid:c,origin:a,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
                valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||l(a)&&l(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};b.getInfo=m;b.isGeographic=function(a){return h(a)?a.wkid?null==e[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};b.isWGS84=function(a){return h(a)&&4326===a.wkid};b.isWebMercator=l;b.isWrappable=function(a){return h(a)&&
            !0===k[a.wkid]};b.isValid=h;b.WGS84={wkid:4326,wkt:n.replace(m({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};b.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var c,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
            2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
            3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
            3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
            3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
            5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
            6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
            6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
            6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
            6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
            7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
            7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
            8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
            8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
            8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,
            24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,
            32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,
            103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,
            103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,
            103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,
            103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(c=2E3;2045>=c;c++)b[c]=0;for(c=2056;2065>=c;c++)b[c]=0;for(c=2067;2135>=c;c++)b[c]=0;for(c=2137;2154>=c;c++)b[c]=0;for(c=2161;2170>=c;c++)b[c]=0;for(c=2172;2193>=c;c++)b[c]=
            0;for(c=2195;2198>=c;c++)b[c]=0;for(c=2200;2203>=c;c++)b[c]=0;for(c=2205;2217>=c;c++)b[c]=0;for(c=2222;2224>=c;c++)b[c]=1;for(c=2225;2250>=c;c++)b[c]=2;for(c=2251;2253>=c;c++)b[c]=1;for(c=2257;2264>=c;c++)b[c]=2;for(c=2274;2279>=c;c++)b[c]=2;for(c=2280;2282>=c;c++)b[c]=1;for(c=2283;2289>=c;c++)b[c]=2;for(c=2290;2292>=c;c++)b[c]=0;for(c=2308;2313>=c;c++)b[c]=0;for(c=2315;2491>=c;c++)b[c]=0;for(c=2494;2866>=c;c++)b[c]=0;for(c=2867;2869>=c;c++)b[c]=1;for(c=2870;2888>=c;c++)b[c]=2;for(c=2891;2895>=c;c++)b[c]=
            2;for(c=2896;2898>=c;c++)b[c]=1;for(c=2902;2908>=c;c++)b[c]=2;for(c=2915;2920>=c;c++)b[c]=2;for(c=2921;2923>=c;c++)b[c]=1;for(c=2924;2930>=c;c++)b[c]=2;for(c=2931;2962>=c;c++)b[c]=0;for(c=2964;2968>=c;c++)b[c]=2;for(c=2969;2973>=c;c++)b[c]=0;for(c=2975;2991>=c;c++)b[c]=0;for(c=2995;3051>=c;c++)b[c]=0;for(c=3054;3079>=c;c++)b[c]=0;for(c=3081;3088>=c;c++)b[c]=0;for(c=3092;3101>=c;c++)b[c]=0;for(c=3106;3138>=c;c++)b[c]=0;for(c=3146;3151>=c;c++)b[c]=0;for(c=3153;3166>=c;c++)b[c]=0;for(c=3168;3172>=c;c++)b[c]=
            0;for(c=3174;3203>=c;c++)b[c]=0;for(c=3294;3358>=c;c++)b[c]=0;for(c=3367;3403>=c;c++)b[c]=0;for(c=3408;3416>=c;c++)b[c]=0;for(c=3417;3438>=c;c++)b[c]=2;for(c=3441;3446>=c;c++)b[c]=2;for(c=3447;3450>=c;c++)b[c]=0;for(c=3451;3459>=c;c++)b[c]=2;for(c=3460;3478>=c;c++)b[c]=0;for(c=3554;3559>=c;c++)b[c]=0;for(c=3560;3570>=c;c++)b[c]=2;for(c=3571;3581>=c;c++)b[c]=0;for(c=3594;3597>=c;c++)b[c]=0;for(c=3601;3604>=c;c++)b[c]=0;for(c=3637;3639>=c;c++)b[c]=0;for(c=3665;3667>=c;c++)b[c]=0;for(c=3693;3695>=c;c++)b[c]=
            0;for(c=3701;3727>=c;c++)b[c]=0;for(c=3728;3739>=c;c++)b[c]=2;for(c=3740;3751>=c;c++)b[c]=0;for(c=3753;3760>=c;c++)b[c]=2;for(c=3761;3773>=c;c++)b[c]=0;for(c=3775;3777>=c;c++)b[c]=0;for(c=3779;3781>=c;c++)b[c]=0;for(c=3783;3785>=c;c++)b[c]=0;for(c=3788;3791>=c;c++)b[c]=0;for(c=3797;3802>=c;c++)b[c]=0;for(c=3814;3816>=c;c++)b[c]=0;for(c=3825;3829>=c;c++)b[c]=0;for(c=3832;3841>=c;c++)b[c]=0;for(c=3844;3852>=c;c++)b[c]=0;for(c=3873;3885>=c;c++)b[c]=0;for(c=3890;3893>=c;c++)b[c]=0;for(c=3907;3912>=c;c++)b[c]=
            0;for(c=3942;3950>=c;c++)b[c]=0;for(c=3968;3970>=c;c++)b[c]=0;for(c=3973;3976>=c;c++)b[c]=0;for(c=3986;3989>=c;c++)b[c]=0;for(c=3994;3997>=c;c++)b[c]=0;for(c=4048;4051>=c;c++)b[c]=0;for(c=4056;4063>=c;c++)b[c]=0;for(c=4093;4096>=c;c++)b[c]=0;for(c=4390;4398>=c;c++)b[c]=0;for(c=4399;4413>=c;c++)b[c]=2;for(c=4418;4433>=c;c++)b[c]=2;for(c=4455;4457>=c;c++)b[c]=2;for(c=4484;4489>=c;c++)b[c]=0;for(c=4491;4554>=c;c++)b[c]=0;for(c=4568;4589>=c;c++)b[c]=0;for(c=4652;4656>=c;c++)b[c]=0;for(c=4766;4800>=c;c++)b[c]=
            0;for(c=5014;5016>=c;c++)b[c]=0;for(c=5069;5072>=c;c++)b[c]=0;for(c=5105;5130>=c;c++)b[c]=0;for(c=5173;5188>=c;c++)b[c]=0;for(c=5253;5259>=c;c++)b[c]=0;for(c=5269;5275>=c;c++)b[c]=0;for(c=5292;5311>=c;c++)b[c]=0;for(c=5329;5331>=c;c++)b[c]=0;for(c=5343;5349>=c;c++)b[c]=0;for(c=5355;5357>=c;c++)b[c]=0;for(c=5387;5389>=c;c++)b[c]=0;for(c=5459;5463>=c;c++)b[c]=0;for(c=5479;5482>=c;c++)b[c]=0;for(c=5518;5520>=c;c++)b[c]=0;for(c=5530;5539>=c;c++)b[c]=0;for(c=5550;5552>=c;c++)b[c]=0;for(c=5562;5583>=c;c++)b[c]=
            0;for(c=5623;5625>=c;c++)b[c]=2;for(c=5631;5639>=c;c++)b[c]=0;for(c=5649;5653>=c;c++)b[c]=0;for(c=5663;5680>=c;c++)b[c]=0;for(c=5682;5685>=c;c++)b[c]=0;for(c=5875;5877>=c;c++)b[c]=0;for(c=5896;5899>=c;c++)b[c]=0;for(c=5921;5940>=c;c++)b[c]=0;for(c=6050;6125>=c;c++)b[c]=0;for(c=6244;6275>=c;c++)b[c]=0;for(c=6328;6348>=c;c++)b[c]=0;for(c=6350;6356>=c;c++)b[c]=0;for(c=6366;6372>=c;c++)b[c]=0;for(c=6381;6387>=c;c++)b[c]=0;for(c=6393;6404>=c;c++)b[c]=0;for(c=6480;6483>=c;c++)b[c]=0;for(c=6511;6514>=c;c++)b[c]=
            0;for(c=6579;6581>=c;c++)b[c]=0;for(c=6619;6624>=c;c++)b[c]=0;for(c=6625;6627>=c;c++)b[c]=2;for(c=6628;6632>=c;c++)b[c]=0;for(c=6634;6637>=c;c++)b[c]=0;for(c=6669;6692>=c;c++)b[c]=0;for(c=6707;6709>=c;c++)b[c]=0;for(c=6720;6723>=c;c++)b[c]=0;for(c=6732;6738>=c;c++)b[c]=0;for(c=6931;6933>=c;c++)b[c]=0;for(c=6956;6959>=c;c++)b[c]=0;for(c=7005;7007>=c;c++)b[c]=0;for(c=7057;7070>=c;c++)b[c]=2;for(c=7074;7082>=c;c++)b[c]=0;for(c=7109;7118>=c;c++)b[c]=0;for(c=7119;7127>=c;c++)b[c]=1;for(c=7374;7376>=c;c++)b[c]=
            0;for(c=7528;7586>=c;c++)b[c]=0;for(c=7587;7645>=c;c++)b[c]=2;for(c=7692;7696>=c;c++)b[c]=0;for(c=7755;7787>=c;c++)b[c]=0;for(c=7791;7795>=c;c++)b[c]=0;for(c=7799;7801>=c;c++)b[c]=0;for(c=7803;7805>=c;c++)b[c]=0;for(c=7825;7831>=c;c++)b[c]=0;for(c=7845;7859>=c;c++)b[c]=0;for(c=8013;8032>=c;c++)b[c]=0;for(c=8065;8068>=c;c++)b[c]=1;for(c=8518;8529>=c;c++)b[c]=2;for(c=8533;8536>=c;c++)b[c]=2;for(c=8538;8540>=c;c++)b[c]=2;for(c=8677;8679>=c;c++)b[c]=0;for(c=8836;8840>=c;c++)b[c]=0;for(c=8857;8859>=c;c++)b[c]=
            0;for(c=8908;8910>=c;c++)b[c]=0;for(c=9154;9159>=c;c++)b[c]=0;for(c=9205;9218>=c;c++)b[c]=0;for(c=20002;20032>=c;c++)b[c]=0;for(c=20062;20092>=c;c++)b[c]=0;for(c=20135;20138>=c;c++)b[c]=0;for(c=20248;20258>=c;c++)b[c]=0;for(c=20348;20358>=c;c++)b[c]=0;for(c=20436;20440>=c;c++)b[c]=0;for(c=20822;20824>=c;c++)b[c]=0;for(c=20934;20936>=c;c++)b[c]=0;for(c=21035;21037>=c;c++)b[c]=0;for(c=21095;21097>=c;c++)b[c]=0;for(c=21148;21150>=c;c++)b[c]=0;for(c=21413;21423>=c;c++)b[c]=0;for(c=21473;21483>=c;c++)b[c]=
            0;for(c=21780;21782>=c;c++)b[c]=0;for(c=21891;21894>=c;c++)b[c]=0;for(c=21896;21899>=c;c++)b[c]=0;for(c=22171;22177>=c;c++)b[c]=0;for(c=22181;22187>=c;c++)b[c]=0;for(c=22191;22197>=c;c++)b[c]=0;for(c=22234;22236>=c;c++)b[c]=0;for(c=22521;22525>=c;c++)b[c]=0;for(c=22991;22994>=c;c++)b[c]=0;for(c=23028;23038>=c;c++)b[c]=0;for(c=23830;23853>=c;c++)b[c]=0;for(c=23866;23872>=c;c++)b[c]=0;for(c=23877;23884>=c;c++)b[c]=0;for(c=23886;23894>=c;c++)b[c]=0;for(c=23946;23948>=c;c++)b[c]=0;for(c=24311;24313>=
        c;c++)b[c]=0;for(c=24342;24347>=c;c++)b[c]=0;for(c=24370;24374>=c;c++)b[c]=10;for(c=24375;24381>=c;c++)b[c]=0;for(c=24718;24721>=c;c++)b[c]=0;for(c=24817;24821>=c;c++)b[c]=0;for(c=24877;24882>=c;c++)b[c]=0;for(c=24891;24893>=c;c++)b[c]=0;for(c=25391;25395>=c;c++)b[c]=0;for(c=25828;25838>=c;c++)b[c]=0;for(c=26191;26195>=c;c++)b[c]=0;for(c=26391;26393>=c;c++)b[c]=0;for(c=26701;26722>=c;c++)b[c]=0;for(c=26729;26799>=c;c++)b[c]=2;for(c=26801;26803>=c;c++)b[c]=2;for(c=26811;26813>=c;c++)b[c]=2;for(c=26847;26870>=
        c;c++)b[c]=2;for(c=26891;26899>=c;c++)b[c]=0;for(c=26901;26923>=c;c++)b[c]=0;for(c=26929;26946>=c;c++)b[c]=0;for(c=26948;26998>=c;c++)b[c]=0;for(c=27037;27040>=c;c++)b[c]=0;for(c=27205;27232>=c;c++)b[c]=0;for(c=27258;27260>=c;c++)b[c]=0;for(c=27391;27398>=c;c++)b[c]=0;for(c=27561;27564>=c;c++)b[c]=0;for(c=27571;27574>=c;c++)b[c]=0;for(c=27581;27584>=c;c++)b[c]=0;for(c=27591;27594>=c;c++)b[c]=0;for(c=28191;28193>=c;c++)b[c]=0;for(c=28348;28358>=c;c++)b[c]=0;for(c=28402;28432>=c;c++)b[c]=0;for(c=28462;28492>=
        c;c++)b[c]=0;for(c=29118;29122>=c;c++)b[c]=0;for(c=29168;29172>=c;c++)b[c]=0;for(c=29177;29185>=c;c++)b[c]=0;for(c=29187;29195>=c;c++)b[c]=0;for(c=29900;29903>=c;c++)b[c]=0;for(c=30161;30179>=c;c++)b[c]=0;for(c=30491;30494>=c;c++)b[c]=0;for(c=30729;30732>=c;c++)b[c]=0;for(c=31251;31259>=c;c++)b[c]=0;for(c=31265;31268>=c;c++)b[c]=0;for(c=31275;31279>=c;c++)b[c]=0;for(c=31281;31297>=c;c++)b[c]=0;for(c=31461;31469>=c;c++)b[c]=0;for(c=31491;31495>=c;c++)b[c]=0;for(c=31917;31922>=c;c++)b[c]=0;for(c=31965;32E3>=
        c;c++)b[c]=0;for(c=32001;32003>=c;c++)b[c]=2;for(c=32005;32031>=c;c++)b[c]=2;for(c=32033;32060>=c;c++)b[c]=2;for(c=32064;32067>=c;c++)b[c]=2;for(c=32074;32077>=c;c++)b[c]=2;for(c=32081;32086>=c;c++)b[c]=0;for(c=32107;32130>=c;c++)b[c]=0;for(c=32133;32158>=c;c++)b[c]=0;for(c=32164;32167>=c;c++)b[c]=2;for(c=32180;32199>=c;c++)b[c]=0;for(c=32201;32260>=c;c++)b[c]=0;for(c=32301;32360>=c;c++)b[c]=0;for(c=32601;32662>=c;c++)b[c]=0;for(c=32664;32667>=c;c++)b[c]=2;for(c=32701;32761>=c;c++)b[c]=0;for(c=53001;53004>=
        c;c++)b[c]=0;for(c=53008;53019>=c;c++)b[c]=0;for(c=53021;53032>=c;c++)b[c]=0;for(c=53034;53037>=c;c++)b[c]=0;for(c=53042;53046>=c;c++)b[c]=0;for(c=53074;53080>=c;c++)b[c]=0;for(c=54001;54004>=c;c++)b[c]=0;for(c=54008;54019>=c;c++)b[c]=0;for(c=54021;54032>=c;c++)b[c]=0;for(c=54034;54037>=c;c++)b[c]=0;for(c=54042;54046>=c;c++)b[c]=0;for(c=54048;54053>=c;c++)b[c]=0;for(c=54074;54080>=c;c++)b[c]=0;for(c=54098;54101>=c;c++)b[c]=0;for(c=102001;102040>=c;c++)b[c]=0;for(c=102042;102063>=c;c++)b[c]=0;for(c=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 102065;102067>=c;c++)b[c]=0;for(c=102070;102117>=c;c++)b[c]=0;for(c=102122;102216>=c;c++)b[c]=0;for(c=102221;102377>=c;c++)b[c]=0;for(c=102382;102388>=c;c++)b[c]=0;for(c=102389;102398>=c;c++)b[c]=2;for(c=102399;102444>=c;c++)b[c]=0;for(c=102445;102447>=c;c++)b[c]=2;for(c=102448;102458>=c;c++)b[c]=0;for(c=102459;102468>=c;c++)b[c]=2;for(c=102469;102499>=c;c++)b[c]=0;for(c=102500;102519>=c;c++)b[c]=1;for(c=102520;102524>=c;c++)b[c]=0;for(c=102525;102529>=c;c++)b[c]=2;for(c=102530;102588>=c;c++)b[c]=
            0;for(c=102590;102598>=c;c++)b[c]=0;for(c=102601;102603>=c;c++)b[c]=0;for(c=102605;102628>=c;c++)b[c]=0;for(c=102629;102646>=c;c++)b[c]=2;for(c=102648;102700>=c;c++)b[c]=2;for(c=102701;102703>=c;c++)b[c]=0;for(c=102707;102730>=c;c++)b[c]=2;for(c=102733;102758>=c;c++)b[c]=2;for(c=102767;102900>=c;c++)b[c]=0;for(c=102965;102969>=c;c++)b[c]=0;for(c=102971;102973>=c;c++)b[c]=0;for(c=102975;102989>=c;c++)b[c]=0;for(c=102990;102992>=c;c++)b[c]=1;for(c=102997;103002>=c;c++)b[c]=0;for(c=103003;103008>=c;c++)b[c]=
            2;for(c=103009;103011>=c;c++)b[c]=0;for(c=103012;103014>=c;c++)b[c]=2;for(c=103019;103021>=c;c++)b[c]=0;for(c=103022;103024>=c;c++)b[c]=2;for(c=103029;103031>=c;c++)b[c]=0;for(c=103032;103034>=c;c++)b[c]=2;for(c=103065;103068>=c;c++)b[c]=0;for(c=103074;103076>=c;c++)b[c]=0;for(c=103077;103079>=c;c++)b[c]=1;for(c=103080;103082>=c;c++)b[c]=0;for(c=103083;103085>=c;c++)b[c]=2;for(c=103090;103093>=c;c++)b[c]=0;for(c=103097;103099>=c;c++)b[c]=0;for(c=103100;103102>=c;c++)b[c]=2;for(c=103107;103109>=c;c++)b[c]=
            0;for(c=103110;103112>=c;c++)b[c]=2;for(c=103113;103116>=c;c++)b[c]=0;for(c=103117;103120>=c;c++)b[c]=2;for(c=103153;103157>=c;c++)b[c]=0;for(c=103158;103162>=c;c++)b[c]=2;for(c=103163;103165>=c;c++)b[c]=0;for(c=103166;103168>=c;c++)b[c]=1;for(c=103169;103171>=c;c++)b[c]=2;for(c=103186;103188>=c;c++)b[c]=0;for(c=103189;103191>=c;c++)b[c]=2;for(c=103192;103195>=c;c++)b[c]=0;for(c=103196;103199>=c;c++)b[c]=2;for(c=103200;103224>=c;c++)b[c]=0;for(c=103225;103227>=c;c++)b[c]=1;for(c=103232;103237>=c;c++)b[c]=
            0;for(c=103238;103243>=c;c++)b[c]=2;for(c=103244;103246>=c;c++)b[c]=0;for(c=103247;103249>=c;c++)b[c]=2;for(c=103254;103256>=c;c++)b[c]=0;for(c=103257;103259>=c;c++)b[c]=2;for(c=103264;103266>=c;c++)b[c]=0;for(c=103267;103269>=c;c++)b[c]=2;for(c=103300;103375>=c;c++)b[c]=0;for(c=103381;103383>=c;c++)b[c]=0;for(c=103384;103386>=c;c++)b[c]=1;for(c=103387;103389>=c;c++)b[c]=0;for(c=103390;103392>=c;c++)b[c]=2;for(c=103397;103399>=c;c++)b[c]=0;for(c=103400;103471>=c;c++)b[c]=2;for(c=103476;103478>=c;c++)b[c]=
            0;for(c=103479;103481>=c;c++)b[c]=2;for(c=103486;103488>=c;c++)b[c]=0;for(c=103489;103491>=c;c++)b[c]=2;for(c=103492;103495>=c;c++)b[c]=0;for(c=103496;103499>=c;c++)b[c]=2;for(c=103528;103543>=c;c++)b[c]=0;for(c=103544;103548>=c;c++)b[c]=2;for(c=103549;103551>=c;c++)b[c]=0;for(c=103552;103554>=c;c++)b[c]=1;for(c=103555;103557>=c;c++)b[c]=2;for(c=103558;103560>=c;c++)b[c]=0;for(c=103571;103573>=c;c++)b[c]=0;for(c=103574;103576>=c;c++)b[c]=2;for(c=103577;103580>=c;c++)b[c]=0;for(c=103581;103583>=c;c++)b[c]=
            2;for(c=103595;103597>=c;c++)b[c]=0;for(c=103600;103694>=c;c++)b[c]=0;for(c=103696;103698>=c;c++)b[c]=0;for(c=103700;103793>=c;c++)b[c]=2;for(c=103794;103871>=c;c++)b[c]=0;for(c=103900;103971>=c;c++)b[c]=2;return b})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){function r(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var q=[0,0],t=m.getLogger("esri.geometry.Point");c=function(b){function d(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];a=b.apply(this,a)||this;a.x=0;a.y=0;a.z=void 0;a.m=void 0;a.type="point";return a}n(d,b);c=d;d.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",
                Object.isFrozen(a)?a:a.clone())};d.distance=function(a,b){var d=a.x-b.x,c=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(d*d+c*c+a*a)};d.prototype.normalizeCtorArgs=function(a,b,d,c,g){var e;if(Array.isArray(a))e=a,g=b,a=e[0],b=e[1],d=e[2],c=e[3];else if(a&&"object"===typeof a){if(e=a,a=null!=e.x?e.x:e.longitude,b=null!=e.y?e.y:e.latitude,d=null!=e.z?e.z:e.altitude,c=e.m,(g=e.spatialReference)&&"esri.geometry.SpatialReference"!==g.declaredClass&&(g=new k(g)),null!=e.longitude||null!=e.latitude)null==
            e.longitude?t.warn(".longitude\x3d","Latitude was defined without longitude"):null==e.latitude?t.warn(".latitude\x3d","Longitude was defined without latitude"):!e.declaredClass&&g&&g.isWebMercator&&(b=f.lngLatToXY(e.longitude,e.latitude,q),a=b[0],b=b[1])}else r(d)?(g=d,d=null):r(c)&&(g=c,c=null);a={x:a,y:b};null==a.x&&null!=a.y?t.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&t.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=g&&(a.spatialReference=
                g);null!=d&&(a.z=d);null!=c&&(a.m=c);return a};Object.defineProperty(d.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
                    if(a){if(a.isWebMercator)return f.xyToLngLat(this.x,this.y,q)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",f.lngLatToXY(this.x,a,q)[1]):b.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return f.xyToLngLat(this._get("x"),this._get("y"),q)[0];
                    if(a.isGeographic)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",f.lngLatToXY(a,this._get("y"),q)[0]):b.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});d.prototype.writeX=function(a,b,d){b[d]=isNaN(a)?"NaN":a};d.prototype.readX=function(a){return"string"===typeof a?NaN:a};d.prototype.clone=function(){var a=new c;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;
                return a};d.prototype.copy=function(a){c.copy(a,this);return this};d.prototype.equals=function(a){var b;if(!a)return!1;var d=this.x,c=this.y,g=this.z,e=this.m,p=this.spatialReference,k=a.z,q=a.m,h=a.x;b=a.y;a=a.spatialReference;if(!p.equals(a))if(p.isWebMercator&&a.isWGS84)b=f.lngLatToXY(h,b),h=b[0],b=b[1],a=p;else if(p.isWGS84&&a.isWebMercator)b=f.xyToLngLat(h,b),h=b[0],b=b[1],a=p;else return!1;return d===h&&c===b&&g===k&&e===q&&p.wkid===a.wkid};d.prototype.offset=function(b,d,c){return a.offsetPoint(this,
                b,d,c)};d.prototype.normalize=function(){if(!this.spatialReference)return this;var a=g.getInfo(this.spatialReference);if(!a)return this;var b=this.x,d=a.valid,a=d[0],c=d[1],d=2*c;b>c?(a=Math.ceil(Math.abs(b-c)/d),b-=a*d):b<a&&(a=Math.ceil(Math.abs(b-a)/d),b+=a*d);this._set("x",b);return this};d.prototype.distance=function(a){return c.distance(this,a)};d.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:
                [this.x,this.y]};d.prototype.toJSON=function(a){return this.write(null,a)};var c;e([l.property({dependsOn:["x","y","z","m","spatialReference"]})],d.prototype,"cache",void 0);e([l.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasM",null);e([l.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasZ",null);e([l.property({type:Number,dependsOn:["y"]})],d.prototype,"latitude",null);
                e([l.property({type:Number,dependsOn:["x"]})],d.prototype,"longitude",null);e([l.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),l.cast(function(a){return isNaN(a)?a:h.ensureNumber(a)})],d.prototype,"x",void 0);e([l.writer("x")],d.prototype,"writeX",null);e([l.reader("x")],d.prototype,"readX",null);e([l.property({type:Number,json:{write:!0}})],d.prototype,"y",void 0);e([l.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
                    d.prototype,"z",void 0);e([l.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],d.prototype,"m",void 0);return d=c=e([l.subclass("esri.geometry.Point")],d)}(l.declared(d));c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/geometry/support/offset":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.offsetPoint=function(b,c,m,l){b.x+=c;b.y+=m;null!=l&&null!=b.z&&(b.z+=l);return b};b.offsetCoordsX=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                c){b[0]+=c;return b}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(c,b,n,e,m,l){function h(a,b,d,c,f){var g;if("x"in a&&"x"in f)b=b(a.x,a.y,r,c),f.x=b[0],f.y=b[1];else if("xmin"in a&&"xmin"in f)g=b(a.xmin,a.ymin,r,c),f.xmin=g[0],f.ymin=g[1],b=b(a.xmax,a.ymax,r,c),f.xmax=b[0],f.ymax=b[1];else if("paths"in a&&"paths"in f||"rings"in a&&"rings"in f){g="paths"in a?
            a.paths:a.rings;var e=[],p=void 0;for(a=0;a<g.length;a++){var k=g[a],p=[];e.push(p);for(var q=0;q<k.length;q++)p.push(b(k[q][0],k[q][1],[0,0],c)),2<k[q].length&&p[q].push(k[q][2]),3<k[q].length&&p[q].push(k[q][3])}"paths"in f?f.paths=e:f.rings=e}else if("points"in a&&"points"in f){g=a.points;e=[];for(a=0;a<g.length;a++)e[a]=b(g[a][0],g[a][1],[0,0],c),2<g[a].length&&e[a].push(g[a][2]),3<g[a].length&&e[a].push(g[a][3]);f.points=e}else if("type"in a&&"mesh"===a.type&&"type"in f&&"mesh"===f.type&&(g=
            a.vertexAttributes&&a.vertexAttributes.position,e=f.vertexAttributes&&f.vertexAttributes.position,g))for(p=[0,0],a=0;a<g.length;a+=3)b(g[a],g[a+1],p,c),e[a]=p[0],e[a+1]=p[1];f.spatialReference=d;return f}function d(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?l.equals(b,a)?!0:l.isWebMercator(b)&&l.isWGS84(a)||l.isWebMercator(a)&&l.isWGS84(b):!1}function k(a,b,d){void 0===d&&(d=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&
            (b=-89.99999);b*=.017453292519943;d[0]=.017453292519943*a*g;d[1]=f*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return d}function a(a,b,d,c){void 0===d&&(d=[0,0]);void 0===c&&(c=!1);a=a/g*57.29577951308232;d[0]=c?a:a-360*Math.floor((a+180)/360);d[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/g)));return d}Object.defineProperty(b,"__esModule",{value:!0});var g=e.wgs84Radius,f=g/2,r=[0,0];b.canProject=d;b.project=function(b,c){var f=b&&b.spatialReference;c=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);
            return d(f,c)?l.equals(f,c)?n.clone(b):l.isWebMercator(c)?h(b,k,m.WebMercator,!1,n.clone(b)):l.isWGS84(c)?h(b,a,m.WGS84,!1,n.clone(b)):null:null};b.lngLatToXY=k;b.xyToLngLat=a;b.geographicToWebMercator=function(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=n.clone(a));return h(a,k,m.WebMercator,b,d)};b.webMercatorToGeographic=function(b,d,c){void 0===d&&(d=!1);void 0===c&&(c=n.clone(b));return h(b,a,m.WGS84,d,c)}})},"esri/core/wgs84Constants":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,
            "__esModule",{value:!0});b.wgs84Radius=6378137;b.wgs84InverseFlattening=298.257223563;b.wgs84Flattening=1/b.wgs84InverseFlattening;b.wgs84PolarRadius=b.wgs84Radius*(1-b.wgs84Flattening);b.wgs84Eccentricity=.0818191908426215})},"esri/geometry/support/contains":function(){define(["require","exports"],function(c,b){function n(b,c){return e(b,c[0],c[1])}function e(b,c,a,g){return c>=b.xmin&&c<=b.xmax&&a>=b.ymin&&a<=b.ymax?null!=g&&b.hasZ?g>=b.zmin&&g<=b.zmax:!0:!1}function m(b,c){if(b=b.rings)if(Array.isArray(b[0][0])){for(var a=
            !1,d=0,f=b.length;d<f;d++)a=l(a,b[d],c);c=a}else c=l(!1,b,c);else c=!1;return c}function l(b,c,a){var d=a[0];a=a[1];for(var f=0,e=0,k=c.length;e<k;e++){f++;f===k&&(f=0);var h=c[e],u=h[0],h=h[1],p=c[f],v=p[0],p=p[1];(h<a&&p>=a||p<a&&h>=a)&&u+(a-h)/(p-h)*(v-u)<d&&(b=!b)}return b}Object.defineProperty(b,"__esModule",{value:!0});var h=[0,0];b.extentContainsPoint=function(b,c){return e(b,c.x,c.y,c.z)};b.extentContainsMultipoint=function(b,c){if(!c.points||c.points.length)return!1;var a=0;for(c=c.points;a<
        c.length;a++)if(!n(b,c[a]))return!1;return!0};b.extentContainsExtent=function(b,c){var a=c.xmin,d=c.ymin,f=c.zmin,k=c.xmax,q=c.ymax,h=c.zmax;return b.hasZ&&c.hasZ?e(b,a,d,f)&&e(b,a,q,f)&&e(b,k,q,f)&&e(b,k,d,f)&&e(b,a,d,h)&&e(b,a,q,h)&&e(b,k,q,h)&&e(b,k,d,h):e(b,a,d)&&e(b,a,q)&&e(b,k,q)&&e(b,k,d)};b.extentContainsCoords2D=n;b.extentContainsCoords3D=function(b,c){return e(b,c[0],c[1],c[2])};b.polygonContainsPoint=function(b,c){h[1]=c.y;h[0]=c.x;return m(b,h)};b.polygonContainsCoords=m})},"esri/geometry/support/intersects":function(){define(["require",
            "exports","./contains"],function(c,b,n){function e(a,b){return n.extentContainsPoint(a,b)}function m(a,b){var d=a.hasZ&&b.hasZ,c;if(a.xmin<=b.xmin){if(c=b.xmin,a.xmax<c)return!1}else if(c=a.xmin,b.xmax<c)return!1;if(a.ymin<=b.ymin){if(c=b.ymin,a.ymax<c)return!1}else if(c=a.ymin,b.ymax<c)return!1;if(d&&b.hasZ)if(a.zmin<=b.zmin){if(d=b.zmin,a.zmax<d)return!1}else if(d=a.zmin,b.zmax<d)return!1;return!0}function l(a,b){var d=b.hasZ?n.extentContainsCoords3D:n.extentContainsCoords2D,c=0;for(b=b.points;c<
        b.length;c++)if(d(a,b[c]))return!0;return!1}function h(a,b){g[0]=a.xmin;g[1]=a.ymax;f[0]=a.xmax;f[1]=a.ymax;r[0]=a.xmin;r[1]=a.ymin;q[0]=a.xmax;q[1]=a.ymin;for(var d=0,c=t;d<c.length;d++)if(n.polygonContainsCoords(b,c[d]))return!0;d=0;for(b=b.rings;d<b.length;d++)if(c=b[d],c.length){var e=c[0];if(n.extentContainsCoords2D(a,e))return!0;for(var p=1;p<c.length;p++){var h=c[p];if(n.extentContainsCoords2D(a,h)||k(e,h,u))return!0;e=h}}return!1}function d(a,b){g[0]=a.xmin;g[1]=a.ymax;f[0]=a.xmax;f[1]=a.ymax;
            r[0]=a.xmin;r[1]=a.ymin;q[0]=a.xmax;q[1]=a.ymin;b=b.paths;for(var d=0;d<b.length;d++){var c=b[d];if(b.length){var e=c[0];if(n.extentContainsCoords2D(a,e))return!0;for(var p=1;p<c.length;p++){var h=c[p];if(n.extentContainsCoords2D(a,h)||k(e,h,u))return!0;e=h}}}return!1}function k(b,d,c){for(var f=0;f<c.length;f++)if(a(b,d,c[f][0],c[f][1]))return!0;return!1}function a(a,b,d,c,f){var g=a[0];a=a[1];var e=b[0];b=b[1];var p=d[0],k=d[1];d=c[0]-p;var p=g-p,q=e-g;c=c[1]-k;var k=a-k,h=b-a,t=c*q-d*h;if(0===
            t)return!1;d=(d*k-c*p)/t;p=(q*k-h*p)/t;return 0<=d&&1>=d&&0<=p&&1>=p?(f&&(f[0]=g+d*(e-g),f[1]=a+d*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=e;b.extentIntersectsExtent=m;b.extentIntersectsMultipoint=l;var g=[0,0],f=[0,0],r=[0,0],q=[0,0],t=[g,f,r,q],u=[[r,g],[g,f],[f,q],[q,r]];b.extentIntersectsPolygon=h;b.extentIntersectsPolyline=d;var p=[0,0];b.isSelfIntersecting=function(b){for(var d=0;d<b.length;d++){for(var c=b[d],f=0;f<c.length-1;f++)for(var g=c[f],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           e=c[f+1],k=d+1;k<b.length;k++)for(var q=0;q<b[k].length-1;q++){var h=b[k][q],t=b[k][q+1],u=a(g,e,h,t,p);if(u&&!(p[0]===g[0]&&p[1]===g[1]||p[0]===h[0]&&p[1]===h[1]||p[0]===e[0]&&p[1]===e[1]||p[0]===t[0]&&p[1]===t[1]))return!0}q=c.length;if(!(4>=q))for(f=0;f<q-3;f++){var v=q-1;0===f&&(v=q-2);g=c[f];e=c[f+1];for(k=f+2;k<v;k++)if(h=c[k],t=c[k+1],(u=a(g,e,h,t,p))&&!(p[0]===g[0]&&p[1]===g[1]||p[0]===h[0]&&p[1]===h[1]||p[0]===e[0]&&p[1]===e[1]||p[0]===t[0]&&p[1]===t[1]))return!0}}return!1};b.segmentIntersects=
            a;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return m;case "esriGeometryMultipoint":case "multipoint":return l;case "esriGeometryPoint":case "point":return e;case "esriGeometryPolygon":case "polygon":return h;case "esriGeometryPolyline":case "polyline":return d;case "mesh":return m}}})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){function g(a){return function(b,d){return null==b?d:null==d?b:a(b,d)}}c=function(b){function d(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];a=b.apply(this,a)||this;a.points=[];a.type="multipoint";return a}n(d,b);c=d;d.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var d={};Array.isArray(a)?(d.points=a,d.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(d.points=a.points),a.spatialReference&&
            (d.spatialReference=a.spatialReference),a.hasZ&&(d.hasZ=a.hasZ),a.hasM&&(d.hasM=a.hasM)):d.spatialReference=a;if(a=d.points&&d.points[0])void 0===d.hasZ&&void 0===d.hasM?(d.hasZ=2<a.length,d.hasM=!1):void 0===d.hasZ?d.hasZ=3<a.length:void 0===d.hasM&&(d.hasM=3<a.length);return d};Object.defineProperty(d.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new h,d=this.hasZ,c=this.hasM,f=d?3:2,e=a[0],k=g(Math.min),q=g(Math.max),r=e[0],l=e[1],m=e[0],e=e[1],n,C,G,H,
                                                                                                                                                                                                                                                                                                                                                                                                                   F=0,I=a.length;F<I;F++){var J=a[F],M=J[0],O=J[1],r=k(r,M),l=k(l,O),m=q(m,M),e=q(e,O);d&&2<J.length&&(M=J[2],n=k(n,M),G=q(G,M));c&&J.length>f&&(J=J[f],C=k(C,J),H=q(H,J))}b.xmin=r;b.ymin=l;b.xmax=m;b.ymax=e;b.spatialReference=this.spatialReference;d?(b.zmin=n,b.zmax=G):(b.zmin=null,b.zmax=null);c?(b.mmin=C,b.mmax=H):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});d.prototype.writePoints=function(a,b){b.points=m.clone(this.points)};d.prototype.addPoint=function(b){this.clearCache();
                a.updateSupportFromPoint(this,b);Array.isArray(b)?this.points.push(b):this.points.push(b.toArray());return this};d.prototype.clone=function(){var a={points:m.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new c(a)};d.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},d=2;this.hasZ&&(b.z=a[2],d=3);this.hasM&&(b.m=a[d]);return new k(b)};d.prototype.removePoint=
                function(a){if(!this._validateInputs(a))return null;this.clearCache();return new k(this.points.splice(a,1)[0],this.spatialReference)};d.prototype.setPoint=function(b,d){if(!this._validateInputs(b))return this;this.clearCache();a.updateSupportFromPoint(this,d);Array.isArray(d)||(d=d.toArray());this.points[b]=d;return this};d.prototype.toJSON=function(a){return this.write(null,a)};d.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var c;e([l.property({dependsOn:["points",
                    "hasZ","hasM","spatialReference"]})],d.prototype,"cache",void 0);e([l.property({dependsOn:["cache"]})],d.prototype,"extent",null);e([l.property({type:[[Number]],json:{write:{isRequired:!0}}})],d.prototype,"points",void 0);e([l.writer("points")],d.prototype,"writePoints",null);return d=c=e([l.subclass("esri.geometry.Multipoint")],d)}(l.declared(d));c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,
            "__esModule",{value:!0});b.updateSupportFromPoint=function(b,c,m){void 0===m&&(m=!1);var e=b.hasM,h=b.hasZ;Array.isArray(c)?4!==c.length||e||h?3===c.length&&m&&!e?(h=!0,e=!1):3===c.length&&e&&h&&(h=e=!1):h=e=!0:(h=!h&&c.hasZ&&(!e||c.hasM),e=!e&&c.hasM&&(!h||c.hasZ));b.hasZ=h;b.hasM=e}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p){c=function(b){function d(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];a=b.apply(this,a)||this;a.rings=[];a.type="polygon";return a}n(d,b);c=d;d.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var d=!1,f=!1;b.map(function(a){a.hasZ&&(d=!0);a.hasM&&(f=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(d&&a.hasZ)for(var c=a.zmin+.5*(a.zmax-a.zmin),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       g=0;g<b.length;g++)b[g].push(c);if(f&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),g=0;g<b.length;g++)b[g].push(a);return b}),spatialReference:a};d&&(b.hasZ=!0);f&&(b.hasM=!0);return new c(b)};d.prototype.normalizeCtorArgs=function(b,d){var c=null,f,g,e=null;b&&!Array.isArray(b)?(c=b.rings?b.rings:null,d||(b.spatialReference?d=b.spatialReference:b.rings||(d=b)),f=b.hasZ,g=b.hasM):c=b;c=c||[];d=d||a.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(e=c[0]&&c[0][0])void 0===f&&void 0===
            g?(f=2<e.length,g=!1):void 0===f?f=!g&&3<e.length:void 0===g&&(g=!f&&3<e.length);return{rings:c,spatialReference:d,hasZ:f,hasM:g}};Object.defineProperty(d.prototype,"centroid",{get:function(){var a=g.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new k;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"extent",{get:function(){var a=this.spatialReference,
                    b=q.getPolygonExtent(this);if(!b)return null;b=new h(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isSelfIntersecting",{get:function(){return t.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});d.prototype.writePaths=function(a,b){b.rings=m.clone(this.rings)};d.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,d=b.length;if(Array.isArray(a[0]))b[d]=a.concat();else{for(var c=[],f=0,g=a.length;f<g;f++)c[f]=a[f].toArray();
                b[d]=c}return this}};d.prototype.clone=function(){var a=new c;a.spatialReference=this.spatialReference;a.rings=m.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};d.prototype.contains=function(a){if(!a)return!1;u.canProject(a,this.spatialReference)&&(a=u.project(a,this.spatialReference));return f.polygonContainsPoint(this,a)};d.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return r.isClockwise(a,
                this.hasM,this.hasZ)};d.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var d=this.hasM;return b&&!d?new k(a[0],a[1],a[2],void 0,this.spatialReference):d&&!b?new k(a[0],a[1],void 0,a[2],this.spatialReference):b&&d?new k(a[0],a[1],a[2],a[3],this.spatialReference):new k(a[0],a[1],this.spatialReference)};d.prototype.insertPoint=function(a,b,d){if(!this._validateInputs(a,b,!0))return this;this.clearCache();p.updateSupportFromPoint(this,d);Array.isArray(d)||
            (d=d.toArray());this.rings[a].splice(b,0,d);return this};d.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new k(this.rings[a].splice(b,1)[0],this.spatialReference)};d.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new k(a,b)})};d.prototype.setPoint=function(a,b,d){if(!this._validateInputs(a,b))return this;this.clearCache();
                p.updateSupportFromPoint(this,d);Array.isArray(d)||(d=d.toArray());this.rings[a][b]=d;return this};d.prototype._validateInputs=function(a,b,d){void 0===d&&(d=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],d&&(0>b||b>a.length)||!d&&(0>b||b>=a.length))?!1:!0};d.prototype.toJSON=function(a){return this.write(null,a)};var c;e([l.property({dependsOn:["hasM","hasZ","rings"]})],d.prototype,"cache",void 0);e([l.property({readOnly:!0,dependsOn:["cache"]})],d.prototype,"centroid",
                null);e([l.property({dependsOn:["cache"],readOnly:!0})],d.prototype,"extent",null);e([l.property({dependsOn:["cache"],readOnly:!0})],d.prototype,"isSelfIntersecting",null);e([l.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"rings",void 0);e([l.writer("rings")],d.prototype,"writePaths",null);return d=c=e([l.subclass("esri.geometry.Polygon")],d)}(l.declared(d));c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/geometry/support/centroid":function(){define(["require","exports",
            "./coordsUtils"],function(c,b,n){function e(b,d){if(!b||!b.length)return null;for(var c=[],a=[],g=d?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],f=0,e=b.length;f<e;f++){var q=m(b[f],d,g);q&&a.push(q)}a.sort(function(a,b){var c=a[2]-b[2];0===c&&d&&(c=a[4]-b[4]);return c});a.length&&(f=6*a[0][2],c[0]=a[0][0]/f,c[1]=a[0][1]/f,d&&(f=6*a[0][4],c[2]=0!==f?a[0][3]/f:0),c[0]<g[0]||c[0]>g[1]||c[1]<g[2]||c[1]>g[3]||d&&(c[2]<g[4]||c[2]>g[5]))&&(c.length=
            0);if(!c.length)if(b=b[0]&&b[0].length?l(b[0],d):null)c[0]=b[0],c[1]=b[1],d&&2<b.length&&(c[2]=b[2]);else return null;return c}function m(b,d,c){for(var a=0,g=0,f=0,e=0,k=0,h=0;h<b.length;h++){var u=b[h],p=u[0],v=u[1],l=u[2],m=b[(h+1)%b.length],n=m[0],A=m[1],x=m[2],B=p*A-n*v,e=e+B,a=a+(p+n)*B,g=g+(v+A)*B;d&&2<u.length&&2<m.length&&(B=p*x-n*l,f+=(l+x)*B,k+=B);p<c[0]&&(c[0]=p);p>c[1]&&(c[1]=p);v<c[2]&&(c[2]=v);v>c[3]&&(c[3]=v);d&&(l<c[4]&&(c[4]=l),l>c[5]&&(c[5]=l))}0<e&&(e*=-1);0<k&&(k*=-1);if(!e)return null;
            b=[a,g,.5*e];d&&(b[3]=f,b[4]=.5*k);return b}function l(b,d){for(var c=d?[0,0,0]:[0,0],a=d?[0,0,0]:[0,0],g=0,f=0,e=0,q=0,h=0,u=b.length;h<u-1;h++){var p=b[h],v=b[h+1];if(p&&v){c[0]=p[0];c[1]=p[1];a[0]=v[0];a[1]=v[1];d&&2<p.length&&2<v.length&&(c[2]=p[2],a[2]=v[2]);var l=n.getLength(c,a);l&&(g+=l,p=n.getMidpoint(p,v),f+=l*p[0],e+=l*p[1],d&&2<p.length&&(q+=l*p[2]))}}return 0<g?d?[f/g,e/g,q/g]:[f/g,e/g]:b.length?b[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(b){return b?
            b.hasZ?[b.xmax-b.xmin/2,b.ymax-b.ymin/2,b.zmax-b.zmin/2]:[b.xmax-b.xmin/2,b.ymax-b.ymin/2]:null};b.polygonCentroid=function(b){return b?e(b.rings,b.hasZ):null};b.ringsCentroid=e;b.lineCentroid=l})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(c,b,n){function e(b,c){var a=c[0]-b[0],d=c[1]-b[1];return 2<b.length&&2<c.length?(b=b[2]-c[2],Math.sqrt(a*a+d*d+b*b)):Math.sqrt(a*a+d*d)}function m(b,c,a){var d=b[0]+a*(c[0]-b[0]),f=b[1]+a*(c[1]-
            b[1]);return 2<b.length&&2<c.length?[d,f,b[2]+a*(c[2]-b[2])]:[d,f]}function l(b,c,a){for(var d=b.length,f=0,e=0,k=0,h=0;h<d;h++){var u=b[h],p=b[(h+1)%d],v=2,f=f+(u[0]*p[1]-p[0]*u[1]);2<u.length&&2<p.length&&a&&(e+=u[0]*p[2]-p[0]*u[2],v=3);u.length>v&&p.length>v&&c&&(k+=u[0]*p[v]-p[0]*u[v])}return 0>=f&&0>=e&&0>=k}function h(b,c){if(c=n.getInfo(c)){var a=c.valid[0],d=c.valid[1],f=d-a;c=function(b){var c=Infinity,g=-Infinity;b.forEach(function(b){for(var e=b[0];e<a;)e+=f;for(;e>d;)e-=f;c=Math.min(c,
            e);g=Math.max(g,e);b[0]=e});var e=g-c;f-e<e&&b.forEach(function(a){0>a[0]&&(a[0]+=f)})};for(var e=0;e<b.length;e++)c(b[e])}}Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(b){if(!b)return null;if(Array.isArray(b))return b;var d=b.hasZ,a=b.hasM;if("point"===b.type)return a&&d?[b.x,b.y,b.z,b.m]:d?[b.x,b.y,b.z]:a?[b.x,b.y,b.m]:[b.x,b.y];if("polygon"===b.type)return b.rings.slice(0);if("polyline"===b.type)return b.paths.slice(0);if("multipoint"===b.type)return b.points.slice(0);
            if("extent"===b.type){b=b.clone().normalize();if(!b)return null;var c=!1,f=!1;b.forEach(function(a){a.hasZ&&(c=!0);a.hasM&&(f=!0)});return b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var d=.5*(a.zmax-a.zmin),g=0;g<b.length;g++)b[g].push(d);if(f&&a.hasM)for(a=.5*(a.mmax-a.mmin),g=0;g<b.length;g++)b[g].push(a);return b})}return null};b.getLength=e;b.getMidpoint=function(b,c){return m(b,c,.5)};b.getPathLength=function(b){for(var d=
            b.length,a=0,c=0;c<d-1;++c)a+=e(b[c],b[c+1]);return a};b.getPointOnPath=function(b,c){if(0>=c)return b[0];for(var a=b.length,d=0,f=0;f<a-1;++f){var k=e(b[f],b[f+1]);if(c-d<k)return m(b[f],b[f+1],(c-d)/k);d+=k}return b[a-1]};b.isClockwise=l;b.closeRingsAndFixWinding=function(b){if("rings"in b){for(var d=0,a=b.rings;d<a.length;d++){var c=a[d];3>c.length||c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]||c.push([c[0][0],c[0][1]])}if(0<b.rings.length&&!l(b.rings[0],b.hasM,b.hasZ))for(d=0;d<b.rings.length;++d)b.rings[d]=
            b.rings[d].reverse()}};b.closeRings=function(b){if("rings"in b){var d=0;for(b=b.rings;d<b.length;d++){var a=b[d];3>a.length||a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]||a.push([a[0][0],a[0][1]])}}};b.getRingArea=function(b){for(var d=b.length,a=0,c=0;c<d;c++)var f=b[c],e=b[(c+1)%d],a=a+(f[0]*e[1]-e[0]*f[1]);return a};b.unnormalizeGeometryOnDatelineCrossing=function(b){if("polygon"!==b.type&&"polyline"!==b.type)return b;h("polygon"===b.type?b.rings:b.paths,b.spatialReference);return b};
            b.unnormalizeVerticesOnDatelineCrossing=h;b.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(b,c,a,g){var d=Infinity,e=-Infinity;b.forEach(function(b){for(var f=b.pos[0];f<c;)f+=g;for(;f>a;)f-=g;d=Math.min(d,f);e=Math.max(e,f);b.unnormalizedPos[0]=f;b.unnormalizedPos[1]=b.pos[1];2<b.pos.length&&(b.unnormalizedPos[2]=b.pos[2]);3<b.pos.length&&(b.unnormalizedPos[3]=b.pos[3])});var k=e-d;g-k<k&&b.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=g)})}})},"esri/geometry/support/extentUtils":function(){define(["require",
            "exports","./boundsUtils"],function(c,b,n){function e(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!1);return b?d?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:d?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function m(a){var b=a.hasZ,d=a.hasM;return e(n.getPointsBounds(k,a.points,b,d),b,d)}function l(a){var b=a.x,d=a.y,c=a.z;a=a.m;var e=null!=a;return null!=
        c?e?{xmin:b,ymin:d,zmin:c,mmin:a,xmax:b,ymax:d,zmax:c,mmax:a}:{xmin:b,ymin:d,zmin:c,xmax:b,ymax:d,zmax:c}:e?{xmin:b,ymin:d,mmin:a,xmax:b,ymax:d,mmax:a}:{xmin:b,ymin:d,xmax:b,ymax:d}}function h(a){var b=a.hasZ,d=a.hasM;return(a=n.getRingsOrPathsBounds(k,a.rings,b,d))?e(a,b,d):null}function d(a){var b=a.hasZ,d=a.hasM;return(a=n.getRingsOrPathsBounds(k,a.paths,b,d))?e(a,b,d):null}Object.defineProperty(b,"__esModule",{value:!0});var k=[];b.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==
        a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?l(a):void 0!==a.rings?h(a):void 0!==a.paths?d(a):void 0!==a.points?m(a):null:null};b.getMultipointExtent=m;b.getPointExtent=l;b.getPolygonExtent=h;b.getPolylineExtent=d})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(c,b){function n(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function e(a){return function(b,d){return null==b?d:null==d?b:a(b,d)}}function m(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             b,c,e){var f=c?3:2;if(!b.length||!b[0].length)return null;for(var g=b[0][0],h=g[0],g=g[1],p=b[0][0],v=p[0],p=p[1],l=void 0,r=void 0,m=void 0,n=void 0,x=0;x<b.length;x++)for(var B=b[x],D=0;D<B.length;D++){var E=B[D],C=E[0],G=E[1],h=d(h,C),g=d(g,G),v=k(v,C),p=k(p,G);c&&2<E.length&&(C=E[2],l=d(l,C),r=k(r,C));e&&E.length>f&&(n=E[f],m=d(l,n),n=k(r,n))}if(c){if(e)return a[0]=h,a[1]=g,a[2]=l,a[3]=m,a[4]=v,a[5]=p,a[6]=r,a[7]=n,a.length=8,a;a[0]=h;a[1]=g;a[2]=l;a[3]=v;a[4]=p;a[5]=r;a.length=6;return a}if(e)return a[0]=
            h,a[1]=g,a[2]=m,a[3]=v,a[4]=p,a[5]=n,a.length=6,a;a[0]=h;a[1]=g;a[2]=v;a[3]=p;a.length=4;return a}function l(a,b,d,c,e,k){d=b.xmin;c=b.xmax;var f=b.ymin,g=b.ymax,q=b.zmin,h=b.zmax,t=b.mmin;b=b.mmax;if(e){q=q||0;h=h||0;if(k)return a[0]=d,a[1]=f,a[2]=q,a[3]=t||0,a[4]=c,a[5]=g,a[6]=h,a[7]=b||0,a;a[0]=d;a[1]=f;a[2]=q;a[3]=c;a[4]=g;a[5]=h;return a}if(k)return a[0]=d,a[1]=f,a[2]=t||0,a[3]=c,a[4]=g,a[5]=b||0,a;a[0]=d;a[1]=f;a[2]=c;a[3]=g;return a}function h(a,b,c,e,q,h){var f=c?3:2;e=e&&h;c=c&&q;if(!b.length||
            !b[0].length)return null;for(var g=b[0],t=g[0],g=g[1],l=b[0],r=l[0],l=l[1],m=void 0,n=void 0,x=void 0,B=void 0,D=0;D<b.length;D++){var E=b[D],C=E[0],G=E[1],t=d(t,C),g=d(g,G),r=k(r,C),l=k(l,G);c&&2<E.length&&(C=E[2],m=d(m,C),n=k(n,C));e&&E.length>f&&(B=E[f],x=d(m,B),B=k(n,B))}if(q){m=m||0;n=n||0;if(h)return a[0]=t,a[1]=g,a[2]=m,a[3]=x||0,a[4]=r,a[5]=l,a[6]=n,a[7]=B||0,a;a[0]=t;a[1]=g;a[2]=m;a[3]=r;a[4]=l;a[5]=n;return a}if(h)return a[0]=t,a[1]=g,a[2]=x||0,a[3]=r,a[4]=l,a[5]=B||0,a;a[0]=t;a[1]=g;a[2]=
            r;a[3]=l;return a}Object.defineProperty(b,"__esModule",{value:!0});var d=e(Math.min),k=e(Math.max);b.getBoundsXY=function(a,b){if(void 0!==b.paths)return m(a,b.paths,!1,!1);if(void 0!==b.rings)return m(a,b.rings,!1,!1);if(void 0!==b.points)return h(a,b.points,!1,!1,!1,!1);if(n(b))return l(a,b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};b.getBoundsXYZ=function(a,b){if(void 0!==b.paths)return m(a,b.paths,!0,!1);if(void 0!==b.rings)return m(a,b.rings,!0,!1);if(void 0!==
            b.points)return h(a,b.points,!0,!1,!0,!1);if(n(b))return l(a,b,!0,!1,!0,!1);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.z,a[3]=b.x,a[4]=b.y,a[5]=b.z);return a};b.getRingsOrPathsBounds=m;b.getExtentBounds=l;b.getPointsBounds=h;b.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],e=0;e<a.length;e++)var q=a[e][0],b=d(b,q),c=k(c,q);return c-b};b.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 e=0;e<a.length;e++)var q=a[e][0],b=d(b,q),c=k(c,q);return b+.5*(c-b)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a,g,f){c=function(b){function d(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];a=b.apply(this,a)||this;a.paths=
            [];a.type="polyline";return a}n(d,b);c=d;d.prototype.normalizeCtorArgs=function(b,d){var c=null,f,e,g=null;b&&!Array.isArray(b)?(c=b.paths?b.paths:null,d||(b.spatialReference?d=b.spatialReference:b.paths||(d=b)),f=b.hasZ,e=b.hasM):c=b;c=c||[];d=d||a.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(g=c[0]&&c[0][0])void 0===f&&void 0===e?(f=2<g.length,e=!1):void 0===f?f=!e&&3<g.length:void 0===e&&(e=!f&&3<g.length);return{paths:c,spatialReference:d,hasZ:f,hasM:e}};Object.defineProperty(d.prototype,
            "extent",{get:function(){var a=this.spatialReference,b=g.getPolylineExtent(this);if(!b)return null;b=new h(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});d.prototype.writePaths=function(a,b){b.paths=m.clone(this.paths)};d.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,d=b.length;if(Array.isArray(a[0]))b[d]=a.concat();else{for(var c=[],f=0,e=a.length;f<e;f++)c[f]=a[f].toArray();b[d]=c}return this}};d.prototype.clone=function(){var a=new c;a.spatialReference=
            this.spatialReference;a.paths=m.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};d.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var d=this.hasM;return b&&!d?new k(a[0],a[1],a[2],void 0,this.spatialReference):d&&!b?new k(a[0],a[1],void 0,a[2],this.spatialReference):b&&d?new k(a[0],a[1],a[2],a[3],this.spatialReference):new k(a[0],a[1],this.spatialReference)};d.prototype.insertPoint=function(a,b,d){if(!this._validateInputs(a,b,
            !0))return this;this.clearCache();f.updateSupportFromPoint(this,d);Array.isArray(d)||(d=d.toArray());this.paths[a].splice(b,0,d);return this};d.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new k(a,b)})};d.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new k(this.paths[a].splice(b,1)[0],this.spatialReference)};
            d.prototype.setPoint=function(a,b,d){if(!this._validateInputs(a,b))return this;this.clearCache();f.updateSupportFromPoint(this,d);Array.isArray(d)||(d=d.toArray());this.paths[a][b]=d;return this};d.prototype._validateInputs=function(a,b,d){void 0===d&&(d=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],d&&(0>b||b>a.length)||!d&&(0>b||b>=a.length))?!1:!0};d.prototype.toJSON=function(a){return this.write(null,a)};var c;e([l.property({dependsOn:["hasM","hasZ","paths"]})],d.prototype,
                "cache",void 0);e([l.property({dependsOn:["cache"],readOnly:!0})],d.prototype,"extent",null);e([l.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"paths",void 0);e([l.writer("paths")],d.prototype,"writePaths",null);return d=c=e([l.subclass("esri.geometry.Polyline")],d)}(l.declared(d));c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
            function(c,b,n,e,m,l,h,d){function k(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function a(a){return void 0!==a.points}function g(a){return void 0!==a.x&&void 0!==a.y}function f(a){return void 0!==a.paths}function r(a){return void 0!==a.rings}function q(b){return b?b instanceof e?b:g(b)?l.fromJSON(b):f(b)?d.fromJSON(b):r(b)?h.fromJSON(b):a(b)?m.fromJSON(b):k(b)?n.fromJSON(b):null:null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
            }catch(p){console.warn(p.stack)}return q(a)};b.isExtent=k;b.isMultipoint=a;b.isPoint=g;b.isPolyline=f;b.isPolygon=r;b.isMesh=function(a){return void 0!==a.vertexAttributes};b.fromJSON=q;b.getJsonType=function(b){return b?g(b)?"esriGeometryPoint":f(b)?"esriGeometryPolyline":r(b)?"esriGeometryPolygon":k(b)?"esriGeometryEnvelope":a(b)?"esriGeometryMultipoint":null:null};var t={esriGeometryPoint:l,esriGeometryPolyline:d,esriGeometryPolygon:h,esriGeometryEnvelope:n,esriGeometryMultipoint:m};b.getGeometryType=
                function(a){return a&&t[a]||null}})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),function(c,b,n,e,m,l,h,d,k,a,g,f){function r(a){return a?a instanceof x?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function q(a){if(a&&a.length)return a[0]}function t(a,b,d,c){b&&b.forEach(function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          f,e){a.push(b);t(a,d.call(c,b,f,e),d,c)})}c=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var u=function(){},p=new k(c,!0,function(a){a.item=null;a.target=null}),v=new Set,w=new Set,z=new Set,y=new Map,A=0,x=function(b){function c(a){a=b.call(this,a)||this;a._chgListeners=[];a._notifications=null;a._timer=
            null;a.length=0;a._items=[];Object.defineProperty(a,"uid",{value:A++});return a}n(c,b);k=c;c.isCollection=function(a){return null!=a&&a instanceof k};c.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||a instanceof k?{items:a}:a:{}};Object.defineProperty(c.prototype,"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges(1)||(this._splice.apply(this,[0,this.length].concat(r(a))),this._emitAfterChanges(1))},enumerable:!0,configurable:!0});c.prototype.hasEventListener=
            function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};c.prototype.on=function(a,b){if("change"===a){var d=this._chgListeners,c={removed:!1,callback:b};d.push(c);this._notifications&&this._notifications.push({listeners:d.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=u;c.removed=!0;d.splice(d.indexOf(c),1)}}}return this._emitter.on(a,b)};c.prototype.once=function(a,b){var d=this.on(a,b);return{remove:function(){d.remove()}}};
            c.prototype.add=function(a,b){if(this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges(1);return this};c.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(r(a)));this._emitAfterChanges(1);return this};c.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];var a=this._splice(0,this.length)||
                [];this._emitAfterChanges(2);return a};c.prototype.clone=function(){return this._createNewInstance({items:this._items.map(d.clone)})};c.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var d,a=a.map(r);return this._createNewInstance({items:(d=this._items).concat.apply(d,a)})};c.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges(2)){for(var d=this._splice(0,this.length),c=d.length,f=0;f<c;f++)a.call(b,d[f],f,d);this._emitAfterChanges(2)}};c.prototype.every=
                function(a,b){return this._items.every(a,b)};c.prototype.filter=function(a,b){var d;d=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:d})};c.prototype.find=function(a,b){return l.find(this._items,a,b)};c.prototype.findIndex=function(a,b){return l.findIndex(this._items,a,b)};c.prototype.flatten=function(a,b){var d=[];t(d,this,a,b);return new k(d)};c.prototype.forEach=function(a,b){return this._items.forEach(a,b)};c.prototype.getItemAt=function(a){return this._items[a]};
            c.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};c.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};c.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};c.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};c.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};c.prototype.map=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b){a=this._items.map(a,b);return new k({items:a})};c.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var d=this.indexOf(a);if(-1!==d){0>b?b=0:b>=this.length&&(b=this.length-1);if(d!==b){if(this._emitBeforeChanges(4))return a;this._splice(d,1);this._splice(b,0,a);this._emitAfterChanges(4)}return a}};c.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=q(this._splice(this.length-1,1));this._emitAfterChanges(2);return a}};c.prototype.push=function(){for(var a=[],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges(1))return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges(1);return this.length};c.prototype.reduce=function(a,b){var d=this._items;return 2===arguments.length?d.reduce(a,b):d.reduce(a)};c.prototype.reduceRight=function(a,b){var d=this._items;return 2===arguments.length?d.reduceRight(a,b):d.reduceRight(a)};c.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};c.prototype.removeAt=
                function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges(2)))return a=q(this._splice(a,1)),this._emitAfterChanges(2),a};c.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges(2))return[];a=a instanceof k?a.toArray():a;for(var b=this._items,d=[],c=a.length,f=0;f<c;f++){var e=b.indexOf(a[f]);if(-1<e){for(var g=f+1,p=e+1,q=Math.min(a.length-g,b.length-p),h=0;h<q&&a[g+h]===b[p+h];)h++;g=1+h;(e=this._splice(e,g))&&0<e.length&&d.push.apply(d,e);f+=g-1}}this._emitAfterChanges(2);
                return d};c.prototype.reverse=function(){if(this._emitBeforeChanges(4))return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges(4);return this};c.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=q(this._splice(0,1));this._emitAfterChanges(2);return a}};c.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};c.prototype.some=
                function(a,b){return this._items.some(a,b)};c.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges(4))return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));this._emitAfterChanges(4);return this};c.prototype.splice=function(a,b){for(var d=[],c=2;c<arguments.length;c++)d[c-2]=arguments[c];c=(b?2:0)|(d.length?1:0);if(this._emitBeforeChanges(c))return[];d=this._splice.apply(this,[a,b].concat(d))||[];this._emitAfterChanges(c);
                return d};c.prototype.toArray=function(){return this._items.slice()};c.prototype.toJSON=function(){return this.toArray()};c.prototype.toLocaleString=function(){return this._items.toLocaleString()};c.prototype.toString=function(){return this._items.toString()};c.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(!a.length||this._emitBeforeChanges(1))return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges(1);return this.length};c.prototype._createNewInstance=
                function(a){return new this.constructor(a)};c.prototype._splice=function(b,d){for(var c=this,f=[],e=2;e<arguments.length;e++)f[e-2]=arguments[e];var e=this._items,g=this.constructor.prototype.itemType,k,q;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=a.schedule(function(){return c._dispatchChange()}));if(d){q=e.splice(b,d);if(this.hasEventListener("before-remove")){var h=
                p.acquire();h.target=this;h.cancellable=!0;for(var t=0,l=q.length;t<l;t++)k=q[t],h.reset(k),this.emit("before-remove",h),h.defaultPrevented&&(q.splice(t,1),e.splice(b,0,k),b+=1,--t,--l);p.release(h)}this.length=this._items.length;if(this.hasEventListener("after-remove")){k=p.acquire();k.target=this;k.cancellable=!1;l=q.length;for(t=0;t<l;t++)k.reset(q[t]),this.emit("after-remove",k);p.release(k)}}if(f&&f.length){if(g){t=[];for(l=0;l<f.length;l++)k=f[l],h=g.ensureType(k),null==h&&null!=k||t.push(h);
                f=t}g=this.hasEventListener("before-add");t=this.hasEventListener("after-add");l=b===this.length;if(g||t){k=p.acquire();k.target=this;k.cancellable=!0;h=p.acquire();h.target=this;h.cancellable=!1;for(var v=0,u=f;v<u.length;v++){var r=u[v];g?(k.reset(r),this.emit("before-add",k),k.defaultPrevented||(l?e.push(r):e.splice(b++,0,r),this._set("length",e.length),t&&(h.reset(r),this.emit("after-add",h)))):(l?e.push(r):e.splice(b++,0,r),this._set("length",e.length),h.reset(r),this.emit("after-add",h))}p.release(h);
                p.release(k)}else l?e.push.apply(e,f):e.splice.apply(e,[b,0].concat(f)),this._set("length",e.length)}(f&&f.length||q&&q.length)&&this._notifyChangeEvent(f,q);return q};c.prototype._emitBeforeChanges=function(a){var b=!1;if(this.hasEventListener("before-changes")){var d=p.acquire();d.target=this;d.cancellable=!0;d.type=a;this.emit("before-changes",d);b=d.defaultPrevented;p.release(d)}return b};c.prototype._emitAfterChanges=function(a){if(this.hasEventListener("after-changes")){var b=p.acquire();b.target=
                this;b.cancellable=!1;b.type=a;this.emit("after-changes",b);p.release(b)}};c.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};c.prototype._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;v.clear();w.clear();z.clear();for(var c=0;c<b.length;c++){var f=
                b[c],e=f.added,f=f.removed;if(e)if(0===z.size&&0===w.size)for(var g=0,p=e;g<p.length;g++)e=p[g],v.add(e);else for(g=0,p=e;g<p.length;g++)e=p[g],w.has(e)?(z.add(e),w.delete(e)):z.has(e)||v.add(e);if(f)if(0===z.size&&0===v.size)for(g=0;g<f.length;g++)e=f[g],w.add(e);else for(g=0;g<f.length;g++)e=f[g],v.has(e)?v.delete(e):(z.delete(e),w.add(e))}var k=m.acquire();v.forEach(function(a){k.push(a)});var q=m.acquire();w.forEach(function(a){q.push(a)});var h=d._items,t=a.items,l=m.acquire();z.forEach(function(a){t.indexOf(a)!==
            h.indexOf(a)&&l.push(a)});if(a.listeners&&(k.length||q.length||l.length))for(b={target:d,added:k,removed:q,moved:l},c=a.listeners.length,e=0;e<c;e++)f=a.listeners[e],f.removed||f.callback.call(d,b);m.release(k);m.release(q);m.release(l)},d=this,c=0;c<a.length;c++)b(a[c]);v.clear();w.clear();z.clear()}};var k;c.ofType=function(a){if(!a)return k;if(y.has(a))return y.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;else for(var d in a.typeMap){var c=
                a.typeMap[d].prototype.declaredClass;b=b?b+(" | "+c):c}d=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}n(d,a);return d=e([g.subclass("esri.core.Collection\x3c"+b+"\x3e")],d)}(g.declared(k));c={Type:a,ensureType:"function"===typeof a?f.ensureType(a):f.ensureOneOfType(a)};Object.defineProperty(d.prototype,"itemType",{value:c});y.set(a,d);return d};e([g.property()],c.prototype,"length",void 0);e([g.property()],c.prototype,"items",null);return c=k=e([g.subclass("esri.core.Collection")],
                c)}(g.declared(h.EventedAccessor));return x})},"esri/core/Evented":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./handleUtils ./accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h){var d=function(){function b(a){this._emitter=new b.EventEmitter(this);this._emitter=new b.EventEmitter(a&&void 0!==a.target?a.target:this)}b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=function(a,b){return this._emitter.on(a,
            b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b}();(function(b){var a=function(){function a(a){this.target=a}a.prototype.clear=function(){this._listenersMap&&this._listenersMap.clear()};a.prototype.emit=function(a,b){var d=this;a=this._listenersMap&&this._listenersMap.get(a);if(!a)return!1;b=b||{};if(!b.target&&this.target||b.target&&!this.target)b.target=this.target;a.slice().forEach(function(a){a.call(d.target,
            b)});return 0<a.length};a.prototype.on=function(a,b){var d=this;if(Array.isArray(a)){var c=a.map(function(a){return d.on(a,b)});return l.handlesGroup(c)}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);c=this._listenersMap.get(a)||[];c.push(b);this._listenersMap.set(a,c);return{remove:function(){var c=d._listenersMap&&d._listenersMap.get(a)||[];0<=c.indexOf(b)&&c.splice(c.indexOf(b),
                1)}}};a.prototype.once=function(a,b){var d=this,c;return c=this.on(a,function(a){c.remove();b.call(d.target,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();b.EventEmitter=a;b.EventedMixin=function(b){return function(b){function d(){var d=null!==b&&b.apply(this,arguments)||this;d._emitter=new a(d);return d}n(d,b);d.prototype.emit=function(a,b){return this._emitter.emit(a,b)};d.prototype.on=function(a,b){return this._emitter.on(a,
            b)};d.prototype.once=function(a,b){return this._emitter.once(a,b)};d.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return d=e([h.subclass("esri.core.Evented")],d)}(h.declared(b))};var c=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._emitter=new d.EventEmitter(b);return b}n(b,a);b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=function(a,b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,
            b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b=e([h.subclass("esri.core.Evented")],b)}(h.declared(m));b.EventedAccessor=c})(d||(d={}));return d})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.referenceSetter=function(b,c,l){void 0===l&&(l=n);c||(c=new l);if(c===b)return c;c.removeAll();b&&(Array.isArray(b)||"items"in b&&Array.isArray(b.items))?c.addMany(b):
            b&&c.add(b);return c};b.castForReferenceSetter=function(b){return b}})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h,d,k,a,g){var f=function(b){b=function(b){function d(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];var c=b.apply(this,a)||this;c.loadError=null;c.loadStatus="not-loaded";c.loadWarnings=
            null;c._set("loadWarnings",[]);c.addResolvingPromise(k.create(function(a){var b=c.load.bind(c);c.load=function(d){var f=k.create(function(a,b){k.onAbortOrThrow(d,b);c.destroyed&&b(new l("load:instance-destroyed","Instance is destroyed",{instance:c}));c._promiseProps.when(a,b)});if("not-loaded"===c.loadStatus){c._set("loadStatus","loading");var e=c._loadController=k.createAbortController();b({signal:e.signal});k.onAbort(e.signal,function(){c._promiseProps.abort()})}a();return f}}));c.when(function(){c._set("loadStatus",
            "loaded");c._loadController=null},function(a){c._set("loadStatus","failed");c._set("loadError",a);c._loadController=null});return c}n(d,b);Object.defineProperty(d.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});d.prototype.load=function(){return null};d.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new l("load:cancelled","Cancelled"));this._loadController.abort();return this};e([g.property({readOnly:!0,
            dependsOn:["loadStatus"]})],d.prototype,"loaded",null);e([g.property({readOnly:!0})],d.prototype,"loadError",void 0);e([g.property()],d.prototype,"loadStatus",void 0);e([g.property({type:[a],readOnly:!0})],d.prototype,"loadWarnings",void 0);return d=e([g.subclass("esri.core.Loadable")],d)}(g.declared(b));b.prototype["-chains-"]=h.mixin({},m._meta.chains,{load:"after"});return b};c=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=e([g.subclass("esri.core.Loadable")],
            b)}(g.declared(f(d.EsriPromise)));(function(a){a.LoadableMixin=f;a.isLoadable=function(a){return!(!a||!a.load)}})(c||(c={}));return c})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./has ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h,d,k){Object.defineProperty(b,"__esModule",{value:!0});var a=function(){function a(a){var b=this;this.instance=a;this._resolver=h.createDeferred();
            this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=0;b._cleanUp()},function(){b._status=1;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===this._status};a.prototype.isFulfilled=function(){return null!=this._status};a.prototype.abort=function(){this._resolver.reject(h.createAbortError())};a.prototype.when=
            function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var b=h.createDeferred(),c=this._resolvingPromises.concat([b.promise]),e=this._allPromise=h.all(c);e.then(function(){a.isFulfilled()||a._allPromise!==e||a._resolver.resolve(a.instance)},function(b){a.isFulfilled()||a._allPromise!==e||h.isAbortError(b)||a._resolver.reject(b)});l("esri-native-promise")?
            b.resolve():d.schedule(function(){return b.resolve()})}};return a}();b.EsriPromiseMixin=function(b){return function(b){function c(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];c=b.apply(this,c)||this;c._promiseProps=new a(c);c.addResolvingPromise(l("esri-native-promise")?h.resolve():h.create(function(a){return d.schedule(a)}));return c}n(c,b);c.prototype.isResolved=function(){return this._promiseProps.isResolved()};c.prototype.isRejected=function(){return this._promiseProps.isRejected()};
            c.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};c.prototype.when=function(a,b){var d=this;return h.create(function(a,b){d._promiseProps.when(a,b)}).then(a,b)};c.prototype.catch=function(a){return this.when(null,a)};c.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return c=e([k.subclass("esri.core.Promise")],c)}(k.declared(b))};c=function(a){function b(){return null!==
            a&&a.apply(this,arguments)||this}n(b,a);return b=e([k.subclass("esri.core.Promise")],b)}(k.declared(b.EsriPromiseMixin(m)));b.EsriPromise=c})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper","./Message"],function(c,b,n,e,m){c=function(b){function c(d,e,a){var g=b.call(this,d,e,a)||this;return g instanceof c?g:new c(d,e,a)}n(c,b);return c}(m);c.prototype.type="warning";return c})},"esri/core/loadAll":function(){define("require exports ./tsSupport/generatorHelper ./tsSupport/awaiterHelper ./asyncUtils ./Collection ./Loadable".split(" "),
            function(c,b,n,e,m,l,h){function d(a,b){return e(this,void 0,void 0,function(){return n(this,function(d){switch(d.label){case 0:return[4,a.load()];case 1:return d.sent(),[2,k(a,b)]}})})}function k(a,b){return e(this,void 0,void 0,function(){var d,c,g,k=this;return n(this,function(f){switch(f.label){case 0:return d=[],c=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<a.length;b++){var f=a[b];f&&(Array.isArray(f)?c.apply(void 0,f):l.isCollection(f)?f.forEach(function(a){return c(a)}):
                h.isLoadable(f)&&d.push(f))}},b(c),g=null,[4,m.map(d,function(a){return e(k,void 0,void 0,function(){var b;return n(this,function(d){switch(d.label){case 0:return[4,m.result("loadAll"in a&&"function"===typeof a.loadAll?a.loadAll():a.load())];case 1:return b=d.sent(),!1!==b.ok||g||(g=a),[2]}})})})];case 1:f.sent();if(g)throw g.loadError;return[2,a]}})})}Object.defineProperty(b,"__esModule",{value:!0});b.loadAll=d;b.loadAllChildren=k;b.default=d})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],
            function(c){return function(b,n,e,m){var l=null;return c.create(function(e,d){function k(a){try{g(m.next(a))}catch(r){d(r)}}function a(a){try{g(m["throw"](a))}catch(r){d(r)}}function g(b){b.done?(l=c.when(b.value),l.then(e,d)):(l=c.when(b.value),l.then(k,a))}g((m=m.apply(b,n||[])).next())},function(b){l&&l.cancel&&l.cancel(b)})}})},"esri/core/asyncUtils":function(){define(["require","exports","./tsSupport/generatorHelper","./tsSupport/awaiterHelper","./promiseUtils"],function(c,b,n,e,m){Object.defineProperty(b,
            "__esModule",{value:!0});b.forEach=function(b,c,d){return m.eachAlways(b.map(function(b,a){return c.apply(d,[b,a])}))};b.map=function(b,c,d){return m.eachAlways(b.map(function(b,a){return c.apply(d,[b,a])})).then(function(b){return b.map(function(a){return a.value})})};b.result=function(b){return b.then(function(b){return{ok:!0,value:b}}).catch(function(b){return{ok:!1,error:b}})};b.assertResult=function(b){if(!0===b.ok)return b.value;throw b.error;}})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper ../config ../kernel ./Error ./global ./Logger ./string".split(" "),
            function(c,b,n,e,m,l,h,d,k){function a(a){var b={path:null,query:null},d=new Y(a),c=a.indexOf("?");null===d.query?b.path=a:(b.path=a.substring(0,c),b.query=g(d.query));d.fragment&&(b.hash=d.fragment,null===d.query&&(b.path=b.path.substring(0,b.path.length-(d.fragment.length+1))));return b}function g(a){var b={},d=0;for(a=a.split("\x26");d<a.length;d++){var c=a[d];if(c){var f=c.indexOf("\x3d"),e=void 0,g=void 0;0>f?(e=decodeURIComponent(c),g=""):(e=decodeURIComponent(c.slice(0,f)),g=decodeURIComponent(c.slice(f+
                1)));c=b[e];"string"===typeof c&&(c=b[e]=[c]);Array.isArray(c)?c.push(g):b[e]=g}}return b}function f(a){return a&&"object"===typeof a&&"toJSON"in a&&"function"===typeof a.toJSON}function r(a,b){return a?b&&"function"===typeof b?Object.keys(a).map(function(d){return encodeURIComponent(d)+"\x3d"+encodeURIComponent(b(d,a[d]))}).join("\x26"):Object.keys(a).map(function(d){var c=a[d];if(null==c)return"";var e=encodeURIComponent(d)+"\x3d";return(d=b&&b[d])?e+encodeURIComponent(d(c)):Array.isArray(c)?c.map(function(a){return f(a)?
                e+encodeURIComponent(JSON.stringify(a)):e+encodeURIComponent(a)}).join("\x26"):f(c)?e+encodeURIComponent(JSON.stringify(c)):e+encodeURIComponent(c)}).filter(function(a){return a}).join("\x26"):""}function q(a){var b=a.indexOf("?");-1!==b?(Z.path=a.slice(0,b),Z.query=a.slice(b+1)):(Z.path=a,Z.query=null);return Z}function t(a){a=q(a).path;a&&"/"===a[a.length-1]||(a+="/");a=L(a,!0);return a=a.toLowerCase()}function u(a){var b=X.proxyRules;a=t(a);for(var d=0;d<b.length;d++)if(0===a.indexOf(b[d].urlPrefix))return b[d]}
                function p(a){a=y(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function v(a,b,d){void 0===d&&(d=!1);a=da(a);b=da(b);return d||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function w(a,d,c){void 0===d&&(d=b.appBaseUrl);if(F(a))return c&&c.preserveProtocolRelative?a:"http"===b.appUrl.scheme&&b.appUrl.authority===x(a).slice(2)?"http:"+a:"https:"+a;if(!I(a)){c=A;if("/"===a[0]){var f=d.indexOf("//"),f=d.indexOf("/",f+2);d=-1===f?
                    d:d.slice(0,f)}return c(d,a)}return a}function z(a,d,c){void 0===d&&(d=b.appBaseUrl);if(!B(a))return a;var f=y(a),e=f.toLowerCase();d=y(d).toLowerCase().replace(/\/+$/,"");if((c=c?y(c).toLowerCase().replace(/\/+$/,""):null)&&0!==d.indexOf(c))return a;for(var g=function(a,b,d){d=a.indexOf(b,d);return-1===d?a.length:d},p=g(e,"/",e.indexOf("//")+2),k=-1;e.slice(0,p+1)===d.slice(0,p)+"/";){k=p+1;if(p===e.length)break;p=g(e,"/",p+1)}if(-1===k||c&&k<c.length)return a;a=f.slice(k);f=d.slice(k-1).replace(/[^/]+/g,
                    "").length;if(0<f)for(e=0;e<f;e++)a="../"+a;else a="./"+a;return a}function y(a){a=a.trim();a=w(a);if(/^https?:\/\//i.test(a)){var b=q(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=K(a)}function A(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=[];if(B(a[0])){var d=a[0],c=d.indexOf("//");-1!==c&&(b.push(d.slice(0,c+1)),ja.test(a[0])&&(b[0]+="/"),a[0]=d.slice(c+2))}else"/"===
                a[0][0]&&b.push("");a=a.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(d=0;d<a.length;d++)c=a[d],".."===c&&0<b.length&&".."!==b[b.length-1]?b.pop():(!c&&d===a.length-1||c&&("."!==c||0===b.length))&&b.push(c);return b.join("/")}}function x(a,b){void 0===b&&(b=!1);if(D(a)||E(a))return null;var d=a.indexOf("://");if(-1===d&&F(a))d=2;else if(-1!==d)d+=3;else return null;d=a.indexOf("/",d);-1!==d&&(a=a.slice(0,d));b&&(a=L(a,!0));return a}function B(a){return F(a)||I(a)}function D(a){return"blob:"===
                    a.slice(0,5)}function E(a){return"data:"===a.slice(0,5)}function C(a){a=G(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),d=0;d<a.length;d++)b[d]=a.charCodeAt(d);return b.buffer}function G(a){return(a=a.match(ha))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function H(a){var b=C(a);if(!b)return null;a=G(a);return new Blob([b],{type:a.mediaType})}function F(a){return a&&"/"===a[0]&&"/"===a[1]}function I(a){return Q.test(a)}function J(a){return W.test(a)||"http"===
                    b.appUrl.scheme&&F(a)}function M(a){return F(a)?"https:"+a:a.replace(W,"https:")}function O(){return"https"===b.appUrl.scheme}function L(a,b){void 0===b&&(b=!1);if(F(a))return a.slice(2);a=a.replace(Q,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function K(a){var d=X.httpsDomains;if(!J(a))return a;var c=a.indexOf("/",7),f;f=-1===c?a:a.slice(0,c);f=f.toLowerCase().slice(7);if(oa.test(f))if(k.endsWith(f,":80"))f=f.slice(0,-3),a=a.replace(":80","");else return a;if("http"===b.appUrl.scheme&&
                    f===b.appUrl.authority&&!pa.test(a))return a;if(O()&&f===b.appUrl.authority||d&&d.some(function(a){return f===a||k.endsWith(f,"."+a)})||O()&&!u(a))a=M(a);return a}function R(a,b,d){if(!(b&&d&&a&&B(a)))return a;var c=a.indexOf("//"),f=a.indexOf("/",c+2),e=a.indexOf(":",c+2),f=Math.min(0>f?a.length:f,0>e?a.length:e);if(a.slice(c+2,f).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,c+2);a=a.slice(f);return""+b+d+a}function da(a){if("string"===typeof a)return new Y(w(a));a.scheme||(a.scheme=b.appUrl.scheme);
                    return a}function U(a,d){if(!d||d.isPortal||!d.urlKey||!d.customBaseUrl)return a;var c=d.urlKey+"."+d.customBaseUrl;return v(b.appUrl,b.appUrl.scheme+"://"+c)?R(a,d.portalHostname,c):R(a,c,d.portalHostname)}function V(a,b){var d=b&&b.url&&b.url.path;a&&d&&(a=w(a,d,{preserveProtocolRelative:!0}));return U(a,b&&b.portal)}function ma(a,b){if(!a)return a;!B(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var d=w(a);if(b){var c=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&
                    b.url.path;c&&(c=U(c,b.portal),d=z(U(d,b.portal),c,c),d!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(d))}a=d;d=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?R(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;B(d)&&(d=y(d));return d}function T(b,d,c){b=a(b);var f=b.query||{};f[d]=String(c);return b.path+"?"+r(f)}Object.defineProperty(b,"__esModule",{value:!0});var ba=d.getLogger("esri.core.urlUtils"),X=e.request,Q=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,W=/^\s*http:/i,
                    P=/^\s*https:/i,ja=/^\s*file:/i,oa=/:\d+$/,pa=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ia=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,aa=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,Y=function(){function a(a){void 0===a&&(a="");this.uri=a;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;a=this.uri.match(ia);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];
                        this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(aa),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)}a.prototype.toString=function(){return this.uri};return a}();b.Url=Y;b.appUrl=new Y(e.applicationUrl);b.trustedServersUrlCache={};b.appBaseUrl=function(){var a=b.appUrl.path,a=a.substring(0,a.lastIndexOf(a.split("/")[a.split("/").length-1]));return""+(b.appUrl.scheme+"://"+b.appUrl.host+(null!=
                b.appUrl.port?":"+b.appUrl.port:""))+a}();b.urlToObject=a;b.queryToObject=g;b.objectToQuery=r;b.getProxyUrl=function(d){void 0===d&&(d=!1);var c,f=X.proxyUrl;if("string"===typeof d){if(c=d,c=P.test(c)||"https"===b.appUrl.scheme&&F(c),d=u(d))f=d.proxyUrl}else c=!!d;if(!f)throw ba.warn("esri/config: esriConfig.request.proxyUrl is not set."),new l("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");c&&O()&&(f=M(f));return a(f)};b.addProxy=function(b){var d=u(b),c,f;d&&(f=
                    q(d.proxyUrl),c=f.path,f=f.query?g(f.query):null);c&&(d=a(b),b=c+"?"+d.path,(c=r(n({},f,d.query)))&&(b=b+"?"+c));return b};var Z={path:"",query:""};b.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:t(a.urlPrefix)};for(var b=X.proxyRules,d=a.urlPrefix,c=b.length,f=0;f<b.length;f++){var e=b[f].urlPrefix;if(0===d.indexOf(e)){if(d.length===e.length)return-1;c=f;break}0===e.indexOf(d)&&(c=f+1)}b.splice(c,0,a);return c};b.getProxyRule=u;b.hasSamePortal=function(a,b){a=p(a);b=p(b);return L(a)===
                    L(b)};b.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&k.startsWith(a,b)},d=X.interceptors;if(d)for(var c=0;c<d.length;c++){var f=d[c];if(Array.isArray(f.urls)){if(f.urls.some(b))return f}else if(b(f.urls))return f}return null};b.hasSameOrigin=v;b.isTrustedServer=function(a){if("string"===typeof a)if(B(a))a=da(a);else return!0;if(v(a,b.appUrl))return!0;for(var d=X.trustedServers||[],c=0;c<d.length;c++){var f;f=d[c];b.trustedServersUrlCache[f]||
                (I(f)||F(f)?b.trustedServersUrlCache[f]=[new Y(w(f))]:b.trustedServersUrlCache[f]=[new Y("http://"+f),new Y("https://"+f)]);f=b.trustedServersUrlCache[f];for(var e=0;e<f.length;e++)if(v(a,f[e]))return!0}return!1};b.makeAbsolute=w;b.makeRelative=z;b.normalize=y;b.join=A;b.getOrigin=x;b.isAbsolute=B;b.isBlobProtocol=D;b.isDataProtocol=E;b.dataToArrayBuffer=C;var ha=/^data:(.*?)(;base64)?,(.*)$/;b.dataComponents=G;b.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+
                    a.mediaType+","+a.data};b.dataToBlob=H;b.downloadDataAsFile=function(a,b){var d;a:if(d=document.createElement("a"),"download"in d){var c=null;if(h.URL&&h.URL.createObjectURL){c=H(a);if(!c){d=!1;break a}c=h.URL.createObjectURL(c)}d.download=b;d.href=c||a;d.style.display="none";document.body.appendChild(d);d.click();document.body.removeChild(d);c&&h.URL.revokeObjectURL(c);d=void 0}else d=!1;d||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(H(a),b)};b.isProtocolRelative=F;b.hasProtocol=
                    I;b.toHTTP=function(a){return F(a)?"http:"+a:a.replace(P,"http:")};b.toHTTPS=M;b.isAppHTTPS=O;b.removeFile=function(a){var b=0;if(B(a)){var d=a.indexOf("//");-1!==d&&(b=d+2)}d=a.lastIndexOf("/");return d<b?a:a.slice(0,d+1)};b.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};b.changeDomain=R;b.fromJSON=V;b.read=function(a,b,d){return V(a,d)};b.toJSON=ma;b.write=function(a,b,d,c){(a=ma(a,c))&&(b[d]=a)};b.isSVG=function(a){return la.test(a)};b.removeQueryParameters=function(b,d){b=a(b);var c=
                    Object.keys(b.query||{});0<c.length&&d&&d.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+c.join(", ")+".");return b.path};b.addQueryParameter=T;b.addQueryParameters=function(b,d){b=a(b);var c=b.query||{},f;for(f in d)c[f]=d[f];return(d=r(c))?b.path+"?"+d:b.path};b.removeQueryParameter=function(b,d){var c=a(b),f=c.path,c=c.query;if(!c)return b;delete c[d];return(b=r(c))?f+"?"+b:f};b.addTokenParameter=function(a){var b=m.id&&m.id.findCredential(a);
                    return b&&b.token?T(a,"token",b.token):a};var la=/(^data:image\/svg|\.svg$)/i})},"esri/kernel":function(){define("require exports dojo/_base/kernel ./core/has ./core/promiseUtils ./support/revision".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});b.revision=l.commitHash;(function(){var b=n.config,d=b.has&&void 0!==b.has["config-deferredInstrumentation"],c=b.has&&void 0!==b.has["config-useDeferredInstrumentation"];void 0!==b.useDeferredInstrumentation||d||c||(e.add("config-deferredInstrumentation",
            !1,!0,!0),e.add("config-useDeferredInstrumentation",!1,!0,!0))})();b.version="4.15";b.workerMessages={request:function(b){return m.create(function(b){c(["./request"],b)}).then(function(d){var c=b.options||{};c.responseType="array-buffer";return d(b.url,c)}).then(function(b){return{result:{data:b.data,ssl:b.ssl},transferList:[b.data]}})}};b.setId=function(c){b.id=c};!e("host-webworker")&&e("esri-console-log-version")&&console.debug("Using ArcGIS API for JavaScript "+b.version+" [Date: "+l.buildDate+
            ", Revision: "+l.commitHash.slice(0,8)+"]")})},"esri/support/revision":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.buildDate="20200416";b.commitHash="43ef44a596baad1ffc4cedc0d844df6d7307eba0"})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B){var D,E={PortalGroup:function(){return v.create(function(a){return c(["./PortalGroup"],a)})},PortalItem:function(){return v.create(function(a){return c(["./PortalItem"],a)})},PortalUser:function(){return v.create(function(a){return c(["./PortalUser"],a)})}};return function(b){function d(d){d=b.call(this,d)||this;d.access=null;d.allSSL=!1;d.authMode="auto";d.authorizedCrossOriginDomains=null;d.basemapGalleryGroupQuery=null;d.bingKey=null;d.canListApps=
                !1;d.canListData=!1;d.canListPreProvisionedItems=!1;d.canProvisionDirectPurchase=!1;d.canSearchPublic=!0;d.canShareBingPublic=!1;d.canSharePublic=!1;d.canSignInArcGIS=!1;d.canSignInIDP=!1;d.colorSetsGroupQuery=null;d.commentsEnabled=!1;d.created=null;d.culture=null;d.customBaseUrl=null;d.defaultBasemap=null;d.defaultExtent=null;d.defaultVectorBasemap=null;d.description=null;d.eueiEnabled=null;d.featuredGroups=null;d.featuredItemsGroupQuery=null;d.galleryTemplatesGroupQuery=null;d.livingAtlasGroupQuery=
                null;d.hasCategorySchema=!1;d.helperServices=null;d.homePageFeaturedContent=null;d.homePageFeaturedContentCount=null;d.httpPort=null;d.httpsPort=null;d.id=null;d.ipCntryCode=null;d.isPortal=!1;d.isReadOnly=!1;d.layerTemplatesGroupQuery=null;d.maxTokenExpirationMinutes=null;d.modified=null;d.name=null;d.portalHostname=null;d.portalMode=null;d.portalProperties=null;d.region=null;d.rotatorPanels=null;d.showHomePageDescription=!1;d.sourceJSON=null;d.supportsHostedServices=!1;d.symbolSetsGroupQuery=null;
                d.templatesGroupQuery=null;d.units=null;d.url=a.portalUrl;d.urlKey=null;d.user=null;d.useStandardizedQuery=!1;d.useVectorBasemaps=!1;d.vectorBasemapGalleryGroupQuery=null;return d}m(d,b);q=d;d.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};d.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};d.prototype.readAuthorizedCrossOriginDomains=function(b){if(b)for(var d=0;d<
            b.length;d++){var c=b[d];-1===a.request.trustedServers.indexOf(c)&&a.request.trustedServers.push(c)}return b};d.prototype.readDefaultBasemap=function(a){return a?(a=D.fromJSON(a),a.portalItem={portal:this},a):null};d.prototype.readDefaultVectorBasemap=function(a){return a?(a=D.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(d.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,
                configurable:!0});Object.defineProperty(d.prototype,"isOrganization",{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+
                    b):null},enumerable:!0,configurable:!0});d.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};d.prototype.readUser=function(a){var b=null;a&&(b=B.fromJSON(a),b.portal=this);return b};d.prototype.load=function(a){var b=this,d=v.create(function(a){return c(["../Basemap"],a)}).then(function(b){v.throwIfAborted(a);D=b}).then(function(){return b.sourceJSON?b.sourceJSON:b._fetchSelf(b.authMode,!1,a)}).then(function(a){if(g.id){var d=g.id;b.credential=d.findCredential(b.restUrl);b.credential||
            b.authMode!==q.AUTH_MODE_AUTO||(b._esriId_credentialCreateHandle=d.on("credential-create",function(){d.findCredential(b.restUrl)&&b._signIn()}))}b.sourceJSON=a;b.read(a)});this.addResolvingPromise(d);return v.resolve(this)};d.prototype.createClosestFacilityTask=function(){return e(this,void 0,void 0,function(){var a,b;return h(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(a,b){c(["../tasks/ClosestFacilityTask"],
                a,b)})];case 2:return b=d.sent(),[2,new b(a)]}})})};d.prototype.createElevationLayers=function(){return e(this,void 0,void 0,function(){var a,b;return h(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(a,b){c(["../layers/ElevationLayer"],a,b)})];case 2:return b=d.sent(),[2,a?a.map(function(a){return new b({id:a.id,url:a.url})}):[]]}})})};d.prototype.createGeometryService=function(){return e(this,
                void 0,void 0,function(){var a,b;return h(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("geometry"),[4,new Promise(function(a,b){c(["../tasks/GeometryService"],a,b)})];case 2:return b=d.sent(),[2,new b({url:a})]}})})};d.prototype.createPrintTask=function(){return e(this,void 0,void 0,function(){var a,b;return h(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("printTask"),
                [4,new Promise(function(a,b){c(["../tasks/PrintTask"],a,b)})];case 2:return b=d.sent(),[2,new b(a)]}})})};d.prototype.createRouteTask=function(){return e(this,void 0,void 0,function(){var a,b;return h(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("route"),[4,new Promise(function(a,b){c(["../tasks/RouteTask"],a,b)})];case 2:return b=d.sent(),[2,new b(a)]}})})};d.prototype.createServiceAreaTask=function(){return e(this,void 0,void 0,
                function(){var a,b;return h(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(a,b){c(["../tasks/ServiceAreaTask"],a,b)})];case 2:return b=d.sent(),[2,new b(a)]}})})};d.prototype.fetchBasemaps=function(a,b){var d=new A;d.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);d.disableExtraQuery=!0;return this.queryGroups(d,b).then(function(a){d.num=100;
                d.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],d.sortField=a.sortField||"name",d.sortOrder=a.sortOrder||"desc",a.queryItems(d,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new D({portalItem:a})}):[]})};d.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):v.isAborted(a)?
                v.reject(v.createAbortError()):v.resolve([])};d.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,d=new A;d.num=100;d.sortField="title";if(b&&b.length){for(var c=[],f=0;f<b.length;f++){var e=b[f];c.push('(title:"'+e.title+'" AND owner:'+e.owner+")")}d.query=c.join(" OR ");return this.queryGroups(d,a).then(function(a){return a.results})}return v.isAborted(a)?v.reject(v.createAbortError()):v.resolve([])};d.prototype.fetchRegions=function(a){return this._request(this.restUrl+"/portals/regions",
                n({},a,{query:{culture:this.user&&this.user.culture||this.culture||k.locale}}))};d.getDefault=function(){if(!q._default||q._default.destroyed)q._default=new q;return q._default};d.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};d.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",b)};d.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",
                b)};d.prototype.toJSON=function(){throw new r("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};d.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new q({sourceJSON:a})};d.prototype._getHelperService=function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new r("portal:service-not-found",'The `helperServices` do not include an entry named "'+a+'"');return b};d.prototype._getHelperServiceUrl=function(a){var b=
                this._getHelperService(a);if(!b.url)throw new r("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};d.prototype._fetchSelf=function(a,b,d){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var c=this.restUrl+"/portals/self";a=n({authMode:a,query:{culture:k.locale}},d);"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(c,a)};d.prototype._queryPortal=function(a,b,d,c){var f=this,e=z.ensureType(A,b),
                g=function(b){return f._request(f.restUrl+a,n({},e.toRequestOptions(f),c)).then(function(a){var d=e.clone();d.start=a.nextStart;return new x({nextQueryParams:d,queryParams:e,total:a.total,results:q._resultsToTypedArray(b,{portal:f},a,c)})}).then(function(a){return v.all(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return a},function(b){v.throwIfAbortError(b);return a})})};return d&&E[d]?E[d]().then(function(a){v.throwIfAborted(c);return g(a)}):g()};d.prototype._signIn=
                function(){var a=this;if(this.authMode===q.AUTH_MODE_ANONYMOUS)return v.reject(new r("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return v.reject(this.loadError);var b=function(b){return v.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});
                    if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&(a.sourceJSON=b,a.read(b))})};return g.id?g.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};d.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",":7443")};d.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};d.prototype._requestToTypedArray=
                function(a,b,d){var f=this,e=function(d){return f._request(a,b).then(function(a){var b=q._resultsToTypedArray(d,{portal:f},a);return v.all(b.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return b},function(){return b})})};return d?v.create(function(a){return c(["./"+d],a)}).then(function(a){return e(a)}):e()};d.prototype._request=function(a,b){void 0===b&&(b={});var d=n({f:"json"},b.query),c=b.authMode,e=b.body,g=b.cacheBust,p=b.method,k=b.responseType;b={authMode:void 0===
                c?this.authMode===q.AUTH_MODE_ANONYMOUS?"anonymous":"auto":c,body:void 0===e?null:e,cacheBust:void 0===g?!1:g,method:void 0===p?"auto":p,query:d,responseType:void 0===k?"json":k,timeout:0,signal:b.signal};return f(this._normalizeSSL(a),b).then(function(a){return a.data})};d._resultsToTypedArray=function(a,b,d,c){if(d){var f=p.isSome(c)?c.signal:null;d=d.listings||d.notifications||d.userInvitations||d.tags||d.items||d.groups||d.comments||d.provisions||d.results||d.relatedItems||d;if(a||b)d=d.map(function(d){d=
                t.mixin(a?a.fromJSON(d):d,b);"function"===typeof d.load&&d.load(f);return d})}else d=[];return d};var q;d.AUTH_MODE_ANONYMOUS="anonymous";d.AUTH_MODE_AUTO="auto";d.AUTH_MODE_IMMEDIATE="immediate";l([w.property()],d.prototype,"access",void 0);l([w.property()],d.prototype,"allSSL",void 0);l([w.property()],d.prototype,"authMode",void 0);l([w.property()],d.prototype,"authorizedCrossOriginDomains",void 0);l([w.reader("authorizedCrossOriginDomains")],d.prototype,"readAuthorizedCrossOriginDomains",null);
                l([w.property()],d.prototype,"basemapGalleryGroupQuery",void 0);l([w.property()],d.prototype,"bingKey",void 0);l([w.property()],d.prototype,"canListApps",void 0);l([w.property()],d.prototype,"canListData",void 0);l([w.property()],d.prototype,"canListPreProvisionedItems",void 0);l([w.property()],d.prototype,"canProvisionDirectPurchase",void 0);l([w.property()],d.prototype,"canSearchPublic",void 0);l([w.property()],d.prototype,"canShareBingPublic",void 0);l([w.property()],d.prototype,"canSharePublic",
                    void 0);l([w.property()],d.prototype,"canSignInArcGIS",void 0);l([w.property()],d.prototype,"canSignInIDP",void 0);l([w.property()],d.prototype,"colorSetsGroupQuery",void 0);l([w.property()],d.prototype,"commentsEnabled",void 0);l([w.property({type:Date})],d.prototype,"created",void 0);l([w.property()],d.prototype,"credential",void 0);l([w.property()],d.prototype,"culture",void 0);l([w.property()],d.prototype,"currentVersion",void 0);l([w.property()],d.prototype,"customBaseUrl",void 0);l([w.property()],
                    d.prototype,"defaultBasemap",void 0);l([w.reader("defaultBasemap")],d.prototype,"readDefaultBasemap",null);l([w.property({type:y})],d.prototype,"defaultExtent",void 0);l([w.property()],d.prototype,"defaultVectorBasemap",void 0);l([w.reader("defaultVectorBasemap")],d.prototype,"readDefaultVectorBasemap",null);l([w.property()],d.prototype,"description",void 0);l([w.property()],d.prototype,"eueiEnabled",void 0);l([w.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],d.prototype,"extraQuery",
                    null);l([w.property()],d.prototype,"featuredGroups",void 0);l([w.property()],d.prototype,"featuredItemsGroupQuery",void 0);l([w.property()],d.prototype,"galleryTemplatesGroupQuery",void 0);l([w.property()],d.prototype,"livingAtlasGroupQuery",void 0);l([w.property()],d.prototype,"hasCategorySchema",void 0);l([w.property()],d.prototype,"helpBase",void 0);l([w.property()],d.prototype,"helperServices",void 0);l([w.property()],d.prototype,"helpMap",void 0);l([w.property()],d.prototype,"homePageFeaturedContent",
                    void 0);l([w.property()],d.prototype,"homePageFeaturedContentCount",void 0);l([w.property()],d.prototype,"httpPort",void 0);l([w.property()],d.prototype,"httpsPort",void 0);l([w.property()],d.prototype,"id",void 0);l([w.property()],d.prototype,"ipCntryCode",void 0);l([w.property({dependsOn:["access"],readOnly:!0})],d.prototype,"isOrganization",null);l([w.property()],d.prototype,"isPortal",void 0);l([w.property()],d.prototype,"isReadOnly",void 0);l([w.property()],d.prototype,"layerTemplatesGroupQuery",
                    void 0);l([w.property()],d.prototype,"maxTokenExpirationMinutes",void 0);l([w.property({type:Date})],d.prototype,"modified",void 0);l([w.property()],d.prototype,"name",void 0);l([w.property()],d.prototype,"portalHostname",void 0);l([w.property()],d.prototype,"portalMode",void 0);l([w.property()],d.prototype,"portalProperties",void 0);l([w.property()],d.prototype,"region",void 0);l([w.property({dependsOn:["url"],readOnly:!0})],d.prototype,"restUrl",null);l([w.property()],d.prototype,"rotatorPanels",
                    void 0);l([w.property()],d.prototype,"showHomePageDescription",void 0);l([w.property()],d.prototype,"sourceJSON",void 0);l([w.property()],d.prototype,"staticImagesUrl",void 0);l([w.property()],d.prototype,"stylesGroupQuery",void 0);l([w.property()],d.prototype,"supportsHostedServices",void 0);l([w.property()],d.prototype,"symbolSetsGroupQuery",void 0);l([w.property()],d.prototype,"templatesGroupQuery",void 0);l([w.property()],d.prototype,"thumbnail",void 0);l([w.property({dependsOn:["restUrl","thumbnail"],
                    readOnly:!0})],d.prototype,"thumbnailUrl",null);l([w.property()],d.prototype,"units",void 0);l([w.property()],d.prototype,"url",void 0);l([w.property()],d.prototype,"urlKey",void 0);l([w.reader("urlKey")],d.prototype,"readUrlKey",null);l([w.property()],d.prototype,"user",void 0);l([w.reader("user")],d.prototype,"readUser",null);l([w.property()],d.prototype,"useStandardizedQuery",void 0);l([w.property()],d.prototype,"useVectorBasemaps",void 0);l([w.property()],d.prototype,"vectorBasemapGalleryGroupQuery",
                    void 0);return d=q=l([w.subclass("esri.portal.Portal")],d)}(w.declared(q.JSONSupportMixin(u)))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(c,b){return function(n,e){b(n,e,c)}}})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/awaiterHelper ./core/tsSupport/generatorHelper ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/promiseUtils ./core/string ./core/urlUtils ./support/requestUtils @dojo/framework/shim/Promise".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t){function u(a,b){var d=f.createAbortController();return f.create(function(c,f){p(d.signal,a,b).then(c).catch(f)},function(){d.abort()})}function p(b,d,c){return e(this,void 0,void 0,function(){var e,g,p,k,h,t,v,u;return m(this,function(r){switch(r.label){case 0:return e=q.isDataProtocol(d),(g=q.isBlobProtocol(d))||e||(d=q.normalize(d)),p={url:d,requestOptions:n({},c)},(k=q.getInterceptor(d))?[4,E(k,p)]:[3,2];case 1:h=r.sent();if(null!=h)return[2,{data:h,getHeader:R,
                requestOptions:p.requestOptions,url:p.url}];k.after||k.error||(k=null);r.label=2;case 2:d=p.url;c=p.requestOptions;if("image"===c.responseType){if(a("host-webworker"))throw z("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),p);}else if(e)throw z("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+c.responseType),p);if("head"===c.method){if(c.body)throw z("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),
                p);if(e||g)throw z("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),p);}return[4,y()];case 3:r.sent();if(J)return[2,J.execute(d,c)];t=f.createAbortController();f.onAbort(b,function(){return t.abort()});f.onAbort(c,function(){return t.abort()});v={controller:t,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:k,params:p,redoRequest:!1,useIdentity:l.request.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,H(v)];case 4:return u=
                r.sent(),k&&k.after&&k.after(u),[2,u]}})})}function v(a){q.isBlobProtocol(a)||q.isDataProtocol(a)||(a=q.getOrigin(a))&&-1===u._corsServers.indexOf(a)&&u._corsServers.push(a)}function w(a){a=q.getOrigin(a);return!a||r.endsWith(a,".arcgis.com")||-1!==u._corsServers.indexOf(a)||q.isTrustedServer(a)}function z(a,b,c,f){var e="Error",p={url:c.url,requestOptions:c.requestOptions,getHeader:R,ssl:!1};if(b instanceof d)return b.details?(b.details=g.clone(b.details),b.details.url=c.url,b.details.requestOptions=
                c.requestOptions):b.details=p,b;if(b){c=f&&function(a){return f.headers.get(a)};var k=f&&f.status,q=b.message;q&&(e=q);c&&(p.getHeader=c);p.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||k||0;p.subCode=b.subcode;p.messageCode=b.messageCode;p.messages="string"===typeof b.details?[b.details]:b.details}a=new d(a,e,p);b&&"cancel"===b.dojoType&&(a.dojoType="cancel");return a}function y(){return e(this,void 0,void 0,function(){var b;return m(this,function(d){switch(d.label){case 0:return a("host-webworker")?
                J?[3,2]:[4,new Promise(function(a,b){c(["./core/workers/request"],a,b)})]:[3,3];case 1:J=d.sent(),d.label=2;case 2:return[3,6];case 3:if(u._abortableFetch)return[3,6];if(!a("esri-abortable-fetch")||!a("esri-native-promise")&&(13>a("safari")||13>a("ios")))return[3,4];u._abortableFetch=k.fetch.bind(k);return[3,6];case 4:return b=u,[4,new Promise(function(a,b){c(["whatwg-fetch"],a,b)})];case 5:b._abortableFetch=d.sent().fetch,d.label=6;case 6:return[2]}})})}function A(){return e(this,void 0,void 0,function(){return m(this,
                function(a){switch(a.label){case 0:return h.id?[3,2]:[4,new Promise(function(a,b){c(["./identity/IdentityManager"],a,b)})];case 1:a.sent(),a.label=2;case 2:return[2]}})})}function x(a){return e(this,void 0,void 0,function(){var b,d,c,e,g,p,q,t;return m(this,function(l){switch(l.label){case 0:b=a.params.url;d=a.params.requestOptions;c=a.controller.signal;e=d.body;q=p=g=null;M&&"HTMLFormElement"in k&&(e instanceof FormData?g=e:e instanceof HTMLFormElement&&(p=e,g=new FormData(p)));"string"===typeof e&&
            (q=e);a.fetchOptions={cache:d.cacheBust&&!u._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:d.headers||{},method:"head"===d.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:c};if(g||q)a.fetchOptions.body=g||q;"anonymous"===d.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||d.query&&d.query.token||g&&g.get&&g.get("token")||p&&p.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||B(b)||f.isAborted(c))return[3,11];t=void 0;return"immediate"!==
            d.authMode?[3,3]:[4,A()];case 1:return l.sent(),[4,h.id.getCredential(b,{signal:c})];case 2:return t=l.sent(),a.credential=t,[3,10];case 3:return"no-prompt"!==d.authMode?[3,9]:[4,A()];case 4:l.sent(),l.label=5;case 5:return l.trys.push([5,7,,8]),[4,h.id.getCredential(b,{prompt:!1,signal:c})];case 6:return t=l.sent(),a.credential=t,[3,8];case 7:return l.sent(),[3,8];case 8:return[3,10];case 9:h.id&&(t=h.id.findCredential(b)),l.label=10;case 10:t&&(a.credentialToken=t.token,a.useSSL=!!t.ssl),l.label=
                11;case 11:return[2]}})})}function B(a){return K.some(function(b){return b.test(a)})}function D(b){return e(this,void 0,void 0,function(){var d,c,e,g,p,k,t,r,y,x,A,B,D,J,L,E,K,H,F,R,O,da,S;return m(this,function(m){switch(m.label){case 0:d=b.params.url;c=b.params.requestOptions;e=b.fetchOptions;g=q.isBlobProtocol(d)||q.isDataProtocol(d);p=c.responseType||"json";k=g?0:null!=c.timeout?c.timeout:l.request.timeout;t=!1;if(!g){b.useSSL&&(d=q.toHTTPS(d));c.cacheBust&&"default"===e.cache&&(d=q.addQueryParameter(d,
                "request.preventCache",Date.now()));r=n({},c.query);b.credentialToken&&(r.token=b.credentialToken);y=q.objectToQuery(r);a("esri-url-encodes-apostrophe")&&(y=y.replace(/'/g,"%27"));x=d.length+1+y.length;A=void 0;t="post"===c.method||!!c.body||x>l.request.maxUrlLength;if(B=c.useProxy||!!q.getProxyRule(d))D=q.getProxyUrl(d),A=D.path,!t&&A.length+1+x>l.request.maxUrlLength&&(t=!0),D.query&&(r=n({},D.query,r));if("HEAD"===e.method&&(t||B)){if(t){if(x>l.request.maxUrlLength)throw z("request:invalid-parameters",
                Error("URL exceeds maximum length"),b.params);throw z("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),b.params);}if(B)throw z("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),b.params);}t?(e.method="POST",c.body?d=q.addQueryParameters(d,r):(e.body=q.objectToQuery(r),e.headers["Content-Type"]="application/x-www-form-urlencoded")):d=q.addQueryParameters(d,r);B&&(b.useProxy=!0,d=A+"?"+d);r.token&&M&&e.body instanceof FormData&&(J=e.body,
                J.set?J.set("token",r.token):J.append("token",r.token));c.hasOwnProperty("withCredentials")?b.withCredentials=c.withCredentials:q.isTrustedServer(d)?b.withCredentials=!0:h.id&&(L=h.id.findServerInfo(d))&&L.webTierAuth&&(b.withCredentials=!0);b.withCredentials&&(e.credentials="include")}E=0;K=!1;0<k&&(E=setTimeout(function(){K=!0;b.controller.abort()},k));m.label=1;case 1:return m.trys.push([1,18,19,20]),"image"!==c.responseType||"default"!==e.cache||"GET"!==e.method||t||C(c.headers)||!g&&!b.useProxy&&
            l.request.proxyUrl&&!w(d)?[3,3]:[4,I(d,b)];case 2:return F=m.sent(),[3,17];case 3:return[4,u._abortableFetch(d,e)];case 4:H=m.sent();b.useProxy||v(d);if(!H.ok||"HEAD"===e.method)return[3,17];R=p;switch(R){case "array-buffer":return[3,5];case "blob":return[3,7];case "image":return[3,7]}return[3,9];case 5:return[4,H.arrayBuffer()];case 6:return F=m.sent(),[3,11];case 7:return[4,H.blob()];case 8:return F=m.sent(),[3,11];case 9:return[4,H.text()];case 10:return F=m.sent(),[3,11];case 11:E&&(clearTimeout(E),
                E=0);if("json"===p||"xml"===p||"document"===p)if(F)switch(p){case "json":F=JSON.parse(F);break;case "xml":F=G(F,"application/xml");break;case "document":F=G(F,"text/html")}else F=null;O=H.headers.get("Content-Type");if(!/application\/json|text\/plain/i.test(O)||!(F instanceof ArrayBuffer&&750>=F.byteLength||F instanceof Blob&&750>=F.size))return[3,15];m.label=12;case 12:return m.trys.push([12,14,,15]),[4,(new Response(F)).json()];case 13:return da=m.sent(),da.error&&(F=da),[3,15];case 14:return m.sent(),
                [3,15];case 15:return"image"===p&&F instanceof Blob?[4,I(URL.createObjectURL(F),b,!0)]:[3,17];case 16:F=m.sent(),m.label=17;case 17:return[3,20];case 18:S=m.sent();if("AbortError"===S.name){if(K)throw Error("Timeout exceeded");throw f.createAbortError("Request canceled");}if(!H&&S instanceof TypeError&&l.request.proxyUrl&&!c.body&&"post"!==c.method&&"head"!==c.method&&!b.useProxy)b.redoRequest=!0,q.addProxyRule({proxyUrl:l.request.proxyUrl,urlPrefix:q.removeFile(q.urlToObject(d).path)});else throw S;
                return[3,20];case 19:return E&&clearTimeout(E),[7];case 20:return[2,[H,F]]}})})}function E(a,b){return e(this,void 0,void 0,function(){var c,f,e;return m(this,function(g){switch(g.label){case 0:if(null!=a.responseData)return[2,a.responseData];a.headers&&(b.requestOptions.headers=n({},b.requestOptions.headers,a.headers));a.query&&(b.requestOptions.query=n({},b.requestOptions.query,a.query));if(!a.before)return[3,5];f=c=void 0;g.label=1;case 1:return g.trys.push([1,3,,4]),[4,a.before(b)];case 2:return f=
                g.sent(),[3,4];case 3:return e=g.sent(),c=z("request:interceptor",e,b),[3,4];case 4:if(f instanceof Error||f instanceof d)c=z("request:interceptor",f,b);if(c)throw a.error&&a.error(c),c;return[2,f];case 5:return[2]}})})}function C(a){if(a)for(var b=0,d=Object.getOwnPropertyNames(a);b<d.length;b++)if(a[d[b]])return!0;return!1}function G(a,b){var d;try{d=(new DOMParser).parseFromString(a,b)}catch(ma){}if(!d||d.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return d}
                function H(a){return e(this,void 0,void 0,function(){var b,d,c,f,e,g,p,k,t,v,u;return m(this,function(r){switch(r.label){case 0:return[4,x(a)];case 1:r.sent(),r.label=2;case 2:r.trys.push([2,8,,9]),r.label=3;case 3:return[4,D(a)];case 4:b=r.sent(),d=b[0],c=b[1],r.label=5;case 5:return[4,F(a,d,c)];case 6:if(!r.sent())return[3,3];r.label=7;case 7:return[3,9];case 8:throw f=r.sent(),e=z("request:server",f,a.params,d),e.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(e),e;
                    case 9:return g=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(g)&&!a.hasToken&&!a.credentialToken&&c&&c.user&&c.user.username&&!q.isTrustedServer(g)&&(p=q.getOrigin(g,!0))&&l.request.trustedServers.push(p),(k=a.credential)&&h.id&&(v=(t=h.id.findServerInfo(k.server))&&t.owningSystemUrl)&&(v=v.replace(/\/?$/,"/sharing"),(u=h.id.findCredential(v,k.userId))&&-1===h.id._getIdenticalSvcIdx(v,u)&&u.resources.unshift(v)),[2,{data:c,getHeader:d?function(a){return d.headers.get(a)}:R,requestOptions:a.params.requestOptions,
                        ssl:a.useSSL,url:a.params.url}]}})})}function F(a,b,d){return e(this,void 0,void 0,function(){var c,f,e,p,k,q,t;return m(this,function(l){switch(l.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!b)return[2,!0];if(!b.ok)throw Error("Unable to load "+b.url+" status: "+b.status);d&&d.error&&(c=g.mixin(Error(),d.error));c&&(f=Number(c.code),e=c.hasOwnProperty("subcode")?Number(c.subcode):null,p=(p=c.messageCode)&&p.toUpperCase());k=a.params.requestOptions.authMode;return 403===f&&(4===
                    e||c.message&&-1<c.message.toLowerCase().indexOf("ssl")&&-1===c.message.toLowerCase().indexOf("permission"))?a.useSSL?[3,6]:(a.useSSL=!0,[2,!1]):[3,1];case 1:return!a.useIdentity||"no-prompt"===k&&498!==f||-1===O.indexOf(f)||B(a.params.url)||!(403!==f||-1===L.indexOf(p)&&(null==e||2===e&&a.credentialToken))?[3,6]:[4,A()];case 2:l.sent(),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,h.id.getCredential(a.params.url,{error:z("request:server",c,a.params),prompt:"no-prompt"!==k,signal:a.controller.signal,
                    token:a.credentialToken})];case 4:return q=l.sent(),a.credential=q,a.credentialToken=q.token,a.useSSL=a.useSSL||q.ssl,[2,!1];case 5:t=l.sent();if("no-prompt"===k)return a.credential=null,a.credentialToken=null,[2,!1];c=t;return[3,6];case 6:if(c)throw c;return[2,!0]}})})}function I(a,b,d){void 0===d&&(d=!1);var c=b.controller.signal,f=new Image;f.crossOrigin=b.withCredentials?"use-credentials":"anonymous";f.alt="";f.src=a;return t.loadImageAsync(f,a,d,c)}var J,M="FormData"in k,O=[499,498,403,401],
                    L=["COM_0056","COM_0057","SB_0008"],K=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],R=function(){return null};u._abortableFetch=null;u._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return u})},"esri/support/requestUtils":function(){define(["require","exports","../core/has","../core/maybe","../core/promiseUtils"],function(c,b,n,e,m){function l(){try{return new DOMException("Aborted","AbortError")}catch(d){var b=Error();b.name="AbortError";
            return b}}Object.defineProperty(b,"__esModule",{value:!0});b.loadImageAsync=function(b,d,c,a){void 0===c&&(c=!1);return m.create(function(g,f){if(m.isAborted(a))f(l());else{var k=function(){u();f(Error("Unable to load "+d))},q=function(){var a=b;u();g(a)},h=function(){if(b){var a=b;u();a.src="";f(l())}},u=function(){n("esri-image-decode")||(b.removeEventListener("error",k),b.removeEventListener("load",q));b=q=k=null;e.isSome(a)&&a.removeEventListener("abort",h);h=null;c&&URL.revokeObjectURL(d)};e.isSome(a)&&
        a.addEventListener("abort",h);n("esri-image-decode")?b.decode().then(q,k):(b.addEventListener("error",k),b.addEventListener("load",q))}})}})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           b,n,e,m,l,h,d,k,a,g,f){var r=new h.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(b){function c(a){a=b.call(this,a)||this;a.categories=null;a.disableExtraQuery=!1;a.extent=null;a.num=10;a.query=null;a.sortField=null;a.start=1;return a}e(c,b);q=c;Object.defineProperty(c.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
            configurable:!0});c.prototype.clone=function(){return new q({categories:this.categories?d.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};c.prototype.toRequestOptions=function(a,b){var d;this.categories&&(d=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var c;if(this.extent){var e=f.project(this.extent,
            g.WGS84);e&&(c=e.xmin+","+e.ymin+","+e.xmax+","+e.ymax)}e=this.query;!this.disableExtraQuery&&a.extraQuery&&(e="("+e+")"+a.extraQuery);a={categories:d,bbox:c,q:e,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=r.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:n({},b,a)}};var q;m([k.property()],c.prototype,"categories",void 0);m([k.property()],c.prototype,"disableExtraQuery",void 0);m([k.property({type:a})],c.prototype,"extent",void 0);m([k.property()],
            c.prototype,"num",void 0);m([k.property()],c.prototype,"query",void 0);m([k.property()],c.prototype,"sortField",void 0);m([k.property()],c.prototype,"sortOrder",null);m([k.property()],c.prototype,"start",void 0);return c=q=m([k.subclass("esri.portal.PortalQueryParams")],c)}(k.declared(l))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     b,n,e,m,l){return function(b){function d(d){d=b.call(this,d)||this;d.nextQueryParams=null;d.queryParams=null;d.results=null;d.total=null;return d}n(d,b);e([l.property()],d.prototype,"nextQueryParams",void 0);e([l.property()],d.prototype,"queryParams",void 0);e([l.property()],d.prototype,"results",void 0);e([l.property()],d.prototype,"total",void 0);return d=e([l.subclass("esri.portal.PortalQueryResult")],d)}(l.declared(m))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){return function(b){function f(){var a=b.call(this)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.sourceJSON=null;a.units=null;a.username=null;a.userType=null;return a}n(f,b);g=f;Object.defineProperty(f.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+
                    "/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});f.prototype.addItem=function(a){var b=this,d=a&&a.item,c=a&&a.data;a=a&&a.folder;var f=
                {method:"post"};d&&(f.query=d.createPostQuery(),null!=c&&("string"===typeof c?f.query.text=c:"object"===typeof c&&(f.query.text=JSON.stringify(c))));c=this.userContentUrl;a&&(c+="/"+("string"===typeof a?a:a.id));return this.portal._request(c+"/addItem",f).then(function(a){d.id=a.id;d.portal=b.portal;return d.loaded?d.reload():d.load()})};f.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
                null;a.portal=null})};f.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",d=a.map(function(a){return a.id});return d.length?(d={method:"post",query:{items:d.join(",")}},this.portal._request(b,d).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):h.resolve(void 0)};f.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=k.fromJSON(b);b.portal=
                a.portal;return b}):[]})};f.prototype.fetchGroups=function(){var b=this;return this.portal._request(this.url).then(function(d){return d&&d.groups?d.groups.map(function(d){d=a.fromJSON(d);d.portal=b.portal;return d}):[]})};f.prototype.fetchItems=function(a){var b=this;a||(a={});var d=this.userContentUrl;a.folder&&(d+="/"+a.folder.id);var f;return h.create(function(a){return c(["./PortalItem"],a)}).then(function(c){f=c;return b.portal._request(d,{query:{folders:!1,num:a.num||10,start:a.start||1,sortField:a.sortField||
                        "created",sortOrder:a.sortOrder||"asc"}})}).then(function(a){var d;return a&&a.items?(d=a.items.map(function(a){a=f.fromJSON(a);a.portal=b.portal;return a}),h.all(d.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:d,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};f.prototype.fetchTags=function(){return this.portal._request(this.url+"/tags").then(function(a){return a.tags})};f.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;
                b&&a&&(b+="\x26w\x3d"+a);return b};f.prototype.queryFavorites=function(b){return this.favGroupId?(this._favGroup||(this._favGroup=new a({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(b)):h.reject(new m("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};f.prototype.toJSON=function(){throw new m("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};f.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");
                var b=new g;b.sourceJSON=a;b.read(a);return b};var g;e([d.property()],f.prototype,"access",void 0);e([d.property({type:Date})],f.prototype,"created",void 0);e([d.property()],f.prototype,"culture",void 0);e([d.property()],f.prototype,"description",void 0);e([d.property()],f.prototype,"email",void 0);e([d.property()],f.prototype,"favGroupId",void 0);e([d.property()],f.prototype,"fullName",void 0);e([d.property({type:Date})],f.prototype,"modified",void 0);e([d.property()],f.prototype,"orgId",void 0);
                e([d.property()],f.prototype,"portal",void 0);e([d.property()],f.prototype,"preferredView",void 0);e([d.property()],f.prototype,"privileges",void 0);e([d.property()],f.prototype,"region",void 0);e([d.property()],f.prototype,"role",void 0);e([d.property()],f.prototype,"roleId",void 0);e([d.property()],f.prototype,"sourceJSON",void 0);e([d.property()],f.prototype,"thumbnail",void 0);e([d.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],f.prototype,"thumbnailUrl",null);
                e([d.property()],f.prototype,"units",void 0);e([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"userContentUrl",null);e([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"url",null);e([d.property()],f.prototype,"username",void 0);e([d.property()],f.prototype,"userType",void 0);return f=g=e([d.subclass("esri.portal.PortalUser")],f)}(d.declared(l.JSONSupport))})},"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.created=null;a.id=null;a.portal=null;a.title=null;a.username=null;return a}n(d,b);Object.defineProperty(d.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!0,configurable:!0});d.prototype.toJSON=function(){throw new m("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};e([h.property({type:Date})],d.prototype,
                "created",void 0);e([h.property()],d.prototype,"id",void 0);e([h.property()],d.prototype,"portal",void 0);e([h.property()],d.prototype,"title",void 0);e([h.property({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"url",null);e([h.property()],d.prototype,"username",void 0);return d=e([h.subclass("esri.portal.PortalFolder")],d)}(h.declared(l.JSONSupport))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./PortalQueryParams".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){return function(b){function c(a){a=b.call(this,a)||this;a.access=null;a.created=null;a.description=null;a.id=null;a.isInvitationOnly=!1;a.modified=null;a.owner=null;a.portal=null;a.snippet=null;a.sortField=null;a.sortOrder=null;a.tags=null;a.title=null;return a}n(c,b);Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
                "url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});c.prototype.fetchCategorySchema=function(a){var b=this;return this.portal._request(this.url+"/categorySchema",a).then(function(d){d=d.categorySchema||[];return d.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):d})};c.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",
                a)};c.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};c.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};c.prototype.queryItems=function(b,d){b=k.ensureType(a,b);if(5<parseFloat(this.portal.currentVersion))return b=b||new a,this.portal._queryPortal("/content/groups/"+this.id+"/search",b,"PortalItem",d);b=b?b.clone():new a;b.query="group:"+this.id+(b.query?" "+b.query:"");return this.portal.queryItems(b,
                d)};c.prototype._fetchCategorySchemaSet=function(b,d){var c=this;return this.portal._fetchSelf(this.portal.authMode,!0,d).then(function(b){if(b=b.contentCategorySetsGroupQuery){var f=new a;f.disableExtraQuery=!0;f.num=1;f.query=b;return c.portal.queryGroups(f,d)}throw new l("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(c){if(c.total){c=c.results[0];var f=new a;f.num=1;f.query='typekeywords:"'+b+'"';return c.queryItems(f,d)}throw new l("portal-group:fetchCategorySchema",
                "contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",d).then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):[]})};e([d.property()],c.prototype,"access",void 0);e([d.property({type:Date})],c.prototype,"created",void 0);e([d.property()],c.prototype,"description",void 0);e([d.property()],c.prototype,"id",void 0);e([d.property()],c.prototype,"isInvitationOnly",void 0);e([d.property({type:Date})],c.prototype,"modified",void 0);e([d.property()],
                c.prototype,"owner",void 0);e([d.property()],c.prototype,"portal",void 0);e([d.property()],c.prototype,"snippet",void 0);e([d.property()],c.prototype,"sortField",void 0);e([d.property()],c.prototype,"sortOrder",void 0);e([d.property()],c.prototype,"tags",void 0);e([d.property()],c.prototype,"thumbnail",void 0);e([d.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],c.prototype,"thumbnailUrl",null);e([d.property()],c.prototype,"title",void 0);e([d.property({dependsOn:["portal.restUrl"],
                readOnly:!0})],c.prototype,"url",null);return c=e([d.subclass("esri.portal.PortalGroup")],c)}(d.declared(h.JSONSupport))})},"esri/portal/PortalItem":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./Portal ./PortalRating".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p){return function(b){function k(a){a=b.call(this,a)||this;a.access=null;a.accessInformation=null;a.applicationProxies=null;a.avgRating=null;a.categories=null;a.created=null;a.culture=null;a.description=null;a.extent=null;a.groupCategories=null;a.id=null;a.itemControl=null;a.licenseInfo=null;a.modified=null;a.name=null;a.numComments=null;a.numRatings=null;a.numViews=null;a.owner=null;a.ownerFolder=null;a.portal=null;a.screenshots=null;a.size=null;a.snippet=
                null;a.sourceJSON=null;a.tags=null;a.title=null;a.type=null;a.typeKeywords=null;a.url=null;return a}n(k,b);h=k;k.from=function(a){return q.ensureClass(h,a)};Object.defineProperty(k.prototype,"displayName",{get:function(){var a=this.type,b=this.typeKeywords||[],d=a;"Feature Service"===a||"Feature Collection"===a?d=-1<b.indexOf("Table")?"Table":-1<b.indexOf("Route Layer")?"Route Layer":-1<b.indexOf("Markup")?"Markup":"Feature Layer":"Image Service"===a?d=-1<b.indexOf("Elevation 3D Layer")?"Elevation Layer":
                    "Imagery Layer":"Scene Service"===a?d="Scene Layer":"Scene Package"===a?d="Scene Layer Package":"Stream Service"===a?d="Feature Layer":"Geoprocessing Service"===a&&this.portal&&this.portal.isPortal?d=-1<b.indexOf("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===a?d="Locator":"Microsoft Powerpoint"===a?d="Microsoft PowerPoint":"GeoJson"===a?d="GeoJSON":"Globe Service"===a?d="Globe Layer":"Vector Tile Service"===a?d="Tile Layer":"netCDF"===a?d="NetCDF":"Map Service"===a?d=-1===b.indexOf("Spatiotemporal")&&
                (-1<b.indexOf("Hosted Service")||-1<b.indexOf("Tiled"))&&-1===b.indexOf("Relational")?"Tile Layer":"Map Image Layer":a&&-1<a.toLowerCase().indexOf("add in")?d=a.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===a?d="Big Data File Share":"Compact Tile Package"===a&&(d="Tile Package (tpkx)");return d},enumerable:!0,configurable:!0});k.prototype.readExtent=function(a){return a&&a.length?new t(a[0][0],a[0][1],a[1][0],a[1][1]):null};Object.defineProperty(k.prototype,"iconUrl",{get:function(){var a=
                    this.type&&this.type.toLowerCase()||"",b=this.typeKeywords||[],d=!1,f=!1,e=!1,g=!1,k=!1;0<a.indexOf("service")||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||"wfs"===a?(d=-1<b.indexOf("Hosted Service"),"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(f=-1<b.indexOf("Table"),e=-1<b.indexOf("Route Layer"),g=-1<b.indexOf("Markup"),a=(k=-1!==b.indexOf("Spatiotemporal"))&&f?"spatiotemporaltable":f?"table":e?"routelayer":g?"markup":k?"spatiotemporal":d?"featureshosted":
                    "features"):a="map service"===a||"wms"===a||"wmts"===a?d||-1<b.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?-1<b.indexOf("Line")?"sceneweblayerline":-1<b.indexOf("3DObject")?"sceneweblayermultipatch":-1<b.indexOf("Point")?"sceneweblayerpoint":-1<b.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<b.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<b.indexOf("Polygon")?"sceneweblayerpolygon":-1<b.indexOf("Building")?"sceneweblayerbuilding":"sceneweblayer":"image service"===
                a?-1<b.indexOf("Elevation 3D Layer")?"elevationlayer":"imagery":"stream service"===a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a?-1<b.indexOf("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"layers"):a="web map"===a||"cityengine web scene"===a?"maps":"web scene"===a?-1<b.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===
                a||"mobile application"===a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<b.indexOf("ArcGIS Pro")||"explorer map"===a&&b.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||
                "shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"sqlite geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===
                a||"code sample"===a||"form"===a||"document link"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<b.indexOf("Explorer Mapping Application")||-1<b.indexOf("Document")?"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a?"toolsgray":"layer"===
                a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"mobile scene package"===a?"mobilescenepackage":"tile package"===a||"compact tile package"===a?"tilepackage":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"insights theme"===a?"insightstheme":"hub initiative"===a?"hubinitiative":
                    "hubpage"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===a?"datastorecollection":"image collection"===a?"imagecollection":"style"===a?"style":"desktop style"===a?"desktopstyle":"dashboard"===a?"dashboard":"raster function template"===a?"rasterprocessingtemplate":"vector tile package"===a?"vectortilepackage":"ortho mapping project"===a?"orthomappingproject":"ortho mapping template"===a?"orthomappingtemplate":
                        "solution"===a?"solutions":"geopackage"===a?"geopackage":"deep learning package"===a?"deeplearningpackage":"real time analytic"===a?"realtimeanalytics":"big data analytic"===a?"bigdataanalytics":"feed"===a?"feed":"excalibur imagery project"===a?"excaliburimageryproject":"notebook"===a?"notebook":"storymap"===a?"storymap":"survey123 add in"===a?"survey123addin":"mission"===a?"mission":"quickcapture project"===a?"quickcaptureproject":"pro report"===a?"proreport":"urban model"===a?"urbanmodel":"web experience"===
                        a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"workflow"===a?"workflow":"insights script"===a?"insightsscript":"kernel gateway connection"===a?"kernelgatewayconnection":"hub initiative template"===a?"hubinitiativetemplate":"maps";return a?c.toUrl("../images/portal/"+a+"16.png"):null},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"isLayer",{get:function(){return-1<"Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;WMTS;WMS".split(";").indexOf(this.type)},
                enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"itemUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/items/"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"thumbnailUrl",{get:function(){var a=this.itemUrl,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"userItemUrl",{get:function(){var a=this.get("portal.restUrl");
                    if(!a)return null;var b=this.owner||this.get("portal.user.username");return b?a+"/content/users/"+(this.ownerFolder?b+"/"+this.ownerFolder:b)+"/items/"+this.id:null},enumerable:!0,configurable:!0});k.prototype.load=function(b){var d=this;this.portal||(this.portal=u.getDefault());var c=this.portal.load(b).then(function(){return d.sourceJSON?d.sourceJSON:d.id&&d.itemUrl?d.portal._request(d.itemUrl,{signal:a.isSome(b)?b.signal:null}):{}}).then(function(a){d.sourceJSON=a;d.read(a)});this.addResolvingPromise(c);
                return g.resolve(this)};k.prototype.addRating=function(a){var b={method:"post",query:{}};a instanceof p&&(a=a.rating);isNaN(a)||"number"!==typeof a||(b.query.rating=a);return this.portal._request(this.itemUrl+"/addRating",b).then(function(){return new p({rating:a,created:new Date})})};k.prototype.clone=function(){var a={access:this.access,accessInformation:this.accessInformation,applicationProxies:d.clone(this.applicationProxies),avgRating:this.avgRating,categories:d.clone(this.categories),created:d.clone(this.created),
                culture:this.culture,description:this.description,extent:d.clone(this.extent),groupCategories:d.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:d.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:d.clone(this.screenshots),size:this.size,snippet:this.snippet,tags:d.clone(this.tags),thumbnail:this.thumbnail,
                title:this.title,type:this.type,typeKeywords:d.clone(this.typeKeywords),url:this.url};this.loaded&&(a.loadStatus="loaded");return(new h({sourceJSON:this.sourceJSON})).set(a)};k.prototype.createPostQuery=function(){var a=this.toJSON(),b;for(b in a)"tags"===b&&null!==a[b]&&(a[b]=a[b].join(", ")),"typeKeywords"===b&&null!==a[b]&&(a[b]=a[b].join(", ")),"extent"===b&&a[b]&&(a[b]=JSON.stringify(a[b]));return a};k.prototype.deleteRating=function(){return this.portal._request(this.itemUrl+"/deleteRating",
                {method:"post"}).then(function(){})};k.prototype.fetchData=function(a,b){void 0===a&&(a="json");return this.portal._request(this.itemUrl+"/data",m({responseType:a},b))};k.prototype.fetchRating=function(a){return this.portal._request(this.itemUrl+"/rating",a).then(function(a){return null!=a.rating?(a.created=new Date(a.created),new p(a)):null})};k.prototype.fetchRelatedItems=function(a,b){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",m({query:a},b),"PortalItem")};k.prototype.getThumbnailUrl=
                function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};k.prototype.reload=function(){var a=this;return this.portal._request(this.itemUrl,{cacheBust:!0}).then(function(b){a.sourceJSON=b;a.read(b);return a})};k.prototype.update=function(a){var b=this;return this.id?this.load().then(function(){return b.portal._signIn()}).then(function(){var d=a&&a.data,c={method:"post"};c.query=b.createPostQuery();for(var f in c.query)null===c.query[f]&&(c.query[f]="");c.query.clearEmptyFields=!0;null!=
            d&&("string"===typeof d?c.query.text=d:"object"===typeof d&&(c.query.text=JSON.stringify(d)));return b.portal._request(b.userItemUrl+"/update",c).then(function(){return b.reload()})}):g.reject(new l("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};k.prototype.updateThumbnail=function(b){var d=this;return this.id?this.load().then(function(){return d.portal._signIn()}).then(function(){var c=b.thumbnail,e=b.filename,g={method:"post"};if("string"===typeof c)f.isDataProtocol(c)?
                g.query={data:c}:g.query={url:f.makeAbsolute(c)},a.isSome(e)&&(g.query.filename=e);else{var k=new FormData;a.isSome(e)?k.append("file",c,e):k.append("file",c);g.body=k}return d.portal._request(d.userItemUrl+"/updateThumbnail",g).then(function(){return d.reload()})}):g.reject(new l("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};k.prototype.toJSON=function(){var a=this.extent,a={created:this.created&&this.created.getTime(),description:this.description,extent:a&&
                    [[a.xmin,a.ymin],[a.xmax,a.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return d.fixJson(a)};k.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new h({sourceJSON:a})};k.prototype._getPostQuery=function(){var a=this.toJSON(),
                b;for(b in a)"tags"===b&&null!==a[b]&&(a[b]=a[b].join(", ")),"typeKeywords"===b&&null!==a[b]&&(a[b]=a[b].join(", ")),"extent"===b&&a[b]&&(a[b]=JSON.stringify(a[b]));return a};var h;e([r.property()],k.prototype,"access",void 0);e([r.property()],k.prototype,"accessInformation",void 0);e([r.property({json:{read:{source:"appProxies"}}})],k.prototype,"applicationProxies",void 0);e([r.property()],k.prototype,"avgRating",void 0);e([r.property()],k.prototype,"categories",void 0);e([r.property({type:Date})],
                k.prototype,"created",void 0);e([r.property()],k.prototype,"culture",void 0);e([r.property()],k.prototype,"description",void 0);e([r.property({dependsOn:["type","typeKeywords"],readOnly:!0})],k.prototype,"displayName",null);e([r.property({type:t})],k.prototype,"extent",void 0);e([r.reader("extent")],k.prototype,"readExtent",null);e([r.property()],k.prototype,"groupCategories",void 0);e([r.property({dependsOn:["type","typeKeywords"],readOnly:!0})],k.prototype,"iconUrl",null);e([r.property()],k.prototype,
                "id",void 0);e([r.property({dependsOn:["type"],readOnly:!0})],k.prototype,"isLayer",null);e([r.property()],k.prototype,"itemControl",void 0);e([r.property({dependsOn:["portal.restUrl","id"],readOnly:!0})],k.prototype,"itemUrl",null);e([r.property()],k.prototype,"licenseInfo",void 0);e([r.property({type:Date})],k.prototype,"modified",void 0);e([r.property()],k.prototype,"name",void 0);e([r.property()],k.prototype,"numComments",void 0);e([r.property()],k.prototype,"numRatings",void 0);e([r.property()],
                k.prototype,"numViews",void 0);e([r.property()],k.prototype,"owner",void 0);e([r.property()],k.prototype,"ownerFolder",void 0);e([r.property({type:u})],k.prototype,"portal",void 0);e([r.property()],k.prototype,"screenshots",void 0);e([r.property()],k.prototype,"size",void 0);e([r.property()],k.prototype,"snippet",void 0);e([r.property()],k.prototype,"sourceJSON",void 0);e([r.property()],k.prototype,"tags",void 0);e([r.property()],k.prototype,"thumbnail",void 0);e([r.property({dependsOn:["itemUrl",
                    "thumbnail","portal.credential.token"],readOnly:!0})],k.prototype,"thumbnailUrl",null);e([r.property()],k.prototype,"title",void 0);e([r.property()],k.prototype,"type",void 0);e([r.property()],k.prototype,"typeKeywords",void 0);e([r.property()],k.prototype,"url",void 0);e([r.property({dependsOn:["portal.restUrl","portal.user.username","owner","ownerFolder","id"],readOnly:!0})],k.prototype,"userItemUrl",null);return k=h=e([r.subclass("esri.portal.PortalItem")],k)}(r.declared(h.JSONSupportMixin(k)))})},
        "esri/portal/PortalRating":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){return function(b){function d(d){d=b.call(this,d)||this;d.created=null;d.rating=null;return d}n(d,b);e([l.property()],d.prototype,"created",void 0);e([l.property()],d.prototype,"rating",void 0);return d=e([l.subclass("esri.portal.PortalRating")],d)}(l.declared(m))})},"esri/support/basemapDefinitions":function(){define(["require",
            "exports","dojo/i18n!../nls/basemaps"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.esriBasemapDefinitions={streets:{id:"streets",title:n.streets,thumbnailUrl:c.toUrl("../images/basemap/streets.jpg"),baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",title:n.satellite,thumbnailUrl:c.toUrl("../images/basemap/satellite.jpg"),
                baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",title:n.hybrid,thumbnailUrl:c.toUrl("../images/basemap/hybrid.jpg"),baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,
                    visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",title:n.terrain,thumbnailUrl:c.toUrl("../images/basemap/terrain.jpg"),baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",
                    layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",title:n.topo,thumbnailUrl:c.toUrl("../images/basemap/topo.jpg"),baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",
                    layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",title:n.gray,thumbnailUrl:c.toUrl("../images/basemap/gray.jpg"),baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",
                    layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",title:n["dark-gray"],thumbnailUrl:c.toUrl("../images/basemap/dark-gray.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",
                    url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",title:n.oceans,thumbnailUrl:c.toUrl("../images/basemap/oceans.jpg"),baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",
                    showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",title:n["national-geographic"],thumbnailUrl:c.toUrl("../images/basemap/national-geographic.jpg"),baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",
                    title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",title:n.osm,thumbnailUrl:c.toUrl("../images/basemap/osm.jpg"),baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",title:n["dark-gray"],thumbnailUrl:c.toUrl("../images/basemap/dark-gray-vector.jpg"),baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",
                    layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",title:n.gray,thumbnailUrl:c.toUrl("../images/basemap/gray-vector.jpg"),baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",
                    layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",title:n.streets,thumbnailUrl:c.toUrl("../images/basemap/streets-vector.jpg"),baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",
                    layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",title:n.topo,thumbnailUrl:c.toUrl("../images/basemap/topo-vector.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",
                    layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",title:n["streets-night-vector"],thumbnailUrl:c.toUrl("../images/basemap/streets-night.jpg"),baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",
                title:n["streets-relief-vector"],thumbnailUrl:c.toUrl("../images/basemap/streets-relief.jpg"),baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",
                    layerType:"VectorTileLayer",showLegend:!1,visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",title:n["streets-navigation-vector"],thumbnailUrl:c.toUrl("../images/basemap/streets-navigation.jpg"),baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]}}})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./has!host-browser?./_base/xhr ./json module".split(" "),
            function(c,b,n,e,m,l,h,d,k){n.add("dojo-preload-i18n-Api",1);h=c.i18n={};var a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,g=function(a,b,d,c){var f=[d+c];b=b.split("-");for(var e="",g=0;g<b.length;g++)if(e+=(e?"-":"")+b[g],!a||a[e])f.push(d+e+"/"+c),f.specificity=e;return f},f={},r=function(a,b,d){d=d?d.toLowerCase():c.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(d)?a+"/nls/"+b:a+"/nls/"+d+"/"+b},q=c.getL10nName=function(a,b,d){return a=k.id+"!"+r(a,b,d)},t=function(a,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             d,c,e,k){a([b],function(p){var q=l.clone(p.root||p.ROOT),h=g(!p._v1x&&p,e,d,c);a(h,function(){for(var a=1;a<h.length;a++)q=l.mixin(l.clone(q),arguments[a]);f[b+"/"+e]=q;q.$locale=h.specificity;k()})})},u=function(a){var b=m.extraLocale||[],b=l.isArray(b)?b:[b];b.push(a);return b},p=function(b,g,k){var p=a.exec(b),q=p[1]+"/",h=p[5]||p[4],v=q+h,m=(p=p[5]&&p[4])||c.locale||"",r=v+"/"+m,p=p?[m]:u(m),x=p.length,B=function(){--x||k(l.delegate(f[r]))},m=b.split("*"),D="preload"==m[1];if(n("dojo-preload-i18n-Api")){if(D&&
            (f[b]||(f[b]=1,y(m[2],d.parse(m[3]),1,g)),k(1)),(m=D)||(w&&z.push([b,g,k]),m=w&&!f[r]),m)return}else if(D){k(1);return}e.forEach(p,function(a){var b=v+"/"+a;n("dojo-preload-i18n-Api")&&A(b);f[b]?B():t(g,v,q,h,a,B)})};n("dojo-preload-i18n-Api");var v=h.normalizeLocale=function(a){a=a?a.toLowerCase():c.locale;return"root"==a?"ROOT":a},w=0,z=[],y=h._preloadLocalizations=function(a,d,g,k){function q(a,b){k([a],b)}function h(a,b){for(a=a.split("-");a.length;){if(b(a.join("-")))return;a.pop()}b("ROOT")}
                function t(){for(--w;!w&&z.length;)p.apply(null,z.shift())}function m(c){c=v(c);h(c,function(g){if(0<=e.indexOf(d,g)){var p=a.replace(/\./g,"/")+"_"+g;w++;q(p,function(a){for(var d in a){var e=a[d],p=d.match(/(.+)\/([^\/]+)$/),q;if(p&&(q=p[2],p=p[1]+"/",e._localized)){var v;if("ROOT"===g){var m=v=e._localized;delete e._localized;m.root=e;f[b.toAbsMid(d)]=m}else v=e._localized,f[b.toAbsMid(p+q+"/"+g)]=e;g!==c&&function(a,d,e,g){var p=[],q=[];h(c,function(c){g[c]&&(p.push(b.toAbsMid(a+c+"/"+d)),q.push(b.toAbsMid(a+
                    d+"/"+c)))});p.length?(w++,k(p,function(){for(var g=p.length-1;0<=g;g--)e=l.mixin(l.clone(e),arguments[g]),f[q[g]]=e;f[b.toAbsMid(a+d+"/"+c)]=l.clone(e);t()})):f[b.toAbsMid(a+d+"/"+c)]=e}(p,q,e,v)}}t()});return!0}return!1})}k=k||b;m();e.forEach(c.config.extraLocale,m)},A=function(){},x={},A=function(a){for(var b,d=a.split("/"),e=c.global[d[0]],g=1;e&&g<d.length-1;e=e[d[g++]]);e&&((b=e[d[g]])||(b=e[d[g].replace(/-/g,"_")]),b&&(f[a]=b));return b};h.getLocalization=function(a,d,c){var f,e=r(a,d,c);if(x[e])return x[e];
                p(e,b,function(a){f=x[e]=a});return f};return l.mixin(h,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:p,cache:f,getL10nName:q})})},"esri/webdoc/support/writeUtils":function(){define("require exports ../../core/Error ../../core/lang ../../core/maybe ../../core/object".split(" "),function(c,b,n,e,m,l){function h(a){return!("feature"!==a.type||a.url||!a.source||"memory"!==a.source.type)}Object.defineProperty(b,"__esModule",{value:!0});var d=new Set;"bing-maps open-street-map tile unknown unsupported vector-tile web-tile".split(" ").forEach(function(a){return d.add(a)});
            var k=new Set;"feature tile unknown unsupported vector-tile web-tile".split(" ").forEach(function(a){return k.add(a)});b.getLayerJSON=function(a,b,c){if(!("write"in a&&a.write))return c&&c.messages&&c.messages.push(new n("layer:unsupported","Layers ("+a.title+", "+a.id+") of type '"+a.declaredClass+"' cannot be persisted",{layer:a})),null;var f;c.restrictedWebMapWriting?(f="basemap"===c.layerContainerType?d:"operational-layers"===c.layerContainerType?k:null,f=m.isSome(f)?f.has(a.type)&&!h(a):!0):
                f=!0;if(f)return b={},a.write(b,c)?b:null;if(m.isSome(b)){c=b=e.clone(b);if(h(a)){if(f=(f=l.getDeepValue("featureCollection.layers",c))&&f[0]&&f[0].layerDefinition)"maxScale"in a&&(f.maxScale=a.maxScale),"minScale"in a&&(f.minScale=a.minScale)}else"group"!==a.type&&("maxScale"in a&&(c.maxScale=a.maxScale),"minScale"in a&&(c.minScale=a.minScale));c.opacity=a.opacity;c.title=a.title;c.visibility=a.visible}return b}})},"esri/Ground":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./ground/NavigationConstraint ./layers/support/types ./webdoc/support/opacityUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y){function A(a){return"elevation"===a.type||a&&"createElevationSampler"in a}var x=t.getLogger("esri.Ground");return function(b){function g(a){var d=b.call(this,a)||this;d.opacity=1;d.surfaceColor=null;d.navigationConstraint=null;d.layers=new h;d.layers.on("after-add",function(a){a=a.item;a.parent&&a.parent!==d&&"remove"in a.parent&&a.parent.remove(a);a.parent=d;z.isOfType(a,["elevation","base-elevation"])||x.error("Layer '"+a.title+", id:"+a.id+"' of type '"+
                a.type+"' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.")});d.layers.on("after-remove",function(a){a.item.parent=null});return d}e(g,b);t=g;g.prototype.initialize=function(){this.when().catch(function(a){x.error("#load()","Failed to load ground",a)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};g.prototype.normalizeCtorArgs=function(a){a&&"resourceInfo"in a&&(this._set("resourceInfo",a.resourceInfo),
                a=n({},a),delete a.resourceInfo);return a};Object.defineProperty(g.prototype,"layers",{set:function(a){this._set("layers",d.referenceSetter(a,this._get("layers")))},enumerable:!0,configurable:!0});g.prototype.writeLayers=function(b,d,c,f){var e=[];b&&(f=n({},f,{layerContainerType:"ground"}),b.forEach(function(b){if("write"in b){var d={};k.typeCast(b)().write(d,f)&&e.push(d)}else f&&f.messages&&f.messages.push(new a("layer:unsupported","Layers ("+b.title+", "+b.id+") of type '"+b.declaredClass+"' cannot be persisted in the ground",
                {layer:b}))}));d.layers=e};g.prototype.load=function(a){this.addResolvingPromise(this._loadFromSource(a));return u.resolve(this)};g.prototype.loadAll=function(){var a=this;return q.loadAll(this,function(b){b(a.layers)})};g.prototype.queryElevation=function(a,b){var d=this;return this._importElevationQuery().then(function(c){c=new c.ElevationQuery;var f=d.layers.filter(A).toArray();return c.queryAll(f,a,b)})};g.prototype.createElevationSampler=function(a,b){var d=this.layers.filter(A).toArray();return 1===
            d.length?d[0].createElevationSampler(a,b):this._importElevationQuery().then(function(c){return(new c.ElevationQuery).createSamplerAll(d,a,b)})};g.prototype.clone=function(){var a={opacity:this.opacity,surfaceColor:f.clone(this.surfaceColor),navigationConstraint:f.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(a.loadStatus="loaded");return(new t({resourceInfo:this.resourceInfo})).set(a)};g.prototype.read=function(a,b){this.resourceInfo||this._set("resourceInfo",{data:a,
                context:b});this.inherited(arguments)};g.prototype._loadFromSource=function(a){var b=this.resourceInfo;return b?this._loadLayersFromJSON(b.data,b.context,a):u.resolve(null)};g.prototype._loadLayersFromJSON=function(a,b,d){var f=this,e=b&&b.origin||"web-scene",g=b&&b.portal||null,k=b&&b.url||null;return u.create(function(a){return c(["./portal/support/layersCreator"],a)}).then(function(b){u.throwIfAborted(d);var c=[];a.layers&&Array.isArray(a.layers)&&c.push(b.populateOperationalLayers(f.layers,a.layers,
                {context:{origin:e,url:k,portal:g,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));return u.eachAlways(c)}).then(function(){})};g.prototype._importElevationQuery=function(){return u.create(function(a){c(["./layers/support/ElevationQuery"],a)})};var t;m([p.property({json:{read:!1}})],g.prototype,"layers",null);m([p.writer("layers")],g.prototype,"writeLayers",null);m([p.property({readOnly:!0})],g.prototype,"resourceInfo",void 0);m([p.property({type:Number,nonNullable:!0,
                range:{min:0,max:1},json:{type:v.Integer,read:{reader:y.transparencyToOpacity,source:"transparency"},write:{writer:function(a,b){b.transparency=y.opacityToTransparency(a)},target:"transparency"}}})],g.prototype,"opacity",void 0);m([p.property({type:l,json:{type:[v.Integer],write:function(a,b){b.surfaceColor=a.toJSON().slice(0,3)}}})],g.prototype,"surfaceColor",void 0);m([p.property({type:w.NavigationConstraint,json:{write:!0}})],g.prototype,"navigationConstraint",void 0);return g=t=m([p.subclass("esri.Ground")],
                g)}(p.declared(g.JSONSupportMixin(r)))})},"esri/Color":function(){define(["require","exports","./core/mathUtils","./core/maybe","./core/accessorSupport/ensureType"],function(c,b,n,e,m){function l(b){return n.clamp(m.ensureInteger(b),0,255)}function h(b,a,d){b=Number(b);return isNaN(b)?d:b<a?a:b>d?d:b}function d(b,a,d){0>d&&++d;1<d&&--d;var c=6*d;return 1>c?b+(a-b)*c:1>2*d?a:2>3*d?b+(a-b)*(2/3-d)*6:b}c=function(){function b(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}b.blendColors=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           d,c,e){void 0===e&&(e=new b);e.r=Math.round(a.r+(d.r-a.r)*c);e.g=Math.round(a.g+(d.g-a.g)*c);e.b=Math.round(a.b+(d.b-a.b)*c);e.a=a.a+(d.a-a.a)*c;return e._sanitize()};b.fromRgb=function(a,c){var f=a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(f){a=f[2].split(/\s*,\s*/);f=f[1];if("rgb"===f&&3===a.length||"rgba"===f&&4===a.length)return f=a[0],"%"===f.charAt(f.length-1)?(f=a.map(function(a){return 2.56*parseFloat(a)}),4===a.length&&(f[3]=parseFloat(a[3])),b.fromArray(f,c)):b.fromArray(a.map(function(a){return parseFloat(a)}),
            c);if("hsl"===f&&3===a.length||"hsla"===f&&4===a.length){var f=(parseFloat(a[0])%360+360)%360/360,e=parseFloat(a[1])/100,g=parseFloat(a[2])/100,e=.5>=g?g*(e+1):g+e-g*e,g=2*g-e,f=[256*d(g,e,f+1/3),256*d(g,e,f),256*d(g,e,f-1/3),1];4===a.length&&(f[3]=parseFloat(a[3]));return b.fromArray(f,c)}}return null};b.fromHex=function(a,d){void 0===d&&(d=new b);var c=4===a.length?4:8,e=(1<<c)-1,g=Number("0x"+a.substr(1));if(isNaN(g))return null;["b","g","r"].forEach(function(a){var b=g&e;g>>=c;d[a]=4===c?17*b:
            b});d.a=1;return d};b.fromArray=function(a,d){void 0===d&&(d=new b);d._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(d.a)&&(d.a=1);return d._sanitize()};b.fromString=function(a,d){var c=b.named[a];return c&&b.fromArray(c,d)||b.fromRgb(a,d)||b.fromHex(a,d)};b.fromJSON=function(a){return a&&new b([a[0],a[1],a[2],a[3]/255])};b.toUnitRGB=function(a){return e.isSome(a)?[a.r/255,a.g/255,a.b/255]:null};b.toUnitRGBA=function(a){return e.isSome(a)?[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]:
            null};b.prototype.setColor=function(a){"string"===typeof a?b.fromString(a,this):Array.isArray(a)?b.fromArray(a,this):(this._set(a.r,a.g,a.b,a.a),a instanceof b||this._sanitize());return this};b.prototype.toRgb=function(){return[this.r,this.g,this.b]};b.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};b.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),d=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>d.length?"0"+d:d)};b.prototype.toCss=
            function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+this.a+")":"rgb("+b+")"};b.prototype.toString=function(){return this.toCss(!0)};b.prototype.toJSON=function(){return[l(this.r),l(this.g),l(this.b),l(255*this.a)]};b.prototype.clone=function(){return new b(this.toRgba())};b.prototype.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};b.prototype._sanitize=function(){this.r=Math.round(h(this.r,0,255));this.g=Math.round(h(this.g,0,255));this.b=
            Math.round(h(this.b,0,255));this.a=h(this.a,0,1);return this};b.prototype._set=function(a,b,d,c){this.r=a;this.g=b;this.b=d;this.a=c};b.named={transparent:[0,0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,
                255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,
                0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,
                248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,
                182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,
                21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rebeccapurple:[102,51,153],
            rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,
                205,50]};return b}();c.prototype.declaredClass="esri.Color";return c})},"esri/core/mathUtils":function(){define(["require","exports"],function(c,b){function n(b,c,d){return b<c?c:b>d?d:b}function e(b){m[0]=b;return m[0]}Object.defineProperty(b,"__esModule",{value:!0});var m=new Float32Array(1);b.isFinite=Number.isFinite||function(b){return"number"===typeof b&&window.isFinite(b)};b.isNaN=Number.isNaN||function(b){return b!==b};b.nextHighestPowerOfTwo=function(b){--b;for(var c=1;32>c;c<<=1)b|=b>>c;
            return b+1};b.clamp=n;b.glClamp=function(b,c,d){return Math.min(Math.max(b,c),d)};b.isPowerOfTwo=function(b){return 0===(b&b-1)};b.nextHighestPowerOfTen=function(b){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(b)))};b.sign=Math.sign||function(b){return+(0<b)-+(0>b)||+b};b.log2=Math.log2||function(b){return Math.log(b)/Math.LN2};b.lerp=function(b,c,d){return b+(c-b)*d};b.deg2rad=function(b){return b*Math.PI/180};b.rad2deg=function(b){return 180*b/Math.PI};b.reciprocalClamped=function(b,c){void 0===
        c&&(c=1E-6);return(0>b?-1:1)/Math.max(Math.abs(b),c)};b.acosClamped=function(b){return Math.acos(n(b,-1,1))};b.asinClamped=function(b){return Math.asin(n(b,-1,1))};b.floatEqualRelative=function(c,e,d){void 0===d&&(d=1E-6);if(b.isNaN(c)||b.isNaN(e))return!1;if(c===e)return!0;var k=Math.abs(c-e),a=Math.abs(c),g=Math.abs(e);if(0===c||0===e||1E-12>a&&1E-12>g){if(k>.01*d)return!1}else if(k/(a+g)>d)return!1;return!0};b.floatEqualAbsolute=function(c,e,d){void 0===d&&(d=1E-6);return b.isNaN(c)||b.isNaN(e)?
            !1:(c>e?c-e:e-c)<=d};b.clampFloat32=function(c){return e(Math.max(-b.NUMBER_MAX_FLOAT32,Math.min(c,b.NUMBER_MAX_FLOAT32)))};b.NUMBER_MAX_FLOAT32=e(3.4028234663852886E38)})},"esri/ground/NavigationConstraint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(a){a=b.call(this,a)||this;
            a.type="none";return a}n(d,b);c=d;d.prototype.clone=function(){return new c({type:this.type})};var c;e([l.enumeration.serializable()({none:"none",stayAbove:"stay-above"})],d.prototype,"type",void 0);return d=c=e([l.subclass("esri.ground.NavigationConstraint")],d)}(l.declared(m.JSONSupport));b.NavigationConstraint=c})},"esri/layers/support/types":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.isOfType=function(b,c){b=b.constructor._meta;if(!b||
            !b.bases)return!1;b=b.bases;var e=Array.isArray(c);return b.some(function(b){b=b.__accessorMetadata__;if(!b)return!1;b=b.properties;if(!b||!b.type||!b.type.value)return!1;b=b.type.value;return e?-1!==c.indexOf(b):b===c})}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.opacityToTransparency=function(b){b=n.ensureInteger(100*(1-b));return Math.max(0,Math.min(b,100))};
            b.transparencyToOpacity=function(b){return Math.max(0,Math.min(1-b/100,1))}})},"esri/core/CollectionFlattener":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Collection ./Handles ./accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a._handles=new l;a.root=null;return a}n(d,b);d.prototype.initialize=function(){var a=this;this._handles.add(this.rootCollectionNames.map(function(b){return a.watch("root."+
            b,function(){return a.updateCollections()},!0)}));this.updateCollections()};d.prototype.destroy=function(){this.root=null;this.refresh();this._handles.destroy();this._handles=null};d.prototype.updateCollections=function(){var a=this;this._collections=this.rootCollectionNames.map(function(b){return a.get("root."+b)}).filter(function(a){return null!=a});this.refresh()};d.prototype.refresh=function(){var a=this,b=this._handles;b.remove("collections");this.removeAll();for(var d=[],c=[],e=0,k=this._collections;e<
        k.length;e++)this._processCollection(d,c,k[e]);this.push.apply(this,c);for(c=0;c<d.length;c++)b.add(d[c].on("after-changes",function(){return a.refresh()}),"collections")};d.prototype._createNewInstance=function(a){return new m(a)};d.prototype._processCollection=function(a,b,d){var c=this;d&&(a.push(d),d.forEach(function(d){d&&(b.push(d),c._processCollection(a,b,c.getChildrenFunction(d)))}))};e([h.property()],d.prototype,"rootCollectionNames",void 0);e([h.property()],d.prototype,"root",void 0);e([h.property()],
            d.prototype,"getChildrenFunction",void 0);return d=e([h.subclass("esri.core.CollectionFlattener")],d)}(h.declared(m))})},"esri/core/Handles":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Accessor ./Collection ./accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a._groups=new Map;return a}n(d,b);d.prototype.destroy=function(){this.removeAll()};Object.defineProperty(d.prototype,
            "size",{get:function(){var a=0;this._groups.forEach(function(b){a+=b.length});return a},enumerable:!0,configurable:!0});d.prototype.add=function(a,b){var d=this;if(!this._isHandle(a)&&!Array.isArray(a)&&!l.isCollection(a))return this;var c=this._getOrCreateGroup(b);Array.isArray(a)||l.isCollection(a)?a.forEach(function(a){return d._isHandle(a)&&c.push(a)}):c.push(a);this.notifyChange("size");return this};d.prototype.forEach=function(a,b){if("function"===typeof a)this._groups.forEach(function(b){return b.forEach(a)});
        else{var d=this._getGroup(a);d&&d.forEach(b)}};d.prototype.has=function(a){return this._groups.has(this._ensureGroupKey(a))};d.prototype.remove=function(a){if(Array.isArray(a)||l.isCollection(a))return a.forEach(this.remove,this),this;if(!this.has(a))return this;for(var b=this._getGroup(a),d=0;d<b.length;d++)b[d].remove();this._deleteGroup(a);this.notifyChange("size");return this};d.prototype.removeAll=function(){this._groups.forEach(function(a){for(var b=0;b<a.length;b++)a[b].remove()});this._groups.clear();
            this.notifyChange("size");return this};d.prototype._isHandle=function(a){return a&&!!a.remove};d.prototype._getOrCreateGroup=function(a){if(this.has(a))return this._getGroup(a);var b=[];this._groups.set(this._ensureGroupKey(a),b);return b};d.prototype._getGroup=function(a){return this._groups.get(this._ensureGroupKey(a))};d.prototype._deleteGroup=function(a){return this._groups.delete(this._ensureGroupKey(a))};d.prototype._ensureGroupKey=function(a){return a||"_default_"};e([h.property({readOnly:!0})],
            d.prototype,"size",null);return d=e([h.subclass("esri.core.Handles")],d)}(h.declared(m))})},"esri/support/basemapUtils":function(){define("require exports ../Basemap ../core/Collection ../core/Logger ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(c,b,n,e,m,l,h,d){function k(a,b){var c;if("string"===typeof a){if(!(a in d.esriBasemapDefinitions))return b=Object.keys(d.esriBasemapDefinitions).map(function(a){return'"'+a+'"'}).join(", "),z.warn("Unable to find basemap definition for: "+
            a+". Try one of these: "+b),null;b&&(c=b[a]);c||(c=n.fromId(a),b&&(b[a]=c))}else c=h.default(n,a);return c}function a(a,b){var d=new e;a.forEach(function(a){var c=b.find(function(b){return v(r(a),r(b))})||a;d.some(function(a){return a===c})?d.push(a):d.push(c)});return d}function g(a){return a?!a.loaded&&a.resourceInfo?q(a.resourceInfo.data):{baseLayers:f(a.baseLayers),referenceLayers:f(a.referenceLayers)}:null}function f(a){return(e.isCollection(a)?a.toArray():a).map(r)}function r(a){return{type:a.type,
            url:w("urlTemplate"in a&&a.urlTemplate||a.url||"styleUrl"in a&&a.styleUrl),minScale:"minScale"in a&&null!=a.minScale?a.minScale:0,maxScale:"maxScale"in a&&null!=a.maxScale?a.maxScale:0,opacity:null!=a.opacity?a.opacity:1,visible:null!=a.visible?!!a.visible:!0}}function q(a){return a?{baseLayers:t(a.baseMapLayers.filter(function(a){return!a.isReference})),referenceLayers:t(a.baseMapLayers.filter(function(a){return a.isReference}))}:null}function t(a){return a.map(function(a){var b;switch(a.layerType){case "VectorTileLayer":b=
            "vector-tile";break;case "ArcGISTiledMapServiceLayer":b="tile";break;default:b="unknown"}return{type:b,url:w(a.templateUrl||a.urlTemplate||a.styleUrl||a.url),minScale:null!=a.minScale?a.minScale:0,maxScale:null!=a.maxScale?a.maxScale:0,opacity:null!=a.opacity?a.opacity:1,visible:null!=a.visibility?!!a.visibility:!0}})}function u(a,b,d){return null!=a!==(null!=b)?"not-equal":a?p(a.baseLayers,b.baseLayers)?p(a.referenceLayers,b.referenceLayers)?"equal":d.mustMatchReferences?"not-equal":"base-layers-equal":
            "not-equal":"equal"}function p(a,b){if(a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(!v(a[d],b[d]))return!1;return!0}function v(a,b){return a.type===b.type&&a.url===b.url&&a.minScale===b.minScale&&a.maxScale===b.maxScale&&a.visible===b.visible&&a.opacity===b.opacity}function w(a){return a?l.normalize(a).replace(/^\s*https?:/i,"").toLowerCase():""}Object.defineProperty(b,"__esModule",{value:!0});var z=m.getLogger("esri.support.basemapUtils");b.createCache=function(){return{}};b.ensureType=
            k;b.clonePreservingTiledLayers=function(b,d){void 0===d&&(d=null);b=k(b);if(!b)return null;var c=new n({id:b.id,title:b.title,baseLayers:b.baseLayers.slice(),referenceLayers:b.referenceLayers.slice()});d&&(c.baseLayers=a(c.baseLayers,d.baseLayers),c.referenceLayers=a(c.referenceLayers,d.referenceLayers));c.load().catch(function(){});c.portalItem=b.portalItem;return c};b.getWellKnownBasemapId=function(a){var b=null;a=g(a);for(var c in d.esriBasemapDefinitions){var f=q(d.esriBasemapDefinitions[c]),
            f=u(a,f,{mustMatchReferences:!1});if("equal"===f){b=c;break}"base-layers-equal"===f&&(b=c)}return b};b.contentEquals=function(a,b){if(a===b)return!0;a=g(a);b=g(b);return"equal"===u(a,b,{mustMatchReferences:!0})}})},"esri/support/groundUtils":function(){define(["require","exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});var l=e.getLogger("esri.support.groundUtils");b.groundElevationLayers={"world-elevation":{id:"worldElevation",
                url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};b.ensureType=function(c){var d;"string"===typeof c?c in b.groundElevationLayers?d=new n({resourceInfo:{data:{layers:[b.groundElevationLayers[c]]}}}):l.warn("Unable to find ground definition for: "+
            c+'. Try "world-elevation"'):d=m.default(n,c);return d}})},"esri/support/LayersMixin":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators ../layers/Layer".split(" "),function(c,b,n,e,m,l,h,d,k,a){function g(a,b,d){var c;if(a)for(var f=0,e=a.length;f<e;f++)if(c=a.getItemAt(f),c[b]===d||c&&"group"===c.type&&(c=g(c.layers,b,d)))return c}
            Object.defineProperty(b,"__esModule",{value:!0});var f=h.getLogger("esri.support.LayersMixin");b.LayersMixin=function(b){return function(b){function c(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];var c=b.call(this,a)||this;c.layers=new m;c.layers.on("after-add",function(a){a=a.item;a.parent&&a.parent!==c&&"remove"in a.parent&&a.parent.remove(a);a.parent=c;c.layerAdded(a);"elevation"===a.type&&f.error("Layer '"+a.title+", id:"+a.id+"' of type '"+a.type+"' is not supported as an operational layer and will therefore be ignored.")});
                c.layers.on("after-remove",function(a){a=a.item;a.parent=null;c.layerRemoved(a)});return c}n(c,b);c.prototype.destroy=function(){this.layers.drain(this.layerRemoved,this)};Object.defineProperty(c.prototype,"layers",{set:function(a){this._set("layers",l.referenceSetter(a,this._get("layers")))},enumerable:!0,configurable:!0});c.prototype.add=function(b,c){var e=this,g=this.layers;c=g.getNextIndex(c);b instanceof a?(b.parent===this&&this.reorder(b,c),g.add(b,c)):d.isPromiseLike(b)?b.then(function(a){e.destroyed||
            e.add(a,c)}):f.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};c.prototype.addMany=function(a,b){var d=this,c=this.layers;b=c.getNextIndex(b);a.slice().forEach(function(a){a.parent===d?d.reorder(a,b):(c.add(a,b),b+=1)})};c.prototype.findLayerById=function(a){return g(this.layers,"id",a)};c.prototype.findLayerByUid=function(a){return g(this.layers,"uid",a)};c.prototype.remove=function(a){return this.layers.remove(a)};c.prototype.removeMany=function(a){return this.layers.removeMany(a)};
                c.prototype.removeAll=function(){return this.layers.removeAll()};c.prototype.reorder=function(a,b){return this.layers.reorder(a,b)};c.prototype.layerAdded=function(a){};c.prototype.layerRemoved=function(a){};e([k.property()],c.prototype,"layers",null);return c=e([k.subclass("esri.support.LayersMixin")],c)}(k.declared(b))}})},"esri/layers/Layer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../config ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators @dojo/framework/shim/Promise".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p){var v=0,w=t.getLogger("esri.layers.Layer");return function(b){function f(){var a=null!==b&&b.apply(this,arguments)||this;a.attributionDataUrl=null;a.fullExtent=new k.Extent(-180,-90,180,90,k.SpatialReference.WGS84);a.legendEnabled=!0;a.listMode="show";a.opacity=1;a.parent=null;a.popupEnabled=!0;a.attributionVisible=!0;a.spatialReference=k.SpatialReference.WGS84;a.title=null;a.type=null;a.url=null;a.visible=!0;return a}e(f,b);f.fromArcGISServerUrl=function(a){return h(this,
                void 0,void 0,function(){var b,d,f;return l(this,function(e){switch(e.label){case 0:return b="string"===typeof a?{url:a}:a,[4,new Promise(function(a,b){c(["./support/arcgisLayers"],a,b)})];case 1:d=e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,d.fromUrl(b)];case 3:return[2,e.sent()];case 4:throw f=e.sent(),w.error("#fromArcGISServerUrl({ url: '"+b.url+"'})","Failed to create layer from arcgis server url",f),f;case 5:return[2]}})})};f.fromPortalItem=function(a){return h(this,void 0,void 0,
                function(){var b,f,e,g,p,k;return l(this,function(q){switch(q.label){case 0:return b="portalItem"in a?a:{portalItem:a},[4,new Promise(function(a,b){c(["../portal/support/portalLayers"],a,b)})];case 1:f=q.sent(),q.label=2;case 2:return q.trys.push([2,4,,5]),[4,f.fromItem(b)];case 3:return[2,q.sent()];case 4:throw e=q.sent(),p=(g=b&&b.portalItem)&&g.id||"unset",k=g&&g.portal&&g.portal.url||d.portalUrl,w.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+k+"', id: '"+p+"')",
                    e),e;case 5:return[2]}})})};f.prototype.initialize=function(){var a=this;this.when().catch(function(b){t.getLogger(a.declaredClass).error("#load()","Failed to load layer (title: '"+a.title+"', id: '"+a.id+"')",b)})};Object.defineProperty(f.prototype,"hasAttributionData",{get:function(){return null!=this.attributionDataUrl},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"id",{get:function(){return Date.now().toString(16)+"-layer-"+v++},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,
                "parsedUrl",{get:function(){var a=this._get("url");return a?u.urlToObject(a):null},enumerable:!0,configurable:!0});f.prototype.fetchAttributionData=function(){return h(this,void 0,void 0,function(){var b,d;return l(this,function(c){switch(c.label){case 0:return b=this.attributionDataUrl,this.hasAttributionData&&b?[4,a(b,{query:{f:"json"},responseType:"json"})]:[3,2];case 1:return d=c.sent(),[2,d.data];case 2:throw new g("layer:no-attribution-data","Layer does not have attribution data");}})})};m([p.property({type:String})],
                f.prototype,"attributionDataUrl",void 0);m([p.property({type:k.Extent})],f.prototype,"fullExtent",void 0);m([p.property({readOnly:!0,dependsOn:["attributionDataUrl"]})],f.prototype,"hasAttributionData",null);m([p.property({type:String})],f.prototype,"id",null);m([p.property({type:Boolean})],f.prototype,"legendEnabled",void 0);m([p.property({type:["show","hide","hide-children"]})],f.prototype,"listMode",void 0);m([p.property({type:Number,range:{min:0,max:1},nonNullable:!0})],f.prototype,"opacity",
                void 0);m([p.property()],f.prototype,"parent",void 0);m([p.property({readOnly:!0,dependsOn:["url"]})],f.prototype,"parsedUrl",null);m([p.property({type:Boolean})],f.prototype,"popupEnabled",void 0);m([p.property({type:Boolean})],f.prototype,"attributionVisible",void 0);m([p.property({type:k.SpatialReference})],f.prototype,"spatialReference",void 0);m([p.property({type:String})],f.prototype,"title",void 0);m([p.property({type:String,readOnly:!0,json:{read:!1}})],f.prototype,"type",void 0);m([p.property()],
                f.prototype,"url",void 0);m([p.property({type:Boolean,nonNullable:!0})],f.prototype,"visible",void 0);return f=m([p.subclass("esri.layers.Layer")],f)}(p.declared(f.EventedMixin(r.IdentifiableMixin(q))))})},"esri/core/Identifiable":function(){define(["require","exports","./tsSupport/declareExtendsHelper","./tsSupport/decorateHelper","./accessorSupport/decorators"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});var l=0;b.IdentifiableMixin=function(b){return function(b){function d(){for(var a=
            [],d=0;d<arguments.length;d++)a[d]=arguments[d];a=b.apply(this,a)||this;Object.defineProperty(a,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+l++});return a}n(d,b);return d=e([m.subclass("esri.core.Identifiable")],d)}(m.declared(b))};c=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}n(d,b);return d=e([m.subclass("esri.core.Identifiable")],d)}(m.declared(b.IdentifiableMixin(function(){return function(){}}())));b.Identifiable=c})},"esri/Viewpoint":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./Camera ./geometry ./core/JSONSupport ./core/accessorSupport/decorators ./geometry/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k){function a(){return{enabled:!this.camera}}return function(b){function c(a){a=b.call(this,a)||this;a.rotation=0;a.scale=0;a.targetGeometry=null;a.camera=null;return a}n(c,b);g=c;c.prototype.castRotation=function(a){a%=360;0>a&&(a+=360);return a};c.prototype.clone=function(){return new g({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry?this.targetGeometry.clone():null,camera:this.camera?this.camera.clone():null})};var g;e([d.property({type:Number,
                json:{write:!0,origins:{"web-scene":{write:{overridePolicy:a}}}}})],c.prototype,"rotation",void 0);e([d.cast("rotation")],c.prototype,"castRotation",null);e([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:a}}}}})],c.prototype,"scale",void 0);e([d.property({types:l.geometryTypes,json:{read:k.fromJSON,write:!0,origins:{"web-scene":{read:k.fromJSON,write:{overridePolicy:a}}}}})],c.prototype,"targetGeometry",void 0);e([d.property({type:m,json:{write:!0}})],c.prototype,
                "camera",void 0);return c=g=e([d.subclass("esri.Viewpoint")],c)}(d.declared(h.JSONSupport))})},"esri/Camera":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./geometry/Point ./views/3d/support/mathUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a){return function(b){function c(a,d,c,f){a=b.call(this,a,d,c,f)||this;a.position=new k([0,0,0]);a.heading=
            0;a.tilt=0;a.fov=55;return a}n(c,b);g=c;c.prototype.normalizeCtorArgs=function(a,b,d,c){a&&"object"===typeof a&&("x"in a||Array.isArray(a))&&(a={position:a},null!=b&&(a.heading=b),null!=d&&(a.tilt=d),null!=c&&(a.fov=c));return a};c.prototype.writePosition=function(a,b,c,f){var e=a.clone();e.x=d.ensureNumber(a.x||0);e.y=d.ensureNumber(a.y||0);e.z=a.hasZ?d.ensureNumber(a.z||0):a.z;b[c]=e.write(null,f)};c.prototype.readPosition=function(a,b){var c=new k;c.read(a,b);c.x=d.ensureNumber(c.x||0);c.y=d.ensureNumber(c.y||
            0);c.z=c.hasZ?d.ensureNumber(c.z||0):c.z;return c};c.prototype.equals=function(a){return a?this.tilt===a.tilt&&this.heading===a.heading&&this.fov===a.fov&&this.position.equals(a.position):!1};c.prototype.clone=function(){return new g({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})};var g;e([h.property({type:k,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);e([h.writer("position")],c.prototype,"writePosition",null);e([h.reader("position")],c.prototype,
            "readPosition",null);e([h.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),h.cast(function(b){return a.cyclicalDeg.normalize(d.ensureNumber(b))})],c.prototype,"heading",void 0);e([h.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),h.cast(function(a){return l.clamp(d.ensureNumber(a),-180,180)})],c.prototype,"tilt",void 0);e([h.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"fov",void 0);return c=g=e([h.subclass("esri.Camera")],c)}(h.declared(m.JSONSupport))})},
        "esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/mathUtils","../../../core/libs/gl-matrix-2/vec3","../../../core/libs/gl-matrix-2/vec3f64"],function(c,b,n,e,m){function l(a){for(var b in a){var d=a[b];d instanceof Function&&(a[b]=d.bind(a))}return a}Object.defineProperty(b,"__esModule",{value:!0});b.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};b.fovx2fovy=function(a,b,d){return 2*Math.atan(d*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,d){return 2*
            Math.atan(b*Math.tan(.5*a)/d)};b.maxScale=function(a){return Math.sqrt(Math.max(Math.max(a[0]*a[0]+a[4]*a[4]+a[8]*a[8],a[1]*a[1]+a[5]*a[5]+a[9]*a[9]),a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};b.scaleFromMatrix=function(a,b){e.vec3.set(a,Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),Math.sqrt(b[1]*b[1]+b[5]*b[5]+b[9]*b[9]),Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]));return a};b.makeOrthonormal=function(a,b,d){d=d||a;var c=e.vec3.dot(a,b);e.vec3.set(d,a[0]-c*b[0],a[1]-c*b[1],a[2]-c*b[2]);e.vec3.normalize(d,d)};
            b.tangentFrame=function(a,b,d){Math.abs(a[0])>Math.abs(a[1])?e.vec3.set(b,0,1,0):e.vec3.set(b,1,0,0);e.vec3.cross(d,a,b);e.vec3.normalize(b,b);e.vec3.cross(b,d,a);e.vec3.normalize(d,d)};b.moduloPositive=function(a,b){return(a%b+b)%b};b.cartesianToSpherical=function(a,b){var d=e.vec3.length(a),c=n.asinClamped(a[2]/d);e.vec3.set(b,d,c,Math.atan2(a[1]/d,a[0]/d));return b};b.sphericalToCartesian=function(a,b){var d=a[0],c=a[1];a=a[2];var f=Math.cos(c);e.vec3.set(b,d*f*Math.cos(a),d*f*Math.sin(a),d*Math.sin(c))};
            b.directionFromTo=function(a,b,d){var c=d[0]-b[0],f=d[1]-b[1];b=d[2]-b[2];d=c*c+f*f+b*b;if(!d)return a[0]=0,a[1]=0,a[2]=0,a;d=1/Math.sqrt(d);a[0]=c*d;a[1]=f*d;a[2]=b*d;return a};b.bilerp=function(a,b,d,c,e,g){a+=(b-a)*e;return a+(d+(c-d)*e-a)*g};b.slerp=function(b,d,c,k){void 0===k&&(k=m.vec3f64.create());var f=e.vec3.length(b),p=e.vec3.length(d),q=e.vec3.dot(b,d)/(f*p);if(.9999999999999999>q){var q=Math.acos(q),h=((1-c)*f+c*p)/Math.sin(q),p=h/p*Math.sin(c*q);e.vec3.scale(a,b,h/f*Math.sin((1-c)*q));
                e.vec3.scale(g,d,p);return e.vec3.add(k,a,g)}return e.vec3.lerp(k,b,d,c)};b.angle=function(b,d,c){b=e.vec3.normalize(a,b);d=e.vec3.normalize(g,d);var f=n.acosClamped(e.vec3.dot(b,d));return c&&(b=e.vec3.cross(k,b,d),0>e.vec3.dot(b,c))?-f:f};b.makePiecewiseLinearFunction=function(a){var b=a.length;return function(d){if(d<=a[0][0])return a[0][1];if(d>=a[b-1][0])return a[b-1][1];for(var c=1;d>a[c][0];)c++;var f=a[c][0];d=(f-d)/(f-a[c-1][0]);return d*a[c-1][1]+(1-d)*a[c][1]}};b.vectorEquals=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};c=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,d,c){void 0===c&&(c=0);d-=c;d<a?d+=this.ndiff(a-d):d>b&&(d-=this.ndiff(d-b));return d+c};a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};
                a.prototype.clamp=function(a,b){void 0===b&&(b=0);return n.clamp(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,d){return a<b?b:b+this.ndiff(a-b,d)};a.prototype.minimalMonotonic=function(a,b,d){return this._normalize(a,a+this.range,b,d)};a.prototype.center=function(a,b,d){b=this.monotonic(a,b,d);return this.normalize((a+b)/2,d)};a.prototype.diff=function(a,b,d){return this.monotonic(a,b,d)-a};a.prototype.shortestSignedDiff=function(a,b){a=this.normalize(a);b=this.normalize(b);var d=
                    b-a;a=b<a?this.minimalMonotonic(a,b)-a:b-this.minimalMonotonic(b,a);return Math.abs(d)<Math.abs(a)?d:a};a.prototype.contains=function(a,b,d){b=this.minimalMonotonic(a,b);d=this.minimalMonotonic(a,d);return d>a&&d<b};return a}();b.Cyclical=c;b.planeFromPoints=function(a,b,c,g){e.vec3.subtract(h,b,a);e.vec3.subtract(d,c,a);e.vec3.cross(g,h,d);e.vec3.normalize(g,g);g[3]=-e.vec3.dot(a,g)};var h=m.vec3f64.create(),d=m.vec3f64.create();b.cyclical2PI=l(new c(0,2*Math.PI));b.cyclicalPI=l(new c(-Math.PI,Math.PI));
            b.cyclicalDeg=l(new c(0,360));var k=m.vec3f64.create(),a=m.vec3f64.create(),g=m.vec3f64.create()})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require","exports","./math/vec3"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.vec3=n})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(c,b,n,e){function m(a){var b=a[0],d=a[1];a=a[2];return Math.sqrt(b*b+d*d+a*a)}function l(a,b){a[0]=b[0];a[1]=b[1];
            a[2]=b[2];return a}function h(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];return a}function d(a,b,d){a[0]=b[0]*d[0];a[1]=b[1]*d[1];a[2]=b[2]*d[2];return a}function k(a,b,d){a[0]=b[0]/d[0];a[1]=b[1]/d[1];a[2]=b[2]/d[2];return a}function a(a,b){var d=b[0]-a[0],c=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(d*d+c*c+a*a)}function g(a,b){var d=b[0]-a[0],c=b[1]-a[1];a=b[2]-a[2];return d*d+c*c+a*a}function f(a){var b=a[0],d=a[1];a=a[2];return b*b+d*d+a*a}function r(a,b){var d=b[0],c=b[1],f=b[2],d=d*d+
            c*c+f*f;0<d&&(d=1/Math.sqrt(d),a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d);return a}function q(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}Object.defineProperty(b,"__esModule",{value:!0});b.length=m;b.copy=l;b.set=function(a,b,d,c){a[0]=b;a[1]=d;a[2]=c;return a};b.add=function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];return a};b.subtract=h;b.multiply=d;b.divide=k;b.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a};b.floor=function(a,b){a[0]=Math.floor(b[0]);
            a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a};b.min=function(a,b,d){a[0]=Math.min(b[0],d[0]);a[1]=Math.min(b[1],d[1]);a[2]=Math.min(b[2],d[2]);return a};b.max=function(a,b,d){a[0]=Math.max(b[0],d[0]);a[1]=Math.max(b[1],d[1]);a[2]=Math.max(b[2],d[2]);return a};b.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a};b.scale=function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;return a};b.scaleAndAdd=function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;
            a[2]=b[2]+d[2]*c;return a};b.distance=a;b.squaredDistance=g;b.squaredLength=f;b.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};b.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};b.normalize=r;b.dot=q;b.cross=function(a,b,d){var c=b[0],f=b[1];b=b[2];var e=d[0],g=d[1];d=d[2];a[0]=f*d-b*g;a[1]=b*e-c*d;a[2]=c*g-f*e;return a};b.lerp=function(a,b,d,c){var f=b[0],e=b[1];b=b[2];a[0]=f+c*(d[0]-f);a[1]=e+c*(d[1]-e);a[2]=b+c*(d[2]-b);return a};b.hermite=function(a,b,d,c,f,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        e){var g=e*e,k=g*(2*e-3)+1,p=g*(e-2)+e,h=g*(e-1);e=g*(3-2*e);a[0]=b[0]*k+d[0]*p+c[0]*h+f[0]*e;a[1]=b[1]*k+d[1]*p+c[1]*h+f[1]*e;a[2]=b[2]*k+d[2]*p+c[2]*h+f[2]*e;return a};b.bezier=function(a,b,d,c,f,e){var g=1-e,k=g*g,p=e*e,h=k*g,k=3*e*k,g=3*p*g;e*=p;a[0]=b[0]*h+d[0]*k+c[0]*g+f[0]*e;a[1]=b[1]*h+d[1]*k+c[1]*g+f[1]*e;a[2]=b[2]*h+d[2]*k+c[2]*g+f[2]*e;return a};b.random=function(a,b){b=b||1;var d=2*e.RANDOM()*Math.PI,c=2*e.RANDOM()-1,f=Math.sqrt(1-c*c)*b;a[0]=Math.cos(d)*f;a[1]=Math.sin(d)*f;a[2]=c*b;
            return a};b.transformMat4=function(a,b,d){var c=b[0],f=b[1];b=b[2];a[0]=d[0]*c+d[4]*f+d[8]*b+d[12];a[1]=d[1]*c+d[5]*f+d[9]*b+d[13];a[2]=d[2]*c+d[6]*f+d[10]*b+d[14];return a};b.transformMat3=function(a,b,d){var c=b[0],f=b[1];b=b[2];a[0]=c*d[0]+f*d[3]+b*d[6];a[1]=c*d[1]+f*d[4]+b*d[7];a[2]=c*d[2]+f*d[5]+b*d[8];return a};b.transformQuat=function(a,b,d){var c=d[0],f=d[1],e=d[2],g=b[0],k=b[1];b=b[2];var p=f*b-e*k,h=e*g-c*b,q=c*k-f*g;d=2*d[3];a[0]=g+p*d+2*(f*q-e*h);a[1]=k+h*d+2*(e*p-c*q);a[2]=b+q*d+2*(c*
            h-f*p);return a};b.rotateX=function(a,b,d,c){var f=[],e=[];f[0]=b[0]-d[0];f[1]=b[1]-d[1];f[2]=b[2]-d[2];e[0]=f[0];e[1]=f[1]*Math.cos(c)-f[2]*Math.sin(c);e[2]=f[1]*Math.sin(c)+f[2]*Math.cos(c);a[0]=e[0]+d[0];a[1]=e[1]+d[1];a[2]=e[2]+d[2];return a};b.rotateY=function(a,b,d,c){var f=[],e=[];f[0]=b[0]-d[0];f[1]=b[1]-d[1];f[2]=b[2]-d[2];e[0]=f[2]*Math.sin(c)+f[0]*Math.cos(c);e[1]=f[1];e[2]=f[2]*Math.cos(c)-f[0]*Math.sin(c);a[0]=e[0]+d[0];a[1]=e[1]+d[1];a[2]=e[2]+d[2];return a};b.rotateZ=function(a,b,d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            c){var f=[],e=[];f[0]=b[0]-d[0];f[1]=b[1]-d[1];f[2]=b[2]-d[2];e[0]=f[0]*Math.cos(c)-f[1]*Math.sin(c);e[1]=f[0]*Math.sin(c)+f[1]*Math.cos(c);e[2]=f[2];a[0]=e[0]+d[0];a[1]=e[1]+d[1];a[2]=e[2]+d[2];return a};b.angle=function(a,b){l(t,a);l(u,b);r(t,t);r(u,u);a=q(t,u);return 1<a?0:-1>a?Math.PI:Math.acos(a)};var t=n.create(),u=n.create();b.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};b.equals=function(a,b){var d=a[0],
            c=a[1];a=a[2];var f=b[0],g=b[1];b=b[2];return Math.abs(d-f)<=e.EPSILON*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(c-g)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(a-b)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};b.sub=h;b.mul=d;b.div=k;b.dist=a;b.sqrDist=g;b.len=m;b.sqrLen=f})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(c,b){function n(){return[0,0,0]}function e(){return[1,1,1]}function m(){return[1,0,0]}function l(){return[0,
            1,0]}function h(){return[0,0,1]}Object.defineProperty(b,"__esModule",{value:!0});b.create=n;b.clone=function(b){return[b[0],b[1],b[2]]};b.fromValues=function(b,c,a){return[b,c,a]};b.fromArray=function(b){for(var d=n(),a=Math.min(3,b.length),c=0;c<a;++c)d[c]=b[c];return d};b.createView=function(b,c){return new Float64Array(b,c,3)};b.zeros=function(){return n()};b.ones=e;b.unitX=m;b.unitY=l;b.unitZ=h;b.ZEROS=n();b.ONES=e();b.UNIT_X=m();b.UNIT_Y=l();b.UNIT_Z=h()})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require",
            "exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.EPSILON=1E-6;b.RANDOM=Math.random;var n=Math.PI/180,e=180/Math.PI;b.toRadian=function(b){return b*n};b.toDegree=function(b){return b*e};b.equals=function(c,e){return Math.abs(c-e)<=b.EPSILON*Math.max(1,Math.abs(c),Math.abs(e))}})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.vec3f64=n})},"esri/layers/mixins/OperationalLayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Error ../../core/promiseUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/read ../../core/accessorSupport/write ../support/commonProperties".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){Object.defineProperty(b,"__esModule",{value:!0});b.OperationalLayer=function(c){return function(c){function f(){var a=null!==c&&c.apply(this,arguments)||this;a.title="Layer";return a}n(f,c);f.prototype.writeListMode=function(a,b,d,c){c&&"ground"===c.layerContainerType?b[d]=a:a&&k.willPropertyWrite(this,d,{},c)&&(b[d]=a)};f.prototype.writeTitle=function(a,b){b.title=a||"Layer"};f.prototype.writeOperationalLayerType=function(a,b){a&&(b.layerType=a)};f.prototype.read=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        b){var c=this,f=arguments;b&&(b.layer=this);d.readLoadable(this,a,function(b){return c.inherited(f,[a,b])},b)};f.prototype.write=function(a,d){if(d&&d.origin){var c=d.origin+"/"+(d.layerContainerType||"operational-layers"),f=b.supportedTypes[c],f=f&&f[this.operationalLayerType];if("write"!==f&&"readwrite"!==f)return d.messages&&d.messages.push(new m("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' are not supported in the context of '"+c+"'",{layer:this})),
                null}c=this.inherited(arguments,[a,d]);f=!!d&&!!d.messages&&!!d.messages.filter(function(a){return a instanceof m&&"web-document-write:property-required"===a.name}).length;return!this.url&&f?null:c};e([h.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}}}}})],f.prototype,"id",void 0);e([h.property({json:{write:{ignoreOrigin:!0}}})],f.prototype,"listMode",void 0);e([h.writer("listMode")],f.prototype,"writeListMode",null);e([h.property({type:String,
                json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}}}}})],f.prototype,"title",void 0);e([h.writer("title")],f.prototype,"writeTitle",null);e([h.property({type:String,readOnly:!0,json:{write:{target:"layerType",ignoreOrigin:!0}}})],f.prototype,"operationalLayerType",void 0);e([h.writer("operationalLayerType")],f.prototype,"writeOperationalLayerType",null);e([h.property(a.opacity)],f.prototype,"opacity",void 0);e([h.property({type:Boolean,json:{read:{source:"visibility"},
                    write:{target:"visibility"},origins:{"web-document":{read:{source:"visibility"},write:{target:"visibility"},default:!0}}}})],f.prototype,"visible",void 0);return f=e([h.subclass("esri.layers.mixins.OperationalLayer")],f)}(h.declared(c))};b.typeModuleMap={ArcGISFeatureLayer:function(){return l.create(function(a){return c(["../FeatureLayer"],a)})},ArcGISImageServiceLayer:function(){return l.create(function(a){return c(["../ImageryLayer"],a)})},ArcGISImageServiceVectorLayer:function(){return l.resolve(null)},
                ArcGISMapServiceLayer:function(){return l.create(function(a){return c(["../MapImageLayer"],a)})},ArcGISSceneServiceLayer:function(){return l.create(function(a){return c(["../SceneLayer"],a)})},ArcGISStreamLayer:function(){return l.create(function(a){return c(["../StreamLayer"],a)})},ArcGISTiledElevationServiceLayer:function(){return l.create(function(a){return c(["../ElevationLayer"],a)})},ArcGISTiledImageServiceLayer:function(){return l.create(function(a){return c(["../TileLayer"],a)})},ArcGISTiledMapServiceLayer:function(){return l.create(function(a){return c(["../TileLayer"],
                    a)})},BingMapsAerial:function(){return l.create(function(a){return c(["../BingMapsLayer"],a)})},BingMapsRoad:function(){return l.create(function(a){return c(["../BingMapsLayer"],a)})},BingMapsHybrid:function(){return l.create(function(a){return c(["../BingMapsLayer"],a)})},BuildingSceneLayer:function(){return l.create(function(a){return c(["../BuildingSceneLayer"],a)})},CSV:function(){return l.create(function(a){return c(["../CSVLayer"],a)})},GeoRSS:function(){return l.create(function(a){return c(["../GeoRSSLayer"],
                    a)})},GroupLayer:function(){return l.create(function(a){return c(["../GroupLayer"],a)})},IntegratedMeshLayer:function(){return l.create(function(a){return c(["../IntegratedMeshLayer"],a)})},KML:function(){return l.create(function(a){return c(["../KMLLayer"],a)})},OpenStreetMap:function(){return l.create(function(a){return c(["../OpenStreetMapLayer"],a)})},PointCloudLayer:function(){return l.create(function(a){return c(["../PointCloudLayer"],a)})},VectorTileLayer:function(){return l.create(function(a){return c(["../VectorTileLayer"],
                    a)})},WebTiledLayer:function(){return l.create(function(a){return c(["../WebTileLayer"],a)})},WFS:function(){return l.resolve(null)},WMS:function(){return l.create(function(a){return c(["../WMSLayer"],a)})},RasterDataLayer:function(){return l.resolve(null)},RasterDataElevationLayer:function(){return l.resolve(null)}};b.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:"readwrite",ArcGISImageServiceLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISSceneServiceLayer:"readwrite",
                    ArcGISTiledElevationServiceLayer:"read",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",BuildingSceneLayer:"readwrite",GroupLayer:"readwrite",IntegratedMeshLayer:"readwrite",PointCloudLayer:"readwrite",WebTiledLayer:"readwrite",CSV:"readwrite",VectorTileLayer:"readwrite",WMS:"readwrite",KML:"readwrite",RasterDataLayer:"readwrite"},"web-scene/basemap":{ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",WebTiledLayer:"readwrite",OpenStreetMap:"readwrite",
                    VectorTileLayer:"readwrite",ArcGISImageServiceLayer:"readwrite",WMS:"readwrite",ArcGISMapServiceLayer:"readwrite"},"web-scene/ground":{ArcGISTiledElevationServiceLayer:"readwrite",RasterDataElevationLayer:"readwrite"},"web-map/operational-layers":{ArcGISImageServiceLayer:"readwrite",ArcGISImageServiceVectorLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISStreamLayer:"readwrite",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",ArcGISFeatureLayer:"readwrite",
                    BingMapsAerial:"readwrite",BingMapsRoad:"readwrite",BingMapsHybrid:"readwrite",CSV:"readwrite",GeoRSS:"readwrite",KML:"readwrite",VectorTileLayer:"readwrite",WFS:"readwrite",WMS:"readwrite",WebTiledLayer:"readwrite"},"web-map/basemap":{ArcGISImageServiceLayer:"readwrite",ArcGISImageServiceVectorLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",OpenStreetMap:"readwrite",VectorTileLayer:"readwrite",WMS:"readwrite",WebTiledLayer:"readwrite",
                    BingMapsAerial:"readwrite",BingMapsRoad:"readwrite",BingMapsHybrid:"readwrite"}}})},"esri/layers/support/commonProperties":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/urlUtils ../../core/accessorSupport/utils ../../core/accessorSupport/write ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});b.screenSizePerspectiveEnabled={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id",
                                "url","layerType"],reader:function(b,a){if(null==a.screenSizePerspective&&"defaults"===this.originOf("screenSizePerspectiveEnabled"))m.getProperties(this).store.set("screenSizePerspectiveEnabled",!1,0);else return a.screenSizePerspective}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer:function(b,a,d,c){"defaults"===this.originOf("screenSizePerspectiveEnabled")&&b?a[d]=b:l.willPropertyWrite(this,"screenSizePerspectiveEnabled",{},c)&&(a[d]=b)}}}}}};b.popupEnabled={type:Boolean,value:!0,
            json:{read:{source:"disablePopup",reader:function(b,a){return!a.disablePopup}},write:{target:"disablePopup",writer:function(b,a,d){a[d]=!b}}}};b.labelsVisible={type:Boolean,value:!0,json:{read:{source:"showLabels"},write:{target:"showLabels"}}};b.url={type:String,json:{write:{isRequired:!0,ignoreOrigin:!0,writer:e.write}}};b.legendEnabled={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}};b.elevationInfo={value:null,type:h,json:{origins:{service:{read:{source:"elevationInfo"},
                        write:{target:"elevationInfo",enabled:!1}}},read:{source:"layerDefinition.elevationInfo"},write:{target:"layerDefinition.elevationInfo"}}};b.readOnlyService=function(b){return{type:b,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};b.opacity={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0}}}};b.opacityDrawingInfo=n({},b.opacity,{json:n({},b.opacity.json,{origins:{"web-document":n({},b.opacity.json.origins["web-document"],{write:{enabled:!0,target:{opacity:{type:Number},
                                "layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(b,a,c){if((!c||"service"===c.origin)&&a.drawingInfo&&void 0!==a.drawingInfo.transparency)return d.transparencyToOpacity(a.drawingInfo.transparency);if(a.layerDefinition&&a.layerDefinition.drawingInfo&&void 0!==a.layerDefinition.drawingInfo.transparency)return d.transparencyToOpacity(a.layerDefinition.drawingInfo.transparency)}}})})})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){var r=h.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),q=new h.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});return function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.offset=null;return a}n(d,b);c=d;d.prototype.readFeatureExpressionInfo=function(a,b){if(null!=a)return a;if(b.featureExpression&&
                0===b.featureExpression.value)return{expression:"0"}};d.prototype.writeFeatureExpressionInfo=function(a,b,d,c){b[d]=a.write(null,c);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(d.prototype,"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):k.isSome(this.offset)||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._override("mode",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"unit",{set:function(a){this._set("unit",
                    a)},enumerable:!0,configurable:!0});d.prototype.write=function(){return this.offset||this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null};d.prototype.clone=function(){return new c({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};var c;e([a.property({type:g,json:{write:!0}})],d.prototype,"featureExpressionInfo",void 0);e([a.reader("featureExpressionInfo",["featureExpressionInfo",
                "featureExpression"])],d.prototype,"readFeatureExpressionInfo",null);e([a.writer("featureExpressionInfo",{featureExpressionInfo:{type:g},"featureExpression.value":{type:[0]}})],d.prototype,"writeFeatureExpressionInfo",null);e([a.property({type:r.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:r.jsonValues,read:r.read,write:{writer:r.write,isRequired:!0}}})],d.prototype,"mode",null);e([a.property({type:Number,json:{write:!0}})],d.prototype,"offset",void 0);e([a.property({type:f.supportedUnits,
                json:{type:String,read:q.read,write:q.write}})],d.prototype,"unit",null);return d=c=e([a.subclass("esri.layers.support.ElevationInfo")],d)}(a.declared(d.JSONSupport))})},"esri/symbols/support/FeatureExpressionInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../layers/support/fieldUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k){return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);c=b;b.prototype.collectRequiredFields=function(a,b){return l(this,void 0,void 0,function(){return m(this,function(d){return[2,k.collectArcadeFieldNames(a,b,this.expression)]})})};b.prototype.clone=function(){return new c({expression:this.expression,title:this.title})};var c;e([d.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);e([d.property({type:String,json:{write:!0}})],
                b.prototype,"title",void 0);return b=c=e([d.subclass("esri.layers.support.FeatureExpressionInfo")],b)}(d.declared(h.JSONSupport))})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array ../../core/Error ../../core/maybe ../../core/object ../../core/promiseUtils ../../core/SetUtils ./domains ../../support/arcadeOnDemand".split(" "),function(c,b,n,e,m,l,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          h,d,k,a,g,f,r){function q(a,b,d){if(a)for(var c=0;c<a.length;c++){var f=a[c],e=k.getDeepValue(f,b);(e=e&&"function"!==typeof e&&v(d,e))&&k.setDeepValue(f,e.name,b)}}function t(a,b){if(!a||!b)return[];K.clear();u(K,a,b);return g.valuesOfSet(K).sort()}function u(a,b,d){if(d)if(b&&b.length)if(l.includes(d,"*"))for(d=0;d<b.length;d++)a.add(b[d].name);else for(var c=0;c<d.length;c++)f=d[c],p(a,b,f);else if(l.includes(d,"*"))a.clear(),a.add("*");else for(b=0;b<d.length;b++){var f=d[b];a.add(f)}}function p(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   b,d){b&&b.length?(b=v(b,d))&&a.add(b.name):"string"===typeof d&&a.add(d)}function v(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var d=0;d<a.length;d++){var c=a[d];if(c&&c.name.toLowerCase()===b)return c}}return null}function w(a,b,d){return m(this,void 0,void 0,function(){var c,f,g,k,h;return e(this,function(e){switch(e.label){case 0:return d?[4,r.loadArcade()]:[2];case 1:c=e.sent().arcadeUtils;f=c.extractFieldNames(d);g=0;for(k=f;g<k.length;g++)h=k[g],p(a,b,h);return[2]}})})}
            function z(a,b){for(var d=0;d<a.length;d++){var c=a[d];if(c&&c.valueType&&c.valueType===b)return c.name}return null}function y(a,b){return m(this,void 0,void 0,function(){var d,c;return e(this,function(f){if(!b)return[2];d=b.fields;return(c=k.getDeepValue("elevationInfo.featureExpressionInfo",b))?[2,c.collectRequiredFields(a,d)]:[2]})})}function A(b,d){return m(this,void 0,void 0,function(){var c,f;return e(this,function(e){switch(e.label){case 0:return c=d.labelingInfo,f=d.fields,c&&c.length?[4,
                a.all(c.map(function(a){return x(b,f,a)}))]:[2];case 1:return e.sent(),[2]}})})}function x(a,b,d){return m(this,void 0,void 0,function(){var c,f,g,k,h;return e(this,function(e){switch(e.label){case 0:if(!d)return[2];c=d.getLabelExpression();f=d.where;return"arcade"!==c.type?[3,2]:[4,w(a,b,c.expression)];case 1:return e.sent(),[3,3];case 2:(g=c.expression.match(/{[^}]*}/g))&&g.forEach(function(d){p(a,b,d.slice(1,-1))}),e.label=3;case 3:return k=/['"]+/g,f&&(h=f.split(" "),3===h.length&&p(a,b,h[0].replace(k,
                "")),7===h.length&&(p(a,b,h[0].replace(k,"")),p(a,b,h[4].replace(k,"")))),[2]}})})}function B(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}function D(a){return null===a||B(a)}function E(a){return null===a||R(a)}function C(a){return null!=a&&"string"===typeof a}function G(a){return null===a||C(a)}function H(){return!0}function F(a,b){var d;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":d=
                a.nullable?E:R;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":d=a.nullable?D:B;break;case "string":case "esriFieldTypeString":d=a.nullable?G:C;break;default:d=H}return 1===arguments.length?d:d(b)}function I(a){return null!=a&&da.has(a.type)}function J(a,b){return a.nullable&&null===b?null:I(a)&&!M(a.type,Number(b))?U.OUT_OF_RANGE:F(a,b)?a.domain?f.validateDomainValue(a.domain,b):null:V.INVALID_TYPE}function M(a,b){return(a="string"===typeof a?O(a):a)?a.isInteger?
                R(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function O(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return b.smallIntegerRange;case "esriFieldTypeInteger":case "integer":return b.integerRange;case "esriFieldTypeSingle":case "single":return b.singleRange;case "esriFieldTypeDouble":case "double":return b.doubleRange}}function L(a,b,c){if(!b||!b.attributes||!a){if(d.isSome(c))for(var f=0;f<a.length;f++)b=a[f],c.add(b);return!0}for(var f=b.attributes,e=!1,g=0;g<a.length;g++)if(b=
                a[g],!(b in f))if(e=!0,d.isSome(c))c.add(b);else break;return e}Object.defineProperty(b,"__esModule",{value:!0});b.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");b.visualVariableFields=["field","normalizationField"];b.fixRendererFields=function(a,d){if(null!=a&&null!=d){var c=0;for(a=Array.isArray(a)?a:[a];c<a.length;c++){var f=a[c];q(b.rendererFields,
                f,d);if("visualVariables"in f&&f.visualVariables)for(var e=0,f=f.visualVariables;e<f.length;e++)q(b.visualVariableFields,f[e],d)}}};b.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var d=v(b,a.startField);b=v(b,a.endField);a.startField=d&&d.name||null;a.endField=b&&b.name||null}else d=v(b,a.startTimeField),b=v(b,a.endTimeField),a.startTimeField=d&&d.name||null,a.endTimeField=b&&b.name||null};var K=new Set;b.fixFields=t;b.collectFields=u;b.collectField=p;b.unpackFieldNames=
                function(a,b){return b&&a?l.includes(b,"*")?a.map(function(a){return a.name}):b:[]};b.packFields=function(a,b,d){void 0===d&&(d=1);if(!b||!a)return[];if(l.includes(b,"*"))return["*"];b=t(a,b);return b.length/a.length>=d?["*"]:b};b.getField=v;b.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();for(var d=0;d<a.length;d++){var c=a[d];if(c&&c.name.toLowerCase()===b)return!0}return!1};b.collectArcadeFieldNames=w;b.getDisplayFieldName=function(a){var b=a.displayField;a=a.fields;
                if(b)return b;if(!a||!a.length)return null;if(!(b=z(a,"name-or-title")||z(a,"unique-identifier")||z(a,"type-or-category")))a:{for(b=0;b<a.length;b++){var d=a[b];if(d&&d.name){var c=d.name.toLowerCase();if(-1<c.indexOf("name")||-1<c.indexOf("title")){b=d.name;break a}}}b=null}return b};b.getElevationFields=function(a){return m(this,void 0,void 0,function(){var b;return e(this,function(d){switch(d.label){case 0:if(!a)return[2,[]];b=new Set;return[4,y(b,a)];case 1:return d.sent(),[2,g.valuesOfSet(b).sort()]}})})};
            b.collectElevationFields=y;b.collectFilterFields=function(b,d,f){return m(this,void 0,void 0,function(){var g,k;return e(this,function(e){switch(e.label){case 0:if(!d||!f||!(f.where&&"1\x3d1"!==f.where||f.timeExtent))return[2];d.timeInfo&&f.timeExtent&&u(b,d.fields,[d.timeInfo.startField,d.timeInfo.endField]);return f.where?[4,a.create(function(a){c(["../../core/sql/WhereClause"],a)})]:[3,2];case 1:g=e.sent();k=g.WhereClause.create(f.where,d.fieldsIndex);if(!k.isStandardized)throw new h("fieldUtils:collectFilterFields",
                "Where clause is not standardized");u(b,d.fields,k.fieldNames);e.label=2;case 2:return[2]}})})};b.getTimeFields=function(a){return m(this,void 0,void 0,function(){var b;return e(this,function(d){return a?(b="timeInfo"in a&&a.timeInfo)?[2,t(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};b.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?t(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):
                []};b.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?t(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};b.getLabelingFields=function(a){return m(this,void 0,void 0,function(){var b;return e(this,function(d){switch(d.label){case 0:if(!a)return[2,[]];b=new Set;return[4,A(b,a)];case 1:return d.sent(),[2,g.valuesOfSet(b).sort()]}})})};b.collectLabelingFields=A;b.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==
                b&&F(a,b))return b;if(a.nullable)return null};var R=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();b.isValueMatchingFieldType=F;b.numericTypes=["integer","small-integer","single","double"];var da=g.createSetFromValues(b.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));b.isNumericField=I;b.isStringField=function(a){return null!=a&&("string"===a.type||
                "esriFieldTypeString"===a.type)};b.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};b.isValidFieldValue=function(a,b){return null===J(a,b)};var U;(U=b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var V;(V=b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";b.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&
            isNaN(a)?null:a};b.validateFieldValue=J;b.isNumberInRange=M;b.getFieldRange=function(a){var b=f.getDomainRange(a.domain);if(b)return b;if(I(a))return O(a.type)};b.getNumericTypeForValue=function(a){if(!B(a))return null;if(R(a)){if(a>=b.smallIntegerRange.min&&a<=b.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=b.integerRange.min&&a<=b.integerRange.max)return"esriFieldTypeInteger"}return a>=b.singleRange.min&&a<=b.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.smallIntegerRange=
                {min:-32768,max:32767,isInteger:!0};b.integerRange={min:-2147483648,max:2147483647,isInteger:!0};b.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};b.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.validationErrorToString=function(a,b,d){switch(a){case f.DomainValidationError.INVALID_CODED_VALUE:return"Value "+d+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case f.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+d+" is out of the range of valid values - field: "+
                b.name+", domain: "+JSON.stringify(b.domain);case V.INVALID_TYPE:return"Value "+d+" is not a valid value for the field type - field: "+b.name+", type: "+b.type+", nullable: "+b.nullable;case U.OUT_OF_RANGE:return a=O(b.type),"Value "+d+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};b.featureHasFields=function(a,b){return!L(a,b,null)};b.populateMissingFields=L;b.getExpressionFields=function(a,b){return m(this,void 0,void 0,function(){var d,
                c,f,k;return e(this,function(e){switch(e.label){case 0:d=new Set,c=0,f=b,e.label=1;case 1:if(!(c<f.length))return[3,4];k=f[c];return[4,w(d,a.fields,k)];case 2:e.sent(),e.label=3;case 3:return c++,[3,1];case 4:return[2,g.valuesOfSet(d).sort()]}})})}})},"esri/core/SetUtils":function(){define(["require","exports","@dojo/framework/shim/array"],function(c,b,n){function e(b){if(0===b.size)throw Error("Set is empty");return b.values().next().value}function m(b){if(0===b.size)throw Error("Set is empty");
            var c,d=!1;b.forEach(function(b){d||(c=b,d=!0)});return c}Object.defineProperty(b,"__esModule",{value:!0});b.someSet=Set.prototype.entries?function(b,c){b=b.entries();for(var d=b.next();!d.done;d=b.next())if(c(d.value[0]))return!0;return!1}:function(b,c){var d=!0;b.forEach(function(b){d&&(d=!c(b))});return!d};c=!!Set.prototype.values;b.valuesOfSet=c?function(b){return n.from(b.values())}:function(b){var c=Array(b.size),d=0;b.forEach(function(b){return c[d++]=b});return c};b.createSetFromValues=c?
            function(b){return new Set(b)}:function(b){for(var c=new Set,d=0;d<b.length;d++)c.add(b[d]);return c};b.firstOfSet=c?e:m;b.reduceSet=function(b,c,d){var e=d;b.forEach(function(a){return e=c(a,e)});return e}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(c,b,n,e,m,l,h){function d(a,b){switch(a.type){case "range":var d="range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:
            a.minValue)||+b>d)return k.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return k.INVALID_CODED_VALUE}return null}Object.defineProperty(b,"__esModule",{value:!0});b.CodedValueDomain=e;b.DomainBase=m;b.InheritedDomain=l;b.RangeDomain=h;var k;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(k=b.DomainValidationError||
            (b.DomainValidationError={}));b.isValidDomainValue=function(a,b){return null===d(a,b)};b.validateDomainValue=d;b.types={key:"type",base:m,typeMap:{range:h,"coded-value":e,inherited:l}};b.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};b.fromJSON=function(a){if(!a||!a.type)return null;switch(a.type){case "range":return h.fromJSON(a);case "codedValue":return e.fromJSON(a);case "inherited":return l.fromJSON(a);default:n.neverReached(a)}return null}})},
        "esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.codedValues=null;a.type="coded-value";return a}n(a,b);d=a;a.prototype.getName=function(a){var b=null;if(this.codedValues){var d=String(a);this.codedValues.some(function(a){String(a.code)===
        d&&(b=a.name);return!!b})}return b};a.prototype.clone=function(){return new d({codedValues:m.clone(this.codedValues),name:this.name})};var d;e([l.property({type:[h.default],json:{write:!0}})],a.prototype,"codedValues",void 0);e([l.enumeration.serializable()({codedValue:"coded-value"})],a.prototype,"type",void 0);return a=d=e([l.subclass("esri.layers.support.CodedValueDomain")],a)}(l.declared(d))})},"esri/layers/support/CodedValue":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(a){a=b.call(this,a)||this;a.name=null;a.code=null;return a}e(d,b);c=d;d.prototype.clone=function(){return new c({name:this.name,code:this.code})};var c;n([l.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);n([l.property({type:[String,Number],json:{write:!0}})],d.prototype,"code",void 0);return d=c=n([l.subclass("esri.layers.support.CodedValue")],d)}(l.declared(m.JSONSupport));b.CodedValue=
                c;b.default=c})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h){var d=new m.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(b){function a(a){a=b.call(this,a)||this;a.name=null;a.type=null;return a}n(a,b);e([h.property({type:String,json:{write:!0}})],
            a.prototype,"name",void 0);e([h.enumeration.serializable()(d)],a.prototype,"type",void 0);return a=e([h.subclass("esri.layers.support.Domain")],a)}(h.declared(l.JSONSupport))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="inherited";return a}n(d,b);
            c=d;d.prototype.clone=function(){return new c};var c;e([m.enumeration.serializable()({inherited:"inherited"})],d.prototype,"type",void 0);return d=c=e([m.subclass("esri.layers.support.InheritedDomain")],d)}(m.declared(l))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||
            this;a.maxValue=null;a.minValue=null;a.type="range";return a}n(d,b);c=d;d.prototype.clone=function(){return new c({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var c;e([m.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,b,d){b[d]=[this.minValue||0,a]}}}})],d.prototype,"maxValue",void 0);
            e([m.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,b,d){b[d]=[a,this.maxValue||0]}}}})],d.prototype,"minValue",void 0);e([m.enumeration.serializable()({range:"range"})],d.prototype,"type",void 0);return d=c=e([m.subclass("esri.layers.support.RangeDomain")],d)}(m.declared(l))})},"esri/support/arcadeOnDemand":function(){define("require exports ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../geometry ../core/maybe ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),
            function(c,b,n,e,m,l,h,d){function k(){return e(this,void 0,void 0,function(){var b=this;return n(this,function(d){a||(a=function(){return e(b,void 0,void 0,function(){var a;return n(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,b){c(["./arcadeUtils"],a,b)})];case 1:return a=b.sent(),[4,a.arcade.load()];case 2:return b.sent(),[2,{arcade:a.arcade,arcadeUtils:a,Dictionary:a.Dictionary,Feature:a.arcadeFeature}]}})})}());return[2,a]})})}Object.defineProperty(b,"__esModule",{value:!0});
                var a;b.loadArcade=k;b.createLabelExpression=function(a,b,d){return g.create(a,b,d,null,["$feature"])};b.createVVExpression=function(a,b,d){return g.create(a,b,d,null,["$feature","$view"])};b.createRendererExpression=function(a,b,d){return g.create(a,b,d,null,["$feature","$view"])};b.createDictionaryExpression=function(a,b,d,c){return g.create(a,b,d,c,["$feature","$view"])};var g=function(){function a(a,b,d,c,f,e,g){this.evaluate=c;this._syntaxTree=d;this._arcade=a;this._arcadeDictionary=b;this._arcadeFeature=
                    f;this._fields=e;this._spatialReference=g;this._referencesGeometry=a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}a.create=function(b,c,f,g,p,v){return e(this,void 0,void 0,function(){var e,q,t,u,r,B,D,E,C,G,H,F,I,J,M;return n(this,function(n){switch(n.label){case 0:return[4,k()];case 1:return e=n.sent(),q=e.arcade,t=e.Feature,u=e.Dictionary,r=l.SpatialReference.fromJSON(c),B=q.parseScript(b,v),D=p.reduce(function(a,b){var d;
                    return m({},a,(d={},d[b]=null,d))},{}),E=null,h.isSome(g)&&(E=new u(g),E.immutable=!0,D.$config=null),C=q.scriptUsesGeometryEngine(B)&&q.enableGeometrySupport(),G=q.scriptUsesFeatureSet(B)&&q.enableFeatureSetSupport(),H=q.scriptIsAsync(B)&&q.enableAsyncSupport(),F={vars:D,spatialReference:r,useAsync:!!H},I=new u,I.immutable=!1,I.setField("scale",0),J=q.compileScript(B,F),M=function(a){"$view"in a&&a.$view&&(I.setField("scale",a.$view.scale),a.$view=I);E&&(a.$config=E);return J({vars:a,spatialReference:r})},
                    [4,d.all([C,G,H])];case 2:return n.sent(),[2,new a(q,u,B,M,new t,f,r)]}})})};a.prototype.repurposeFeature=function(a){a.geometry&&!a.geometry.spatialReference&&(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,
                    a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,a)};return a}();b.ArcadeExpression=g;b.default=g})},"esri/symbols/support/unitConversionUtils":function(){define(["require","exports","../../renderers/support/utils"],
            function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.supportsUnit=function(b){return null!=n.meterIn[b]};b.getMetersPerUnit=function(b){return 1/(n.meterIn[b]||1)};b.supportedUnits=function(){var b=Object.keys(n.meterIn);b.sort();return b}()})},"esri/renderers/support/utils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/arrayUtils ../../core/Logger ../../core/unitUtils ../../intl/date ./numberUtils ../visualVariables/support/ColorStop".split(" "),function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        b,n,e,m,l,h,d,k){function a(a,b,d){var c="";0===b?c=q.lt+" ":b===d&&(c=q.gt+" ");return c+a}function g(a){var b=a.minValue,c=a.maxValue,f=a.isFirstBreak?"":q.gt+" ";a="percent-of-total"===a.normalizationType?q.pct:"";b=null==b?"":d.format(b);c=null==c?"":d.format(c);return f+b+a+" "+q.ld+" "+c+a}function f(a,b){return"normalizationField"in a&&a.normalizationField?{type:"normalized-field",field:a.field,normalizationField:a.normalizationField}:"field"in a&&a.field?{type:"field",field:a.field}:"valueExpression"in
        a&&a.valueExpression?{type:"expression",expression:a.valueExpression,title:a.valueExpressionTitle,returnType:b}:null}Object.defineProperty(b,"__esModule",{value:!0});var r=m.getLogger("esri.renderers.support.utils"),q={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},t={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},u={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",
            day:"long-month-day-year",month:"long-month-day-year",year:"year"};b.meterIn={inches:l.convertUnit(1,"meters","inches"),feet:l.convertUnit(1,"meters","feet"),"us-feet":l.convertUnit(1,"meters","us-feet"),yards:l.convertUnit(1,"meters","yards"),miles:l.convertUnit(1,"meters","miles"),"nautical-miles":l.convertUnit(1,"meters","nautical-miles"),millimeters:l.convertUnit(1,"meters","millimeters"),centimeters:l.convertUnit(1,"meters","centimeters"),decimeters:l.convertUnit(1,"meters","decimeters"),meters:l.convertUnit(1,
                "meters","meters"),kilometers:l.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/l.lengthToDegrees(1,"meters")};b.timelineDateFormatOptions=h.convertDateFormatToIntlOptions("short-date");b.createColorStops=function(b){var c=b.values,f=b.colors,e=b.labelIndexes,g=b.isDate,p=b.dateFormatOptions;return c.map(function(b,q){var t=null;if(!e||-1<e.indexOf(q)){var l=void 0;(l=g?h.formatDate(b,p):d.format(b))&&(t=a(l,q,c.length-1))}return new k({value:b,color:f[q],label:t})})};b.updateColorStops=
            function(b){var c=b.stops,f=b.changes,e=b.isDate,g=b.dateFormatOptions,k=c.map(function(a){return a.value});b=[];for(var p=0;p<f.length;p++){var q=f[p];b.push(q.index);k[q.index]=q.value}var t=d.round(k,{indexes:b});c.forEach(function(b,f){b.value=k[f];if(null!=b.label){var p=void 0,q=null;(p=e?h.formatDate(t[f],g):d.format(t[f]))&&(q=a(p,f,c.length-1));b.label=q}})};b.createClassBreakLabel=g;b.setLabelsForClassBreaks=function(a){var b=a.classBreakInfos,c=a.normalizationType,f=[];if(b&&b.length)if("standard-deviation"===
            a.classificationMethod)r.warn("setLabelsForClassBreaks","cannot set labels for class breaks generated using 'standard-deviation' method.");else if(a.round){f.push(b[0].minValue);for(a=0;a<b.length;a++)f.push(b[a].maxValue);f=d.round(f);b.forEach(function(a,b){a.label=g({minValue:0===b?f[0]:f[b],maxValue:f[b+1],isFirstBreak:0===b,normalizationType:c})})}else b.forEach(function(a,b){a.label=g({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:c})})};b.updateClassBreak=function(a){if("standard-deviation"===
            a.classificationMethod)r.warn("updateClassBreak","cannot update labels for class breaks generated using 'standard-deviation' method.");else{var b=a.classBreaks,d=a.change,c=d.index,d=d.value,f=b.length,e=-1,k=-1;0===c?e=c:c===f?k=c-1:(k=c-1,e=c);a=a.normalizationType;c=null;-1<e&&e<f&&(c=b[e],c.minValue=d,c.label=g({minValue:c.minValue,maxValue:c.maxValue,isFirstBreak:0===e,normalizationType:a}));-1<k&&k<f&&(c=b[k],c.maxValue=d,c.label=g({minValue:c.minValue,maxValue:c.maxValue,isFirstBreak:0===k,
            normalizationType:a}))}};b.calculateDateFormatInterval=function(a){a=a.map(function(a){return new Date(a)});for(var b=a.length,d=Infinity,c=null,f=0;f<b-1;f++){for(var e=a[f],g=[],k=Infinity,p=null,h=f+1;h<b;h++){var q=a[h],q=e.getFullYear()!==q.getFullYear()&&"year"||e.getMonth()!==q.getMonth()&&"month"||e.getDate()!==q.getDate()&&"day"||e.getHours()!==q.getHours()&&"hour"||e.getMinutes()!==q.getMinutes()&&"minute"||e.getSeconds()!==q.getSeconds()&&"second"||"millisecond",l=t[q];l<k&&(k=l,p=q);g.push(q)}k<
        d&&(d=k,c=p)}return c};b.createUniqueValueLabel=function(a){var b=a.value,c=a.domain,f=a.fieldInfo;a=a.dateFormatInterval;var e=String(b);(c=c&&"codedValues"in c&&c.codedValues?c.getName(b):null)?e=c:"number"===typeof b&&(e=f&&"date"===f.type?h.formatDate(b,a&&h.convertDateFormatToIntlOptions(u[a])):d.format(b));return e};b.getAttributes=function(a,b){var d=[];if("class-breaks"===a.type||"heatmap"===a.type)d.push(f(a,"number"));else if("unique-value"===a.type){var c=a.uniqueValueInfos[0],g=null;c&&
        c.value&&(c=typeof a.uniqueValueInfos[0].value,"string"===c||"number"===c)&&(g=c);d.push(f(a,g));[a.field2,a.field3].forEach(function(a){return a&&d.push({type:"field",field:a})})}else"dot-density"===a.type&&a.attributes.forEach(function(a){return d.push(f(a,"number"))});(a=b?b(a):"visualVariables"in a?a.visualVariables:null)&&a.forEach(function(a){return d.push(f(a,"number"))});return e.unique(d.filter(Boolean),function(a,b){return"field"===a.type&&"field"===b.type?a.field===b.field:"normalized-field"===
        a.type&&"normalized-field"===b.type?a.field===b.field&&a.normalizationField===b.normalizationField:"expression"===a.type&&"expression"===b.type?a.expression===b.expression:!1})}})},"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./jsonMap ./SetUtils ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),function(c,b,n,e,m,l,h){function d(a){if(a=x[a])return a;throw Error("unknown measure");}function k(a){return A[a].baseUnit}function a(a,b){void 0===b&&(b=null);
            b=b||d(a);return A[b].baseUnit===a}function g(b,c,f){if(c===f)return b;var e=d(c);if(e!==d(f))throw Error("incompatible units");b=a(c,e)?b:b*A[e].units[c].inBaseUnits;return a(f,e)?b:b/A[e].units[f].inBaseUnits}function f(a){return y.fromJSON(a.toLowerCase())||null}function r(a,b){void 0===b&&(b=u);return q(a,!0)||b}function q(a,b){void 0===b&&(b=!1);var d,c,f;null!=a&&("object"===typeof a?(d=a.wkid,c=a.wkt):"number"===typeof a?d=a:"string"===typeof a&&(c=a));d?(f=w.values[w[d]],!f&&b&&z.has(d)&&
        (f=p)):c&&-1!==c.search(/^PROJCS/i)&&(a=v.exec(c))&&a[1]&&(f=parseFloat(a[1].split(",")[1]));return f}function t(a){var b,d,c;null!=a&&("object"===typeof a?(b=a.wkid,d=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(d=a));b?c=w.units[w[b]]:d&&-1!==d.search(/^PROJCS/i)&&(a=v.exec(d))&&a[1]&&(c=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);return c?f(c):null}Object.defineProperty(b,"__esModule",{value:!0});b.inchesPerMeter=39.37;var u=l.wgs84Radius*Math.PI/180,p=l.wgs84Radius*Math.PI/200,v=/UNIT\[([^\]]+)\]\]$/i,
            w=h,z=m.createSetFromValues([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),y=e.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",
                "50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});c={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};e={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*
                    .1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(a){return a*a}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};var A={length:{baseUnit:"meters",units:c},area:{baseUnit:"square-meters",units:e},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},
                    "cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},x=function(){var a={},b;for(b in A)for(var d in A[b].units)a[d]=
            b;return a}();b.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");b.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");b.measureForUnit=d;b.baseUnitForMeasure=k;b.baseUnitForUnit=function(a){return k(d(a))};b.isBaseUnit=a;b.convertUnit=g;b.preferredMetricLengthUnit=function(a,b){return 3E3>g(a,b,"meters")?"meters":
            "kilometers"};b.preferredMetricVerticalLengthUnit=function(a,b){return 1E5>g(a,b,"meters")?"meters":"kilometers"};b.preferredImperialLengthUnit=function(a,b){return 1E3>g(a,b,"feet")?"feet":"miles"};b.preferredImperialVerticalLengthUnit=function(a,b){return 1E5>g(a,b,"feet")?"feet":"miles"};b.preferredMetricAreaUnit=function(a,b){return 3E6>g(a,b,"square-meters")?"square-meters":"square-kilometers"};b.preferredImperialAreaUnit=function(a,b){return 1E6>g(a,b,"square-feet")?"square-feet":"square-miles"};
            b.lengthToDegrees=function(a,b,d){void 0===d&&(d=l.wgs84Radius);return g(a,b,"meters")/(d*Math.PI/180)};b.unitFromRESTJSON=f;b.unitToRESTJSON=function(a){return y.toJSON(a)||null};b.getMetersPerVerticalUnitForSR=function(a){a=r(a);return 1E5<a?1:a};b.getVerticalUnitStringForSR=function(a){return 1E5<r(a)?"meters":t(a)};b.getMetersPerUnitForSR=r;b.getMetersPerUnit=q;b.getUnitString=t;b.getDefaultUnitSystem=function(a){if(!a)return null;a=t(a);switch(a){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
                case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;default:n.neverReached(a)}return null}})},"esri/intl/date":function(){define("require exports ../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(c,b,n,e,m,l){function h(a){a=a||u;if(!t.has(a)){var b=l.getLocale(),b=q[l.getLocale()]||b;t.set(a,new Intl.DateTimeFormat(b,a))}return t.get(a)}Object.defineProperty(b,"__esModule",{value:!0});c={year:"numeric",
            month:"numeric",day:"numeric"};var d={year:"numeric",month:"long",day:"numeric"},k={year:"numeric",month:"short",day:"numeric"},a={year:"numeric",month:"long",weekday:"long",day:"numeric"},g={hour:"numeric",minute:"numeric"},f=n({},g,{second:"numeric"}),r={"short-date":c,"short-date-short-time":n({},c,g),"short-date-short-time-24":n({},c,g,{hour12:!1}),"short-date-long-time":n({},c,f),"short-date-long-time-24":n({},c,f,{hour12:!1}),"short-date-le":c,"short-date-le-short-time":n({},c,g),"short-date-le-short-time-24":n({},
                c,g,{hour12:!1}),"short-date-le-long-time":n({},c,f),"short-date-le-long-time-24":n({},c,f,{hour12:!1}),"long-month-day-year":d,"long-month-day-year-short-time":n({},d,g),"long-month-day-year-short-time-24":n({},d,g,{hour12:!1}),"long-month-day-year-long-time":n({},d,f),"long-month-day-year-long-time-24":n({},d,f,{hour12:!1}),"day-short-month-year":k,"day-short-month-year-short-time":n({},k,g),"day-short-month-year-short-time-24":n({},k,g,{hour12:!1}),"day-short-month-year-long-time":n({},k,f),"day-short-month-year-long-time-24":n({},
                k,f,{hour12:!1}),"long-date":a,"long-date-short-time":n({},a,g),"long-date-short-time-24":n({},a,g,{hour12:!1}),"long-date-long-time":n({},a,f),"long-date-long-time-24":n({},a,f,{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":g,"long-time":f};b.dictionary=m.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",
            shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
            dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
            shortMonthYear:"short-month-year",year:"year"});b.dateFormats=b.dictionary.apiValues;b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);var q={ar:"ar-u-nu-latn-ca-gregory"},t=new e.default,u=r["short-date-short-time"];l.onLocaleChange(function(){t=new e.default;u=r["short-date-short-time"]});b.getDateTimeFormatter=h;b.convertDateFormatToIntlOptions=function(a){return r[a]||null};b.formatDate=function(a,b){return h(b).format(a)}})},"@dojo/framework/shim/WeakMap":function(){(function(c){"object"===
        typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),c)})(function(c,b){Object.defineProperty(b,"__esModule",{value:!0});var n=c("tslib"),e=c("./global"),m=c("./iterator"),l=c("../has/has");c("./Symbol");b.WeakMap=e.default.WeakMap;if(!l.default("es6-weakmap")){var h={},d=function(){var b=Math.floor(Date.now()%1E8);return function(){return"__wm"+
            Math.floor(1E8*Math.random())+(b++ +"__")}}();b.WeakMap=function(){function b(a){this[Symbol.toStringTag]="WeakMap";this._name=d();this._frozenEntries=[];if(a)if(m.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(b=n.__values(a),c=b.next();!c.done;c=b.next()){var e=n.__read(c.value,2);this.set(e[0],e[1])}}catch(u){k={error:u}}finally{try{c&&!c.done&&(h=b.return)&&h.call(b)}finally{if(k)throw k.error;}}var k,h}b.prototype._getFrozenEntryIndex=function(a){for(var b=
            0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};b.prototype.delete=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==h)return b.value=h,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,1),!0):!1};b.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==h)return b.value;a=this._getFrozenEntryIndex(a);if(0<=a)return this._frozenEntries[a].value}};b.prototype.has=
            function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==h||0<=this._getFrozenEntryIndex(a)?!0:!1};b.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var d=a[this._name];d&&d.key===a||(d=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(d):Object.defineProperty(a,this._name,{value:d}));d.value=b;return this};return b}()}b.default=b.WeakMap})},
        "esri/intl/locale":function(){define(["require","exports","dojo/_base/kernel"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});var e=n.locale;b.getLocale=function(){return e};b.setLocale=function(b){e=b;m.slice().forEach(function(c){c.call(null,b)})};var m=[];b.onLocaleChange=function(b){m.push(b);return{remove:function(){m.splice(m.indexOf(b),1)}}}})},"esri/renderers/support/numberUtils":function(){define(["require","exports","../../intl"],function(c,b,n){function e(a,b){return a-
            b}function m(a,b){var d;d=Number(a.toFixed(b));d<a?a=d+1/Math.pow(10,b):(a=d,d-=1/Math.pow(10,b));d=Number(d.toFixed(b));a=Number(a.toFixed(b));return[d,a]}function l(a,b,c,e,k){a=d(a,b,c,e);b=null==a.next||a.next<=k;return(null==a.previous||a.previous<=k)&&b||a.previous+a.next<=2*k}function h(a){a=String(a);var b=a.match(k);if(b&&b[1])return{integer:b[1].split("").length,fractional:b[3]?b[3].split("").length:0};if(-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b)){a=Number(a);
            var b=Number(b),d=0<b;d||(b=Math.abs(b));a=h(a);d?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b);return a}return{integer:0,fractional:0}}function d(a,b,d,c){var f={previous:null,next:null};if(null!=d){var e=a-d;f.previous=Math.floor(Math.abs(100*(b-d-e)/e))}null!=c&&(e=c-a,f.next=Math.floor(Math.abs(100*(c-b-e)/e)));return f}Object.defineProperty(b,"__esModule",{value:!0});var k=/^-?(\d+)(\.(\d+))?$/i;b.numDigits=h;b.percentChange=
            d;b.round=function(a,b){void 0===b&&(b={});a=a.slice(0);var d=b.tolerance,d=void 0===d?2:d,c=b.strictBounds,c=void 0===c?!1:c;b=b.indexes;b=void 0===b?a.map(function(a,b){return b}):b;b.sort(e);for(var f=0;f<b.length;f++){var g=b[f],k=a[g],n=0===g?null:a[g-1],w=g===a.length-1?null:a[g+1],z=h(k).fractional;if(z){for(var y=0,A=!1,x=void 0;y<=z&&!A;)A=m(k,y),x=c&&0===f?A[1]:A[0],A=l(k,x,n,w,d),y++;A&&(a[g]=x)}}return a};var a={maximumFractionDigits:20};b.format=function(b){return n.formatNumber(b,a)}})},
        "esri/intl":function(){define(["require","exports","./intl/date","./intl/number","./intl/substitute"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});b.formatDate=n.formatDate;b.convertDateFormatToIntlOptions=n.convertDateFormatToIntlOptions;b.formatNumber=e.formatNumber;b.convertNumberFormatToIntlOptions=e.convertNumberFormatToIntlOptions;b.substitute=m.substitute})},"esri/intl/number":function(){define(["require","exports","../core/tsSupport/assignHelper","@dojo/framework/shim/WeakMap",
            "./locale"],function(c,b,n,e,m){function l(a){var b=a||k;if(!d.has(b)){var c=m.getLocale(),c=h[m.getLocale()]||c;d.set(b,new Intl.NumberFormat(c,a))}return d.get(b)}Object.defineProperty(b,"__esModule",{value:!0});var h={ar:"ar-u-nu-latn"},d=new e.default,k={};m.onLocaleChange(function(){d=new e.default;k={}});b.getFormatter=l;b.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&(b.minimumFractionDigits=
            b.maximumFractionDigits=a.places);return b};b.formatNumber=function(a,b){return l(b).format(a)}})},"esri/intl/substitute":function(){define("require exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(c,b,n,e,m,l,h){function d(a){switch(typeof a){case "string":return a;case "number":return h.formatNumber(a);case "boolean":return""+a;default:return a instanceof Date?l.formatDate(a):""}}Object.defineProperty(b,"__esModule",{value:!0});var k=n.getLogger("esri.intl");
            b.substitute=function(a,b,c){void 0===c&&(c={});c=c.format;var f=void 0===c?{}:c;return m.replace(a,function(a){var c;var g,p=a.indexOf(":");-1===p?g=a.trim():(g=a.slice(0,p).trim(),c=a.slice(p+1).trim());if(g)if(a=e.getDeepValue(g,b),null==a)c="";else if(g=f[c]||f[g])b:switch(g.type){case "date":c=l.formatDate(a,g.intlOptions);break b;case "number":c=h.formatNumber(a,g.intlOptions);break b;default:k.warn("missing format descriptor for key {key}"),c=d(a)}else if(c)b:switch(c.toLowerCase()){case "dateformat":c=
                l.formatDate(a);break b;case "numberformat":c=h.formatNumber(a);break b;default:k.warn("inline format is unsupported since 4.12: "+c),c=/^(dateformat|datestring)/i.test(c)?l.formatDate(a):/^numberformat/i.test(c)?h.formatNumber(a):d(a)}else c=d(a);else c="";return c})}})},"esri/renderers/visualVariables/support/ColorStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
            function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.color=null;a.label=null;a.value=null;return a}n(a,b);c=a;a.prototype.writeValue=function(a,b,d){b[d]=null==a?0:a};a.prototype.clone=function(){return new c({color:this.color&&this.color.clone(),label:this.label,value:this.value})};var c;e([h.property({type:m,json:{type:[d.Integer],write:!0}})],a.prototype,"color",void 0);e([h.property({type:String,json:{write:!0}})],a.prototype,"label",void 0);e([h.property({type:Number,
                json:{write:{allowNull:!0}}})],a.prototype,"value",void 0);e([h.writer("value")],a.prototype,"writeValue",null);return a=c=e([h.subclass("esri.renderers.visualVariables.support.ColorStop")],a)}(h.declared(l.JSONSupport))})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Error ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators ../../portal/Portal ../../portal/PortalItem".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r){Object.defineProperty(b,"__esModule",{value:!0});var q=d.getLogger("esri.layers.mixins.PortalLayer");b.PortalLayer=function(b){return function(b){function d(){return null!==b&&b.apply(this,arguments)||this}n(d,b);Object.defineProperty(d.prototype,"portalItem",{set:function(a){a!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",a))},enumerable:!0,configurable:!0});d.prototype.readPortalItem=function(a,b,d){if(b.itemId)return new r({id:b.itemId,
                portal:d&&d.portal})};d.prototype.writePortalItem=function(a,b){a&&a.id&&(b.itemId=a.id)};d.prototype.loadFromPortal=function(a,b){return l(this,void 0,void 0,function(){var d,f;return m(this,function(e){switch(e.label){case 0:if(!this.portalItem||!this.portalItem.id)return[2];e.label=1;case 1:return e.trys.push([1,4,,5]),[4,k.create(function(a){return c(["../../portal/support/layersLoader"],a)})];case 2:return d=e.sent(),k.throwIfAborted(b),[4,d.load({instance:this,supportedTypes:a.supportedTypes,
                validateItem:a.validateItem,supportsData:a.supportsData},b)];case 3:return[2,e.sent()];case 4:throw f=e.sent(),q.warn("Failed to load layer ("+this.title+", "+this.id+") portal item ("+this.portalItem.id+")\n  "+f),f;case 5:return[2]}})})};d.prototype.read=function(a,b){b&&(b.layer=this);this.inherited(arguments)};d.prototype.write=function(b,d){var c=d&&d.portal,e=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||f.getDefault());return c&&e&&!a.hasSamePortal(e.restUrl,c.restUrl)?(d.messages&&
            d.messages.push(new h("layer:cross-portal","The layer '"+this.title+" ("+this.id+")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer",{layer:this})),null):this.inherited(arguments)};e([g.property({type:r})],d.prototype,"portalItem",null);e([g.reader("web-document","portalItem",["itemId"])],d.prototype,"readPortalItem",null);
                e([g.writer("portalItem",{itemId:{type:String}})],d.prototype,"writePortalItem",null);return d=e([g.subclass("esri.layers.mixins.PortalLayer")],d)}(g.declared(b))}})},"esri/layers/mixins/ScaleRangeLayer":function(){define(["require","exports","../../core/tsSupport/declareExtendsHelper","../../core/tsSupport/decorateHelper","../../core/accessorSupport/decorators"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});b.ScaleRangeLayer=function(b){return function(b){function d(){var d=
            null!==b&&b.apply(this,arguments)||this;d.minScale=0;d.maxScale=0;return d}n(d,b);Object.defineProperty(d.prototype,"scaleRangeId",{get:function(){return this.minScale+","+this.maxScale},enumerable:!0,configurable:!0});e([m.property({type:Number,json:{write:!0}})],d.prototype,"minScale",void 0);e([m.property({type:Number,json:{write:!0}})],d.prototype,"maxScale",void 0);e([m.property({readOnly:!0,dependsOn:["minScale","maxScale"]})],d.prototype,"scaleRangeId",null);return d=e([m.subclass("esri.layers.mixins.ScaleRangeLayer")],
            d)}(m.declared(b))}})},"esri/layers/mixins/RefreshableLayer":function(){define(["require","exports","../../core/tsSupport/declareExtendsHelper","../../core/tsSupport/decorateHelper","../../core/accessorSupport/decorators"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});b.RefreshableLayer=function(b){return function(b){function d(){var d=null!==b&&b.apply(this,arguments)||this;d.refreshInterval=0;return d}n(d,b);d.prototype.refresh=function(){this.emit("refresh")};e([m.property({type:Number,
            cast:function(b){return.1<=b?b:0>=b?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],d.prototype,"refreshInterval",void 0);return d=e([m.subclass("esri.layers.mixins.RefreshableLayer")],d)}(m.declared(b))}})},"esri/portal/support/layersCreator":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Collection ../../core/has ../../core/promiseUtils ../../layers/support/lazyLayerLoader ../PortalItem ./featureCollectionUtils ./portalLayers ../../renderers/support/styleUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){function r(a,b,d){return e(this,void 0,void 0,function(){var c;return n(this,function(e){switch(e.label){case 0:return c=new a,c.read(b,d.context),"group"===c.type&&u(b)?[4,v(c,b,d.context)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[4,f.loadStyleRenderer(c,d.context)];case 3:return e.sent(),[2,c]}})})}function q(a,b){return e(this,void 0,void 0,function(){var d;return n(this,function(c){switch(c.label){case 0:return[4,t(a,b)];case 1:return d=c.sent(),[2,r(d,a,
                b)]}})})}function t(b,c){return e(this,void 0,void 0,function(){var f,e,p,h,q,t,l,m,v;return n(this,function(n){switch(n.label){case 0:f=c.context;switch(f.origin){case "web-scene":switch(f.layerContainerType){case "basemap":n=A;break;case "ground":n=y;break;default:n=z}break;default:switch(f.layerContainerType){case "basemap":n=B;break;default:n=x}}e=n;p=b.layerType||b.type;!p&&c&&c.defaultLayerType&&(p=c.defaultLayerType);q=(h=e[p])?d.layerLookupMap[h]:d.layerLookupMap.UnknownLayer;t=f&&f.portal;
                if("Feature Collection"!==b.type)return[3,4];if(!b.itemId)return[3,3];l=new k({id:b.itemId,portal:t});return[4,l.load()];case 1:return n.sent(),[4,g.selectLayerClassPath(l)];case 2:m=n.sent(),v=m.className||"UnknownLayer",q=d.layerLookupMap[v],n.label=3;case 3:return[3,8];case 4:return"ArcGISFeatureLayer"!==p?[3,8]:[4,a.isMapNotesLayer(b,t)];case 5:if(!n.sent())return[3,6];q=d.layerLookupMap.MapNotesLayer;return[3,8];case 6:return[4,a.isRouteLayer(b,t)];case 7:n.sent()?q=d.layerLookupMap.RouteLayer:
                u(b)&&(q=d.layerLookupMap.GroupLayer),n.label=8;case 8:return b.wmtsInfo&&b.wmtsInfo.url&&b.wmtsInfo.layerIdentifier&&(q=d.layerLookupMap.WMTSLayer),[2,q()]}})})}function u(a){if("ArcGISFeatureLayer"!==a.layerType||"Feature Collection"===a.type)return!1;a=a.featureCollection;return!!(a&&a.layers&&1<a.layers.length)}function p(a,b,d){return e(this,void 0,void 0,function(){var c,f,e;return n(this,function(g){switch(g.label){case 0:return c=new m,f=w(c,Array.isArray(b.layers)?b.layers:[],d),[4,a];case 1:return e=
                g.sent(),[4,f];case 2:return g.sent(),"group"===e.type?(e.layers.addMany(c),[2,e]):[2,void 0]}})})}function v(a,b,c){return e(this,void 0,void 0,function(){var f,e,g,k,p;return n(this,function(h){switch(h.label){case 0:return f=d.layerLookupMap.FeatureLayer,[4,f()];case 1:return e=h.sent(),g=b.featureCollection,k=g.showLegend,p=g.layers.map(function(a){var b=new e;b.read(a,c);null!=k&&b.read({showLegend:k},c);return b}),a.layers.addMany(p),[2]}})})}function w(a,b,d){return e(this,void 0,void 0,function(){var c,
                f,e,g,k,t,l,m,u;return n(this,function(n){switch(n.label){case 0:if(!b)return[2];c=[];f=0;for(e=b;f<e.length;f++)g=e[f],k=q(g,d),"GroupLayer"===g.layerType?c.push(p(k,g,d)):c.push(k);return[4,h.eachAlways(c)];case 1:t=n.sent();l=0;for(m=t;l<m.length;l++)u=m[l],!u.value||d.filter&&!d.filter(u.value)||a.add(u.value);return[2]}})})}Object.defineProperty(b,"__esModule",{value:!0});var z={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",
                ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"TileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},y={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",
                RasterDataElevationLayer:"UnsupportedLayer"},A={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},x={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"MapImageLayer",
                ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"TileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},B={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"MapImageLayer",
                ArcGISTiledImageServiceLayer:"TileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};b.createLayer=q;b.populateOperationalLayers=function(a,b,d){return e(this,void 0,void 0,function(){return n(this,function(c){return[2,w(a,b,d)]})})}})},"esri/layers/support/lazyLayerLoader":function(){define(["require",
            "exports","../../core/promiseUtils"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.layerLookupMap={BingMapsLayer:function(){return n.create(function(b){return c(["../BingMapsLayer"],b)})},BuildingSceneLayer:function(){return n.create(function(b){return c(["../BuildingSceneLayer"],b)})},CSVLayer:function(){return n.create(function(b){return c(["../CSVLayer"],b)})},ElevationLayer:function(){return n.create(function(b){return c(["../ElevationLayer"],b)})},FeatureLayer:function(){return n.create(function(b){return c(["../FeatureLayer"],
                b)})},GroupLayer:function(){return n.create(function(b){return c(["../GroupLayer"],b)})},GeoRSSLayer:function(){return n.create(function(b){return c(["../GeoRSSLayer"],b)})},ImageryLayer:function(){return n.create(function(b){return c(["../ImageryLayer"],b)})},IntegratedMeshLayer:function(){return n.create(function(b){return c(["../IntegratedMeshLayer"],b)})},KMLLayer:function(){return n.create(function(b){return c(["../KMLLayer"],b)})},MapImageLayer:function(){return n.create(function(b){return c(["../MapImageLayer"],
                b)})},MapNotesLayer:function(){return n.create(function(b){return c(["../MapNotesLayer"],b)})},OpenStreetMapLayer:function(){return n.create(function(b){return c(["../OpenStreetMapLayer"],b)})},PointCloudLayer:function(){return n.create(function(b){return c(["../PointCloudLayer"],b)})},RouteLayer:function(){return n.create(function(b){return c(["../RouteLayer"],b)})},SceneLayer:function(){return n.create(function(b){return c(["../SceneLayer"],b)})},StreamLayer:function(){return n.create(function(b){return c(["../StreamLayer"],
                b)})},TileImageryLayer:function(){return n.create(function(b){return c(["../TileImageryLayer"],b)})},TileLayer:function(){return n.create(function(b){return c(["../TileLayer"],b)})},UnknownLayer:function(){return n.create(function(b){return c(["../UnknownLayer"],b)})},UnsupportedLayer:function(){return n.create(function(b){return c(["../UnsupportedLayer"],b)})},VectorTileLayer:function(){return n.create(function(b){return c(["../VectorTileLayer"],b)})},WebTileLayer:function(){return n.create(function(b){return c(["../WebTileLayer"],
                b)})},WMSLayer:function(){return n.create(function(b){return c(["../WMSLayer"],b)})},WMTSLayer:function(){return n.create(function(b){return c(["../WMTSLayer"],b)})}}})},"esri/portal/support/featureCollectionUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../PortalItem ./portalItemUtils".split(" "),function(c,b,n,e,m,l){function h(b,c,a,g){return e(this,void 0,void 0,function(){var d;return n(this,function(f){switch(f.label){case 0:if(!b.layerType||
            "ArcGISFeatureLayer"!==b.layerType||b.url)return[2,!1];if(b.featureCollectionType&&b.featureCollectionType===a)return[2,!0];if(!b.itemId)return[3,2];d=new m({id:b.itemId,portal:c});return[4,d.load()];case 1:return f.sent(),[2,"Feature Collection"===d.type&&l.hasTypeKeyword(d,g)];case 2:return[2,!1]}})})}Object.defineProperty(b,"__esModule",{value:!0});b.isMapNotesLayer=function(b,c){return h(b,c,"notes","Map Notes")};b.isRouteLayer=function(b,c){return h(b,c,"route","Route Layer")}})},"esri/portal/support/portalItemUtils":function(){define(["require",
            "exports"],function(c,b){function n(b,c){return b.typeKeywords?-1<b.typeKeywords.indexOf(c):!1}Object.defineProperty(b,"__esModule",{value:!0});b.addTypeKeyword=function(b,c){if(!n(b,c)){var e=b.typeKeywords;e?e.push(c):b.typeKeywords=[c]}};b.hasTypeKeyword=n;b.removeTypeKeyword=function(b,c){if(b=b.typeKeywords)c=b.indexOf(c),-1<c&&b.splice(c,1)}})},"esri/portal/support/portalLayers":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../request ../../core/Collection ../../core/Error ../../core/promiseUtils ../../layers/support/lazyLayerLoader ../PortalItem ./portalItemUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){function r(a){switch(a.type){case "Map Service":return t(a);case "Feature Service":return u(a);case "Feature Collection":return v(a);case "Scene Service":return p(a);case "Image Service":return w(a);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "KML":return{className:"KMLLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};default:return k.reject(new d("portal:unknown-item-type",
                "Unknown item type '${type}'",{type:a.type}))}}function q(b){return(0,a.layerLookupMap[b.className])().then(function(a){return{constructor:a,properties:b.properties}})}function t(a){return z(a).then(function(a){return a?{className:"TileLayer"}:{className:"MapImageLayer"}})}function u(a){return y(a).then(function(a){if("object"===typeof a){var b={};null!=a.id&&(b.layerId=a.id);return{className:"FeatureLayer",properties:b}}return{className:"GroupLayer"}})}function p(a){return y(a).then(function(b){if("object"===
                typeof b){var d={},c=void 0;null!=b.id?(d.layerId=b.id,c=a.url+"/layers/"+b.id):c=a.url;if(Array.isArray(a.typeKeywords)&&0<a.typeKeywords.length){b={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(var f=0,e=Object.keys(b);f<e.length;f++){var g=e[f];if(-1!==a.typeKeywords.indexOf(g))return{className:b[g]}}}return A(c).then(function(a){var b="SceneLayer",c={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",
                PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a&&a.layerType&&c[a.layerType]&&(b=c[a.layerType]);return{className:b,properties:d}})}return{className:"GroupLayer"}})}function v(a){return m(this,void 0,void 0,function(){var b,d,c;return e(this,function(e){switch(e.label){case 0:return[4,a.load()];case 1:return e.sent(),(b=f.hasTypeKeyword(a,"Map Notes"))?[2,{className:"MapNotesLayer"}]:(d=f.hasTypeKeyword(a,"Route Layer"))?[2,{className:"RouteLayer"}]:[4,a.fetchData()];case 2:return(c=
                e.sent())&&Array.isArray(c.layers)&&1===c.layers.length?[2,{className:"FeatureLayer"}]:[2,{className:"GroupLayer"}]}})})}function w(a){return z(a).then(function(b){var d=new h(a.typeKeywords);return b?d.find(function(a){return"elevation 3d layer"===a.toLowerCase()})?{className:"ElevationLayer"}:{className:"TileLayer"}:{className:"ImageryLayer"}})}function z(a){return A(a.url).then(function(a){return a.tileInfo})}function y(a){return!a.url||a.url.match(/\/\d+$/)?k.resolve({}):a.load().then(function(){return a.fetchData()}).then(function(b){return b&&
            Array.isArray(b.layers)?1===b.layers.length?{id:b.layers[0].id}:!1:A(a.url).then(function(a){return a&&Array.isArray(a.layers)?1===a.layers.length?{id:a.layers[0].id}:!1:{}})})}function A(a){return l(a,{responseType:"json",query:{f:"json"}}).then(function(a){return a.data})}Object.defineProperty(b,"__esModule",{value:!0});b.fromItem=function(a){!a.portalItem||a.portalItem instanceof g||a.portalItem.constructor&&a.portalItem.constructor._meta||(a=n({},a,{portalItem:new g(a.portalItem)}));return a.portalItem.load().then(r).then(q).then(function(b){var d=
                n({portalItem:a.portalItem},b.properties);return k.resolve(new b.constructor(d))})};b.selectLayerClassPath=r})},"esri/renderers/support/styleUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/asyncUtils ../../core/promiseUtils ../../core/Warning".split(" "),function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});b.loadStyleRenderer=function(b,c,a){return e(this,void 0,void 0,function(){var d,f,e;return n(this,
            function(g){switch(g.label){case 0:return(d=b&&b.getAtOrigin&&b.getAtOrigin("renderer",c.origin))&&"unique-value"===d.type&&d.styleOrigin?[4,m.result(d.populateFromStyle())]:[3,2];case 1:f=g.sent(),l.throwIfAborted(a),!1===f.ok&&(e=f.error,c&&c.messages&&c.messages.push(new h("renderer:style-reference","Failed to create unique value renderer from style reference: "+e.message,{error:e,context:c})),b.clear("renderer",c.origin)),g.label=2;case 2:return[2]}})})}})},"esri/layers/FeatureLayer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../PopupTemplate ../renderers ../request ../symbols ../core/Collection ../core/Error ../core/Handles ../core/jsonMap ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/ArcGISService ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/FeatureIndex ./support/FeatureReduction ./support/FeatureReductionCluster ./support/FeatureReductionSelection ./support/featureReductionUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/FieldsIndex ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/layerSourceUtils ./support/Relationship ./support/TimeInfo ../renderers/support/jsonUtils ../renderers/support/styleUtils ../support/popupUtils ../symbols/support/jsonUtils ../tasks/support/AttachmentQuery ../tasks/support/FeatureSet ../tasks/support/Query ../tasks/support/RelationshipQuery @dojo/framework/shim/Promise".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B,D,E,C,G,H,F,I,J,M,O,L,K,R,da,U,V,ma,T,ba,X,Q,W,P,ja,oa,pa,ia,aa,Y,Z,ha,la,qa,ka,ga){function N(a,b,d){return!(a&&a.hasOwnProperty(b)?!a[b]:!d)}function S(a,b,d){return a&&a.hasOwnProperty(b)?a[b]:d}var fa=new u.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),na={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",
                keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},ca=p.getLogger("esri.layers.FeatureLayer"),ea=X.defineFieldProperties();return function(b){function p(a){a=b.call(this,a)||this;a._handles=new t;a.capabilities=null;a.copyright=null;a.displayField=null;a.definitionExpression=null;a.dynamicDataSource=null;a.editFieldsInfo=null;a.editingEnabled=!0;a.editingInfo=null;a.elevationInfo=null;a.featureReduction=null;a.fields=null;a.fullExtent=null;a.gdbVersion=null;a.geometryProperties=null;a.geometryType=
                null;a.hasM=void 0;a.hasZ=void 0;a.heightModelInfo=null;a.historicMoment=null;a.isTable=!1;a.labelsVisible=!0;a.labelingInfo=null;a.layerId=void 0;a.legendEnabled=!0;a.minScale=0;a.maxScale=0;a.globalIdField=null;a.objectIdField=null;a.outFields=null;a.path=null;a.popupEnabled=!0;a.popupTemplate=null;a.relationships=null;a.sourceJSON=null;a.returnM=void 0;a.returnZ=void 0;a.screenSizePerspectiveEnabled=!0;a.serviceDefinitionExpression=null;a.spatialReference=E.WGS84;a.templates=null;a.timeInfo=null;
                a.title=null;a.sublayerTitleMode="item-title";a.trackIdField=null;a.type="feature";a.typeIdField=null;a.types=null;a.indexes=new (r.ofType(R.FeatureIndex));a.userIsAdmin=!1;a.version=void 0;a.visible=!0;return a}e(p,b);p.prototype.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null)};p.prototype.normalizeCtorArgs=function(a,b){return"string"===typeof a?n({url:a},b):a};p.prototype.load=function(a){var b=this,c=v.isSome(a)?a.signal:null;if(this.portalItem&&this.portalItem.loaded&&
                this.source)this.addResolvingPromise(this.createGraphicsSource(c).then(function(a){return b._initLayerProperties(a)}));else return a=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},a).catch(function(a){return a}).then(function(){return d(b,void 0,void 0,function(){var a,b;return h(this,function(d){switch(d.label){case 0:return this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)?[4,this._fetchFirstLayerId(c)]:[3,2];case 1:a=d.sent(),null!=a&&(this.layerId=
                a),d.label=2;case 2:if(!this.url&&!this._hasMemorySource())throw new q("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");b=this._initLayerProperties;return[4,this.createGraphicsSource(c)];case 3:return[2,b.apply(this,[d.sent()])]}})})}),this.addResolvingPromise(a),y.resolve(this)};p.prototype.readCapabilities=function(a,b){b=b.layerDefinition||b;return{attachment:this._readAttachmentCapabilities(b.attachmentProperties),data:this._readDataCapabilities(b),
                metadata:this._readMetadataCapabilities(b),operations:this._readOperationsCapabilities(b.capabilities||a,b),query:this._readQueryCapabilities(b),queryRelated:this._readQueryRelatedCapabilities(b),editing:this._readEditingCapabilities(b)}};p.prototype.readEditingEnabled=function(a,b){return b.layerDefinition&&"Query"===b.layerDefinition.capabilities?!1:!0};p.prototype.writeEditingEnabled=function(a,b){a||z.setDeepValue("layerDefinition.capabilities","Query",b)};p.prototype.readEditingInfo=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      b){return(a=b.editingInfo)?{lastEditDate:null!=a.lastEditDate?new Date(a.lastEditDate):null}:null};p.prototype.readFeatureReduction=function(a,b){return ma.read(a,b)};p.prototype.writeWebSceneFeatureReduction=function(a,b,d,c){ma.writeTarget(a,b,"layerDefinition.featureReduction",c)};Object.defineProperty(p.prototype,"fieldsIndex",{get:function(){return new Q(this.fields||[])},enumerable:!0,configurable:!0});p.prototype.readIsTable=function(a,b){b=b&&b.layerDefinition||b;return"Table"===b.type};Object.defineProperty(p.prototype,
                "hasService",{get:function(){return!this._hasMemorySource()},enumerable:!0,configurable:!0});p.prototype.readMinScale=function(a,b){return b.effectiveMinScale||a||0};p.prototype.readMaxScale=function(a,b){return b.effectiveMaxScale||a||0};p.prototype.readGlobalIdFieldFromService=function(a,b){b=b.layerDefinition||b;if(b.globalIdField)return b.globalIdField;if(b.fields)for(a=0,b=b.fields;a<b.length;a++){var d=b[a];if("esriFieldTypeGlobalID"===d.type)return d.name}};p.prototype.readObjectIdFieldFromService=
                function(a,b){b=b.layerDefinition||b;if(b.objectIdField)return b.objectIdField;if(b.fields)for(a=0,b=b.fields;a<b.length;a++){var d=b[a];if("esriFieldTypeOID"===d.type)return d.name}};Object.defineProperty(p.prototype,"parsedUrl",{get:function(){var a=this.url?A.urlToObject(this.url):null;if(null!=a)if(null!=this.layerId)a.path=A.join(a.path,this.layerId.toString());else if(null!=this.dynamicDataSource){var b={source:oa.sourceToJSON(this.dynamicDataSource)};a.query={layer:JSON.stringify(b)}}return a},
                enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"defaultPopupTemplate",{get:function(){return this.createPopupTemplate()},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"renderer",{set:function(a){W.fixRendererFields(a,this.fields);this._set("renderer",a)},enumerable:!0,configurable:!0});p.prototype.readRenderer=function(b,d,c){d=d.layerDefinition||d;var e=d.drawingInfo&&d.drawingInfo.renderer||void 0,g,k;if(e)(g=aa.read(e,d,c)||void 0)||ca.error("Failed to create renderer",
                {rendererDefinition:d.drawingInfo.renderer,layer:this,context:c});else if(d.defaultSymbol)ha.read(d.defaultSymbol,d,c),d.types&&d.types.length?(g=new a.UniqueValueRenderer({defaultSymbol:k,field:d.typeIdField}),d.types.forEach(function(a){e.addUniqueValueInfo(a.id,ha.read(a.symbol,a,c))})):g=new a.SimpleRenderer({symbol:k});else if("Table"!==d.type){switch(d.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":k=new f.SimpleMarkerSymbol;break;case "esriGeometryPolyline":k=new f.SimpleLineSymbol;
                break;case "esriGeometryPolygon":k=new f.SimpleFillSymbol}g=k&&new a.SimpleRenderer({symbol:k})}return g};p.prototype.writeRenderer=function(a,b,d,c){aa.writeTarget(a,b,d,c)};p.prototype.writeWebSceneRenderer=function(a,b,d,c){aa.writeTarget(a,b,"layerDefinition.drawingInfo.renderer",c)};Object.defineProperty(p.prototype,"source",{set:function(a){var b=this._get("source");b!==a&&(b&&b instanceof r&&this._resetMemorySource(b),a&&a instanceof r&&this._initMemorySource(a),this._set("source",a))},enumerable:!0,
                configurable:!0});p.prototype.castSource=function(a){return a?Array.isArray(a)||a instanceof r?new G.default({layer:this,items:a}):a:null};p.prototype.readSource=function(a,b){a=qa.fromJSON(b.featureSet);return new G.default({layer:this,items:a&&a.features||[]})};p.prototype.readTemplates=function(a,b){var d=b.editFieldsInfo;b=d&&d.creatorField;d=d&&d.editorField;a=a&&a.map(function(a){return T.fromJSON(a)});this._fixTemplates(a,b);this._fixTemplates(a,d);return a};p.prototype.readTitle=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     b){a=b.layerDefinition&&b.layerDefinition.name||b.name;b=b.title||b.layerDefinition&&b.layerDefinition.title;if(a){b=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?L.titleFromUrlAndName(this.url,a):a;a=a||this.url&&L.parse(this.url).title;if(!a)return;"item-title-and-service-name"===this.sublayerTitleMode&&b&&(a=b+" - "+a);return L.cleanTitle(a)}if("item-title"===this.sublayerTitleMode&&b)return b};p.prototype.readTitleFromWebMap=function(a,b){return b.title||
                b.layerDefinition&&b.layerDefinition.name};p.prototype.readTypeIdField=function(a,b){b=b.layerDefinition||b;if(a=b.typeIdField)if(b=W.getField(b.fields,a))a=b.name;return a};p.prototype.readTypes=function(a,b){var d=this;b=b.layerDefinition||b;a=b.types;var c=(b=b.editFieldsInfo)&&b.creatorField,f=b&&b.editorField;return a&&a.map(function(a){a=ba.fromJSON(a);d._fixTemplates(a.templates,c);d._fixTemplates(a.templates,f);return a})};Object.defineProperty(p.prototype,"url",{set:function(a){a=L.sanitizeUrlWithLayerId(this,
                    a,ca);this._set("url",a.url);null!=a.layerId&&this._set("layerId",a.layerId)},enumerable:!0,configurable:!0});p.prototype.writeUrl=function(a,b,d,c){L.writeUrlWithLayerId(this,a,null,b,c)};p.prototype.readVersion=function(a,b){return b.currentVersion?b.currentVersion:b.hasOwnProperty("capabilities")||b.hasOwnProperty("drawingInfo")||b.hasOwnProperty("hasAttachments")||b.hasOwnProperty("htmlPopupType")||b.hasOwnProperty("relationships")||b.hasOwnProperty("timeInfo")||b.hasOwnProperty("typeIdField")||
            b.hasOwnProperty("types")?10:9.3};p.prototype.readVisible=function(a,b){if(b.layerDefinition&&null!=b.layerDefinition.defaultVisibility)return!!b.layerDefinition.defaultVisibility;if(null!=b.visibility)return!!b.visibility};p.prototype.addAttachment=function(a,b){var d=this;return this.load().then(function(){return d._checkAttachmentSupport(a)}).then(function(){if(!("addAttachment"in d.source))throw new q("FeatureLayer","Layer source does not support addAttachment capability");return d.source.addAttachment(a,
                b)})};p.prototype.updateAttachment=function(a,b,d){var c=this;return this.load().then(function(){return c._checkAttachmentSupport(a)}).then(function(){if(!("updateAttachment"in c.source))throw new q("FeatureLayer","Layer source does not support updateAttachment capability");return c.source.updateAttachment(a,b,d)})};p.prototype.applyEdits=function(a,b){return d(this,void 0,void 0,function(){var d;return h(this,function(f){switch(f.label){case 0:return[4,new Promise(function(a,b){c(["./graphics/editingSupport"],
                a,b)})];case 1:return d=f.sent(),[2,d.applyEdits(this,a,b)]}})})};p.prototype.on=function(a,b){return this.inherited(arguments,[a,b])};p.prototype.createPopupTemplate=function(a){return Z.createPopupTemplate(this,a)};p.prototype.createGraphicsSource=function(a){return d(this,void 0,void 0,function(){var b,d;return h(this,function(f){switch(f.label){case 0:return this._hasMemorySource()?(this.emit("graphics-source-create",{graphicsSource:this.source}),[2,this.source.load({signal:a})]):[4,y.create(function(a){return c(["./graphics/sources/FeatureLayerSource"],
                a)})];case 1:return b=f.sent(),y.throwIfAborted(a),[4,(new b.default({layer:this})).load({signal:a})];case 2:return d=f.sent(),this.emit("graphics-source-create",{graphicsSource:d}),[2,d]}})})};p.prototype.createQuery=function(){var a=new ka,b=this.get("capabilities.data");a.gdbVersion=this.gdbVersion;a.historicMoment=this.historicMoment;a.returnGeometry=!0;b&&(b.supportsZ&&null!=this.returnZ&&(a.returnZ=this.returnZ),b.supportsM&&null!=this.returnM&&(a.returnM=this.returnM));a.outFields=["*"];a.where=
                this.definitionExpression||"1\x3d1";a.timeExtent=this.timeExtent||null;a.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null;return a};p.prototype.deleteAttachments=function(a,b){var d=this;return this.load().then(function(){return d._checkAttachmentSupport(a)}).then(function(){if(!("deleteAttachments"in d.source))throw new q("FeatureLayer","Layer source does not support deleteAttachments capability");return d.source.deleteAttachments(a,b)})};p.prototype.getFeatureType=function(a){var b=
                this.typeIdField;if(!b||!a)return null;var d=a.attributes?a.attributes[b]:void 0;if(null==d)return null;var c=null;this.types.some(function(a){var b=a.id;if(null==b)return!1;b.toString()===d.toString()&&(c=a);return!!c});return c};p.prototype.getFieldDomain=function(a,b){return(b=this.getFeatureType(b&&b.feature))&&(b=b.domains&&b.domains[a])&&"inherited"!==b.type?b:this._getLayerDomain(a)};p.prototype.getField=function(a){return this.fieldsIndex.get(a)};p.prototype.queryAttachments=function(a,b){var d=
                this;a=la.from(a);return this.load().then(function(){if(!d.get("capabilities.data.supportsAttachment"))throw new q("FeatureLayer","this layer doesn't support attachments");var b=a.attachmentTypes,c=a.objectIds,f=a.globalIds,e=a.num,g=a.size,k=a.start,p=a.where;if(!d.get("capabilities.operations.supportsQueryAttachments")&&(b=b&&b.length,f=f&&f.length,g=g&&g.length,c&&1<c.length||b||f||g||e||k||p))throw new q("FeatureLayer","when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",
                a);if(!(c&&c.length||p))throw new q("FeatureLayer","'objectIds' or 'where' are required to perform attachment query",a);if(!("queryAttachments"in d.source))throw new q("FeatureLayer","Layer source does not support queryAttachments capability",a);return d.source.queryAttachments(a)})};p.prototype.queryFeatures=function(a,b){var d=this;return this.load().then(function(){return d.source.queryFeatures(ka.from(a)||d.createQuery(),b)}).then(function(a){if(a&&a.features)for(var b=0,c=a.features;b<c.length;b++){var f=
                c[b];f.layer=f.sourceLayer=d}return a})};p.prototype.queryObjectIds=function(a,b){var d=this;return this.load().then(function(){if(d.source.queryObjectIds)return d.source.queryObjectIds(ka.from(a)||d.createQuery(),b);throw new q("FeatureLayer","Layer source does not support queryObjectIds capability");})};p.prototype.queryFeatureCount=function(a,b){var d=this;return this.load().then(function(){if(d.source.queryFeatureCount)return d.source.queryFeatureCount(ka.from(a)||d.createQuery(),b);throw new q("FeatureLayer",
                "Layer source does not support queryFeatureCount capability");})};p.prototype.queryExtent=function(a,b){var d=this;return this.load().then(function(){if(d.source.queryExtent)return d.source.queryExtent(ka.from(a)||d.createQuery(),b);throw new q("FeatureLayer","Layer source does not support queryExtent capability");})};p.prototype.queryRelatedFeatures=function(a,b){var d=this;return this.load().then(function(){if("queryRelatedFeatures"in d.source)return d.source.queryRelatedFeatures(ga.from(a),b);
                throw new q("FeatureLayer","Layer source does not support queryRelatedFeatures capability");})};p.prototype.read=function(a,b){var d=a.featureCollection;if(d){var c=d.layers;c&&1===c.length&&(this.inherited(arguments,[c[0],b]),null!=d.showLegend&&this.inherited(arguments,[{showLegend:d.showLegend},b]))}this.inherited(arguments,[a,b]);b&&"service"===b.origin&&this.revert(["objectIdField","fields","timeInfo"],"service")};p.prototype.write=function(a,b){return b&&("web-scene"===b.origin||"web-map"===
                b.origin)&&b.messages&&this.isTable?(b.messages.push(new q("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' using a Table source cannot written to web scenes and web maps",{layer:this})),null):this.inherited(arguments)};p.prototype._checkAttachmentSupport=function(a){var b=a.attributes,d=this.objectIdField;if(!this.get("capabilities.data.supportsAttachment"))return y.reject(new q("FeatureLayer","this layer doesn't support attachments"));if(!a)return y.reject(new q("FeatureLayer",
                "A feature is required to add/delete/update attachments"));if(!b)return y.reject(new q("FeatureLayer","'attributes' are required on a feature to query attachments"));if(!b[d])return y.reject(new q("FeatureLayer","feature is missing the identifying attribute "+d))};p.prototype._getLayerDomain=function(a){return(a=this.fieldsIndex.get(a))?a.domain:null};p.prototype._fetchFirstLayerId=function(a){return g(this.url,{query:{f:"json"},responseType:"json",signal:a}).then(function(a){if(a=a.data){if(Array.isArray(a.layers)&&
                0<a.layers.length)return a.layers[0].id;if(Array.isArray(a.tables)&&0<a.tables.length)return a.tables[0].id}})};p.prototype._initLayerProperties=function(a){return d(this,void 0,void 0,function(){return h(this,function(b){this._set("source",a);a.sourceJSON&&(this.sourceJSON=a.sourceJSON,this.read(a.sourceJSON,{origin:"service",url:this.parsedUrl}));this._verifySource();this._verifyFields();W.fixRendererFields(this.renderer,this.fields);W.fixTimeInfoFields(this.timeInfo,this.fields);return[2,Y.loadStyleRenderer(this,
                {origin:"service"})]})})};p.prototype._verifyFields=function(){var a=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+a+")");this.isTable||this._hasMemorySource()||-1!==a.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function(a){return"geometry"===a.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+
                a+")")};p.prototype._fixTemplates=function(a,b){a&&a.forEach(function(a){(a=a.prototype&&a.prototype.attributes)&&b&&delete a[b]})};p.prototype._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new q("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new q("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};p.prototype._initMemorySource=
                function(a){var b=this;a.forEach(function(a){a.layer=b;a.sourceLayer=b});this._handles.add([a.on("after-add",function(a){a.item.layer=b;a.item.sourceLayer=b}),a.on("after-remove",function(a){a.item.layer=null;a.item.sourceLayer=null})],"fl-source")};p.prototype._resetMemorySource=function(a){a.forEach(function(a){a.layer=null;a.sourceLayer=null});this._handles.remove("fl-source")};p.prototype._hasMemorySource=function(){return!(this.url||!this.source)};p.prototype._readAttachmentCapabilities=function(a){var b=
                {supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};a&&Array.isArray(a)&&a.forEach(function(a){var d=na[a.name];d&&(b[d]=!!a.isEnabled)});return b};p.prototype._readDataCapabilities=function(a){return{isVersioned:N(a,"isDataVersioned",!1),supportsAttachment:N(a,"hasAttachments",!1),supportsM:N(a,"hasM",!1),supportsZ:N(a,"hasZ",!1)}};p.prototype._readMetadataCapabilities=function(a){return{supportsAdvancedFieldProperties:N(a,"supportsFieldDescriptionProperty",
                    !1)}};p.prototype._readOperationsCapabilities=function(a,b){a=a?a.toLowerCase().split(",").map(function(a){return a.trim()}):[];var d=-1!==a.indexOf("editing"),c=d&&-1!==a.indexOf("create"),f=d&&-1!==a.indexOf("delete"),e=d&&-1!==a.indexOf("update");!d||c||f||e||(c=f=e=!0);return{supportsCalculate:N(b,"supportsCalculate",!1),supportsTruncate:N(b,"supportsTruncate",!1),supportsValidateSql:N(b,"supportsValidateSql",!1),supportsAdd:c,supportsDelete:f,supportsEditing:d,supportsQuery:-1!==a.indexOf("query"),
                supportsQueryAttachments:N(b.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:N(b,"supportsAttachmentsResizing",!1),supportsSync:-1!==a.indexOf("sync"),supportsUpdate:e,supportsExceedsLimitStatistics:N(b,"supportsExceedsLimitStatistics",!1)}};p.prototype._readQueryCapabilities=function(a){var b=a.advancedQueryCapabilities,d=a.ownershipBasedAccessControlForFeatures,c=a.archivingInfo,f=(a.supportedQueryFormats||"").split(",").reduce(function(a,b){(b=b.toLowerCase().trim())&&
            a.add(b);return a},new Set);return{supportsStatistics:N(b,"supportsStatistics",a.supportsStatistics),supportsPercentileStatistics:N(b,"supportsPercentileStatistics",!1),supportsCentroid:N(b,"supportsReturningGeometryCentroid",!1),supportsDistance:N(b,"supportsQueryWithDistance",!1),supportsDistinct:N(b,"supportsDistinct",a.supportsAdvancedQueries),supportsExtent:N(b,"supportsReturningQueryExtent",!1),supportsGeometryProperties:N(b,"supportsReturningGeometryProperties",!1),supportsHavingClause:N(b,
                    "supportsHavingClause",!1),supportsOrderBy:N(b,"supportsOrderBy",a.supportsAdvancedQueries),supportsPagination:N(b,"supportsPagination",!1),supportsQuantization:N(a,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:N(a,"supportsQuantizationEditMode",!1),supportsQueryGeometry:N(a,"supportsReturningQueryGeometry",!1),supportsResultType:N(b,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:N(b,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:N(b,"supportsSqlExpression",
                    !1),supportsStandardizedQueriesOnly:N(a,"useStandardizedQueries",!1),supportsQueryByOthers:N(d,"allowOthersToQuery",!0),supportsHistoricMoment:N(c,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:f.has("pbf"),supportsDisjointSpatialRelationship:N(b,"supportsDisjointSpatialRel",!1),supportsCacheHint:N(b,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:S(a,"maxRecordCountFactor",void 0),maxRecordCount:S(a,"maxRecordCount",void 0),standardMaxRecordCount:S(a,"standardMaxRecordCount",void 0),
                tileMaxRecordCount:S(a,"tileMaxRecordCount",void 0)}};p.prototype._readQueryRelatedCapabilities=function(a){a=a.advancedQueryCapabilities;var b=N(a,"supportsAdvancedQueryRelated",!1);return{supportsPagination:N(a,"supportsQueryRelatedPagination",!1),supportsCount:b,supportsOrderBy:b}};p.prototype._readEditingCapabilities=function(a){var b=a.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:N(a,"allowGeometryUpdates",!0),supportsGlobalId:N(a,"supportsApplyEditsWithGlobalIds",!1),
                supportsRollbackOnFailure:N(a,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:N(a,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:N(a,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:N(b,"allowAnonymousToDelete",!0),supportsDeleteByOthers:N(b,"allowOthersToDelete",!0),supportsUpdateByAnonymous:N(b,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:N(b,"allowOthersToUpdate",!0)}};m([x.property({readOnly:!0,json:{read:!1}})],p.prototype,"capabilities",void 0);
                m([x.reader("service","capabilities","advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" "))],
                    p.prototype,"readCapabilities",null);m([x.property({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],p.prototype,"copyright",void 0);m([x.property({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],p.prototype,"displayField",void 0);m([x.property({type:String,json:{origins:{service:{read:!1,write:!1}},read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],
                    p.prototype,"definitionExpression",void 0);m([x.property({readOnly:!0,json:{read:ha.read}})],p.prototype,"defaultSymbol",void 0);m([x.property()],p.prototype,"dynamicDataSource",void 0);m([x.property({readOnly:!0})],p.prototype,"editFieldsInfo",void 0);m([x.property({type:Boolean})],p.prototype,"editingEnabled",void 0);m([x.reader(["portal-item","web-map","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],p.prototype,"readEditingEnabled",null);m([x.writer(["portal-item","web-map","web-scene"],
                    "editingEnabled",{"layerDefinition.capabilities":{type:String}})],p.prototype,"writeEditingEnabled",null);m([x.property({readOnly:!0})],p.prototype,"editingInfo",void 0);m([x.reader("editingInfo")],p.prototype,"readEditingInfo",null);m([x.property(K.elevationInfo)],p.prototype,"elevationInfo",void 0);m([x.property({types:{key:"type",base:da.default,typeMap:{selection:V.default,cluster:U.default}},json:{write:{target:"layerDefinition.featureReduction"}}})],p.prototype,"featureReduction",void 0);m([x.reader("featureReduction",
                    ["layerDefinition.featureReduction"])],p.prototype,"readFeatureReduction",null);m([x.writer("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:ma.webSceneFeatureReductionTypes}})],p.prototype,"writeWebSceneFeatureReduction",null);m([x.property(n({},ea.fields,{json:{origins:{service:{read:!0}},read:{source:"layerDefinition.fields"}}}))],p.prototype,"fields",void 0);m([x.property({readOnly:!0,dependsOn:["fields"]})],p.prototype,"fieldsIndex",null);m([x.property({type:B,json:{origins:{service:{read:{source:"extent"}}},
                        read:{source:"layerDefinition.extent"}}})],p.prototype,"fullExtent",void 0);m([x.property()],p.prototype,"gdbVersion",void 0);m([x.property({readOnly:!0})],p.prototype,"geometryProperties",void 0);m([x.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:fa.read}},read:{source:"layerDefinition.geometryType",reader:fa.read}}})],p.prototype,"geometryType",void 0);m([x.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],
                    p.prototype,"hasM",void 0);m([x.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],p.prototype,"hasZ",void 0);m([x.property({readOnly:!0,type:D})],p.prototype,"heightModelInfo",void 0);m([x.property({type:Date})],p.prototype,"historicMoment",void 0);m([x.property({json:{origins:{service:{read:!1},"portal-item":{read:!1}}}})],p.prototype,"id",void 0);m([x.property({readOnly:!0})],p.prototype,"isTable",void 0);m([x.reader("service","isTable",["type"]),
                    x.reader("isTable",["layerDefinition.type"])],p.prototype,"readIsTable",null);m([x.property({dependsOn:["loaded","url","source"],readOnly:!0})],p.prototype,"hasService",null);m([x.property(K.labelsVisible)],p.prototype,"labelsVisible",void 0);m([x.property({type:[P],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:ja.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:ja.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],
                    p.prototype,"labelingInfo",void 0);m([x.property(K.opacityDrawingInfo)],p.prototype,"opacity",void 0);m([x.property({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],p.prototype,"layerId",void 0);m([x.property(K.legendEnabled)],p.prototype,"legendEnabled",void 0);m([x.property({type:["show","hide"]})],p.prototype,"listMode",void 0);m([x.property({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}})],
                    p.prototype,"minScale",void 0);m([x.reader("service","minScale",["minScale","effectiveMinScale"])],p.prototype,"readMinScale",null);m([x.property({type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}})],p.prototype,"maxScale",void 0);m([x.reader("service","maxScale",["maxScale","effectiveMaxScale"])],p.prototype,"readMaxScale",null);m([x.property({type:String})],p.prototype,"globalIdField",void 0);m([x.reader("globalIdField",
                    ["layerDefinition.globalIdField","layerDefinition.fields"]),x.reader("service","globalIdField",["globalIdField","fields"])],p.prototype,"readGlobalIdFieldFromService",null);m([x.property({type:String})],p.prototype,"objectIdField",void 0);m([x.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),x.reader("service","objectIdField",["objectIdField","fields"])],p.prototype,"readObjectIdFieldFromService",null);m([x.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],
                    p.prototype,"operationalLayerType",void 0);m([x.property(ea.outFields)],p.prototype,"outFields",void 0);m([x.property({readOnly:!0,dependsOn:["layerId"]})],p.prototype,"parsedUrl",null);m([x.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],p.prototype,"path",void 0);m([x.property(K.popupEnabled)],p.prototype,"popupEnabled",void 0);m([x.property({type:k,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],p.prototype,"popupTemplate",void 0);m([x.property({readOnly:!0,
                    dependsOn:["fields","title"]})],p.prototype,"defaultPopupTemplate",null);m([x.property({type:[pa],readOnly:!0})],p.prototype,"relationships",void 0);m([x.property({types:a.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}}},write:{target:"layerDefinition.drawingInfo.renderer"}}})],p.prototype,"renderer",null);m([x.reader("service","renderer",["drawingInfo.renderer","defaultSymbol","type"]),x.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol",
                    "layerDefinition.type"])],p.prototype,"readRenderer",null);m([x.writer("renderer")],p.prototype,"writeRenderer",null);m([x.writer("web-scene","renderer",{"layerDefinition.drawingInfo.renderer":{types:a.webSceneRendererTypes}})],p.prototype,"writeWebSceneRenderer",null);m([x.property()],p.prototype,"sourceJSON",void 0);m([x.property({type:Boolean})],p.prototype,"returnM",void 0);m([x.property({type:Boolean})],p.prototype,"returnZ",void 0);m([x.property(K.screenSizePerspectiveEnabled)],p.prototype,
                    "screenSizePerspectiveEnabled",void 0);m([x.property()],p.prototype,"source",null);m([x.cast("source")],p.prototype,"castSource",null);m([x.reader("portal-item","source",["featureSet"]),x.reader("web-map","source",["featureSet"])],p.prototype,"readSource",null);m([x.property({readOnly:!0,json:{origins:{service:{read:{source:"definitionExpression"}}}}})],p.prototype,"serviceDefinitionExpression",void 0);m([x.property({type:E,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],
                    p.prototype,"spatialReference",void 0);m([x.property({type:[T]})],p.prototype,"templates",void 0);m([x.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],p.prototype,"readTemplates",null);m([x.property({type:ia})],p.prototype,"timeInfo",void 0);m([x.property()],p.prototype,"title",void 0);m([x.reader("service","title",["name"]),x.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],p.prototype,"readTitle",null);m([x.reader("web-map",
                    "title",["layerDefinition.name","title"])],p.prototype,"readTitleFromWebMap",null);m([x.property({type:String})],p.prototype,"sublayerTitleMode",void 0);m([x.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],p.prototype,"trackIdField",void 0);m([x.property({json:{read:!1}})],p.prototype,"type",void 0);m([x.property({type:String})],p.prototype,"typeIdField",void 0);m([x.reader("service","typeIdField"),x.reader("typeIdField",["layerDefinition.typeIdField"])],p.prototype,"readTypeIdField",
                    null);m([x.property({type:[ba]})],p.prototype,"types",void 0);m([x.reader("service","types",["types"]),x.reader("types",["layerDefinition.types"])],p.prototype,"readTypes",null);m([x.property({type:r.ofType(R.FeatureIndex),readOnly:!0})],p.prototype,"indexes",void 0);m([x.property(K.url)],p.prototype,"url",null);m([x.writer("url")],p.prototype,"writeUrl",null);m([x.property({readOnly:!0})],p.prototype,"userIsAdmin",void 0);m([x.property({json:{origins:{service:{read:!0}},read:!1}})],p.prototype,"version",
                    void 0);m([x.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],p.prototype,"readVersion",null);m([x.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],p.prototype,"visible",void 0);m([x.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],p.prototype,"readVisible",null);return p=m([x.subclass("esri.layers.FeatureLayer")],
                    p)}(x.declared(O.TemporalLayer(M.ScaleRangeLayer(J.RefreshableLayer(H.ArcGISService(F.OperationalLayer(I.PortalLayer(w.MultiOriginJSONMixin(C)))))))))})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper ./core/arrayUtils ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/SetUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B,D,E,C,G,H,F,I){var J=k.ofType({key:"type",defaultKeyValue:"button",base:H,typeMap:{button:F,toggle:I}}),M={base:B,key:"type",typeMap:{media:E,text:C,attachments:x,fields:D}},O=f.getLogger("esri.PopupTemplate");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
                "";b.relatedRecordsInfo=null;return b}e(b,a);c=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return u.ensureOneOfType(M,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||r.isPromiseLike(a))return a;O.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,b){a=b.popupElements;return Array.isArray(a)&&0<a.length?this._readPopupInfoElements(b):this._readPopupInfo(b)};b.prototype.writeContent=
                function(a,b){var d=this;"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"===a.type?d._writeAttachmentContent(b):"media"===a.type?d._writeMediaContent(a,b):"text"===a.type&&d._writeTextContent(a,b)}))};b.prototype.writeFieldInfos=function(a,b){var d=this.content,d=Array.isArray(d)?d:null;if(a){var c=d?d.some(function(a){return"fields"===a.type&&(!a.fieldInfos||0===a.fieldInfos.length)}):
                !1;b.fieldInfos=a.filter(Boolean).map(function(a){a=a.toJSON();c||(a.visible=!1);return a})}if(d)for(a=0;a<d.length;a++){var f=d[a];"fields"===f.type&&this._writeFieldsContent(f,b)}};b.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};b.prototype.writeTitle=function(a,b){b.title=a||""};b.prototype.clone=function(){var a=this.actions,a=a?g.clone(a.toArray()):[];return new c({actions:a,content:Array.isArray(this.content)?
                    g.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?g.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?g.clone(this.fieldInfos):null,layerOptions:this.layerOptions?g.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?g.clone(this.outFields):null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?g.clone(this.relatedRecordsInfo):
                    null})};b.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){return l(this,function(d){switch(d.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return d.sent(),p.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),[2]}})})};b.prototype.getRequiredFields=function(a){return h(this,void 0,void 0,function(){var b;return l(this,
                function(d){switch(d.label){case 0:return b=new Set,[4,this.collectRequiredFields(b,a)];case 1:return d.sent(),[2,q.valuesOfSet(b).sort()]}})})};b.prototype._writeFieldsContent=function(a,b){Array.isArray(a.fieldInfos)&&a.fieldInfos.length&&(a=g.clone(a.fieldInfos),Array.isArray(b.fieldInfos)?a.forEach(function(a){var c=d.find(b.fieldInfos,function(b){return b.fieldName.toLowerCase()===a.fieldName.toLowerCase()});c?c.visible=!0:b.fieldInfos.push(a)}):b.fieldInfos=a)};b.prototype._writeAttachmentContent=
                function(a){a.showAttachments||(a.showAttachments=!0)};b.prototype._writeTextContent=function(a,b){!b.description&&a.text&&(b.description=a.text)};b.prototype._writeMediaContent=function(a,b){Array.isArray(a.mediaInfos)&&a.mediaInfos.length&&(a=g.clone(a.mediaInfos),Array.isArray(b.mediaInfos)?b.mediaInfos=b.mediaInfos.concat(a):b.mediaInfos=a)};b.prototype._readPopupInfoElements=function(a){var b=a.description,d=a.mediaInfos,c=!1,f=!1;return a.popupElements.map(function(a){if("media"===a.type)return a.mediaInfos||
            !d||f||(a.mediaInfos=d,f=!0),E.fromJSON(a);if("text"===a.type)return a.text||!b||c||(a.text=b,c=!0),C.fromJSON(a);if("attachments"===a.type)return x.fromJSON(a);if("fields"===a.type)return D.fromJSON(a)}).filter(Boolean)};b.prototype._readPopupInfo=function(a){var b=a.description,d=a.mediaInfos;a=a.showAttachments;var c=[];b?c.push(new C({text:b})):c.push(new D);Array.isArray(d)&&d.length&&c.push(E.fromJSON({mediaInfos:d}));a&&c.push(x.fromJSON({displayType:"list"}));return c.length?c:b};b.prototype._getContentElementFields=
                function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,d){return a.concat(b._getMediaInfoFields(d))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};b.prototype._getMediaInfoFields=function(a){var b=a.caption,d=a.value||{},c=d.fields,f=void 0===c?[]:c,c=d.normalizeField,e=d.tooltipField,g=d.sourceURL,d=d.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),
                this._extractFieldNames(g),this._extractFieldNames(d),f);c&&a.push(c);e&&a.push(e);return a};b.prototype._getContentFields=function(a){var b=this;return"string"===typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,d){return a.concat(b._getContentElementFields(d))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,b,d){return h(this,void 0,void 0,function(){return l(this,function(c){switch(c.label){case 0:return d?[4,r.all(d.map(function(d){return p.collectArcadeFieldNames(a,
                b,d.expression)}))]:[2];case 1:return c.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,d){return a.concat(b._getActionFields(d))},[]):[]};b.prototype._getActionFields=function(a){var b=
                a.className,d=a.type,d="button"===d||"toggle"===d?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(d))};b.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,
                "{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var c;m([t.property({type:J})],b.prototype,"actions",void 0);m([t.property()],b.prototype,"content",void 0);m([t.cast("content")],b.prototype,"castContent",null);m([t.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);m([t.writer("content",{popupElements:{type:k.ofType(v.types)},showAttachments:{type:Boolean},mediaInfos:{type:k.ofType(G.types)},description:{type:String}})],b.prototype,
                "writeContent",null);m([t.property({type:[w],json:{write:!0}})],b.prototype,"expressionInfos",void 0);m([t.property({type:[z]})],b.prototype,"fieldInfos",void 0);m([t.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);m([t.property({type:y})],b.prototype,"layerOptions",void 0);m([t.writer("layerOptions")],b.prototype,"writeLayerOptions",null);m([t.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",
                void 0);m([t.property()],b.prototype,"outFields",void 0);m([t.property()],b.prototype,"overwriteActions",void 0);m([t.property({json:{type:String}})],b.prototype,"title",void 0);m([t.writer("title")],b.prototype,"writeTitle",null);m([t.property({type:A,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=c=m([t.subclass("esri.PopupTemplate")],b)}(t.declared(a.JSONSupport))})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
            function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});b.AttachmentsContent=n;b.BaseContent=e;b.FieldsContent=m;b.MediaContent=l;b.TextContent=h;b.isContent=function(b){return b instanceof e};b.types={base:null,key:"type",typeMap:{attachment:n,fields:m,media:l,text:h}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),
            function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.displayType=null;a.type="attachments";return a}n(d,b);c=d;d.prototype.clone=function(){return new c({displayType:this.displayType})};var c;e([m.property({type:["preview","list"],json:{write:!0}})],d.prototype,"displayType",void 0);e([m.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=c=e([m.subclass("esri.popup.content.AttachmentsContent")],d)}(m.declared(l))})},
        "esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){return function(b){function d(d){d=b.call(this,d)||this;d.type=null;return d}n(d,b);e([l.property({type:["attachments","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=e([l.subclass("esri.popup.content.Content")],
            d)}(l.declared(m.JSONSupport))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.fieldInfos=null;a.type="fields";return a}n(a,b);d=a;a.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};
            a.prototype.clone=function(){return new d({fieldInfos:Array.isArray(this.fieldInfos)?m.clone(this.fieldInfos):null})};var d;e([l.property({type:[h]})],a.prototype,"fieldInfos",void 0);e([l.writer("fieldInfos")],a.prototype,"writeFieldInfos",null);e([l.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0);return a=d=e([l.subclass("esri.popup.content.FieldsContent")],a)}(l.declared(d))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),
            function(c,b,n,e,m,l,h,d,k){var a=new m.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});return function(b){function c(a){a=b.call(this,a)||this;a.fieldName=null;a.format=null;a.isEditable=!1;a.label=null;a.stringFieldOption="text-box";a.statisticType=null;a.tooltip=null;a.visible=!0;return a}n(c,b);g=c;c.prototype.writeStringFieldOption=function(b,d){d.stringFieldOption=a.toJSON(b)};c.prototype.readStringFieldOption=function(b){if(b)return a.fromJSON(b)};c.prototype.clone=
                function(){return new g({fieldName:this.fieldName,format:this.format?h.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var g;e([d.property({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0);e([d.property({type:k,json:{write:!0}})],c.prototype,"format",void 0);e([d.property({type:Boolean,json:{write:!0,default:!1}})],c.prototype,"isEditable",void 0);
                e([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);e([d.property({type:a.apiValues,json:{write:!0,default:"text-box",type:a.jsonValues}})],c.prototype,"stringFieldOption",void 0);e([d.writer("stringFieldOption")],c.prototype,"writeStringFieldOption",null);e([d.reader("stringFieldOption")],c.prototype,"readStringFieldOption",null);e([d.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],c.prototype,"statisticType",void 0);e([d.property({type:String,
                    json:{write:!0}})],c.prototype,"tooltip",void 0);e([d.property({type:Boolean,json:{write:!0}})],c.prototype,"visible",void 0);return c=g=e([d.subclass("esri.popup.FieldInfo")],c)}(d.declared(l.JSONSupport))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){return function(b){function c(a){a=b.call(this,a)||this;a.dateFormat=null;a.digitSeparator=!1;a.places=null;return a}n(c,b);g=c;c.prototype.clone=function(){return new g({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};c.prototype.format=function(b){return this.dateFormat?k.formatDate(b,k.convertDateFormatToIntlOptions(this.dateFormat)):a.formatNumber(b,a.convertNumberFormatToIntlOptions(this))};var g;e([h.enumeration.serializable()(m.dictionary)],
                c.prototype,"dateFormat",void 0);e([h.property({type:Boolean,json:{write:!0}})],c.prototype,"digitSeparator",void 0);e([h.property({type:d.Integer,json:{write:!0}})],c.prototype,"places",void 0);return c=g=e([h.subclass("esri.popup.support.FieldInfoFormat")],c)}(h.declared(l.JSONSupport))})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
            "short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
            "short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
            "long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
            "day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
            "long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};b.dictionary=n.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
            shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
            longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
            longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);b.getFormat=function(c){return b.formats[c]}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r){return function(b){function c(a){a=b.call(this,a)||this;a.mediaInfos=null;a.type="media";return a}n(c,b);k=c;c.prototype.readMediaInfos=function(b){return b&&b.map(function(b){if("image"===b.type)return a.fromJSON(b);if("barchart"===b.type)return h.fromJSON(b);if("columnchart"===b.type)return d.fromJSON(b);if("linechart"===b.type)return g.fromJSON(b);if("piechart"===b.type)return f.fromJSON(b)}).filter(Boolean)};c.prototype.writeMediaInfos=function(a,b){b.mediaInfos=
                a&&a.map(function(a){return a.toJSON()})};c.prototype.clone=function(){return new k({mediaInfos:this.mediaInfos?m.clone(this.mediaInfos):null})};var k;e([l.property({types:[r.types]})],c.prototype,"mediaInfos",void 0);e([l.reader("mediaInfos")],c.prototype,"readMediaInfos",null);e([l.writer("mediaInfos")],c.prototype,"writeMediaInfos",null);e([l.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=k=e([l.subclass("esri.popup.content.MediaContent")],c)}(l.declared(k))})},
        "esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.type="bar-chart";return a}n(d,b);a=d;d.prototype.clone=function(){return new a({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var a;
            e([m.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:h.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=a=e([m.subclass("esri.popup.content.BarChartMediaInfo")],d)}(m.declared(l))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(c,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.type=null;a.value=null;return a}n(d,b);e([m.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);e([m.property({type:h,json:{write:!0}})],d.prototype,"value",void 0);return d=e([m.subclass("esri.popup.content.mixins.ChartMediaInfo")],d)}(m.declared(l))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l){return function(b){function d(d){d=b.call(this,d)||this;d.caption="";d.title="";d.type=null;return d}n(d,b);e([l.property({type:String,json:{write:!0}})],d.prototype,"caption",void 0);e([l.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);e([l.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=e([l.subclass("esri.popup.content.mixins.MediaInfo")],d)}(l.declared(m.JSONSupport))})},
        "esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.fields=[];a.normalizeField=null;a.series=[];a.tooltipField=null;return a}n(a,b);c=a;a.prototype.clone=function(){return new c({fields:l.clone(this.fields),
            normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var c;e([h.property({type:[String],json:{write:!0}})],a.prototype,"fields",void 0);e([h.property({type:String,json:{write:!0}})],a.prototype,"normalizeField",void 0);e([h.property({type:[d],json:{read:!1}})],a.prototype,"series",void 0);e([h.property({type:String,json:{write:!0}})],a.prototype,"tooltipField",void 0);return a=c=e([h.subclass("esri.popup.content.support.ChartMediaInfoValue")],a)}(h.declared(m.JSONSupport))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.tooltip=null;a.x=null;a.y=null;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({tooltip:this.tooltip,x:this.x,y:this.y})};var c;e([l.property()],d.prototype,"tooltip",void 0);e([l.property()],d.prototype,"x",void 0);e([l.property()],d.prototype,"y",void 0);return d=c=e([l.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],d)}(l.declared(m))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
            "exports","../../../core/jsonMap"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.chartTypeKebabDict=n.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(c,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.type="column-chart";return a}n(d,b);a=d;d.prototype.clone=function(){return new a({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var a;e([m.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:h.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=a=e([m.subclass("esri.popup.content.ColumnChartMediaInfo")],d)}(m.declared(l))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.refreshInterval=null;a.type="image";a.value=null;return a}n(d,b);a=d;d.prototype.clone=function(){return new a({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var a;e([m.property({type:Number,json:{write:!0}})],d.prototype,"refreshInterval",void 0);e([m.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);e([m.property({type:h,
                json:{write:!0}})],d.prototype,"value",void 0);return d=a=e([m.subclass("esri.popup.content.ImageMediaInfo")],d)}(m.declared(l))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.linkURL=null;a.sourceURL=null;return a}n(d,
            b);c=d;d.prototype.clone=function(){return new c({linkURL:this.linkURL,sourceURL:this.sourceURL})};var c;e([l.property({type:String,json:{write:!0}})],d.prototype,"linkURL",void 0);e([l.property({type:String,json:{write:!0}})],d.prototype,"sourceURL",void 0);return d=c=e([l.subclass("esri.popup.content.support.ImageMediaInfoValue")],d)}(l.declared(m.JSONSupport))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.type="line-chart";return a}n(d,b);a=d;d.prototype.clone=function(){return new a({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var a;e([m.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:h.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=a=e([m.subclass("esri.popup.content.LineChartMediaInfo")],d)}(m.declared(l))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.type="pie-chart";return a}n(d,b);a=d;d.prototype.clone=function(){return new a({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var a;e([m.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:h.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=a=e([m.subclass("esri.popup.content.PieChartMediaInfo")],d)}(m.declared(l))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
            function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});b.types={base:d,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n,"column-chart":e,"line-chart":l,"pie-chart":h,image:m}};b.default=b.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,
            a)||this;a.text=null;a.type="text";return a}n(d,b);c=d;d.prototype.clone=function(){return new c({text:this.text})};var c;e([m.property({type:String,json:{write:!0}})],d.prototype,"text",void 0);e([m.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=c=e([m.subclass("esri.popup.content.TextContent")],d)}(m.declared(l))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.name=null;a.title=null;a.expression=null;a.returnType=null;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var c;e([l.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);e([l.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);e([l.property({type:String,json:{write:!0}})],d.prototype,
                "expression",void 0);e([l.property({type:["string","number"],json:{write:!0}})],d.prototype,"returnType",void 0);return d=c=e([l.subclass("esri.popup.ExpressionInfo")],d)}(l.declared(m.JSONSupport))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.returnTopmostRaster=
            null;a.showNoDataRecords=null;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};var c;e([l.property({type:Boolean,json:{write:!0}})],d.prototype,"returnTopmostRaster",void 0);e([l.property({type:Boolean,json:{write:!0}})],d.prototype,"showNoDataRecords",void 0);return d=c=e([l.subclass("esri.popup.LayerOptions")],d)}(l.declared(m.JSONSupport))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),
            function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.showRelatedRecords=null;a.orderByFields=null;return a}n(a,b);c=a;a.prototype.clone=function(){return new c({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?l.clone(this.orderByFields):null})};var c;e([h.property({type:Boolean,json:{write:!0}})],a.prototype,"showRelatedRecords",void 0);e([h.property({type:[d],json:{write:!0}})],a.prototype,"orderByFields",void 0);return a=c=e([h.subclass("esri.popup.RelatedRecordsInfo")],
                a)}(h.declared(m.JSONSupport))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.field=null;a.order=null;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({field:this.field,order:this.order})};var c;e([l.property({type:String,
            json:{write:!0}})],d.prototype,"field",void 0);e([l.property({type:["asc","desc"],json:{write:!0}})],d.prototype,"order",void 0);return d=c=e([l.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],d)}(l.declared(m.JSONSupport))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      h){return function(b){function d(a){a=b.call(this,a)||this;a.active=!1;a.className=null;a.disabled=!1;a.id=null;a.indicator=!1;a.title=null;a.type=null;a.visible=!0;return a}n(d,b);a=d;d.prototype.clone=function(){return new a({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var a;e([h.property()],d.prototype,"active",void 0);e([h.property()],d.prototype,"className",void 0);e([h.property()],d.prototype,
            "disabled",void 0);e([h.property()],d.prototype,"id",void 0);e([h.property()],d.prototype,"indicator",void 0);e([h.property()],d.prototype,"title",void 0);e([h.property()],d.prototype,"type",void 0);e([h.property()],d.prototype,"visible",void 0);return d=a=e([h.subclass("esri.support.actions.ActionBase")],d)}(h.declared(l.IdentifiableMixin(m)))})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),
            function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.image=null;a.type="button";return a}n(d,b);c=d;d.prototype.clone=function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var c;e([m.property()],d.prototype,"image",void 0);return d=c=e([m.subclass("esri.support.Action.ActionButton")],d)}(m.declared(l))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),
            function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.image=null;a.type="toggle";a.value=!1;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var c;e([m.property()],d.prototype,"image",void 0);e([m.property()],d.prototype,"value",void 0);return d=c=e([m.subclass("esri.support.Action.ActionToggle")],
                d)}(m.declared(l))})},"esri/renderers":function(){define("require exports ./renderers/ClassBreaksRenderer ./renderers/DictionaryRenderer ./renderers/DotDensityRenderer ./renderers/HeatmapRenderer ./renderers/Renderer ./renderers/SimpleRenderer ./renderers/UniqueValueRenderer ./renderers/support/jsonUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a){Object.defineProperty(b,"__esModule",{value:!0});b.ClassBreaksRenderer=n;b.DictionaryRenderer=e;b.DotDensityRenderer=m;b.HeatmapRenderer=l;b.BaseRenderer=
            h;b.SimpleRenderer=d;b.UniqueValueRenderer=k;b.isRenderer=function(a){return a instanceof h};b.read=a.read;b.write=a.write;b.fromJSON=a.fromJSON;b.rendererTypes={key:"type",base:h,typeMap:{heatmap:l,simple:d,"unique-value":k,"class-breaks":n,"dot-density":m,dictionary:e}};b.webSceneRendererTypes={key:"type",base:h,typeMap:{simple:d,"unique-value":k,"class-breaks":n}}})},"esri/renderers/ClassBreaksRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../symbols ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/LegendOptions ../support/arcadeOnDemand ../symbols/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B){var D=r.getLogger("esri.renderers.ClassBreaksRenderer"),E=new g.default({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),C=p.ensureType(y);return function(b){function c(a){a=b.call(this,a)||this;a.backgroundFillSymbol=null;a.classBreakInfos=null;a.defaultLabel=null;a.defaultSymbol=null;a.field=null;a.isMaxInclusive=!0;a.legendOptions=null;a.normalizationField=null;a.normalizationTotal=
                null;a.type="class-breaks";a.valueExpression=null;a.valueExpressionTitle=null;a._set("classBreakInfos",[]);return a}n(c,b);g=c;Object.defineProperty(c.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});c.prototype.readClassBreakInfos=function(a,b,d){if(Array.isArray(a)){var c=b.minValue;return a.map(function(a){var b=new y;b.read(a,d);null==b.minValue&&(b.minValue=c);null==b.maxValue&&(b.maxValue=b.minValue);c=b.maxValue;return b})}};c.prototype.writeClassBreakInfos=
                function(a,b,d,c){a=a.map(function(a){return a.write({},c)});this._areClassBreaksConsecutive()&&a.forEach(function(a){return delete a.classMinValue});b[d]=a};c.prototype.readDefaultSymbol=function(a,b,d){return B.read(a,b,d)};c.prototype.writeDefaultSymbolWebScene=function(a,b,d,c){B.writeTarget(a,b,d,c)};c.prototype.writeDefaultSymbol=function(a,b,d,c){B.writeTarget(a,b,d,c)};c.prototype.castField=function(a){return null==a?a:"function"===typeof a?(D.error(".field: field must be a string value"),
                null):p.ensureString(a)};Object.defineProperty(c.prototype,"minValue",{get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"normalizationType",{get:function(){var a=this._get("normalizationType"),b=!!this.normalizationField,d=null!=this.normalizationTotal;if(b||d)a=b&&"field"||d&&"percent-of-total"||null,b&&d&&D.warn("warning: both normalizationField and normalizationTotal are set!");
                else if("field"===a||"percent-of-total"===a)a=null;return a},set:function(a){this._set("normalizationType",a)},enumerable:!0,configurable:!0});c.prototype.addClassBreakInfo=function(b,d,c){var e=null,e="number"===typeof b?new y({minValue:b,maxValue:d,symbol:a.ensureType(c)}):C(f.clone(b));this.classBreakInfos.push(e);1===this.classBreakInfos.length&&this.notifyChange("minValue")};c.prototype.removeClassBreakInfo=function(a,b){for(var d=this.classBreakInfos.length,c=0;c<d;c++){var f=[this.classBreakInfos[c].minValue,
                this.classBreakInfos[c].maxValue];if(f[0]===a&&f[1]===b){this.classBreakInfos.splice(c,1);break}}};c.prototype.getBreakIndex=function(a,b){this.valueExpression&&(q.isNone(b)||q.isNone(b.arcade))&&D.warn("");return this.valueExpression?this._getBreakIndexForExpression(a,b):this._getBreakIndexForField(a)};c.prototype.getClassBreakInfo=function(a,b){return h(this,void 0,void 0,function(){var c,f,e,g;return l(this,function(k){switch(k.label){case 0:c=b;if(!this.valueExpression||!q.isNone(b)&&!q.isNone(b.arcade))return[3,
                2];f=[{},c];e={};return[4,x.loadArcade()];case 1:c=d.apply(void 0,f.concat([(e.arcade=k.sent(),e)])),k.label=2;case 2:return g=this.getBreakIndex(a,c),[2,-1!==g?this.classBreakInfos[g]:null]}})})};c.prototype.getSymbol=function(a,b){if(this.valueExpression&&(q.isNone(b)||q.isNone(b.arcade)))D.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return a=this.getBreakIndex(a,b),-1<a?this.classBreakInfos[a].symbol:this.defaultSymbol};c.prototype.getSymbolAsync=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     b){return h(this,void 0,void 0,function(){var c,f,e,g;return l(this,function(k){switch(k.label){case 0:c=b;if(!this.valueExpression||!q.isNone(b)&&!q.isNone(b.arcade))return[3,2];f=[{},c];e={};return[4,x.loadArcade()];case 1:c=d.apply(void 0,f.concat([(e.arcade=k.sent(),e)])),k.label=2;case 2:return g=this.getBreakIndex(a,c),[2,-1<g?this.classBreakInfos[g].symbol:this.defaultSymbol]}})})};c.prototype.getSymbols=function(){var a=[];this.classBreakInfos.forEach(function(b){b.symbol&&a.push(b.symbol)});
                this.defaultSymbol&&a.push(this.defaultSymbol);return a};c.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),d=this.normalizationField+"."+this.normalizationType+"."+this.normalizationTotal,c=this.classBreakInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+c+"."+
                d+"."+this.field+"."+this.valueExpression};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new g({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
                classBreakInfos:f.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:f.clone(this.visualVariables),legendOptions:f.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};c.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){var d;return l(this,function(c){switch(c.label){case 0:return d=
                [this.collectVVRequiredFields(a,b),this.collectSymbolFields(a,b)],[4,t.all(d)];case 1:return c.sent(),[2]}})})};c.prototype.collectSymbolFields=function(a,b){return h(this,void 0,void 0,function(){var d;return l(this,function(c){switch(c.label){case 0:return d=this.getSymbols().map(function(d){return d.collectRequiredFields(a,b)}).concat([v.collectArcadeFieldNames(a,b,this.valueExpression)]),v.collectField(a,b,this.field),v.collectField(a,b,this.normalizationField),[4,t.all(d)];case 1:return c.sent(),
                [2]}})})};c.prototype._getBreakIndexForExpression=function(a,b){var d=q.unwrapOr(b,{});b=d.viewingMode;var c=d.scale,f=d.spatialReference,e=this._cache.compiledFunc,d=q.expect(d.arcade).arcadeUtils;e||(e=d.createSyntaxTree(this.valueExpression),e=d.createFunction(e),this._cache.compiledFunc=e);a=d.executeFunction(e,d.createExecContext(a,d.getViewInfo({viewingMode:b,scale:c,spatialReference:f})));return this._getBreakIndexfromInfos(a)};c.prototype._getBreakIndexForField=function(a){var b=a.attributes;
                a=this.normalizationType;var d=parseFloat(b[this.field]);if(a){var c=this.normalizationTotal,b=parseFloat(b[this.normalizationField]);if("log"===a)d=Math.log(d)*Math.LOG10E;else if("percent-of-total"===a&&!isNaN(c))d=d/c*100;else if("field"===a&&!isNaN(b)){if(isNaN(d)||isNaN(b))return-1;d/=b}}return this._getBreakIndexfromInfos(d)};c.prototype._getBreakIndexfromInfos=function(a){var b=this.isMaxInclusive;if(null!=a&&"number"===typeof a&&!isNaN(a))for(var d=0;d<this.classBreakInfos.length;d++){var c=
                [this.classBreakInfos[d].minValue,this.classBreakInfos[d].maxValue];if(c[0]<=a&&(b?a<=c[1]:a<c[1]))return d}return-1};c.prototype._areClassBreaksConsecutive=function(){for(var a=this.classBreakInfos,b=a.length,d=1;d<b;d++)if(a[d-1].maxValue!==a[d].minValue)return!1;return!0};var g;e([u.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"_cache",null);e([u.property({types:{base:k.BaseSymbol,key:"type",typeMap:{"simple-fill":a.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":a.symbolTypesRenderer.typeMap["picture-fill"],
                        "polygon-3d":a.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{origins:{"web-scene":{type:k.PolygonSymbol3D,read:B.read,write:B.writeTarget}},read:B.read,write:B.writeTarget}})],c.prototype,"backgroundFillSymbol",void 0);e([u.property({type:[y]})],c.prototype,"classBreakInfos",void 0);e([u.reader("classBreakInfos")],c.prototype,"readClassBreakInfos",null);e([u.writer("classBreakInfos")],c.prototype,"writeClassBreakInfos",null);e([u.property({type:String,json:{write:!0}})],c.prototype,"defaultLabel",
                void 0);e([u.property({types:a.symbolTypesRenderer})],c.prototype,"defaultSymbol",void 0);e([u.reader("defaultSymbol")],c.prototype,"readDefaultSymbol",null);e([u.writer("web-scene","defaultSymbol",{defaultSymbol:{types:a.symbolTypesRenderer3D}})],c.prototype,"writeDefaultSymbolWebScene",null);e([u.writer("defaultSymbol")],c.prototype,"writeDefaultSymbol",null);e([u.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);e([u.cast("field")],c.prototype,"castField",null);e([u.property({type:Boolean})],
                c.prototype,"isMaxInclusive",void 0);e([u.property({type:A.default,json:{write:!0}})],c.prototype,"legendOptions",void 0);e([u.property({type:Number,readOnly:!0,value:null,dependsOn:["classBreakInfos"],json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],c.prototype,"minValue",null);e([u.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);e([u.property({type:Number,cast:function(a){return p.ensureNumber(a)},
                json:{write:!0}})],c.prototype,"normalizationTotal",void 0);e([u.property({type:E.apiValues,value:null,dependsOn:["normalizationField","normalizationTotal"],json:{type:E.jsonValues,read:E.read,write:E.write}})],c.prototype,"normalizationType",null);e([u.enumeration.serializable()({classBreaks:"class-breaks"})],c.prototype,"type",void 0);e([u.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);e([u.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",
                void 0);return c=g=e([u.subclass("esri.renderers.ClassBreaksRenderer")],c)}(u.declared(z.VisualVariablesMixin(w)))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B,D,E,C,G,H,F,I,J,M,O){Object.defineProperty(b,"__esModule",{value:!0});b.CIMSymbol=e;b.ExtrudeSymbol3DLayer=m;b.BaseFillSymbol=l;b.FillSymbol3DLayer=h;b.Font=d;b.IconSymbol3DLayer=k;b.LabelSymbol3D=a;b.LineSymbol3D=g;b.LineSymbol3DLayer=f;b.BaseMarkerSymbol=r;b.MeshSymbol3D=q;b.ObjectSymbol3DLayer=t;b.PathSymbol3DLayer=u;b.PictureFillSymbol=p;b.PictureMarkerSymbol=v;b.PointSymbol3D=w;b.PolygonSymbol3D=z;b.SimpleFillSymbol=y;b.SimpleLineSymbol=
                A;b.SimpleMarkerSymbol=x;b.BaseSymbol=B;b.BaseSymbol3D=D;b.BaseSymbol3DLayer=E;b.TextSymbol=C;b.TextSymbol3DLayer=G;b.WaterSymbol3DLayer=H;b.WebStyleSymbol=F;b.LineCallout3D=I;b.LineCallout3DBorder=J;b.Symbol3DVerticalOffset=M.Symbol3DVerticalOffset;b.fromJSON=O.fromJSON;b.isSymbol=function(a){return a instanceof B};b.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
                default:return!1}};b.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};b.symbolTypes={base:B,key:"type",typeMap:{"simple-fill":y,"picture-fill":p,"picture-marker":v,"simple-line":A,"simple-marker":x,text:C,"label-3d":a,"line-3d":g,"mesh-3d":q,"point-3d":w,"polygon-3d":z,"web-style":F,cim:e}};b.symbolTypesRenderer={base:B,key:"type",typeMap:{"simple-fill":y,"picture-fill":p,"picture-marker":v,
                    "simple-line":A,"simple-marker":x,text:C,"line-3d":g,"mesh-3d":q,"point-3d":w,"polygon-3d":z,"web-style":F,cim:e}};b.symbolTypesLabel={base:B,key:"type",typeMap:{text:C,"label-3d":a}};b.symbolTypes3D={base:B,key:"type",typeMap:{"label-3d":a,"line-3d":g,"mesh-3d":q,"point-3d":w,"polygon-3d":z,"web-style":F}};b.symbolTypesRenderer3D={base:B,key:"type",typeMap:{"line-3d":g,"mesh-3d":q,"point-3d":w,"polygon-3d":z,"web-style":F}};b.symbolTypesLabel3D={base:B,key:"type",typeMap:{"label-3d":a}};b.ensureType=
                n.ensureOneOfType(b.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./support/cimSymbolUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a,g,f,r){return function(b){function c(a){a=b.call(this,a)||this;a.data=null;a.portal=
            null;a.styleUrl="";a.type="cim";return a}n(c,b);f=c;c.prototype.readData=function(a,b){return b.symbol};c.prototype.writeData=function(a,b){a&&(b.symbol=a)};c.prototype.readStyleUrl=function(a,b){return b.symbolUrl?b.symbolUrl:a};c.prototype.writeStyleUrl=function(a,b){a&&(b.symbolUrl=a)};c.prototype.collectRequiredFields=function(b,c){return l(this,void 0,void 0,function(){var f,e,g,k,p,h,q;return m(this,function(t){switch(t.label){case 0:return[4,r.fetchSymbol(this)];case 1:t.sent(),e=(f="object"===
            typeof this.data&&this.data.length)?this.data:[this.data],g=0,k=e,t.label=2;case 2:if(!(g<k.length))return[3,5];p=k[g];h=p.primitiveOverrides;if(!h)return[3,4];q=h.map(function(d){return a.collectArcadeFieldNames(b,c,d.valueExpressionInfo.expression)});return[4,d.all(q)];case 3:t.sent(),t.label=4;case 4:return g++,[3,2];case 5:return[2]}})})};c.prototype.clone=function(){return new f({color:this.color.clone(),data:h.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};
            c.prototype.hash=function(){return this.color.hash()+"."+this.data+"."+this.portal+"."+this.styleName+"."+this.styleUrl};var f;e([k.property({json:{write:!1}})],c.prototype,"color",void 0);e([k.property({json:{write:!0}})],c.prototype,"data",void 0);e([k.reader("data",["data","symbol"])],c.prototype,"readData",null);e([k.writer("data")],c.prototype,"writeData",null);e([k.property({type:g,json:{write:!1}})],c.prototype,"portal",void 0);e([k.property({json:{write:!0}})],c.prototype,"styleName",void 0);
            e([k.property({type:String,json:{write:!0}})],c.prototype,"styleUrl",void 0);e([k.reader("styleUrl",["styleUrl","symbolUrl"])],c.prototype,"readStyleUrl",null);e([k.writer("styleUrl")],c.prototype,"writeStyleUrl",null);e([k.enumeration.serializable()({CIMSymbolReference:"cim"})],c.prototype,"type",void 0);return c=f=e([k.subclass("esri.symbols.CIMSymbol")],c)}(k.declared(f))})},"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){var g=new d.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),f=0;return function(b){function d(a){a=b.call(this,a)||this;a.id="sym"+f++;a.type=null;return a}n(d,b);Object.defineProperty(d.prototype,
                "color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});d.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};d.prototype.collectRequiredFields=function(a,b){return l(this,void 0,void 0,function(){return m(this,function(a){return[2]})})};d.prototype.hash=function(){return JSON.stringify(this.toJSON())};d.prototype.clone=function(){};e([a.property({type:g.apiValues,json:{read:g.read,write:{ignoreOrigin:!0,writer:g.write}}})],d.prototype,"type",void 0);
                e([a.property({type:h,value:new h([0,0,0,1]),json:{write:{allowNull:!0}}})],d.prototype,"color",null);e([a.reader("color")],d.prototype,"readColor",null);return d=e([a.subclass("esri.symbols.Symbol")],d)}(a.declared(k.JSONSupport))})},"esri/symbols/support/cimSymbolUtils":function(){define("require exports ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/assignHelper ../../request ../../core/Logger ../../core/promiseUtils ../cim/cimAnalyzer".split(" "),
            function(c,b,n,e,m,l,h,d,k){function a(a,b){return n(this,void 0,void 0,function(){var d,c;return e(this,function(f){switch(f.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,a];d=a.styleName;c=a;return[4,g(d,a.styleUrl,b)];case 1:return c.data=f.sent(),[2,a]}})})}function g(a,d,c){return n(this,void 0,void 0,function(){var f,g;return e(this,function(e){if(u.has(a))return[2,u.get(a).then(function(a){return b.makeSymbolRef(a.data)})];try{return f=d+"/resources/styles/cim/"+a+".json",g=l(f,
                m({responseType:"json",query:{f:"json"}},c)),u.set(a,g),[2,g.then(function(a){return b.makeSymbolRef(a.data)})]}catch(x){return r.error("error requesting "+a+", reason is "+x.message),u.has(a)&&u.delete(a),[2,null]}})})}var f=this;Object.defineProperty(b,"__esModule",{value:!0});var r=h.getLogger("esri/symbols/support/cimSymbolUtils"),q=function(){function a(a,b){this.layers=a;this.data=b}Object.defineProperty(a.prototype,"type",{get:function(){return"expanded-cim"},enumerable:!0,configurable:!0});
                a.prototype.hash=function(){for(var a="",b=0,d=this.layers;b<d.length;b++)a+=d[b].templateHash;return a};return a}();b.expandSymbols=function(a,c,g,k){return n(f,void 0,void 0,function(){return e(this,function(f){return[2,d.all(a.map(function(a){return b.expandSymbol(a,c,g,k)}))]})})};var t=function(a,b,d){return n(f,void 0,void 0,function(){var c;return e(this,function(f){switch(f.label){case 0:return c=q.bind,[4,k.analyzeCIMSymbol(a.data,b&&"dictionary"===b.type?b.fieldMap:null,d)];case 1:return[2,
                new (c.apply(q,[void 0,f.sent(),a.data]))]}})})};b.expandSymbol=function(b,d,c,g){return n(f,void 0,void 0,function(){var f,k;return e(this,function(e){switch(e.label){case 0:if(!b)return[2,null];if("cim"!==b.type)return[3,2];f=t;return[4,a(b,g)];case 1:return[2,f.apply(void 0,[e.sent(),d,c])];case 2:if("web-style"!==b.type)return[3,4];k=t;return[4,b.fetchCIMSymbol(g)];case 3:return[2,k.apply(void 0,[e.sent(),d,c])];case 4:return[2,b]}})})};b.fetchSymbol=function(b,d){return n(this,void 0,void 0,
                function(){return e(this,function(c){return b?"cim"===b.type?[2,a(b,d)]:"web-style"===b.type?[2,b.fetchCIMSymbol(d)]:[2,b]:[2,null]})})};b.fetchCIMData=a;b.makeSymbolRef=function(a,b){return null===a?null:"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a,primitiveOverrides:b}};var u=new Map})},"esri/symbols/cim/cimAnalyzer":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../Color ../../core/Logger ../../core/promiseUtils ../../core/string ../../support/arcadeOnDemand ./CIMSymbolHelper ./enums ./SDFHelper ../../views/2d/arcade/utils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q){function t(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}}function u(a){switch(a){case "Butt":return f.CapType.BUTT;case "Square":return f.CapType.SQUARE;default:return f.CapType.ROUND}}function p(a){switch(a){case "Bevel":return f.JoinType.BEVEL;case "Miter":return f.JoinType.MITER;default:return f.JoinType.ROUND}}function v(a){switch(a){default:return"left";case "Right":return"right";case "Center":return"center";case "Justify":return"justify"}}
                function w(a){switch(a){default:return"top";case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}}function z(a){var b="normal",d="normal";a&&(a=a.toLowerCase(),-1!==a.indexOf("italic")?b="italic":-1!==a.indexOf("oblique")&&(b="oblique"),-1!==a.indexOf("bold")?d="bold":-1!==a.indexOf("light")&&(d="lighter"));return{style:b,weight:d}}function y(a,b,d,c,k,p){return e(this,void 0,void 0,function(){var e,h,q,t,l,m,u;return n(this,function(n){switch(n.label){case 0:if(!a)return[2];
                    e=a.symbolLayers;if(!e)return[2];q=g.CIMSymbolHelper.getSize(a);"CIMPointSymbol"===a.type&&"Map"===a.angleAlignment&&(h=f.Alignment.MAP);t=e.length;n.label=1;case 1:if(!t--)return[3,23];l=e[t];if(!l||!1===l.enable)return[3,1];m=[];g.OverrideHelper.findApplicableOverrides(l,b,m);u=l.type;switch(u){case "CIMSolidFill":return[3,2];case "CIMPictureFill":return[3,4];case "CIMHatchFill":return[3,6];case "CIMGradientFill":return[3,8];case "CIMSolidStroke":return[3,10];case "CIMPictureStroke":return[3,12];
                    case "CIMGradientStroke":return[3,14];case "CIMCharacterMarker":return[3,16];case "CIMPictureMarker":return[3,17];case "CIMVectorMarker":return[3,19]}return[3,21];case 2:return[4,A(l,m,c,k)];case 3:return n.sent(),[3,22];case 4:return[4,x(l,m,c,k)];case 5:return n.sent(),[3,22];case 6:return[4,B(l,m,c,k)];case 7:return n.sent(),[3,22];case 8:return[4,D(l,m,c,k)];case 9:return n.sent(),[3,22];case 10:return[4,E(l,m,c,k,"CIMPolygonSymbol"===a.type,q)];case 11:return n.sent(),[3,22];case 12:return[4,
                    C(l,m,c,k,"CIMPolygonSymbol"===a.type,q)];case 13:return n.sent(),[3,22];case 14:return[4,G(l,m,c,k,"CIMPolygonSymbol"===a.type,q)];case 15:return n.sent(),[3,22];case 16:return[3,22];case 17:return[4,H(l,m,c,k,h,q)];case 18:return n.sent(),[3,22];case 19:return[4,F(l,m,d,c,k,h,q,p)];case 20:return n.sent(),[3,22];case 21:V.error("Cannot analyze CIM layer",l.type),n.label=22;case 22:return[3,1];case 23:return[2]}})})}function A(a,b,d,c){return e(this,void 0,void 0,function(){var f,e,g,p,h,q;return n(this,
                    function(l){switch(l.label){case 0:return f=a.primitiveName,e=t(a.color),g=k.numericHash(JSON.stringify(a)).toString(),h=(p=c).push,q={type:"fill",templateHash:g,materialHash:0===b.length?g:function(){return g},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,K(f,"Color",b,d,e,L)];case 1:return h.apply(p,[(q.color=l.sent(),q.height=0,q.angle=0,q.offsetX=0,q.offsetY=0,q.scaleX=1,q)]),[2]}})})}function x(a,b,d,c){return e(this,void 0,void 0,function(){var f,e,g,p,h,q,l;return n(this,function(m){switch(m.label){case 0:return f=
                    a.primitiveName,e=t(a.tintColor),g=k.numericHash(JSON.stringify(a)).toString(),p=k.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),q=(h=c).push,l={type:"fill",templateHash:g,materialHash:0===b.length?p:function(){return p},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,K(f,"TintColor",b,d,e,L)];case 1:return l.color=m.sent(),[4,K(f,"Height",b,d,a.height)];case 2:return l.height=m.sent(),[4,K(f,"ScaleX",b,d,a.scaleX)];case 3:return l.scaleX=m.sent(),[4,K(f,"Rotation",
                    b,d,a.rotation)];case 4:return l.angle=m.sent(),[4,K(f,"OffsetX",b,d,a.offsetX)];case 5:return l.offsetX=m.sent(),[4,K(f,"OffsetY",b,d,a.offsetY)];case 6:return q.apply(h,[(l.offsetY=m.sent(),l)]),[2]}})})}function B(a,b,d,c){return e(this,void 0,void 0,function(){var f,e,g,p,h,q,l,t;return n(this,function(m){switch(m.label){case 0:f=["Rotation","OffsetX","OffsetY"];e=b.filter(function(b){return b.primitiveName!==a.primitiveName&&-1===f.indexOf(b.propertyName)});g=a.primitiveName;p=k.numericHash(JSON.stringify(a)).toString();
                    q=(h=c).push;l={type:"fill",templateHash:p};if(0!==b.length)return[3,1];t=p;return[3,3];case 1:return[4,U(p,e,d)];case 2:t=m.sent(),m.label=3;case 3:return l.materialHash=t,l.cim=a,l.materialOverrides=e,l.colorLocked=a.colorLocked,l.color={r:128,g:128,b:128,a:1},l.height=0,l.scaleX=1,[4,K(g,"Rotation",b,d,a.rotation)];case 4:return l.angle=m.sent(),[4,K(g,"OffsetX",b,d,a.offsetX)];case 5:return l.offsetX=m.sent(),[4,K(g,"OffsetY",b,d,a.offsetY)];case 6:return q.apply(h,[(l.offsetY=m.sent(),l)]),[2]}})})}
                function D(a,b,d,c){return e(this,void 0,void 0,function(){var f,e,g,p,h;return n(this,function(q){switch(q.label){case 0:f=k.numericHash(JSON.stringify(a)).toString();g=(e=c).push;p={type:"fill",templateHash:f};if(0!==b.length)return[3,1];h=f;return[3,3];case 1:return[4,U(f,b,d)];case 2:h=q.sent(),q.label=3;case 3:return g.apply(e,[(p.materialHash=h,p.cim=a,p.materialOverrides=null,p.colorLocked=a.colorLocked,p.color={r:128,g:128,b:128,a:1},p.height=0,p.angle=0,p.offsetX=0,p.offsetY=0,p.scaleX=1,
                    p)]),[2]}})})}function E(a,b,d,c,f,g){return e(this,void 0,void 0,function(){var e,h,q,l,m,v,r,w,z,x;return n(this,function(n){switch(n.label){case 0:return e=k.numericHash(JSON.stringify(a)).toString(),h=a.primitiveName,q=t(a.color),l=void 0!==a.width?a.width:4,m=u(a.capStyle),v=p(a.joinStyle),r=a.miterLimit,z=(w=c).push,x={type:"line",templateHash:e,materialHash:0===b.length?e:function(){return e},cim:a,materialOverrides:null,isOutline:f,colorLocked:a.colorLocked},[4,K(h,"Color",b,d,q,L)];case 1:return x.color=
                    n.sent(),[4,K(h,"Width",b,d,l)];case 2:return x.width=n.sent(),[4,K(h,"CapStyle",b,d,m)];case 3:return x.cap=n.sent(),[4,K(h,"JoinStyle",b,d,v)];case 4:return x.join=n.sent(),[4,K(h,"MiterLimit",b,d,r)];case 5:return z.apply(w,[(x.miterLimit=n.sent(),x.referenceWidth=g,x.zOrder=O(a.name),x.isDashed=!1,x)]),[2]}})})}function C(a,b,d,c,f,g){return e(this,void 0,void 0,function(){var e,h,q,l,m,v,r,w,z,x,y;return n(this,function(n){switch(n.label){case 0:return e=k.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),
                    h=a.primitiveName,q=t(a.tintColor),l=void 0!==a.width?a.width:4,m=u(a.capStyle),v=p(a.joinStyle),r=a.miterLimit,w=k.numericHash(JSON.stringify(a)).toString(),x=(z=c).push,y={type:"line",templateHash:w,materialHash:0===b.length?e:function(){return e},cim:a,materialOverrides:null,isOutline:f,colorLocked:a.colorLocked},[4,K(h,"TintColor",b,d,q,L)];case 1:return y.color=n.sent(),[4,K(h,"Width",b,d,l)];case 2:return y.width=n.sent(),[4,K(h,"CapStyle",b,d,m)];case 3:return y.cap=n.sent(),[4,K(h,"JoinStyle",
                    b,d,v)];case 4:return y.join=n.sent(),[4,K(h,"MiterLimit",b,d,r)];case 5:return x.apply(z,[(y.miterLimit=n.sent(),y.referenceWidth=g,y.zOrder=O(a.name),y.isDashed=!1,y)]),[2]}})})}function G(a,b,d,c,f,g){return e(this,void 0,void 0,function(){var e,h,q,l,t,m,v,r,w,z;return n(this,function(n){switch(n.label){case 0:e=a.primitiveName;h=void 0!==a.width?a.width:4;q=u(a.capStyle);l=p(a.joinStyle);t=a.miterLimit;m=k.numericHash(JSON.stringify(a)).toString();r=(v=c).push;w={type:"line",templateHash:m};
                    if(0!==b.length)return[3,1];z=m;return[3,3];case 1:return[4,U(m,b,d)];case 2:z=n.sent(),n.label=3;case 3:return w.materialHash=z,w.cim=a,w.materialOverrides=null,w.isOutline=f,w.colorLocked=a.colorLocked,w.color={r:128,g:128,b:128,a:1},[4,K(e,"Width",b,d,h)];case 4:return w.width=n.sent(),[4,K(e,"CapStyle",b,d,q)];case 5:return w.cap=n.sent(),[4,K(e,"JoinStyle",b,d,l)];case 6:return w.join=n.sent(),[4,K(e,"MiterLimit",b,d,t)];case 7:return r.apply(v,[(w.miterLimit=n.sent(),w.referenceWidth=g,w.zOrder=
                    O(a.name),w.isDashed=!1,w)]),[2]}})})}function H(a,b,d,c,f,g){return e(this,void 0,void 0,function(){var e,p,h,q,l,m,u,v,r,w,z,x,y,A,B,D;return n(this,function(n){switch(n.label){case 0:e=a.primitiveName;p=a.size;h=a.scaleX;q=a.rotation;l=a.offsetX;m=a.offsetY;u=t(a.tintColor);v=k.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString();r=!1;w="";z=0;for(x=b;z<x.length;z++)y=x[z],y.primitiveName===e&&(void 0!==y.value?w+="|"+y.primitiveName+"|"+y.propertyName+"|"+JSON.stringify(y.value):
                    y.valueExpressionInfo&&(r=!0));B=(A=c).push;D={type:"marker",templateHash:k.numericHash(JSON.stringify(a)+w).toString(),materialHash:r?function(){return v}:v,cim:a,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:!1,alignment:f,anchorPoint:a.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits};return[4,K(e,"Size",b,d,p)];case 1:return D.size=n.sent(),[4,K(e,"ScaleX",b,d,h)];case 2:return D.scaleX=n.sent(),[4,K(e,"Rotation",b,d,q)];case 3:return D.rotation=
                    n.sent(),[4,K(e,"OffsetX",b,d,l)];case 4:return D.offsetX=n.sent(),[4,K(e,"OffsetY",b,d,m)];case 5:return D.offsetY=n.sent(),[4,K(e,"TintColor",b,d,u,L)];case 6:return B.apply(A,[(D.color=n.sent(),D.outlineColor={r:0,g:0,b:0,a:0},D.outlineWidth=0,D.frameHeight=0,D.rotateClockwise=a.rotateClockwise,D.referenceSize=g,D.sizeRatio=1,D)]),[2]}})})}function F(a,b,c,f,g,k,p,h){return e(this,void 0,void 0,function(){var e,q,l,t,m,u,v,r;return n(this,function(n){switch(n.label){case 0:e=a.markerGraphics;if(!e)return[2];
                    q=0;a.scaleSymbolsProportionally&&(l=a.frame)&&(q=l.ymax-l.ymin);t=[];m=0;for(u=e;m<u.length;m++)if(v=u[m])if(r=v.symbol)switch(r.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":t.push(J(a,v,b,f,g,k,p,q,h));break;case "CIMTextSymbol":t.push(I(a,v,b,c,f,g,k,p,q))}return[4,d.all(t)];case 1:return n.sent(),[2]}})})}function I(a,b,d,c,f,p,h,q,l){return e(this,void 0,void 0,function(){var e,u,r,x,y,A,B,D,C,L,I,J,G,E,M,F,H,X,R,O,Q,W,U,P;return n(this,function(n){switch(n.label){case 0:e=
                    [];g.OverrideHelper.findApplicableOverrides(b,d,e);u=b.geometry;if(!("x"in u&&"y"in u))return[2];r=b.symbol;x=r.underline?"underline":r.strikethrough?"line-through":"none";y=z(r.fontStyleName);r.font=m({family:r.fontFamilyName,decoration:x},y);A=a.frame;B=u.x-.5*(A.xmin+A.xmax);D=u.y-.5*(A.ymin+A.ymax);C=a.size/l;L=a.primitiveName;I=(r.height||0)*C;J=r.angle||0;G=((r.offsetX||0)+B)*C;E=((r.offsetY||0)+D)*C;M=t(g.CIMSymbolHelper.getFillColor(r));F=t(g.CIMSymbolHelper.getStrokeColor(r));H=g.CIMSymbolHelper.getStrokeWidth(r);
                    H||(F=t(g.CIMSymbolHelper.getFillColor(r.haloSymbol)),H=r.haloSize*C);X="";R=0;for(O=d;R<O.length;R++)Q=O[R],Q.primitiveName===L&&void 0!==Q.value&&(X+="|"+Q.primitiveName+"|"+Q.propertyName+"|"+JSON.stringify(Q.value));U=(W=p).push;P={type:"text",templateHash:k.numericHash(JSON.stringify(b)+X).toString(),materialHash:function(){return k.numericHash(JSON.stringify(r.font)).toString()},cim:r,materialOverrides:null,colorLocked:a.colorLocked,alignment:h,anchorPoint:{x:a.anchorPoint?a.anchorPoint.x:0,
                            y:a.anchorPoint?a.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits,fontName:r.fontFamilyName,decoration:"none",weight:"normal",style:"normal"};return[4,K(L,"Height",d,f,I)];case 1:return P.size=n.sent(),[4,K(L,"Rotation",d,f,J)];case 2:return P.angle=n.sent(),[4,K(L,"OffsetX",d,f,G)];case 3:return P.offsetX=n.sent(),[4,K(L,"OffsetY",d,f,E)];case 4:return U.apply(W,[(P.offsetY=n.sent(),P.horizontalAlignment=v(r.horizontalAlignment),P.verticalAlignment=w(r.verticalAlignment),P.text=
                    da(c,b.textString,r.textCase),P.color=M,P.outlineColor=F,P.outlineSize=H,P.referenceSize=q,P.sizeRatio=1,P)]),[2]}})})}function J(a,b,c,f,p,h,q,l,m){return e(this,void 0,void 0,function(){var e,u,v,w,z,x;return n(this,function(y){switch(y.label){case 0:e=b.symbol;u=b.geometry;if(!u)return[2];v=r.getExtent(u);if("CIMTextSymbol"===e.type)return[2];w=e.symbolLayers;if(!w)return[2];z=w.length;x=function(){var e,x,y,A,B,D,C,I,J,G,E,F,H,X,R,O,Q,Z,W,P,U,ha,V,ja,la,da,ia;return n(this,function(n){switch(n.label){case 0:return(e=
                    w[z])&&!1!==e.enable?m?[4,M(a,b,c,f,p,h,q,l)]:[3,2]:[2,"continue"];case 1:return n.sent(),[2,"continue"];case 2:x=e.type;switch(x){case "CIMSolidFill":return[3,3];case "CIMSolidStroke":return[3,3]}return[3,5];case 3:y=r.getSDFMetrics(v,a.frame,a.size,a.anchorPoint,"Relative"!==a.anchorPointUnits);A=y[0];B=y[1];D=y[2];C="CIMSolidFill"===e.type;I={type:"sdf",geom:u,asFill:C};J=a.primitiveName;G=a.size;E=a.rotation;F=a.offsetX;H=a.offsetY;X=e.primitiveName;R=C?t(g.CIMSymbolHelper.getFillColor(e)):t(g.CIMSymbolHelper.getStrokeColor(e));
                    O=C?{r:0,g:0,b:0,a:0}:t(g.CIMSymbolHelper.getStrokeColor(e));Q=g.CIMSymbolHelper.getStrokeWidth(e);if(!C&&!Q)return[3,6];Z=!1;W="";P=0;for(U=c;P<U.length;P++)if(ha=U[P],ha.primitiveName===X||ha.primitiveName===J)void 0!==ha.value?W+="|"+ha.primitiveName+"|"+ha.propertyName+"|"+JSON.stringify(ha.value):ha.valueExpressionInfo&&(Z=!0);V=k.numericHash(JSON.stringify(I)).toString();ja=k.numericHash(JSON.stringify(e)+JSON.stringify(b)+W).toString();la={type:"marker",templateHash:ja,materialHash:Z?function(){return V}:
                            V,cim:I,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:h,anchorPoint:{x:B,y:D},isAbsoluteAnchorPoint:!1,size:null,scaleX:1,rotation:null,offsetX:null,offsetY:null,color:null,outlineColor:C?{r:0,g:0,b:0,a:0}:null,outlineWidth:C?0:null,frameHeight:l,rotateClockwise:a.rotateClockwise,referenceSize:q,sizeRatio:A};da=[K(J,"Size",c,f,G),K(J,"Rotation",c,f,E),K(J,"OffsetX",c,f,F),K(J,"OffsetY",c,f,H),K(X,"Color",c,f,R,L),K(X,"Color",c,f,
                        O,L),K(X,"Width",c,f,Q)];return[4,d.all(da)];case 4:return ia=n.sent(),ma.forEach(function(a,b){null===la[a]&&(la[a]=ia[b])}),p.push(la),[3,6];case 5:return M(a,b,c,f,p,h,q,l),[3,6];case 6:return[2]}})};y.label=1;case 1:return z--?[5,x()]:[3,3];case 2:return y.sent(),[3,1];case 3:return[2]}})})}function M(a,b,c,f,p,h,q,l){return e(this,void 0,void 0,function(){var e,t,m,u,v,r,w,z,x,y,A,B,D,C,L;return n(this,function(n){switch(n.label){case 0:return e={type:a.type,enable:!0,name:a.name,colorLocked:a.colorLocked,
                    primitiveName:a.primitiveName,anchorPoint:a.anchorPoint,anchorPointUnits:a.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:a.rotateClockwise,rotation:0,size:a.size,billboardMode3D:a.billboardMode3D,depth3D:a.depth3D,frame:a.frame,markerGraphics:[b],scaleSymbolsProportionally:a.scaleSymbolsProportionally,respectFrame:a.respectFrame,clippingPath:a.clippingPath},t=[],m=["Rotation","OffsetX","OffsetY"],t=c.filter(function(b){return b.primitiveName!==a.primitiveName||-1===m.indexOf(b.propertyName)}),
                    u=g.CIMSymbolHelper.getTextureAnchor(e),v=u[0],r=u[1],w=JSON.stringify(e),z=a.primitiveName,x=a.rotation,y=a.offsetX,A=a.offsetY,B=k.numericHash(JSON.stringify(e)).toString(),D={type:"marker",templateHash:B,materialHash:0===t.length?B:null,cim:e,materialOverrides:t,colorLocked:a.colorLocked,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:h,anchorPoint:{x:v,y:r},isAbsoluteAnchorPoint:!1,size:a.size,scaleX:1,rotation:null,offsetX:null,offsetY:null,color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,
                        g:0,b:0,a:0},outlineWidth:0,frameHeight:l,rotateClockwise:a.rotateClockwise,referenceSize:q,sizeRatio:1},C=[U(w,t,f),K(z,"Rotation",c,f,x),K(z,"OffsetX",c,f,y),K(z,"OffsetY",c,f,A)],[4,d.all(C)];case 1:return L=n.sent(),T.forEach(function(a,b){null===D[a]&&(D[a]=L[b])}),p.push(D),[2]}})})}function O(a){return a&&0===a.indexOf("Level_")?parseInt(a.substr(6),10):0}function L(a){if(!a||0===a.length)return null;a=(new l(a)).toRgba();return{r:a[0],g:a[1],b:a[2],a:a[3]}}function K(b,d,c,f,g,k){return e(this,
                    void 0,void 0,function(){var e,p,h,l,t;return n(this,function(m){switch(m.label){case 0:if(!b)return[3,4];e=function(c){var e,p,h;return n(this,function(l){switch(l.label){case 0:if(c.primitiveName!==b||c.propertyName!==d)return[3,2];if(void 0!==c.value)return[2,{value:k?k(c.value):c.value}];e=c.valueExpressionInfo;if(!e)return[3,2];p=e.expression;return[4,a.createRendererExpression(p,f.spatialReference,f.fields)];case 1:return h=l.sent(),[2,{value:function(a,b,d){a=q.callWithFeature(h,a,{$view:d},
                            f.geometryType,b);null!==a&&k&&(a=k(a));return null!==a?a:g}}];case 2:return[2]}})};p=0;h=c;m.label=1;case 1:if(!(p<h.length))return[3,4];l=h[p];return[5,e(l)];case 2:t=m.sent();if("object"===typeof t)return[2,t.value];m.label=3;case 3:return p++,[3,1];case 4:return[2,g]}})})}function R(a,b){switch(b){case "LowerCase":return a.toLowerCase();case "Allcaps":return a.toUpperCase();default:return a}}function da(a,b,d){if(!a||-1===b.indexOf("["))return R(b,d);var c=function(a){for(var b=a.length;b--;)if(-1===
                    " /-,\n".indexOf(a.charAt(b)))return!1;return!0},f=[],e=0,g=-1;do g=b.indexOf("[",e),g>=e&&(g>e&&(e=b.substr(e,g-e),f.push([e,null,c(e)])),e=g+1,g=b.indexOf("]",e),g>=e&&(g>e&&(e=b.substr(e,g-e),(e=a[e])&&f.push([null,e,!1])),e=g+1));while(-1!==g);e<b.length-1&&(e=b.substr(e),f.push([e,null,c(e)]));return function(a){for(var b="",c=null,e=0;e<f.length;e++){var g=f[e],k=g[0],p=g[1],g=g[2];if(k)g?c=k:(c&&(b+=c,c=null),b+=k);else if(k=a.attributes[p])c&&(b+=c,c=null),b+=k}return R(b,d)}}function U(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        d,c){return e(this,void 0,void 0,function(){var f,e,p,h;return n(this,function(l){switch(l.label){case 0:f=function(b){var d,f,e;return n(this,function(g){switch(g.label){case 0:d=b.valueExpressionInfo;if(!d)return[3,2];f=d.expression;return[4,a.createRendererExpression(f,c.spatialReference,c.fields)];case 1:e=g.sent(),b.fn=function(a,b,d){return q.callWithFeature(e,a,{$view:d},c.geometryType,b)},g.label=2;case 2:return[2]}})},e=0,p=d,l.label=1;case 1:if(!(e<p.length))return[3,4];h=p[e];return[5,
                    f(h)];case 2:l.sent(),l.label=3;case 3:return e++,[3,1];case 4:return[2,function(a,c,f){for(var e=0;e<d.length;e++){var p=d[e];p.fn&&(p.value=p.fn(a,c,f))}return k.numericHash(b+g.OverrideHelper.buildOverrideKey(d)).toString()}]}})})}Object.defineProperty(b,"__esModule",{value:!0});var V=h.getLogger("esri.symbols.cim.cimAnalyzer"),ma="size rotation offsetX offsetY color outlineColor outlineWidth".split(" "),T=["materialHash","rotation","offsetX","offsetY"];b.analyzeCIMSymbol=function(a,b,d,c,f){return e(this,
                    void 0,void 0,function(){var e,g,k,p;return n(this,function(h){switch(h.label){case 0:e=c?c:[];if(!a)return[2,e];"CIMSymbolReference"===a.type?(g=a.symbol,k=a.primitiveOverrides):(g=a,k=null);p=g.type;switch(p){case "CIMPointSymbol":return[3,1];case "CIMLineSymbol":return[3,1];case "CIMPolygonSymbol":return[3,1];case "CIMTextSymbol":return[3,3]}return[3,4];case 1:return[4,y(g,k,b,d,e,f)];case 2:return h.sent(),[3,4];case 3:return[3,4];case 4:return[2,e]}})})};b.analyzeCIMResource=function(a,b){if(!b||
                    0===b.length)return a;a=JSON.parse(JSON.stringify(a));g.OverrideHelper.applyOverrides(a,b);return a}})},"esri/symbols/cim/CIMSymbolHelper":function(){define("require exports ../../Color ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMCursor ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./CIMSymbolDrawHelper ./packingUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a,g){function f(a,b){switch(b.type){case "CIMSymbolReference":var d={type:"point",x:0,y:0};a.drawSymbol(b.symbol,
            d);break;case "CIMPointSymbol":d={type:"point",x:0,y:0};a.drawSymbol(b,d);break;case "CIMVectorMarker":d=new k.Placement,a.drawMarker(b,d)}return a.envelope()}Object.defineProperty(b,"__esModule",{value:!0});var r=Math.PI,q=r/2,t=e.getLogger("esri.symbols.cim.CIMSymbolHelper");c=function(){function b(){}b.getEnvelope=function(b){var d=new a.EnvDrawHelper;if(Array.isArray(b)){for(var c=void 0,e=0;e<b.length;e++){var g=b[e];c?c.union(f(d,g)):c=f(d,g)}return c}return f(d,b)};b.getTextureAnchor=function(a){a=
            this.getEnvelope(a);if(!a||0>=a.width||0>=a.height)return[0,0];var b=96/72;return[(a.x+.5*a.width)*b/(a.width*b+2),-(a.y+.5*a.height)*b/(a.height*b+2)]};b.rasterize=function(b,d,c){void 0===c&&(c=!0);var f=this.getEnvelope(d);if(!f||0>=f.width||0>=f.height)return[null,0,0,0,0];var e=96/72,g=(f.x+.5*f.width)*e,p=(f.y+.5*f.height)*e;b.width=f.width*e+2;b.height=f.height*e+2;f=b.getContext("2d");e=a.Transformation.createScale(e,-e);e.translate(.5*b.width-g,.5*b.height+p);e=new a.CanvasDrawHelper(f,e);
            switch(d.type){case "CIMPointSymbol":e.drawSymbol(d,{type:"point",x:0,y:0});break;case "CIMVectorMarker":var h=new k.Placement;e.drawMarker(d,h)}d=f.getImageData(0,0,b.width,b.height);d=new Uint8Array(d.data);if(c)for(c=void 0,f=0;f<d.length;f+=4)c=d[f+3]/255,d[f]*=c,d[f+1]*=c,d[f+2]*=c;return[d,b.width,b.height,-g/b.width,-p/b.height]};b.fromSimpleMarker=function(a){var b,d,c=a.style;if("circle"===c||"esriSMSCircle"===c){b=Math.acos(.995);d=Math.ceil(r/b/4);0===d&&(d=1);b=q/d;d*=4;c=[];c.push([50,
            0]);for(var f=1;f<d;f++)c.push([50*Math.cos(f*b),-50*Math.sin(f*b)]);c.push([50,0]);b={rings:[c]};d={xmin:-50,ymin:-50,xmax:50,ymax:50}}else if("cross"===c||"esriSMSCross"===c)b=0,b={rings:[[[b,50],[b,b],[50,b],[50,-b],[b,-b],[b,-50],[-b,-50],[-b,-b],[-50,-b],[-50,b],[-b,b],[-b,50],[b,50]]]},d={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("diamond"===c||"esriSMSDiamond"===c)b={rings:[[[-50,0],[0,50],[50,0],[0,-50],[-50,0]]]},d={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("square"===c||"esriSMSSquare"===
            c)b={rings:[[[-50,-50],[-50,50],[50,50],[50,-50],[-50,-50]]]},d={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("x"===c||"esriSMSX"===c)b=0,b={rings:[[[0,b],[50-b,50],[50,50-b],[b,0],[50,b-50],[50-b,-50],[0,-b],[b-50,-50],[-50,b-50],[-b,0],[-50,50-b],[b-50,50],[0,b]]]},d={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("triangle"===c||"esriSMSTriangle"===c)d=2/3*100,c=d-100,b={rings:[[[-57.735026918962575,c],[0,d],[57.735026918962575,c],[-57.735026918962575,c]]]},d={xmin:-57.735026918962575,ymin:c,xmax:57.735026918962575,
            ymax:d};var e;b&&d&&(e=[{type:"CIMSolidFill",enable:!0,color:a.color}],a.outline&&e.push({type:"CIMSolidStroke",enable:!0,width:a.outline.width,color:a.outline.color}),e={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:a.angle,size:a.size,offsetX:a.xoffset,offsetY:a.yoffset,frame:d,markerGraphics:[{type:"CIMMarkerGraphic",geometry:b,symbol:{type:"CIMPolygonSymbol",symbolLayers:e}}]}]});return e};b.getFillColor=function(a){if(!a)return null;switch(a.type){case "CIMPolygonSymbol":if(a.symbolLayers){var d=
            0;for(a=a.symbolLayers;d<a.length;d++){var c=b.getFillColor(a[d]);if(null!=c)return c}}break;case "CIMTextSymbol":return b.getFillColor(a.symbol);case "CIMSolidFill":return a.color}};b.getStrokeColor=function(a){if(a)switch(a.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(a.symbolLayers){var d=0;for(a=a.symbolLayers;d<a.length;d++){var c=b.getStrokeColor(a[d]);if(void 0!==c)return c}}break;case "CIMTextSymbol":return b.getStrokeColor(a.symbol);case "CIMSolidStroke":return a.color}};b.getStrokeWidth=
            function(a){if(a)switch(a.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(a.symbolLayers){var d=0;for(a=a.symbolLayers;d<a.length;d++){var c=b.getStrokeWidth(a[d]);if(void 0!==c)return c}}break;case "CIMTextSymbol":return b.getStrokeWidth(a.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return a.width}};b.getSize=function(a){if(a)switch(a.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var d=0;if(a.symbolLayers){var c=0;for(a=a.symbolLayers;c<
        a.length;c++){var f=b.getSize(a[c]);f>d&&(d=f)}}return d;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":return a.width;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":return a.size}};b.getMarkerScaleRatio=function(a){if(a)switch(a.type){case "CIMVectorMarker":if(!1!==a.scaleSymbolsProportionally&&a.frame)return a.size/(a.frame.ymax-a.frame.ymin)}return 1};b.executeEffects=function(a,b,c){void 0===c&&(c=!1);var f=96/72,e=a?a.length:0;e&&c&&--e;for(c=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                0;c<e;++c){var g=a[c];if(g){var k=d.getEffectOperator(g);k&&(b=k.execute(b,g,f))}}return b};b.processEffects=function(a,d,c){var f;a.effects&&0<a.effects.length&&(f=l.deltaEncodeGeometry(c),f=new h.SimpleGeometryCursor(f),f=b.executeEffects(a.effects,f));a=a.symbolLayers[d];a.effects&&0<a.effects.length&&(d=!1,"CIMGeometricEffectDashes"===a.effects[a.effects.length-1].type&&(d=!0),f||(f=l.deltaEncodeGeometry(c),f=new h.SimpleGeometryCursor(f)),f=b.executeEffects(a.effects,f,d));if(!f)return c;c=[];
            for(a=f.next();a;)c.push(a),a=f.next();f=c.length;switch(f){case 0:return null;case 1:return l.deltaEncodeGeometry(c[0]);default:a=c[0];for(d=1;d<f;++d){var e=c[d];m.isPolygon(a)&&m.isPolygon(e)&&Array.prototype.push.apply(a.rings,e.rings);m.isPolyline(a)&&m.isPolyline(e)&&Array.prototype.push.apply(a.paths,e.paths)}return l.deltaEncodeGeometry(a)}};return b}();b.CIMSymbolHelper=c;c=function(){function a(){}a.rasterizeSimpleFill=function(a,b){"solid"!==b&&"none"!==b&&"esriSFSSolid"!==b&&"esriSFSNull"!==
        b||console.error("Unexpected: style does not require rasterization");a.width=8;a.height=8;var d=a.getContext("2d");d.strokeStyle="#FFFFFF";d.lineWidth=1;d.beginPath();if("vertical"===b||"cross"===b||"esriSFSCross"===b||"esriSFSVertical"===b)d.moveTo(0,0),d.lineTo(0,8);if("horizontal"===b||"cross"===b||"esriSFSCross"===b||"esriSFSHorizontal"===b)d.moveTo(0,0),d.lineTo(8,0);if("forward-diagonal"===b||"diagonal-cross"===b||"esriSFSDiagonalCross"===b||"esriSFSForwardDiagonal"===b)d.moveTo(0,0),d.lineTo(8,
            8);if("backward-diagonal"===b||"diagonal-cross"===b||"esriSFSBackwardDiagonal"===b||"esriSFSDiagonalCross"===b)d.moveTo(8,0),d.lineTo(0,8);d.stroke();b=d.getImageData(0,0,a.width,a.height);b=new Uint8Array(b.data);for(var c=0;c<b.length;c+=4)d=b[c+3]/255,b[c]*=d,b[c+1]*=d,b[c+2]*=d;return[b,a.width,a.height]};a.rasterizeSimpleLine=function(a,b){switch(b){case "butt":b="Butt";break;case "square":b="Square";break;default:b="Round"}var d="Butt"===b;switch(a){case "dash":case "esriSLSDash":a=d?[4,3]:
            [3,4];break;case "dash-dot":case "esriSLSDashDot":a=d?[4,3,1,3]:[3,4,0,4];break;case "dot":case "esriSLSDot":a=d?[1,3]:[0,4];break;case "long-dash":case "esriSLSLongDash":a=d?[8,3]:[7,4];break;case "long-dash-dot":case "esriSLSLongDashDot":a=d?[8,3,1,3]:[7,4,0,4];break;case "long-dash-dot-dot":case "esriSLSDashDotDot":a=d?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case "short-dash":case "esriSLSShortDash":a=d?[4,1]:[3,2];break;case "short-dash-dot":case "esriSLSShortDashDot":a=d?[4,1,1,1]:[3,2,0,2];break;
            case "short-dash-dot-dot":case "esriSLSShortDashDotDot":a=d?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case "short-dot":case "esriSLSShortDot":a=d?[1,1]:[0,2];break;case "solid":case "esriSLSSolid":case "none":t.error("Unexpected: style does not require rasterization");a=[0,0];break;default:t.error("Tried to rasterize SLS, but found an unexpected style: "+a+"!"),a=[0,0]}return this.rasterizeDash(a,b)};a.rasterizeDash=function(a,b){var d="Butt"===b,c="Square"===b;b=!d&&!c;for(var f=0,e=0;e<a.length;e++)var k=
            a[e],f=f+k;for(var f=15*f,p=31*f,e=new Float32Array(p),h=b?225:15,k=0;k<p;++k)e[k]=h;for(var h=p=0,q=!0,l=0;l<a.length;l++){for(var k=a[l],p=h,h=h+15*k,t=p;t<h;){for(var m=0;31>m;){var k=m*f+t,n=b?(m-15)*(m-15):Math.abs(m-15);e[k]=q?d?Math.max(Math.max(p+7.5-t,n),Math.max(t-h+7.5,n)):n:b?Math.min((t-p)*(t-p)+n,(t-h)*(t-h)+n):c?Math.min(Math.max(t-p,n),Math.max(h-t,n)):Math.min(Math.max(t-p+7.5,n),Math.max(h+7.5-t,n));m++}t++}q=!q}a=e.length;d=new Uint8Array(4*a);for(k=0;k<a;++k)g.packFloatRGBA((b?
            Math.sqrt(e[k]):e[k])/15,d,4*k);return[d,f,31]};return a}();b.SymbolHelper=c;c=function(){function a(){}a.findApplicableOverrides=function(b,d,c){if(d){if(b.primitiveName){for(var f=!1,e=0;e<c.length;e++){var g=c[e];if(g.primitiveName===b.primitiveName){f=!0;break}}if(!f)for(f=0;f<d.length;f++)g=d[f],g.primitiveName===b.primitiveName&&c.push(g)}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(f=0,e=b.effects;f<e.length;f++)g=e[f],a.findApplicableOverrides(g,
            d,c);if(b.symbolLayers)for(g=0,b=b.symbolLayers;g<b.length;g++)a.findApplicableOverrides(b[g],d,c);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(b.effects)for(f=0,e=b.effects;f<e.length;f++)g=e[f],a.findApplicableOverrides(g,d,c);b.markerPlacement&&a.findApplicableOverrides(b.markerPlacement,d,c);if("CIMVectorMarker"===
            b.type){if(b.markerGraphics)for(g=0,b=b.markerGraphics;g<b.length;g++)f=b[g],a.findApplicableOverrides(f,d,c),a.findApplicableOverrides(f.symbol,d,c)}else"CIMCharacterMarker"===b.type?a.findApplicableOverrides(b.symbol,d,c):"CIMHatchFill"===b.type&&a.findApplicableOverrides(b.lineSymbol,d,c)}}};a.applyOverrides=function(b,d,c,f){if(d){if(b.primitiveName)for(var e=0;e<d.length;e++){var g=d[e];if(g.primitiveName===b.primitiveName){var k;k=(k=g.propertyName)?k.charAt(0).toLowerCase()+k.substr(1):k;f&&
        f.push({cim:b,nocapPropertyName:k,value:b[k]});g.expression&&(g.value=a.toValue(g.propertyName,g.expression));if(c){for(var h=!1,p=0,q=c;p<q.length;p++)q[p].primitiveName===b.primitiveName&&(h=!0);h||c.push(g)}b[k]=g.value}}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(g=0,k=b.effects;g<k.length;g++)e=k[g],a.applyOverrides(e,d,c,f);if(b.symbolLayers)for(e=0,b=b.symbolLayers;e<b.length;e++)a.applyOverrides(b[e],d,c,f);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(b.effects)for(g=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              0,k=b.effects;g<k.length;g++)e=k[g],a.applyOverrides(e,d,c,f);if("CIMVectorMarker"===b.type&&b.markerGraphics)for(e=0,b=b.markerGraphics;e<b.length;e++)g=b[e],a.applyOverrides(g,d,c,f),a.applyOverrides(g.symbol,d,c,f)}}};a.restoreOverrides=function(a){for(var b=0;b<a.length;b++){var d=a[b];d.cim[d.nocapPropertyName]=d.value}};a.buildOverrideKey=function(a){for(var b="",d=0;d<a.length;d++){var c=a[d];void 0!==c.value&&(b+=""+c.primitiveName+c.propertyName+JSON.stringify(c.value))}return b};a.toValue=
            function(a,b){return"DashTemplate"===a?b.split(" ").map(function(a){return Number(a)}):"Color"===a?(a=(new n(b)).toRgba(),a[3]*=255,a):b};return a}();b.OverrideHelper=c})},"esri/symbols/cim/CIMCursor":function(){define(["require","exports","../../geometry/support/jsonUtils","./CIMPlacements"],function(c,b,n,e){function m(a){if(a)for(var b=a.length-1;0<b;--b)a[b][0]-=a[b-1][0],a[b][1]-=a[b-1][1]}function l(a){if(a)for(var b=0;b<a.length;b++)m(a[b])}function h(a){if(a)for(var b=a.length,d=1;d<b;++d)a[d][0]+=
            a[d-1][0],a[d][1]+=a[d-1][1]}function d(a){if(a)for(var b=0;b<a.length;b++)h(a[b])}function k(a){a&&a.reverse()}function a(a){return{rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]}}Object.defineProperty(b,"__esModule",{value:!0});b.deltaEncodePath=m;b.deltaEncodeMultipath=l;b.deltaDecodeGeometry=function(a){n.isPolygon(a)?d(a.rings):n.isPolyline(a)?d(a.paths):n.isMultipoint(a)&&h(a.points);return a};b.deltaEncodeGeometry=function(a){n.isPolygon(a)?l(a.rings):
            n.isPolyline(a)?l(a.paths):n.isMultipoint(a)&&m(a.points);return a};b.reverseMultipath=function(a){if(a)for(var b=0;b<a.length;b++)k(a[b])};b.reversePath=k;b.getCoord2D=function(a,b,d){return[a[0]+(b[0]-a[0])*d,a[1]+(b[1]-a[1])*d]};b.isClosedPath=function(a){return a&&0!==a.length?a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]:!1};b.getId=function(a){return a[4]};b.setId=function(a,b){a[4]=b};c=function(){function b(b,d,c,g){this.acceptPolygon=d;this.acceptPolyline=c;this.geomUnitsPerPoint=
            g;this.pathIndex=this.pathCount=-1;this.iteratePath=!1;b&&(n.isPolygon(b)?d&&(this.multiPath=b.rings,this.isClosed=!0):n.isPolyline(b)?c&&(this.multiPath=b.paths,this.isClosed=!1):n.isExtent(b)&&d&&(this.multiPath=a(b).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length));this.internalPlacement=new e.Placement}b.prototype.next=function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var a=this.processPath(this.multiPath[this.pathIndex]);
            if(a)return a}this.pathIndex=this.pathCount=-1;return this.multiPath=null};return b}();b.PathTransformationCursor=c;c=function(){function b(a,b,d,c){this.inputGeometries=a;this.acceptPolygon=b;this.acceptPolyline=d;this.geomUnitsPerPoint=c;this.pathIndex=this.pathCount=-1;this.iteratePath=!1}b.prototype.next=function(){for(;;){if(!this.multiPath){for(var b=this.inputGeometries.next();b;)if(n.isPolygon(b)?this.acceptPolygon&&(this.multiPath=b.rings,this.isClosed=!0):n.isPolyline(b)?this.acceptPolyline&&
            (this.multiPath=b.paths,this.isClosed=!1):n.isExtent(b)&&this.acceptPolygon&&(this.multiPath=a(b).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length;this.pathIndex=-1;break}else b=this.inputGeometries.next();if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;)if(this.iteratePath||this.pathIndex++,b=this.processPath(this.multiPath[this.pathIndex]))return b;this.pathIndex=this.pathCount=-1;this.multiPath=null}};return b}();b.PathGeometryCursor=
            c})},"esri/symbols/cim/CIMPlacements":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});c=function(){function b(){this.setIdentity()}b.prototype.setIdentity=function(){this.tz=this.ty=this.tx=0;this.s=1;this.rz=this.ry=this.rx=0;this.rz_c=1;this.rz_s=0};b.prototype.setTranslate=function(b,c){this.tx=b;this.ty=c};b.prototype.setTranslateZ=function(b){this.tz=b};b.prototype.setRotateCS=function(b,c){this.rz=void 0;this.rz_c=b;this.rz_s=c};b.prototype.setRotate=
            function(b){this.rz=b;this.rz_s=this.rz_c=void 0};b.prototype.setRotateY=function(b){this.ry=b};b.prototype.setScale=function(b){this.s=b};b.prototype.setMeasure=function(b){this.m=b};return b}();b.Placement=c;c=function(){function b(){}b.prototype.next=function(){return null};return b}();b.EmptyPlacementCursor=c})},"esri/symbols/cim/CIMEffects":function(){define(["require","exports","../../core/lang"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});c=function(){function b(b){this._geometry=
            b}b.prototype.next=function(){var b=this._geometry;this._geometry=null;return b};return b}();b.SimpleGeometryCursor=c;b.clone=function(b){return n.clone(b)}})},"esri/symbols/cim/CIMOperators":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.getEffectOperator=function(b){return null};b.getPlacementOperator=function(b){return null}})},"esri/symbols/cim/CIMSymbolDrawHelper":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./Rect".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){Object.defineProperty(b,"__esModule",{value:!0});b.C_DEG_TO_RAD=Math.PI/180;var g=m.getLogger("esri.symbols.cim.CIMSymbolDrawHelper"),f=function(){function a(a){this._t=a}a.createIdentity=function(){return new a([1,0,0,0,1,0])};a.prototype.clone=function(){return new a(this._t.slice())};a.prototype.transform=function(a){var b=this._t;return[b[0]*a[0]+b[1]*a[1]+b[2],b[3]*a[0]+b[4]*a[1]+b[5]]};a.createScale=function(b,d){return new a([b,0,0,0,d,0])};a.prototype.scale=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         b){var d=this._t;d[0]*=a;d[1]*=a;d[2]*=a;d[3]*=b;d[4]*=b;d[5]*=b;return this};a.prototype.scaleRatio=function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])};a.createTranslate=function(b,d){return new a([0,0,b,0,0,d])};a.prototype.translate=function(a,b){var d=this._t;d[2]+=a;d[5]+=b;return this};a.createRotate=function(b){var d=Math.cos(b);b=Math.sin(b);return new a([d,-b,0,b,d,0])};a.prototype.rotate=function(b){return this.multiply(a.createRotate(b))};a.prototype.multiply=function(a){var b=
                this._t;a=a._t;var d=b[1]*a[0]+b[4]*a[1],c=b[2]*a[0]+b[5]*a[1]+a[2],f=b[0]*a[3]+b[3]*a[4],e=b[1]*a[3]+b[4]*a[4],g=b[2]*a[3]+b[5]*a[4]+a[5];b[0]=b[0]*a[0]+b[3]*a[1];b[1]=d;b[2]=c;b[3]=f;b[4]=e;b[5]=g;return this};return a}();b.Transformation=f;c=function(){function a(a){this._transfos=[];this._sizeTransfos=[];this._transfos.push(a||f.createIdentity());this._sizeTransfos.push(a?a.scaleRatio():1)}a.prototype.transformPt=function(a){return this._transfos[this._transfos.length-1].transform(a)};a.prototype.transformSize=
                function(a){return a*this._sizeTransfos[this._sizeTransfos.length-1]};a.prototype.back=function(){return this._transfos[this._transfos.length-1]};a.prototype.push=function(a){var b=a.scaleRatio();a.multiply(this.back());this._transfos.push(a);this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*b)};a.prototype.pop=function(){this._transfos.splice(-1,1);this._sizeTransfos.splice(-1,1)};a.prototype.drawSymbol=function(a,b){if(a)switch(a.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":this.drawMultiLayerSymbol(a,
                b)}};a.prototype.drawMultiLayerSymbol=function(a,b){if(a){var d=a.symbolLayers;if(d)if(a=a.effects){if(b=this.executeEffects(a,b))for(a=b.next();a;)this.drawSymbolLayers(d,a),a=b.next()}else this.drawSymbolLayers(d,b)}};a.prototype.executeEffects=function(a,b){var c=96/72;b=new h.SimpleGeometryCursor(b);for(var f=a?a.length:0,e=0;e<f;++e){var g=a[e];if(g){var k=d.getEffectOperator(g);k&&(b=k.execute(b,g,c))}}return b};a.prototype.drawSymbolLayers=function(a,b){for(var d=a.length;d--;){var c=a[d];
                if(c&&!1!==c.enable){var f=c.effects;if(f){if(f=this.executeEffects(f,b))for(var e=f.next();e;)this.drawSymbolLayer(c,e),e=f.next()}else this.drawSymbolLayer(c,b)}}};a.prototype.drawSymbolLayer=function(a,b){switch(a.type){case "CIMSolidFill":this.drawSolidFill(b,a.color);break;case "CIMSolidStroke":this.drawSolidStroke(b,a.color,a.width);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":this.drawMarkerLayer(a,b)}};a.prototype.drawMarkerLayer=function(a,b){var c=a.markerPlacement;
                if(c){var f=96/72,e=d.getPlacementOperator(c);if(e&&(b=e.execute(b,c,f)))for(c=b.next();c;)this.drawMarker(a,c),c=b.next()}else c=new k.Placement,c.tx=b.x,c.ty=b.y,this.drawMarker(a,c)};a.prototype.drawMarker=function(a,b){switch(a.type){case "CIMCharacterMarker":case "CIMPictureMarker":this.drawPictureMarker(a,b);break;case "CIMVectorMarker":this.drawVectorMarker(a,b)}};a.prototype.drawPictureMarker=function(a,b){};a.prototype.drawVectorMarker=function(a,d){if(a){var c=a.markerGraphics;if(c){var e=
                a.size,k=a.frame,h=k?k.ymax-k.ymin:0,e=e&&h?e/h:1,h=f.createIdentity();k&&h.translate(.5*-(k.xmax+k.xmin),.5*-(k.ymax+k.ymin));var q=a.anchorPoint;if(q){var l=q.x,q=q.y;"Absolute"!==a.anchorPointUnits&&k&&(l*=k.xmax-k.xmin,q*=k.ymax-k.ymin);h.translate(-l,-q)}1!==e&&h.scale(e,e);a.rotation&&h.rotate(a.rotation*b.C_DEG_TO_RAD);h.translate(a.offsetX||0,a.offsetY||0);h.translate(d.tx,d.ty);this.push(h);for(a=0;a<c.length;a++)(d=c[a])&&d.symbol&&d.geometry||g.error("Invalid marker graphic",d),this.drawSymbol(d.symbol,
                d.geometry);this.pop()}}};return a}();b.CIMSymbolDrawHelper=c;e=function(b){function d(){var a=b.call(this)||this;a.reset();return a}n(d,b);d.prototype.reset=function(){this._xmin=this._ymin=Infinity;this._xmax=this._ymax=-Infinity};d.prototype.envelope=function(){return new a.default(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)};d.prototype._merge=function(a,b){a[0]-b<this._xmin&&(this._xmin=a[0]-b);a[0]+b>this._xmax&&(this._xmax=a[0]+b);a[1]-b<this._ymin&&(this._ymin=a[1]-
                b);a[1]+b>this._ymax&&(this._ymax=a[1]+b)};d.prototype.drawSolidFill=function(a){if(a&&a.rings){var b=0;for(a=a.rings;b<a.length;b++){var d=a[b],c=d?d.length:0;if(2<c){this._merge(this.transformPt(d[0]),0);for(var f=1;f<c;++f)this._merge(this.transformPt(d[f]),0)}}}};d.prototype.drawSolidStroke=function(a,b,d){b=.5*this.transformSize(d);if(a=l.isPolygon(a)?a.rings:a.paths)for(d=0;d<a.length;d++){var c=a[d],f=c?c.length:0;if(1<f){this._merge(this.transformPt(c[0]),b);for(var e=1;e<f;++e)this._merge(this.transformPt(c[e]),
                b)}}};return d}(c);b.EnvDrawHelper=e;c=function(a){function b(b,d){d=a.call(this,d)||this;d._ctx=b;return d}n(b,a);b.prototype.drawSolidFill=function(a,b){if(a&&a.rings){var d=this._ctx;d.fillStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";d.beginPath();b=0;for(a=a.rings;b<a.length;b++){var c=a[b],f=c?c.length:0;if(2<f){var e=this.transformPt(c[0]);d.moveTo(e[0],e[1]);for(var g=1;g<f;++g)e=this.transformPt(c[g]),d.lineTo(e[0],e[1]);d.closePath()}}d.fill("evenodd")}};
                b.prototype.drawSolidStroke=function(a,b,d){var c=this._ctx;c.strokeStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";c.lineWidth=this.transformSize(d)+.5;c.beginPath();b=!1;l.isPolygon(a)?(d=a.rings,b=!0):d=a.paths;for(a=0;a<d.length;a++){var f=d[a],e=f?f.length:0;if(1<e){var g=this.transformPt(f[0]);c.moveTo(g[0],g[1]);for(var k=1;k<e;++k)g=this.transformPt(f[k]),c.lineTo(g[0],g[1]);b&&c.closePath()}}c.stroke()};return b}(c);b.CanvasDrawHelper=
                c})},"esri/symbols/cim/Rect":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});c=function(){function b(b,c,l,h){void 0===b&&(b=0);void 0===c&&(c=0);void 0===l&&(l=0);void 0===h&&(h=0);this.x=b;this.y=c;this.width=l;this.height=h}Object.defineProperty(b.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});b.prototype.union=function(b){this.x=Math.min(this.x,b.x);this.y=Math.min(this.y,b.y);this.width=
            Math.max(this.width,b.width);this.height=Math.max(this.height,b.height)};return b}();b.default=c})},"esri/symbols/cim/packingUtils":function(){define(["require","exports"],function(c,b){function n(b){return b-Math.floor(b)}Object.defineProperty(b,"__esModule",{value:!0});var e=[1,256,65536,16777216],m=[1/256,1/65536,1/16777216,1/4294967296],l=function(b,d){void 0===d&&(d=0);for(var c=0,a=0;4>a;a++)c+=b[d+a]*m[a];return c}(new Uint8ClampedArray([255,255,255,255]));b.packFloatRGBA=function(b,d,c){void 0===
        c&&(c=0);b=0>b?0:b>l?l:b;for(var a=0;4>a;a++)d[c+a]=Math.floor(256*n(b*e[a]))}})},"esri/symbols/cim/enums":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});(function(b){b[b.BUTT=0]="BUTT";b[b.ROUND=1]="ROUND";b[b.SQUARE=2]="SQUARE";b[b.UNKNOWN=4]="UNKNOWN"})(b.CapType||(b.CapType={}));(function(b){b[b.BEVEL=0]="BEVEL";b[b.ROUND=1]="ROUND";b[b.MITER=2]="MITER";b[b.UNKNOWN=4]="UNKNOWN"})(b.JoinType||(b.JoinType={}));(function(b){b[b.SCREEN=0]="SCREEN";
            b[b.MAP=1]="MAP"})(b.Alignment||(b.Alignment={}))})},"esri/symbols/cim/SDFHelper":function(){define(["require","exports","../../geometry/support/jsonUtils","./packingUtils","./Rect"],function(c,b,n,e,m){function l(b){if(!b)return null;switch(b.type){case "CIMPointSymbol":b=b.symbolLayers;if(!b||1!==b.length)break;return l(b[0]);case "CIMVectorMarker":b=b.markerGraphics;if(!b||1!==b.length)break;var d=b[0];if(!d)break;b=d.geometry;if(!b)break;d=d.symbol;if(!d||"CIMPolygonSymbol"!==d.type&&"CIMLineSymbol"!==
            d.type)break;return{geom:b,asFill:"CIMPolygonSymbol"===d.type};case "sdf":return{geom:b.geom,asFill:b.asFill}}return null}function h(b){for(var d=Infinity,a=-Infinity,c=Infinity,f=-Infinity,e=0;e<b.length;e++)for(var h=0,l=b[e];h<l.length;h++){var m=l[h];m[0]<d&&(d=m[0]);m[0]>a&&(a=m[0]);m[1]<c&&(c=m[1]);m[1]>f&&(f=m[1])}return[d,c,a,f]}Object.defineProperty(b,"__esModule",{value:!0});b.getSDFInfo=l;b.getSDFSymbol=function(b){b=b.markerGraphics;if(!b||1!==b.length)return null;b=b[0];if(!b)return null;
            b=b.symbol;return!b||"CIMPolygonSymbol"!==b.type&&"CIMLineSymbol"!==b.type?null:b};b.getExtent=function(b){return b?b.rings?h(b.rings):b.paths?h(b.paths):n.isExtent(b)?[b.xmin,b.ymin,b.xmax,b.ymax]:null:null};b.getSDFMetrics=function(b,c,a,e,f){var d=b[0],g=b[1],k=b[2];b=b[3];if(k<d||b<g)return[0,0,0];var h=k-d,p=b-g,k=Math.floor(31.5);b=(128-2*(k+1))/Math.max(h,p);var h=Math.round(h*b),p=Math.round(p*b)+2*k,l=1;c&&(l=p/b/(c.ymax-c.ymin));var m=0,n=0;e&&(f?c&&a&&0<c.ymax-c.ymin&&(m=e.x/((c.xmax-c.xmin)/
            (c.ymax-c.ymin)*a),n=e.y/a):(m=e.x,n=e.y));m=.5*(c.xmax+c.xmin)+m*(c.xmax-c.xmin);n=.5*(c.ymax+c.ymin)+n*(c.ymax-c.ymin);m=(m-d)*b+k;n=(n-g)*b+k;return[l,m/(h+2*k)-.5,-(n/p-.5)]};b.buildSDF=function(b){var d,a=b.geom;d=a?a.rings?a.rings:a.paths?a.paths:void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]:null:null;var c,a=Infinity,f=-Infinity,h=Infinity,q=-Infinity;for(c=0;c<d.length;c++)for(var l=0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             n=d[c];l<n.length;l++){var p=n[l];p[0]<a&&(a=p[0]);p[0]>f&&(f=p[0]);p[1]<h&&(h=p[1]);p[1]>q&&(q=p[1])}c=new m.default(a,h,f-a,q-h);h=Math.floor(31.5);l=(128-2*(h+1))/Math.max(c.width,c.height);a=Math.round(c.width*l)+2*h;f=Math.round(c.height*l)+2*h;q=[];for(n=0;n<d.length;n++){var v=d[n];if(v&&1<v.length){for(var p=[],w=0;w<v.length;w++){var z=v[w],y=z[0],z=z[1],y=y-c.x,z=z-c.y,y=y*l,z=z*l,y=y+(h-.5),z=z+(h-.5);p.push([y,z])}b.asFill&&(w=p.length-1,p[0][0]===p[w][0]&&p[0][1]===p[w][1]||p.push(p[0]));
            q.push(p)}}c=a*f;d=Array(c);n=h*h+1;for(l=0;l<c;++l)d[l]=n;for(n=0;n<q.length;n++)for(p=q[n],w=p.length,l=1;l<w;++l){var v=p[l-1],y=p[l],A=void 0,z=void 0;v[0]<y[0]?(A=v[0],z=y[0]):(A=y[0],z=v[0]);var x=void 0,B=void 0;v[1]<y[1]?(x=v[1],B=y[1]):(x=y[1],B=v[1]);var D=Math.floor(A)-h,z=Math.floor(z)+h,x=Math.floor(x)-h,B=Math.floor(B)+h;0>D&&(D=0);z>a&&(z=a);0>x&&(x=0);B>f&&(B=f);for(var A=y[0]-v[0],E=y[1]-v[1],C=A*A+E*E;D<z;D++)for(var G=x;G<B;G++){var H=(D-v[0])*A+(G-v[1])*E,F=void 0,I=void 0;0>H?
            (F=v[0],I=v[1]):H>C?(F=y[0],I=y[1]):(H/=C,F=v[0]+H*A,I=v[1]+H*E);H=(D-F)*(D-F)+(G-I)*(G-I);F=(f-G-1)*a+D;H<d[F]&&(d[F]=H)}}for(l=0;l<c;++l)d[l]=Math.sqrt(d[l]);if(b.asFill)for(b=0;b<q.length;b++)for(c=q[b],l=c.length,n=1;n<l;++n)for(p=c[n-1],w=c[n],y=v=void 0,p[0]<w[0]?(v=p[0],y=w[0]):(v=w[0],y=p[0]),z=x=void 0,p[1]<w[1]?(x=p[1],z=w[1]):(x=w[1],z=p[1]),v=Math.floor(v),y=Math.floor(y)+1,x=Math.floor(x),z=Math.floor(z)+1,v<h&&(v=h),y>a-h&&(y=a-h),x<h&&(x=h),z>f-h&&(z=f-h);x<z;++x)if(p[1]>x!==w[1]>x){B=
            (f-x-1)*a;for(A=v;A<y;++A)A<(w[0]-p[0])*(x-p[1])/(w[1]-p[1])+p[0]&&(d[B+A]=-d[B+A]);for(A=h;A<v;++A)d[B+A]=-d[B+A]}h*=2;q=d.length;b=new Uint8Array(4*q);for(c=0;c<q;++c)e.packFloatRGBA(.5-d[c]/h,b,4*c);return[b,a,f]}})},"esri/views/2d/arcade/utils":function(){define("require exports ../../../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../../../core/Error ../../../core/Logger ../../../geometry/support/quantizationUtils ../../../layers/graphics/featureConversionUtils".split(" "),function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    b,n,e,m,l,h,d){function k(b,d,c,e){var g=e.transform,k=e.hasZ;e=e.hasM;f.has(b)||f.set(b,a(c));b=f.get(b)(d.geometry,g,k,e);return n({},d,{geometry:b})}function a(a){var b={};switch(a){case "esriGeometryPoint":return function(a,d,c,f){return h.hydratePoint(d,b,a,c,f)};case "esriGeometryPolygon":return function(a,d,c,f){return h.hydratePolygon(d,b,a,c,f)};case "esriGeometryPolyline":return function(a,d,c,f){return h.hydratePolyline(d,b,a,c,f)};case "esriGeometryMultipoint":return function(a,d,c,f){return h.hydrateMultipoint(d,
            b,a,c,f)};default:return g.error(new m("mapview-arcade","Unable to handle geometryType: "+a)),function(a){return a}}}Object.defineProperty(b,"__esModule",{value:!0});var g=l.getLogger("esri.views.2d.support.arcadeOnDemand");b.callWithOptimizedFeature=function(a,b,c,f,e){var h=f.geometryType,p=f.hasZ;f=f.hasM;b=a.referencesGeometry()?e?k(a,d.convertToFeature(b,h,p,f),h,e):d.convertToFeature(b,h,p,f):b;b=a.repurposeFeature(b);try{return a.evaluate(n({},c,{$feature:b}))}catch(z){return g.warn("Feature arcade evaluation failed:",
            z),null}};b.callWithFeature=function(a,b,d,c,f){b=a.referencesGeometry()&&f?k(a,b,c,f):b;b=a.repurposeFeature(b);try{return a.evaluate(n({},d,{$feature:b}))}catch(v){return g.warn("Feature arcade evaluation failed:",v),null}};var f=new e.default;b.createHydrateFactory=a})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(c,b,n){function e(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function m(a,b){return Math.round((a.translate[1]-
            b)/a.scale[1])}function l(a,b,d){for(var c=[],f,g,k,h,p=0;p<d.length;p++){var q=d[p];if(0<p){if(k=e(a,q[0]),h=m(a,q[1]),k!==f||h!==g)c.push(b(q,k-f,h-g)),f=k,g=h}else f=e(a,q[0]),g=m(a,q[1]),c.push(b(q,f,g))}return 0<c.length?c:null}function h(a,b,d,c){return l(a,d?c?E:D:c?D:B,b)}function d(a,b,d,c){var f=[];d=d?c?E:D:c?D:B;for(c=0;c<b.length;c++){var e=l(a,d,b[c]);e&&3<=e.length&&f.push(e)}return f.length?f:null}function k(a,b,d,c){var f=[];d=d?c?E:D:c?D:B;for(c=0;c<b.length;c++){var e=l(a,d,b[c]);
            e&&2<=e.length&&f.push(e)}return f.length?f:null}function a(a,b){return b*a.scale[0]+a.translate[0]}function g(a,b){return a.translate[1]-b*a.scale[1]}function f(b,d,c){var f=Array(c.length);if(!c.length)return f;var e=b.scale,k=e[0],e=e[1],h=a(b,c[0][0]);b=g(b,c[0][1]);f[0]=d(c[0],h,b);for(var p=1;p<c.length;p++){var q=c[p],h=h+q[0]*k;b-=q[1]*e;f[p]=d(q,h,b)}return f}function r(a,b,d){for(var c=Array(d.length),e=0;e<d.length;e++)c[e]=f(a,b,d[e]);return c}function q(a,b,d,c){return f(a,d?c?E:D:c?
            D:B,b)}function t(a,b,d,c){return r(a,d?c?E:D:c?D:B,b)}function u(a,b,d,c){return r(a,d?c?E:D:c?D:B,b)}function p(a,b,d){var c=d[0],f=c[0],c=c[1],e=Math.min(f,b[0]),g=Math.min(c,b[1]),k=Math.max(f,b[2]);b=Math.max(c,b[3]);for(var h=1;h<d.length;h++){var p=d[h],q=p[0],p=p[1],f=f+q,c=c+p;0>q&&(e=Math.min(e,f));0<q&&(k=Math.max(k,f));0>p?g=Math.min(g,c):0<p&&(b=Math.max(b,c))}a[0]=e;a[1]=g;a[2]=k;a[3]=b;return a}function v(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;
            for(var d=0;d<b.length;d++)p(a,a,b[d]);return a}function w(a,b,d,c,f){b.xmin=e(a,d.xmin);b.ymin=m(a,d.ymin);b.xmax=e(a,d.xmax);b.ymax=m(a,d.ymax);b!==d&&(c&&(b.zmin=d.zmin,b.zmax=d.zmax),f&&(b.mmin=d.mmin,b.mmax=d.mmax));return b}function z(a,b,d,c,f){b.points=h(a,d.points,c,f);return b}function y(a,b,d,c,f){b.x=e(a,d.x);b.y=m(a,d.y);b!==d&&(c&&(b.z=d.z),f&&(b.m=d.m));return b}function A(a,b,c,f,e){a=d(a,c.rings,f,e);if(!a)return null;b.rings=a;return b}function x(a,b,d,c,f){a=k(a,d.paths,c,f);if(!a)return null;
            b.paths=a;return b}Object.defineProperty(b,"__esModule",{value:!0});var B=function(a,b,d){return[b,d]},D=function(a,b,d){return[b,d,a[2]]},E=function(a,b,d){return[b,d,a[2],a[3]]};b.toQuantizationTransform=function(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};b.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==
            b)return!1;var d,c,f,e;a&&"upperLeft"===a.originPosition?(d=a.translate[0],c=a.translate[1],a=a.scale[0]):(d=a.extent.xmin,c=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(f=b.translate[0],e=b.translate[1],b=b.scale[0]):(f=b.extent.xmin,e=b.extent.ymax,b=b.tolerance);return d===f&&c===e&&a===b};b.quantizeX=e;b.quantizeY=m;b.quantizeBounds=function(a,b,d){b[0]=e(a,d[0]);b[3]=m(a,d[1]);b[2]=e(a,d[2]);b[1]=m(a,d[3]);return b};b.quantizePoints=h;b.quantizeRings=d;b.quantizePaths=k;b.hydrateX=
            a;b.hydrateY=g;b.hydrateCoordsArray=f;b.hydrateCoordsArrayArray=r;b.hydrateBounds=function(b,d,c){return c?(d[0]=a(b,c[0]),d[1]=g(b,c[3]),d[2]=a(b,c[2]),d[3]=g(b,c[1]),d):[a(b,d[0]),g(b,d[3]),a(b,d[2]),g(b,d[1])]};b.hydratePoints=q;b.hydratePaths=t;b.hydrateRings=u;b.getQuantizedBoundsCoordsArray=p;b.getQuantizedBoundsCoordsArrayArray=v;b.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return p(b,b,a)};
            b.getQuantizedBoundsPaths=function(a){return v([0,0,0,0],a)};b.getQuantizedBoundsRings=function(a){return v([0,0,0,0],a)};b.quantizeExtent=w;b.quantizeMultipoint=z;b.quantizePoint=y;b.quantizePolygon=A;b.quantizePolyline=x;b.quantizeGeometry=function(a,b){return a&&b?n.isPoint(b)?y(a,{},b,!1,!1):n.isPolyline(b)?x(a,{},b,!1,!1):n.isPolygon(b)?A(a,{},b,!1,!1):n.isMultipoint(b)?z(a,{},b,!1,!1):n.isExtent(b)?w(a,{},b,!1,!1):null:null};b.hydrateExtent=function(b,d,c,f,e){d.xmin=a(b,c.xmin);d.ymin=g(b,
                c.ymin);d.xmax=a(b,c.xmax);d.ymax=g(b,c.ymax);d!==c&&(f&&(d.zmin=c.zmin,d.zmax=c.zmax),e&&(d.mmin=c.mmin,d.mmax=c.mmax));return d};b.hydrateMultipoint=function(a,b,d,c,f){b.points=q(a,d.points,c,f);return b};b.hydratePoint=function(b,d,c,f,e){d.x=a(b,c.x);d.y=g(b,c.y);d!==c&&(f&&(d.z=c.z),e&&(d.m=c.m));return d};b.hydratePolygon=function(a,b,d,c,f){b.rings=u(a,d.rings,c,f);return b};b.hydratePolyline=function(a,b,d,c,f){b.paths=t(a,d.paths,c,f);return b}})},"esri/layers/graphics/featureConversionUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
            function(c,b,n,e,m,l,h,d){function k(a,b){return a?b?4:3:b?3:2}function a(a,b,d,c){if(a){if(d)return b&&c?ma:U;if(b&&c)return V}else if(b&&c)return U;return da}function g(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function f(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function r(a,b){return b*a.scale[0]+a.translate[0]}function q(a,b){return a.translate[1]-b*a.scale[1]}function t(a){a=a.coords;return{x:a[0],y:a[1]}}function u(a,b){a.coords[0]=b.x;a.coords[1]=b.y;return a}function p(a){a=
                a.coords;return{x:a[0],y:a[1],z:a[2]}}function v(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;return a}function w(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function z(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.m;return a}function y(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function A(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;a.coords[3]=b.m;return a}function x(a,b){return a&&b?A:a?v:b?z:u}function B(a,b,d){if(!a)return null;for(var c=k(b,d),f=[],e=0;e<a.coords.length;e+=
                c){for(var g=[],h=0;h<c;h++)g.push(a.coords[e+h]);f.push(g)}return b?d?{points:f,hasZ:b,hasM:d}:{points:f,hasZ:b}:d?{points:f,hasM:d}:{points:f}}function D(a,b,d){void 0===d&&(d=k(b.hasZ,b.hasM));a.lengths[0]=b.points.length;var c=a.coords,f=0,e=0;for(b=b.points;e<b.length;e++)for(var g=b[e],h=0;h<d;h++)c[f++]=g[h];return a}function E(a,b,d){if(!a)return null;var c=k(b,d),f=a.coords,e=[],g=0,h=0;for(a=a.lengths;h<a.length;h++){for(var p=a[h],q=[],l=0;l<p;l++){for(var m=[],n=0;n<c;n++)m.push(f[g++]);
                q.push(m)}e.push(q)}return b?d?{paths:e,hasZ:b,hasM:d}:{paths:e,hasZ:b}:d?{paths:e,hasM:d}:{paths:e}}function C(a,b,d){void 0===d&&(d=k(b.hasZ,b.hasM));var c=a.lengths,f=a.coords,e=0,g=0;for(b=b.paths;g<b.length;g++){for(var h=b[g],p=0,q=h;p<q.length;p++)for(var l=q[p],m=0;m<d;m++)f[e++]=l[m];c.push(h.length)}return a}function G(a,b,d){if(!a)return null;var c=k(b,d),f=a.coords,e=[],g=0,h=0;for(a=a.lengths;h<a.length;h++){for(var p=a[h],q=[],l=0;l<p;l++){for(var m=[],n=0;n<c;n++)m.push(f[g++]);q.push(m)}e.push(q)}return b?
                d?{rings:e,hasZ:b,hasM:d}:{rings:e,hasZ:b}:d?{rings:e,hasM:d}:{rings:e}}function H(a,b,d,c){void 0===d&&(d=b.hasZ);void 0===c&&(c=b.hasM);F(a,b.rings,d,c);return a}function F(a,b,d,c){d=k(d,c);c=a.lengths;for(var f=a.coords,e=0,g=c.length=f.length=0;g<b.length;g++){for(var h=b[g],p=0,q=h;p<q.length;p++)for(var l=q[p],m=0;m<d;m++)f[e++]=l[m];c.push(h.length)}return a}function I(a,b,c,f,e,g){a.length=0;if(!c){for(f=0;f<b.length;f++)e=b[f],a.push(new l.default(null,e.attributes,null,e.attributes[g]));
                return a}switch(c){case "esriGeometryPoint":f=x(f,e);for(e=0;e<b.length;e++){var h=b[e];c=h.geometry;var h=h.attributes,p=void 0;c&&(p=f(new d.default,c));a.push(new l.default(p,h,null,h[g]))}break;case "esriGeometryMultipoint":f=k(f,e);for(e=0;e<b.length;e++)h=b[e],c=h.geometry,h=h.attributes,p=void 0,c&&(p=D(new d.default,c,f)),a.push(new l.default(p,h,null,h[g]));break;case "esriGeometryPolyline":f=k(f,e);for(e=0;e<b.length;e++)h=b[e],c=h.geometry,h=h.attributes,p=void 0,c&&(p=C(new d.default,
                c,f)),a.push(new l.default(p,h,null,h[g]));break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var q=b[c],h=q.geometry,p=q.centroid,q=q.attributes,m=void 0;h&&(m=H(new d.default,h,f,e));p?a.push(new l.default(m,q,u(new d.default,p),q[g])):a.push(new l.default(m,q,null,q[g]))}break;default:K.error("convertToFeatureSet:unknown-geometry",new n("Unable to parse unknown geometry type '"+c+"'")),a.length=0}return a}function J(a,b,d,c,f){a.length=0;switch(d){case "esriGeometryPoint":d=t;c&&f?d=y:c?
                d=p:f&&(d=w);for(c=0;c<b.length;c++){var e=b[c];f=e.geometry;e=e.attributes;f=f?d(f):null;a.push({attributes:e,geometry:f})}break;case "esriGeometryMultipoint":for(d=0;d<b.length;d++){var g=b[d],e=g.geometry,g=g.attributes,k=void 0;e&&(k=B(e,c,f));a.push({attributes:g,geometry:k})}break;case "esriGeometryPolyline":for(d=0;d<b.length;d++)g=b[d],e=g.geometry,g=g.attributes,k=void 0,e&&(k=E(e,c,f)),a.push({attributes:g,geometry:k});break;case "esriGeometryPolygon":for(d=0;d<b.length;d++){var k=b[d],
                g=k.geometry,e=k.attributes,h=k.centroid,k=void 0;g&&(k=G(g,c,f));h?(g=t(h),a.push({attributes:e,centroid:g,geometry:k})):a.push({attributes:e,geometry:k})}break;default:K.error("convertToFeatureSet:unknown-geometry",new n("Unable to parse unknown geometry type '"+d+"'"))}return a}function M(b,d,c,e,h,p,q,l){void 0===q&&(q=c);void 0===l&&(l=e);b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=0);if(!d||!d.coords.length)return null;h=R[h];var m=d.coords;d=d.lengths;var n=k(c,
                e),t=k(c&&q,e&&l);c=a(c,e,q,l);if(!d.length)return c(b.coords,m,0,0,g(p,m[0]),f(p,m[1])),b.lengths.length&&(b.lengths.length=0),b.coords.length=n,b;for(var u,r=0,v,w=0,x=0;x<d.length;x++){var z=d[x];if(!(z<h)){var y=0;v=w;l=e=g(p,m[r]);u=q=f(p,m[r+1]);c(b.coords,m,v,r,l,u);y++;r+=n;v+=t;for(var A=1;A<z;A++,r+=n)if(l=g(p,m[r]),u=f(p,m[r+1]),l!==e||u!==q)c(b.coords,m,v,r,l-e,u-q),v+=t,y++,e=l,q=u;y>=h&&(b.lengths.push(y),w=v)}}b.coords.length=w;return b.coords.length?b:null}function O(a,b,d,c,f,e,g){for(var k=
                c,h=0,p,q=e+d;q<g;q+=d){p=b[q];var l=b[q+1],m=b[g],n=b[g+1],t=b[e],u=b[e+1],r=m-t,v=n-u;if(0!==r||0!==v){var w=((p-t)*r+(l-u)*v)/(r*r+v*v);1<w?(t=m,u=n):0<w&&(t+=r*w,u+=v*w)}r=p-t;v=l-u;p=r*r+v*v;p>k&&(h=q,k=p)}k>c&&(h-e>d&&O(a,b,d,c,f,e,h),f(a,b,a.length,h,b[h],b[h+1]),g-h>d&&O(a,b,d,c,f,h,g))}function L(a,b,d,c,f){var e=b.coords,g=b.lengths,h=d?c?ma:U:c?U:da;d=k(d,c);if(!e.length)return a!==b&&(a.lengths.length=0,a.coords.length=0),a;if(!g.length)return h(a.coords,e,0,0,r(f,e[0]),q(f,e[1])),a!==
            b&&(a.lengths.length=0,a.coords.length=d),a;var p=f.scale;c=p[0];for(var p=p[1],l=0,m=0;m<g.length;m++){var n=g[m];a.lengths[m]=n;var t=r(f,e[l]),u=q(f,e[l+1]);h(a.coords,e,l,l,t,u);for(var l=l+d,v=1;v<n;v++,l+=d)t+=e[l]*c,u-=e[l+1]*p,h(a.coords,e,l,l,t,u)}a!==b&&(a.lengths.length=g.length,a.coords.length=e.length);return a}Object.defineProperty(b,"__esModule",{value:!0});var K=e.getLogger("esri.tasks.support.optimizedFeatureSet"),R={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,
                esriGeometryMultipoint:0},da=function(a,b,d,c,f,e){a[d]=f;a[d+1]=e},U=function(a,b,d,c,f,e){a[d]=f;a[d+1]=e;a[d+2]=b[c+2]},V=function(a,b,d,c,f,e){a[d]=f;a[d+1]=e;a[d+2]=b[c+3]},ma=function(a,b,d,c,f,e){a[d]=f;a[d+1]=e;a[d+2]=b[c+2];a[d+3]=b[c+3]};b.quantizeX=g;b.quantizeY=f;b.hydrateX=r;b.hydrateY=q;b.convertToPoint=function(a,b,d){return a?b?d?y(a):p(a):d?w(a):t(a):null};b.convertFromPoint=function(a,b,d){void 0===d&&(d=x(null!=b.z,null!=b.m));return d(a,b)};b.convertToMultipoint=B;b.convertFromMultipoint=
                D;b.convertToPolyline=E;b.convertFromPolyline=C;b.convertToPolygon=G;b.convertFromPolygon=H;b.convertFromNestedArray=F;var T=[],ba=[];b.convertFromFeature=function(a,b,d,c,f){T[0]=a;a=I(ba,T,b,d,c,f)[0];T.length=ba.length=0;return a};b.convertFromFeatures=I;b.convertToFeature=function(a,b,d,c){ba[0]=a;J(T,ba,b,d,c);a=T[0];T.length=ba.length=0;return a};b.convertFromGeometry=function(a,b,c){if(!a)return null;var f=new d.default;"hasZ"in a&&null==b&&(b=a.hasZ);"hasM"in a&&null==c&&(c=a.hasM);if(m.isPoint(a))return x(null!=
            b?b:null!=a.z,null!=c?c:null!=a.m)(f,a);if(m.isPolygon(a))return H(f,a,b,c);if(m.isPolyline(a))return C(f,a,k(b,c));if(m.isMultipoint(a))return D(f,a,k(b,c));K.error("convertFromGeometry:unknown-geometry",new n("Unable to parse unknown geometry type '"+a+"'"))};b.convertToGeometry=function(a,b,d,c){a=a&&("coords"in a?a:a.geometry);if(!a)return null;switch(b){case "esriGeometryPoint":return b=t,d&&c?b=y:d?b=p:c&&(b=w),b(a);case "esriGeometryMultipoint":return B(a,d,c);case "esriGeometryPolyline":return E(a,
                d,c);case "esriGeometryPolygon":return G(a,d,c);default:K.error("convertToGeometry:unknown-geometry",new n("Unable to parse unknown geometry type '"+b+"'"))}};b.convertToFeatures=J;b.convertToFeatureSet=function(a){var b=a.objectIdFieldName,d=a.spatialReference,c=a.transform,f=a.fields,e=a.hasM,g=a.hasZ,k=a.geometryType,h=a.exceededTransferLimit;a={features:J([],a.features,k,g,e),fields:f,geometryType:k,objectIdFieldName:b,spatialReference:d};c&&(a.transform=c);h&&(a.exceededTransferLimit=h);e&&(a.hasM=
                e);g&&(a.hasZ=g);return a};b.convertFromFeatureSet=function(a,b){var d=new h.default,c=a.hasM,f=a.hasZ,e=a.features,g=a.objectIdFieldName,k=a.spatialReference,p=a.geometryType,q=a.exceededTransferLimit,l=a.transform;d.fields=a.fields;d.geometryType=p;d.objectIdFieldName=g||b;d.spatialReference=k;if(!d.objectIdFieldName)return K.error(new n("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),d;e&&I(d.features,e,p,f,c,d.objectIdFieldName);q&&(d.exceededTransferLimit=q);c&&
            (d.hasM=c);f&&(d.hasZ=f);l&&(d.transform=l);return d};b.hydrateOptimizedFeatureSet=function(a){var b=a.transform,d=a.hasM,c=a.hasZ;if(!b)return a;for(var f=0,e=a.features;f<e.length;f++){var g=e[f];g.geometry&&L(g.geometry,g.geometry,d,c,b);g.centroid&&L(g.centroid,g.centroid,d,c,b)}a.transform=null;return a};b.quantizeOptimizedFeatureSet=function(a,b){var c=b.geometryType,f=b.features,e=b.hasM,g=b.hasZ;if(!a)return b;for(var k=0;k<f.length;k++){var h=f[k],p=new l.default(new d.default,h.attributes);
                M(p.geometry,h.geometry,e,g,c,a);h.centroid&&(p.centroid=new d.default,M(p.centroid,h.centroid,e,g,"esriGeometryPoint",a));f[k]=p}b.transform=a;return b};b.quantizeOptimizedGeometry=M;b.generalizeOptimizedGeometry=function(b,d,c,f,e,g,h,p){void 0===h&&(h=c);void 0===p&&(p=f);b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=0);if(!d||!d.coords.length)return null;e=R[e];var q=d.coords;d=d.lengths;var l=k(c,f),m=k(c&&h,f&&p);c=a(c,f,h,p);if(!d.length)return c(b.coords,q,0,0,q[0],
                q[1]),b.lengths.length&&(b.lengths.length=0),b.coords.length=l,b;f=0;g*=g;for(h=0;h<d.length;h++){p=d[h];if(!(p<e)){var n=b.coords.length/m,t=f,u=f+(p-1)*l;c(b.coords,q,b.coords.length,t,q[t],q[t+1]);O(b.coords,q,l,g,c,t,u);c(b.coords,q,b.coords.length,u,q[u],q[u+1]);t=b.coords.length/m-n;t>=e?b.lengths.push(t):b.coords.length=n*m}f+=p*l}return b.coords.length?b:null};b.getBoundsOptimizedGeometry=function(a,b,d,c){d=k(d,c);var f=c=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,g=Number.NEGATIVE_INFINITY;
                if(b&&b.coords){b=b.coords;for(var h=0;h<b.length;h+=d){var p=b[h],q=b[h+1];c=Math.min(c,p);e=Math.max(e,p);f=Math.min(f,q);g=Math.max(g,q)}}a[0]=c;a[1]=f;a[2]=e;a[3]=g;return a};b.getQuantizedBoundsOptimizedGeometry=function(a,b,d,c){d=k(d,c);c=b.coords;var f=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,p=0,q=0;for(b=b.lengths;q<b.length;q++)for(var l=b[q],m=c[p],n=c[p+1],f=Math.min(m,f),e=Math.min(n,e),g=Math.max(m,g),h=Math.max(n,h),
                                                                                                                                                                                                                                                                                                                                                                                                                                              p=p+d,t=1;t<l;t++,p+=d){var u=c[p],r=c[p+1],m=m+u,n=n+r;0>u&&(f=Math.min(f,m));0<u&&(g=Math.max(g,m));0>r?e=Math.min(e,n):0<r&&(h=Math.max(h,n))}a[0]=f;a[1]=e;a[2]=g;a[3]=h;return a};b.hydrateOptimizedGeometry=L;b.removeZMValues=function(b,d,c,f,e,g){var h,p=k(c,f);c=a(c,f,e,g);f=d.coords;b.coords.length=0;b.lengths.length=0;(h=b.lengths).push.apply(h,d.lengths);for(d=0;d<f.length;d+=p)c(b.coords,f,b.coords.length,d,f[d],f[d+1]);return b};b.removeCollinearVectices=function(b,d,c,f,e){if(!d||!d.coords||
                !d.coords.length)return null;c=R[c];var g=d.coords;d=d.lengths;var h=a(f,e,f,e);f=k(f,e);for(var p=e=0,q=0,l=0,m=0;m<d.length;m++){var n=d[m],p=l;h(b.coords,g,p,e,g[e],g[e+1]);e+=f;var t=g[e],u=g[e+1],r=t,v=u,w=u/t,p=p+f;h(b.coords,g,p,e,r,v);e+=f;for(var x=2;x<n;x++){var t=g[e],u=g[e+1],z=u/t,y=w===z||!isFinite(w)&&!isFinite(z),w=y&&isFinite(z)?0<=w&&0<=z||0>=w&&0>=z:0<=v&&0<=u||0>=v&&0>=u;y&&w?(r+=t,v+=u):(r=t,v=u,p+=f);h(b.coords,g,p,e,r,v);e+=f;w=z}p+=f;n=(p-l)/f;n>=c&&(b.lengths[q]=n,l=p,q++)}b.coords.length>
            l&&(b.coords.length=l);b.lengths.length>q&&(b.lengths.length=q);return b.coords.length&&b.lengths.length?b:null}})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports","../../core/tsSupport/extendsHelper"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});c=function(){return function(b,c,l,h){void 0===b&&(b=null);void 0===c&&(c={});this.localId=0;this.geohashIndexed=!1;this.geohashY=this.geohashX=0;this.geometry=b;c&&(this.attributes=c);l&&(this.centroid=
            l);null!=h&&(this.objectId=h)}}();b.default=c})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});c=function(){return function(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();b.default=c})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require",
            "exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});c=function(){return function(b,c){void 0===b&&(b=[]);void 0===c&&(c=[]);this.lengths=b;this.coords=c}}();b.default=c})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(c,b,n,e,m,l,h,d,k){return function(a){function b(b){b=
            a.call(this,b)||this;b.type="extrude";b.size=void 0;b.material=null;b.castShadows=!0;b.edges=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var c;e([l.enumeration.serializable()({Extrude:"extrude"})],b.prototype,"type",void 0);e([l.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);e([l.property({type:k.default,
            json:{write:!0}})],b.prototype,"material",void 0);e([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([l.property(d.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=c=e([l.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(l.declared(h))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h){var d=m.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});c=function(b){function a(a){a=b.call(this,a)||this;a.enabled=!0;a.type=null;return a}n(a,b);a.prototype.writeEnabled=function(a,b,d){a||(b[d]=a)};e([h.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],a.prototype,"enabled",void 0);e([h.writer("enabled")],a.prototype,"writeEnabled",null);e([h.property({type:d.apiValues,
                readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:d.write}}})],a.prototype,"type",void 0);return a=e([h.subclass("esri.symbols.Symbol3DLayer")],a)}(h.declared(l.JSONSupport));(c||(c={})).typeJSONDictionary=d;return c})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(c,b,n,e,m){function l(b,d,c){if(!b)return b;switch(b.type){case "solid":return d=new m,d.read(b,c),d;case "sketch":return d=new e,d.read(b,c),d}}Object.defineProperty(b,
            "__esModule",{value:!0});b.read=l;b.symbol3dEdgesProperty={types:{key:"type",base:n,typeMap:{solid:m,sketch:e}},json:{read:l,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a,g){return function(b){function c(a){a=
            b.call(this,a)||this;a.color=new l([0,0,0,1]);a.extensionLength=0;a.size=k.px2pt(1);return a}n(c,b);c.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=m({},a),delete a.type);return a};c.prototype.clone=function(){};c.prototype.cloneProperties=function(){return{color:d.clone(this.color),size:this.size,extensionLength:this.extensionLength}};e([a.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);e([a.property(g.colorAndTransparencyProperty)],
            c.prototype,"color",void 0);e([a.property(m({},g.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],c.prototype,"extensionLength",void 0);e([a.property(g.screenSizeProperty)],c.prototype,"size",void 0);return c=e([a.subclass("esri.symbols.edges.Edges3D")],c)}(a.declared(h.JSONSupport))})},"esri/core/screenUtils":function(){define(["require","exports","./compilerUtils"],function(c,b,n){function e(a){return a?72*a/96:0}function m(a,b){void 0===a&&(a=0);void 0===b&&
        (b=0);return{x:a,y:b}}function l(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function h(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function d(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function k(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function a(a){return m(a.x,a.y)}function g(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return m(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(b,"__esModule",{value:!0});
            var f=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.pt2px=function(a){return a?a/72*96:0};b.px2pt=e;b.toPt=function(a){if("string"===typeof a){if(f.test(a)){var b=a.match(f),d=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);d="px"===b?e(d):d;return a?-d:d}console.warn("screenUtils.toPt: input not recognized!");return null}return a};b.createScreenPoint=m;b.createScreenPointArray=l;b.createRenderScreenPoint=h;b.createRenderScreenPointArray=d;b.createRenderScreenPointArray3=function(a,b,d){void 0===
            a&&(a=0);void 0===b&&(b=0);void 0===d&&(d=0);return[a,b,d]};b.castRenderScreenPointArray=function(a){return a};b.castRenderScreenPointArray3=function(a){return a};b.castScreenPointArray=function(a){return a};b.screenToRender=function(a,b,d){var c,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;c=b.x*a;f=b.y*a;break;case "3d":k(b,q),a.state.camera.screenToRender(q,r),c=r[0],f=r[1]}return d?(d.x=c,d.y=f,d):h(c,f)};b.renderToScreen=function(a,b,d){var c,f;switch(a.type){case "2d":a=window.devicePixelRatio||
                1;c=b.x/a;f=b.y/a;break;case "3d":k(b,r),a.state.camera.renderToScreen(r,q),c=q[0],f=q[1]}return d?(d.x=c,d.y=f,d):m(c,f)};b.screenArrayToRender=function(a,b,c){var f,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;f=b[0]*a;e=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,r),f=r[0],e=r[1]}return c?(c[0]=f,c[1]=e,2<c.length&&(c[2]=0),c):d(f,e)};b.renderArrayToScreen=function(a,b,d){var c,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;c=b[0]/a;f=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,
                q),c=q[0],f=q[1]}return d?(d[0]=c,d[1]=f,d):l(c,f)};b.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};b.screenPointObjectToArray=k;b.createScreenPointFromEvent=a;b.createScreenPointFromNativeEvent=g;b.createScreenPointFromSupportedEvent=function(b,d){return d instanceof Event?g(b,d):a(d)};b.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0;
                case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:n.neverReachedSilent(a)}return!1};var r=d(),q=l()})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});b.colorAndTransparencyProperty={type:n,json:{type:[m.Integer],default:null,read:{source:["color","transparency"],
                    reader:function(b,d){b=null!=d.transparency?l.transparencyToOpacity(d.transparency):1;return(d=d.color)&&Array.isArray(d)?new n([d[0]||0,d[1]||0,d[2]||0,b]):null}},write:{target:{color:{type:[m.Integer]},transparency:{type:m.Integer}},writer:function(b,d){d.color=b.toJSON().slice(0,3);b=l.opacityToTransparency(b.a);0!==b&&(d.transparency=b)}}}};b.screenSizeProperty={type:Number,cast:e.toPt,json:{write:!0}};b.stipplePatternProperty={type:[Number],cast:function(b){return null!=b?b:Array.isArray(b)?
                b.map(e.toPt):null},json:{read:!1,write:!1}}})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="sketch";return a}n(d,b);c=d;d.prototype.clone=function(){return new c(this.cloneProperties())};var c;e([m.property({type:["sketch"]})],d.prototype,"type",void 0);
            return d=c=e([m.subclass("esri.symbols.edges.SketchEdges3D")],d)}(m.declared(l))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),function(c,b,n,e,m,l){return function(b){function d(a){a=b.call(this,a)||this;a.type="solid";return a}n(d,b);c=d;d.prototype.clone=function(){return new c(this.cloneProperties())};var c;e([m.property({type:["solid"]})],
            d.prototype,"type",void 0);return d=c=e([m.subclass("esri.symbols.support.SolidEdges3D")],d)}(m.declared(l))})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function a(){var a=null!==b&&b.apply(this,
            arguments)||this;a.color=null;return a}n(a,b);c=a;a.prototype.clone=function(){return new c({color:l.isSome(this.color)?this.color.clone():null})};var c;e([h.property(d.colorAndTransparencyProperty)],a.prototype,"color",void 0);return a=c=e([h.subclass("esri.symbols.support.Symbol3DMaterial")],a)}(h.declared(m.JSONSupport));b.Symbol3DMaterial=c;b.default=c})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
            function(c,b,n,e,m,l,h,d){var k=new m.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}n(b,a);b.prototype.hash=function(){return this.type+"."+(this.outline&&this.outline.hash())};e([l.property({type:h,json:{default:null,write:!0}})],b.prototype,"outline",void 0);e([l.property({type:k.apiValues,readOnly:!0,json:{type:k.jsonValues}})],b.prototype,"type",void 0);return b=e([l.subclass("esri.symbols.FillSymbol")],
                b)}(l.declared(d))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),function(c,b,n,e,m,l,h,d,k){var a=new m.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",
            esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(b){function c(a,d,c,f,e,g){a=b.call(this,a)||this;a.type="simple-line";a.style="solid";a.cap="round";a.join="round";a.miterLimit=2;return a}n(c,b);g=c;c.prototype.normalizeCtorArgs=function(a,b,d,c,f,e){if(a&&"string"!==typeof a)return a;var g={};null!=a&&(g.style=a);null!=b&&(g.color=b);null!=d&&(g.width=h.toPt(d));
            null!=c&&(g.cap=c);null!=f&&(g.join=f);null!=e&&(g.miterLimit=h.toPt(e));return g};c.prototype.clone=function(){return new g({color:l.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};c.prototype.hash=function(){return this.inherited(arguments)+"."+(this.color&&this.color.hash())+"."+this.style+"."+this.cap+"."+this.join+"."+this.miterLimit};var g;e([d.enumeration.serializable()({esriSLS:"simple-line"})],c.prototype,"type",void 0);e([d.property({type:a.apiValues,
            json:{read:a.read,write:a.write}})],c.prototype,"style",void 0);e([d.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,d){return{enabled:"round"!==a&&(null==d||null==d.origin)}}}}})],c.prototype,"cap",void 0);e([d.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,d){return{enabled:"round"!==a&&(null==d||null==d.origin)}}}}})],c.prototype,"join",void 0);e([d.property({type:Number,json:{read:!1,write:!1}})],c.prototype,"miterLimit",void 0);
            return c=g=e([d.subclass("esri.symbols.SimpleLineSymbol")],c)}(d.declared(k))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.type="simple-line";a.width=.75;return a}n(d,b);d.prototype.hash=function(){return this.type+"."+this.width};e([l.enumeration.serializable()({esriSLS:"simple-line"})],
            d.prototype,"type",void 0);e([l.property({type:Number,cast:m.toPt,json:{write:!0}})],d.prototype,"width",void 0);return d=e([l.subclass("esri.symbols.LineSymbol")],d)}(l.declared(h))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                b,n,e,m,l,h,d,k,a,g){return function(b){function c(a){a=b.call(this,a)||this;a.type="fill";a.material=null;a.castShadows=!0;a.outline=null;a.edges=null;return a}n(c,b);f=c;c.prototype.clone=function(){return new f({edges:m.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:m.isSome(this.outline)?this.outline.clone():null})};c.fromSimpleFillSymbol=function(a){return new f({material:{color:(a.color||
                    k.transparentWhite).clone()},outline:a.outline?new g.default({size:a.outline.width||0,color:(a.outline.color||k.white).clone()}):null})};var f;e([l.enumeration.serializable()({Fill:"fill"})],c.prototype,"type",void 0);e([l.property({type:a.default,json:{write:!0}})],c.prototype,"material",void 0);e([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);e([l.property({type:g.default,json:{write:!0}})],c.prototype,"outline",void 0);e([l.property(d.symbol3dEdgesProperty)],
            c.prototype,"edges",void 0);return c=f=e([l.subclass("esri.symbols.FillSymbol3DLayer")],c)}(l.declared(h))})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.white=new n("white");b.black=new n("black");b.transparentWhite=new n([255,255,255,0]);b.isBlack=function(b){return 0===b.r&&0===b.g&&0===b.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
            function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}n(d,b);a=d;d.prototype.clone=function(){return new a({color:m.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var a;e([l.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],d.prototype,"colorMixMode",void 0);return d=a=e([l.subclass("esri.symbols.support.Symbol3DFillMaterial")],d)}(l.declared(h.default));
                b.Symbol3DFillMaterial=c;b.default=c})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new m([0,
            0,0,1]);a.size=d.px2pt(1);a.stipplePattern=null;a.stippleOffColor=null;return a}n(c,b);g=c;c.prototype.clone=function(){return new g({color:h.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};var g;e([k.property(a.colorAndTransparencyProperty)],c.prototype,"color",void 0);e([k.property(a.screenSizeProperty)],c.prototype,"size",void 0);e([k.property(a.stipplePatternProperty)],
            c.prototype,"stipplePattern",void 0);e([k.property({type:m})],c.prototype,"stippleOffColor",void 0);return c=g=e([k.subclass("esri.symbols.support.Symbol3DOutline")],c)}(k.declared(l.JSONSupport));b.Symbol3DOutline=c;b.default=c})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h){return function(b){function d(a){a=
            b.call(this,a)||this;a.decoration="none";a.family="sans-serif";a.size=9;a.style="normal";a.weight="normal";return a}n(d,b);a=d;d.prototype.castSize=function(a){return l.toPt(a)};d.prototype.clone=function(){return new a({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};d.prototype.hash=function(){return this.decoration+"."+this.family+"."+this.size+"."+this.style+"."+this.weight};var a;e([h.property({type:["underline","line-through","none"],json:{default:"none",
                write:!0}})],d.prototype,"decoration",void 0);e([h.property({type:String,json:{write:!0}})],d.prototype,"family",void 0);e([h.property({type:Number,json:{write:{overridePolicy:function(a,b,d){return{enabled:!d||!d.textSymbol3D}}}}})],d.prototype,"size",void 0);e([h.cast("size")],d.prototype,"castSize",null);e([h.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],d.prototype,"style",void 0);e([h.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",
                write:!0}})],d.prototype,"weight",void 0);return d=a=e([h.subclass("esri.symbols.Font")],d)}(h.declared(m.JSONSupport))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t){function u(a){var b="width"in a?a.width:a.size,d="height"in a?a.height:a.size,c=p(a.xoffset);a=p(a.yoffset);return(c||a)&&b&&d?{x:-c/b,y:a/d}:null}function p(a){return isFinite(a)?a:0}var v=m.getLogger("esri.symbols.IconSymbol3DLayer"),w={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(b){function c(a){a=b.call(this,a)||this;a.material=null;a.resource=null;a.type="icon";a.size=12;a.anchor="center";
                a.anchorPosition=void 0;a.outline=void 0;return a}n(c,b);k=c;c.prototype.clone=function(){return new k({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,outline:l.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};c.fromSimpleMarkerSymbol=function(b){var d=b.color||a.white,c=u(b),f=b.outline&&0<b.outline.width?{size:b.outline.width,
                color:(b.outline.color||a.white).clone()}:null,e=k,g=b.size;b=b.style;var h=w[b];h?b=h:(v.warn(b+' cannot be mapped to Icon symbol. Fallback to "circle"'),b="circle");return new e({size:g,resource:{primitive:b},material:{color:d},outline:f,anchor:c?"relative":void 0,anchorPosition:c})};c.fromPictureMarkerSymbol=function(b){var d=!b.color||a.isBlack(b.color)?a.white:b.color,c=u(b);return new k({size:b.width<=b.height?b.height:b.width,resource:{href:b.url},material:{color:d.clone()},anchor:c?"relative":
                    void 0,anchorPosition:c})};c.fromCIMSymbol=function(a){return new k({resource:{href:h.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};var k;e([d.property({type:q.default,json:{write:!0}})],c.prototype,"material",void 0);e([d.property({type:g.default,json:{write:!0}})],c.prototype,"resource",void 0);e([d.enumeration.serializable()({Icon:"icon"})],c.prototype,"type",void 0);e([d.property(f.screenSizeProperty)],c.prototype,"size",void 0);e([d.enumeration.serializable()({center:"center",
                left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),d.property({json:{default:"center"}})],c.prototype,"anchor",void 0);e([d.property({type:r.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new r.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],
                c.prototype,"anchorPosition",void 0);e([d.property({type:t.default,json:{write:!0}})],c.prototype,"outline",void 0);return c=k=e([d.subclass("esri.symbols.IconSymbol3DLayer")],c)}(d.declared(k))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h,d){Object.defineProperty(b,
            "__esModule",{value:!0});var k=m.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});c=function(a){function b(b){return a.call(this,b)||this}n(b,a);c=b;b.prototype.readHref=function(a,b,d){return a?h.fromJSON(a,d):b.dataURI};b.prototype.writeHref=function(a,b,d,c){a&&(h.isDataProtocol(a)?b.dataURI=a:(b.href=h.toJSON(a,c),h.isAbsolute(b.href)&&(b.href=h.normalize(b.href))))};b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};
            var c;e([d.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);e([d.reader("href")],b.prototype,"readHref",null);e([d.writer("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);e([d.enumeration.serializable()(k)],b.prototype,"primitive",void 0);return b=c=e([d.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(d.declared(l.JSONSupport));b.IconSymbol3DLayerResource=c;b.defaultPrimitive="circle";b.default=c})},
        "esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.x=0;a.y=0;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({x:this.x,y:this.y})};var c;e([l.property({type:Number})],
            d.prototype,"x",void 0);e([l.property({type:Number})],d.prototype,"y",void 0);return d=c=e([l.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],d)}(l.declared(m));b.Symbol3DAnchorPosition2D=c;b.default=c})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g){var f=m.ofType({base:null,key:"type",typeMap:{text:k}});return function(b){function d(a){a=b.call(this,a)||this;a.verticalOffset=null;a.callout=null;a.styleOrigin=null;a.symbolLayers=new f;a.type="label-3d";return a}n(d,b);c=d;d.prototype.supportsCallout=function(){return!0};d.prototype.hasVisibleCallout=function(){return a.hasVisibleCallout(this)};d.prototype.hasVisibleVerticalOffset=function(){return a.hasVisibleVerticalOffset(this)};d.prototype.clone=function(){return new c({styleOrigin:l.clone(this.styleOrigin),
                symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail),callout:l.clone(this.callout),verticalOffset:l.clone(this.verticalOffset)})};d.fromTextSymbol=function(a){return new c({symbolLayers:[k.fromTextSymbol(a)]})};var c;e([h.property({type:g.default,json:{write:!0}})],d.prototype,"verticalOffset",void 0);e([h.property(a.calloutProperty)],d.prototype,"callout",void 0);e([h.property({json:{read:!1,write:!1}})],d.prototype,"styleOrigin",void 0);e([h.property({type:f})],d.prototype,
                "symbolLayers",void 0);e([h.enumeration.serializable()({LabelSymbol3D:"label-3d"})],d.prototype,"type",void 0);return d=c=e([h.subclass("esri.symbols.LabelSymbol3D")],d)}(h.declared(d))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B){var D={icon:t,object:p,line:u,path:v,fill:q,extrude:r,text:y,water:A},E=m.ofType({base:z,key:"type",typeMap:D}),C=h.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),G=d.getLogger("esri.symbols.Symbol3D");return function(b){function d(a){a=b.call(this,a)||this;a.styleOrigin=null;a.thumbnail=null;a.type=null;var d=a.__accessor__&&a.__accessor__.metadatas&&
                a.__accessor__.metadatas.symbolLayers;a._set("symbolLayers",new (d&&d.type||m));return a}n(d,b);Object.defineProperty(d.prototype,"color",{get:function(){return null},set:function(a){G.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"symbolLayers",{set:function(a){l.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});d.prototype.readSymbolLayers=
                function(b,d,c){d=[];for(var f=0;f<b.length;f++){var e=b[f],g=z.typeJSONDictionary.read(e.type),k=g&&D[g];k?(e=new k,e.read(b[f],c),d.push(e)):(G.warn("Unknown symbol layer type: "+g),c&&c.messages&&c.messages.push(new a("symbol-layer:unsupported","Symbol layers of type '"+(g||e.type||"unknown")+"' are not supported",{definition:e,context:c})))}return d};d.prototype.readStyleOrigin=function(b,d,c){if(b.styleUrl&&b.name)return d=k.fromJSON(b.styleUrl,c),new x({styleUrl:d,name:b.name});if(b.styleName&&
                b.name)return new x({portal:c&&c.portal||f.getDefault(),styleName:b.styleName,name:b.name});c&&c.messages&&c.messages.push(new a("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:c,definition:b}))};d.prototype.writeStyleOrigin=function(b,d,c,f){b.styleUrl&&b.name?(c=k.toJSON(b.styleUrl,f),k.isAbsolute(c)&&(c=k.normalize(c)),d.styleOrigin={styleUrl:c,name:b.name}):b.styleName&&b.name&&(b.portal&&f&&f.portal&&!k.hasSamePortal(b.portal.restUrl,
                f.portal.restUrl)?f&&f.messages&&f.messages.push(new a("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):d.styleOrigin={styleName:b.styleName,name:b.name})};d.prototype.normalizeCtorArgs=function(a){return a instanceof z||a&&D[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};e([g.property({json:{read:!1,write:!1}})],d.prototype,"color",null);e([g.property({type:E,nonNullable:!0,
                json:{write:!0}}),g.cast(l.castForReferenceSetter)],d.prototype,"symbolLayers",null);e([g.reader("symbolLayers")],d.prototype,"readSymbolLayers",null);e([g.property({type:x})],d.prototype,"styleOrigin",void 0);e([g.reader("styleOrigin")],d.prototype,"readStyleOrigin",null);e([g.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],d.prototype,"writeStyleOrigin",null);e([g.property({type:B.default,json:{read:!1}})],d.prototype,
                "thumbnail",void 0);e([g.property({type:C.apiValues,readOnly:!0,json:{type:C.jsonValues,read:!1}})],d.prototype,"type",void 0);return d=e([g.subclass("esri.symbols.Symbol3D")],d)}(g.declared(w))})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){return function(b){function c(a){a=b.call(this,a)||this;a.material=null;a.type="line";a.join="miter";a.cap="butt";a.size=h.px2pt(1);a.stipplePattern=null;a.stippleOffColor=null;return a}n(c,b);k=c;c.prototype.clone=function(){return new k({enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?
                    this.stippleOffColor.clone():null})};c.fromSimpleLineSymbol=function(b){return new k({size:b.width||1,cap:b.cap||"butt",join:b.join||"miter",material:{color:(b.color||a.white).clone()}})};var k;e([d.property({type:f.default,json:{write:!0}})],c.prototype,"material",void 0);e([d.enumeration.serializable()({Line:"line"})],c.prototype,"type",void 0);e([d.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],c.prototype,"join",void 0);e([d.property({type:["butt","square","round"],
                json:{write:!0,default:"butt"}})],c.prototype,"cap",void 0);e([d.property(g.screenSizeProperty)],c.prototype,"size",void 0);e([d.property(g.stipplePatternProperty)],c.prototype,"stipplePattern",void 0);e([d.property({type:m})],c.prototype,"stippleOffColor",void 0);return c=k=e([d.subclass("esri.symbols.LineSymbol3DLayer")],c)}(d.declared(k))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){return function(b){function c(a){a=b.call(this,a)||this;a.material=null;a.castShadows=!0;a.resource=null;a.type="object";a.width=void 0;a.height=void 0;a.depth=void 0;a.anchor=void 0;a.anchorPosition=void 0;a.heading=void 0;a.tilt=void 0;a.roll=void 0;return a}n(c,b);g=c;c.prototype.clone=function(){return new g({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
                height:this.height,material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(c.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var g;e([l.property({type:a.default,json:{write:!0}})],c.prototype,"material",void 0);e([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,
                "castShadows",void 0);e([l.property({type:d.default,json:{write:!0}})],c.prototype,"resource",void 0);e([l.enumeration.serializable()({Object:"object"})],c.prototype,"type",void 0);e([l.property({type:Number,json:{write:!0}})],c.prototype,"width",void 0);e([l.property({type:Number,json:{write:!0}})],c.prototype,"height",void 0);e([l.property({type:Number,json:{write:!0}})],c.prototype,"depth",void 0);e([l.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),
                l.property({json:{default:"origin"}})],c.prototype,"anchor",void 0);e([l.property({type:k.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new k.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);e([l.property({type:Number,json:{write:!0}})],c.prototype,"heading",void 0);e([l.property({type:Number,json:{write:!0}})],
                c.prototype,"tilt",void 0);e([l.property({type:Number,json:{write:!0}})],c.prototype,"roll",void 0);e([l.property({readOnly:!0,dependsOn:["resource","resource.href"]})],c.prototype,"isPrimitive",null);return c=g=e([l.subclass("esri.symbols.ObjectSymbol3DLayer")],c)}(l.declared(h))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});var k=m.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});c=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);c=b;b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;e([d.property({type:String,json:{read:h.read,write:h.write}})],b.prototype,"href",void 0);e([d.enumeration.serializable()(k)],
                b.prototype,"primitive",void 0);return b=c=e([d.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(d.declared(l.JSONSupport));b.ObjectSymbol3DLayerResource=c;b.defaultPrimitive="sphere";b.default=c})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",
            {value:!0});c=function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.x=0;a.y=0;a.z=0;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({x:this.x,y:this.y,z:this.z})};var c;e([l.property({type:Number})],d.prototype,"x",void 0);e([l.property({type:Number})],d.prototype,"y",void 0);e([l.property({type:Number})],d.prototype,"z",void 0);return d=c=e([l.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],d)}(l.declared(m));b.Symbol3DAnchorPosition3D=c;b.default=c})},
        "esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.material=null;a.castShadows=!0;a.type="path";a.profile="circle";a.join="miter";a.cap="butt";a.width=void 0;a.height=void 0;a.anchor="center";a.profileRotation="all";return a}
            n(a,b);c=a;Object.defineProperty(a.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=a},enumerable:!0,configurable:!0});a.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};a.prototype.clone=function(){return new c({enabled:this.enabled,material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
                size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var c;e([l.property({type:d.default,json:{write:!0}})],a.prototype,"material",void 0);e([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],a.prototype,"castShadows",void 0);e([l.enumeration.serializable()({Path:"path"})],a.prototype,"type",void 0);e([l.property({type:Number})],a.prototype,"size",null);e([l.reader("size")],
                a.prototype,"readSize",null);e([l.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],a.prototype,"profile",void 0);e([l.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],a.prototype,"join",void 0);e([l.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],a.prototype,"cap",void 0);e([l.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],a.prototype,"width",void 0);e([l.property({type:Number,
                json:{write:!0}})],a.prototype,"height",void 0);e([l.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],a.prototype,"anchor",void 0);e([l.property({type:["heading","all"],json:{write:!0,default:"all"}})],a.prototype,"profileRotation",void 0);return a=c=e([l.subclass("esri.symbols.PathSymbol3DLayer")],a)}(l.declared(h))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r){return function(a){function b(b){b=a.call(this,b)||this;b._userSize=void 0;b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}n(b,a);c=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,d,c){d=m({},c,{textSymbol3D:!0});b.font=a.write({},d);delete b.font.size};Object.defineProperty(b.prototype,
                "size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({enabled:this.enabled,font:this.font&&l.clone(this.font),halo:this.halo&&l.clone(this.halo),material:h.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};b.fromTextSymbol=function(a){var b;
                b=a.haloColor;var d=a.haloSize;b=b&&0<d?{color:l.clone(b),size:d}:null;d=a.font?a.font.clone():new k;return new c({size:d.size,font:d,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var c;e([d.property({type:k,json:{write:!0}})],b.prototype,"font",null);e([d.writer("font")],b.prototype,"writeFont",null);e([d.property({type:f.default,json:{write:!0}})],b.prototype,"halo",void 0);e([d.property({type:r.default,json:{write:!0}})],b.prototype,"material",void 0);e([d.property(g.screenSizeProperty),
                d.property({dependsOn:["font.size"]})],b.prototype,"size",null);e([d.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([d.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=c=e([d.subclass("esri.symbols.TextSymbol3DLayer")],b)}(d.declared(a))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k){Object.defineProperty(b,"__esModule",{value:!0});c=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new m([0,0,0,1]);b.size=0;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:h.clone(this.color),size:this.size})};var c;e([d.property(k.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([d.property(k.screenSizeProperty)],b.prototype,"size",void 0);return b=c=e([d.subclass("esri.symbols.support.Symbol3DHalo")],b)}(d.declared(l.JSONSupport));
                b.Symbol3DHalo=c;b.default=c})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(c,b,n,e,m,l,h,d,k){return function(a){function b(b){b=a.call(this,b)||this;b.color=new m("#0077BE");b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}n(b,
            a);c=b;b.prototype.clone=function(){return new c({color:l.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var c;e([h.property({type:m,json:{type:[d.Integer],write:!0,default:null}})],b.prototype,"color",void 0);e([h.enumeration.serializable()({Water:"water"})],b.prototype,"type",void 0);e([h.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);e([h.property({type:Number,
            json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);e([h.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=c=e([h.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(h.declared(k))})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.portal=null;return a}n(d,b);a=d;d.prototype.clone=function(){return new a({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var a;e([l.property({type:String})],d.prototype,"name",void 0);e([l.property({type:String})],d.prototype,"styleUrl",void 0);e([l.property({type:String})],d.prototype,"styleName",void 0);e([l.property({type:h})],d.prototype,"portal",void 0);
                return d=a=e([l.subclass("esri.symbols.support.StyleOrigin")],d)}(l.declared(m))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}n(d,b);c=d;d.prototype.clone=function(){return new c({url:this.url})};
            var c;e([l.property({type:String})],d.prototype,"url",void 0);return d=c=e([l.subclass("esri.symbols.support.Thumbnail")],d)}(l.declared(m));b.Thumbnail=c;b.default=c})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(c,b,n,e){function m(b){if(!b)return!1;b=b.verticalOffset;return!b||0>=b.screenLength||0>=b.maxWorldLength?!1:!0}function l(b,d,c){if(!b)return b;switch(b.type){case "line":return d=new e,d.read(b,c),d}}Object.defineProperty(b,
            "__esModule",{value:!0});b.hasVisibleVerticalOffset=m;b.hasVisibleCallout=function(b){if(!b||!b.supportsCallout||!b.supportsCallout())return!1;var d=b.callout;return d&&d.visible?m(b)?!0:!1:!1};b.isCalloutSupport=function(b){return"point-3d"===b.type||"label-3d"===b.type};b.read=l;b.calloutProperty={types:{key:"type",base:n,typeMap:{line:e}},json:{read:l,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.visible=!0;return a}e(d,b);d.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=n({},a),delete a.type);return a};d.prototype.clone=function(){};m([h.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);m([h.property({readOnly:!0})],d.prototype,"visible",void 0);return d=m([h.subclass("esri.symbols.callouts.Callout3D")],d)}(h.declared(l.JSONSupport))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){return function(a){function b(b){b=a.call(this,b)||this;b.type="line";b.color=new m([0,0,0,1]);b.size=d.px2pt(1);b.border=null;return b}n(b,a);c=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&h.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({color:l.clone(this.color),size:this.size,border:l.clone(this.border)})};var c;e([k.property({type:["line"]})],b.prototype,"type",
                void 0);e([k.property(f.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([k.property(f.screenSizeProperty)],b.prototype,"size",void 0);e([k.property({type:g.default,json:{write:!0}})],b.prototype,"border",void 0);e([k.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=c=e([k.subclass("esri.symbols.callouts.LineCallout3D")],b)}(k.declared(a))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k){Object.defineProperty(b,"__esModule",{value:!0});c=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new m("white");return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:h.clone(this.color)})};var c;e([d.property(k.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=e([d.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(d.declared(l.JSONSupport));b.LineCallout3DBorder=c;b.default=c})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
            function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.screenLength=0;a.minWorldLength=0;return a}n(d,b);a=d;d.prototype.clone=function(){return new a({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var a;e([l.property(h.screenSizeProperty)],d.prototype,"screenLength",void 0);e([l.property({type:Number,json:{write:!0,default:0}})],d.prototype,"minWorldLength",
                void 0);e([l.property({type:Number,json:{write:!0}})],d.prototype,"maxWorldLength",void 0);return d=a=e([l.subclass("esri.symbols.support.Symbol3DVerticalOffset")],d)}(l.declared(m.JSONSupport));b.Symbol3DVerticalOffset=c;b.default=c})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){var g=m.ofType({base:null,key:"type",typeMap:{line:d,path:k}}),f=m.ofType({base:null,key:"type",typeMap:{line:d,path:k}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new g;b.type="line-3d";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};b.fromSimpleLineSymbol=function(a){return new c({symbolLayers:[d.fromSimpleLineSymbol(a)]})};
                var c;e([h.property({type:g,json:{type:f}})],b.prototype,"symbolLayers",void 0);e([h.enumeration.serializable()({LineSymbol3D:"line-3d"})],b.prototype,"type",void 0);return b=c=e([h.subclass("esri.symbols.LineSymbol3D")],b)}(h.declared(a))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(c,b,n,e,m,l,h,d){var k=
            new m.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}n(b,a);b.prototype.hash=function(){return this.type+"."+this.angle+"."+this.size+"."+this.xoffset+"."+this.yoffset};e([h.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([h.property({type:k.apiValues,readOnly:!0,json:{type:k.jsonValues}})],
            b.prototype,"type",void 0);e([h.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);e([h.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([h.property({type:Number,cast:function(a){return"auto"===a?a:l.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=e([h.subclass("esri.symbols.MarkerSymbol")],b)}(h.declared(d))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
            function(c,b,n,e,m,l,h,d,k){var a=m.ofType({base:null,key:"type",typeMap:{fill:d}});return function(b){function d(d){d=b.call(this,d)||this;d.symbolLayers=new a;d.type="mesh-3d";return d}n(d,b);c=d;d.prototype.clone=function(){return new c({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};var c;e([h.property({type:a})],d.prototype,"symbolLayers",void 0);e([h.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],d.prototype,"type",void 0);
                return d=c=e([h.subclass("esri.symbols.MeshSymbol3D")],d)}(h.declared(k))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a){return function(b){function c(a,d,c,f){a=b.call(this,a)||this;a.type="picture-fill";a.url=null;a.xscale=1;a.yscale=
            1;a.width=12;a.height=12;a.xoffset=0;a.yoffset=0;a.source=null;return a}n(c,b);g=c;c.prototype.normalizeCtorArgs=function(a,b,d,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var f={};a&&(f.url=a);b&&(f.outline=b);null!=d&&(f.width=h.toPt(d));null!=c&&(f.height=h.toPt(c));return f};c.prototype.clone=function(){var a=new g({color:l.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
            yscale:this.yscale});a._set("source",l.clone(this.source));return a};c.prototype.hash=function(){return this.inherited(arguments)+"."+this.color.hash()+"."+this.height+"."+this.url+"."+this.width+"."+this.xoffset+"."+this.xscale+"."+this.yoffset+"."+this.yscale};var g;e([d.enumeration.serializable()({esriPFS:"picture-fill"})],c.prototype,"type",void 0);e([d.property(a.urlPropertyDefinition)],c.prototype,"url",void 0);e([d.property({type:Number,json:{write:!0}})],c.prototype,"xscale",void 0);e([d.property({type:Number,
            json:{write:!0}})],c.prototype,"yscale",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"width",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"height",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"xoffset",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"yoffset",void 0);e([d.property(a.sourcePropertyDefinition)],c.prototype,"source",void 0);return c=g=e([d.subclass("esri.symbols.PictureFillSymbol")],
            c)}(d.declared(k))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(c,b,n){function e(b,d,c){return d.imageData?n.makeData({mediaType:d.contentType||"image/png",isBase64:!0,data:d.imageData}):m(d.url,c)}function m(b,d){return!d||"service"!==d.origin&&"portal-item"!==d.origin||!d.layer||"feature"!==d.layer.type&&"stream"!==d.layer.type||n.isAbsolute(b)||!d.layer.parsedUrl?n.fromJSON(b,d):n.join(d.layer.parsedUrl.path,"images",b)}function l(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                d,c,a){n.isDataProtocol(b)?(b=n.dataComponents(b),d.contentType=b.mediaType,d.imageData=b.data,c&&c.imageData===d.imageData&&c.url&&n.write(c.url,d,"url",a)):n.write(b,d,"url",a)}Object.defineProperty(b,"__esModule",{value:!0});b.readImageDataOrUrl=e;b.read=m;b.writeImageDataAndUrl=l;b.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:e},write:{writer:function(b,d,c,a){l(b,d,this.source,a)}}}};b.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               d,c){b={};d.imageData&&(b.imageData=d.imageData);d.contentType&&(b.contentType=d.contentType);d.url&&(b.url=m(d.url,c));return b}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(c,b,n,e,m,l,h,d,k){return function(a){function b(b,d,c){b=a.call(this,b)||this;b.color=null;b.type="picture-marker";
            b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}n(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var c={};a&&(c.url=a);null!=b&&(c.width=l.toPt(b));null!=d&&(c.height=l.toPt(d));return c};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=function(){var a=new d({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,
            yoffset:this.yoffset});a._set("source",m.clone(this.source));return a};b.prototype.hash=function(){return this.inherited(arguments)+"."+this.height+"."+this.url+"."+this.width};var d;e([h.property({json:{write:!1}})],b.prototype,"color",void 0);e([h.enumeration.serializable()({esriPMS:"picture-marker"})],b.prototype,"type",void 0);e([h.property(k.urlPropertyDefinition)],b.prototype,"url",void 0);e([h.property(k.sourcePropertyDefinition)],b.prototype,"source",void 0);e([h.property({type:Number,cast:l.toPt,
            json:{write:!0}})],b.prototype,"height",void 0);e([h.reader("height",["height","size"])],b.prototype,"readHeight",null);e([h.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"width",void 0);e([h.property({json:{write:!1}})],b.prototype,"size",void 0);return b=d=e([h.subclass("esri.symbols.PictureMarkerSymbol")],b)}(h.declared(d))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q){var t=m.ofType({base:null,key:"type",typeMap:{icon:k,object:a,text:f}}),u=m.ofType({base:null,key:"type",typeMap:{icon:k,object:a}});return function(a){function b(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new t;b.type="point-3d";return b}n(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,d,c){var f=a.filter(function(a){return"text"!==a.type});c&&c.messages&&f.length<a.length&&(a=a.find(function(a){return"text"===a.type}),
                c.messages.push(new l("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[d]=f.map(function(a){return a.write({},c)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return r.hasVisibleCallout(this)};
                b.prototype.hasVisibleVerticalOffset=function(){return r.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:h.clone(this.verticalOffset),callout:h.clone(this.callout),styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[k.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[k.fromPictureMarkerSymbol(a)]})};
                b.fromCIMSymbol=function(a){return new c({symbolLayers:[k.fromCIMSymbol(a)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};b.fromTextSymbol=function(a){return new c({symbolLayers:[f.fromTextSymbol(a)]})};var c;e([d.property({type:q.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);e([d.property(r.calloutProperty)],b.prototype,"callout",void 0);e([d.property({type:t,json:{type:u,origins:{"web-scene":{type:u}}}})],b.prototype,"symbolLayers",void 0);e([d.writer("web-scene",
                    "symbolLayers")],b.prototype,"writeSymbolLayers",null);e([d.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=e([d.subclass("esri.symbols.PointSymbol3D")],b)}(d.declared(g))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p){var v=m.ofType({base:null,key:"type",typeMap:{extrude:a,fill:g,icon:f,line:r,object:q,text:u,water:p}}),w=m.ofType({base:null,key:"type",typeMap:{extrude:a,fill:g,icon:f,line:r,object:q,water:p}});return function(a){function b(b){b=a.call(this,b)||this;b.type="polygon-3d";return b}n(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,d,c){var f=a.filter(function(a){return"text"!==a.type});c&&c.messages&&f.length<a.length&&(a=a.find(function(a){return"text"===
                a.type}),c.messages.push(new l("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[d]=f.map(function(a){return a.write({},c)}).toArray()};b.prototype.clone=function(){return new c({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new c;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var f=
                b.symbolLayers.getItemAt(0),e=b.symbolLayers.getItemAt(1);!e.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(f.outline={size:e.size,color:d.isSome(e.material)?e.material.color:null});b.symbolLayers.removeAt(1)}return b};b.fromSimpleFillSymbol=function(a){return new c({symbolLayers:[g.fromSimpleFillSymbol(a)]})};var c;e([k.property({type:v,json:{type:w}})],b.prototype,"symbolLayers",void 0);e([k.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);e([k.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],
                b.prototype,"type",void 0);return b=c=e([k.subclass("esri.symbols.PolygonSymbol3D")],b)}(k.declared(t))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(c,b,n,e,m,l,h,d,k,a,g){var f=new h.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",
            esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function b(b,d,c){b=a.call(this,b)||this;b.color=new l([0,0,0,.25]);b.outline=new g;b.type="simple-fill";b.style="solid";return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,d){if(a&&"string"!==typeof a)return a;var c={};a&&(c.style=a);b&&(c.outline=b);d&&(c.color=d);return c};b.prototype.clone=function(){return new c({color:d.clone(this.color),
            outline:this.outline&&this.outline.clone(),style:this.style})};b.prototype.hash=function(){return""+this.inherited(arguments)+this.style+"."+(this.color&&this.color.hash())};var c;e([k.property()],b.prototype,"color",void 0);e([k.property()],b.prototype,"outline",void 0);e([k.enumeration.serializable()({esriSFS:"simple-fill"})],b.prototype,"type",void 0);e([k.property({type:f.apiValues,json:{read:f.read,write:f.write}})],b.prototype,"style",void 0);return b=c=e([k.subclass("esri.symbols.SimpleFillSymbol")],
            b)}(k.declared(a))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(c,b,n,e,m,l,h,d,k,a,g){var f=new l.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});
            return function(a){function b(b,d,c,f){b=a.call(this,b)||this;b.color=new m([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new g;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,f){if(a&&"string"!==typeof a)return a;var e={};a&&(e.style=a);null!=b&&(e.size=d.toPt(b));c&&(e.outline=c);f&&(e.color=f);return e};b.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON());null===a&&(b.color=null)};Object.defineProperty(b.prototype,
                "path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({angle:this.angle,color:h.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return this.inherited(arguments)+"."+(this.color&&this.color.hash())+"."+this.path+"."+this.style};var c;e([k.property()],b.prototype,"color",void 0);e([k.writer("color")],
                b.prototype,"writeColor",null);e([k.enumeration.serializable()({esriSMS:"simple-marker"})],b.prototype,"type",void 0);e([k.property()],b.prototype,"size",void 0);e([k.property({type:f.apiValues,json:{read:f.read,write:f.write}})],b.prototype,"style",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"path",null);e([k.property({type:g,json:{default:null,write:!0}})],b.prototype,"outline",void 0);return b=c=e([k.subclass("esri.symbols.SimpleMarkerSymbol")],b)}(k.declared(a))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){return function(a){function b(b,d,c){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new k;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;b.lineWidth=192;b.lineHeight=1;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,d){if(a&&"string"!==typeof a)return a;
                var c={};a&&(c.text=a);b&&(c.font=b);d&&(c.color=d);return c};b.prototype.writeLineWidth=function(a,b,d,c){c&&"string"!==typeof c||(b[d]=a)};b.prototype.castLineWidth=function(a){return h.toPt(a)};b.prototype.writeLineHeight=function(a,b,d,c){c&&"string"!==typeof c||(b[d]=a)};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:l.clone(this.backgroundColor),borderLineColor:l.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:l.clone(this.color),font:this.font&&
                    this.font.clone(),haloColor:l.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return(this.backgroundColor&&this.backgroundColor.hash())+"."+this.borderLineColor+"."+this.borderLineSize+"."+this.color.hash()+
                "."+(this.font&&this.font.hash())+"."+(this.haloColor&&this.haloColor.hash())+"."+this.haloSize+"."+this.horizontalAlignment+"."+this.kerning+"."+this.rightToLeft+"."+this.rotated+"."+this.text+"."+this.verticalAlignment+"."+this.width+"."+this.xoffset+"."+this.yoffset+"."+this.lineHeight+"."+this.lineWidth+"."+this.angle};var c;e([d.property({type:m,json:{write:!0}})],b.prototype,"backgroundColor",void 0);e([d.property({type:m,json:{write:!0}})],b.prototype,"borderLineColor",void 0);e([d.property({type:Number,
                json:{write:!0}})],b.prototype,"borderLineSize",void 0);e([d.property({type:k,json:{write:!0}})],b.prototype,"font",void 0);e([d.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);e([d.property({type:m,json:{write:!0}})],b.prototype,"haloColor",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);e([d.property({type:Boolean,
                json:{write:!0}})],b.prototype,"rightToLeft",void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([d.property({type:String,readOnly:!0})],b.prototype,"type",void 0);e([d.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);e([d.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);e([d.property({type:Number,
                cast:h.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([d.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);e([d.property({type:Number})],b.prototype,"lineWidth",void 0);e([d.writer("lineWidth")],b.prototype,"writeLineWidth",null);e([d.cast("lineWidth")],b.prototype,"castLineWidth",null);e([d.property({type:Number})],b.prototype,"lineHeight",
                void 0);e([d.writer("lineHeight")],b.prototype,"writeLineHeight",null);return b=c=e([d.subclass("esri.symbols.TextSymbol")],b)}(d.declared(a))})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q){function t(){return l(this,void 0,void 0,function(){return m(this,function(a){return[2,k.create(function(a){return c(["./support/styleUtils"],a)})]})})}var u=d.getLogger("esri.symbols.WebStyleSymbol"),p=h.strict()({styleSymbolReference:"web-style"});return function(b){function d(a){a=b.call(this,a)||this;a.styleName=null;a.portal=null;a.styleUrl=null;a.thumbnail=null;a.name=null;a.type="web-style";return a}n(d,b);c=d;d.prototype.read=function(a,b){this.portal=
                b?b.portal:void 0;this.inherited(arguments,[a,b])};d.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};d.prototype.fetchSymbol=function(a){return this._fetchSymbol("webRef",a)};d.prototype.fetchCIMSymbol=function(a){return this._fetchSymbol("cimRef",a)};d.prototype._fetchSymbol=function(a,b){return l(this,void 0,void 0,function(){var d,c;return m(this,function(e){switch(e.label){case 0:return[4,t()];case 1:return d=e.sent(),
                k.throwIfAborted(b),c=d.resolveWebStyleSymbol(this,{portal:this.portal},a,b),c.catch(function(a){u.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,c]}})})};var c;e([g.property({json:{write:!1}})],d.prototype,"color",void 0);e([g.property({type:String,json:{write:!0}})],d.prototype,"styleName",void 0);e([g.property({type:f,json:{write:!1}})],d.prototype,"portal",void 0);e([g.property({type:String,json:{read:a.read,write:a.write}})],d.prototype,"styleUrl",void 0);e([g.property({type:q.default,
                json:{read:!1}})],d.prototype,"thumbnail",void 0);e([g.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);e([g.property({type:p.apiValues,readOnly:!0,json:{type:p.jsonValues,read:!1,write:p.write}})],d.prototype,"type",void 0);return d=c=e([g.subclass("esri.symbols.WebStyleSymbol")],d)}(g.declared(r))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z){function y(a,b,d){b=a?x[a.type]||null:null;if(b)return b=new b,b.read(a,d),b;d&&d.messages&&a&&d.messages.push(new e("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:d}));return null}function A(a,b,d){if(!a)return null;if(!(!d||"web-scene"!==d.origin||a instanceof u||a instanceof v)){var c="cim"!==a.type?z.to3D(a):{symbol:null,error:new n("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",
                    {symbol:a})};if(c.symbol)return c.symbol.write(b,d);d.messages&&d.messages.push(new n("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:d,error:c.error}));return null}return a.write(b,d)}Object.defineProperty(b,"__esModule",{value:!0});var x={esriSMS:t,esriPMS:a,esriTS:p,esriSLS:q,esriSFS:r,esriPFS:k,PointSymbol3D:g,LineSymbol3D:h,PolygonSymbol3D:f,MeshSymbol3D:d,LabelSymbol3D:l,
                styleSymbolReference:v,CIMSymbolReference:m};b.read=y;b.writeTarget=function(a,b,d,c){(a=A(a,{},c))&&(b[d]=a)};b.write=A;b.fromJSON=function(a,b){return y(a,null,b)};b.readCallout3D=function(a,b){if(!a||!a.type)return null;var d=null;switch(a.type){case "line":d=new w}d&&d.read(a,b);return d}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(c,b,n,e){Object.defineProperty(b,"__esModule",{value:!0});b.to3D=function(b,c,h,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               d){void 0===c&&(c=!1);void 0===h&&(h=!1);void 0===d&&(d=!0);if(!b)return{symbol:null};if(n.isSymbol3D(b)||b instanceof n.WebStyleSymbol)d=b.clone();else if("cim"===b.type)d=n.PointSymbol3D.fromCIMSymbol(b);else if(b instanceof n.SimpleLineSymbol)d=n.LineSymbol3D.fromSimpleLineSymbol(b);else if(b instanceof n.SimpleMarkerSymbol)d=n.PointSymbol3D.fromSimpleMarkerSymbol(b);else if(b instanceof n.PictureMarkerSymbol)d=n.PointSymbol3D.fromPictureMarkerSymbol(b);else if(b instanceof n.SimpleFillSymbol)d=
            n.PolygonSymbol3D.fromSimpleFillSymbol(b);else if(b instanceof n.TextSymbol)d=d?n.LabelSymbol3D.fromTextSymbol(b):n.PointSymbol3D.fromTextSymbol(b);else return{error:new e("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(b.type||b.declaredClass)+"' is unsupported in 3D",{symbol:b})};c&&(d.id=b.id);if(h&&n.isSymbol3D(d))for(b=0;b<d.symbolLayers.length;++b)d.symbolLayers.getItemAt(b)._ignoreDrivers=!0;return{symbol:d}}})},"esri/renderers/Renderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/jsonMap ../core/JSONSupport ../core/SetUtils ../core/accessorSupport/decorators ./support/AuthoringInfo".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g){var f=new h.default({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});return function(b){function d(a){a=b.call(this,a)||this;a.authoringInfo=null;a.type=null;return a}n(d,b);d.prototype.getRequiredFields=function(a){return l(this,void 0,void 0,function(){var b;return m(this,function(d){switch(d.label){case 0:if(!this.collectRequiredFields)return[2,[]];b=new Set;
                return[4,this.collectRequiredFields(b,a)];case 1:return d.sent(),[2,k.valuesOfSet(b).sort()]}})})};d.prototype.getSymbol=function(a,b){};d.prototype.getSymbolAsync=function(a,b){return l(this,void 0,void 0,function(){return m(this,function(a){return[2]})})};d.prototype.getSymbols=function(){return[]};d.prototype.getAttributeHash=function(){return JSON.stringify(this)};d.prototype.getMeshHash=function(){return JSON.stringify(this)};e([a.property({type:g,json:{write:!0}})],d.prototype,"authoringInfo",
                void 0);e([a.property({type:f.apiValues,readOnly:!0,json:{type:f.jsonValues,read:!1,write:{writer:f.write,ignoreOrigin:!0}}})],d.prototype,"type",void 0);return d=e([a.subclass("esri.renderers.Renderer")],d)}(a.declared(d.JSONSupport))})},"esri/renderers/support/AuthoringInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../tasks/support/colorRamps".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){var r=new m.default({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),q=new m.default({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),
                t="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");return function(b){function c(a){a=b.call(this,a)||this;a.colorRamp=null;a.lengthUnit=null;a.maxSliderValue=null;a.minSliderValue=null;a.visualVariables=null;return a}n(c,b);l=c;Object.defineProperty(c.prototype,"classificationMethod",{get:function(){var a=this._get("classificationMethod"),b=this.type;return b&&"relationship"!==b?"class-breaks-size"===b||"class-breaks-color"===
                b?a||"manual":null:a},set:function(a){this._set("classificationMethod",a)},enumerable:!0,configurable:!0});c.prototype.readColorRamp=function(a){if(a)return f.fromJSON(a)};Object.defineProperty(c.prototype,"fields",{get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(a){this._set("fields",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"field1",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},
                set:function(a){this._set("field1",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"field2",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(a){this._set("field2",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"focus",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(a){this._set("focus",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
                "numClasses",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(a){this._set("numClasses",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"standardDeviationInterval",{get:function(){var a=this.type;return a&&"relationship"!==a&&"class-breaks-size"!==a&&"class-breaks-color"!==a?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(a){this._set("standardDeviationInterval",
                    a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"type",{get:function(){return this._get("type")},set:function(a){var b=a;"classed-size"===a?b="class-breaks-size":"classed-color"===a&&(b="class-breaks-color");this._set("type",b)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new l({classificationMethod:this.classificationMethod,colorRamp:h.clone(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:h.clone(this.field1),field2:h.clone(this.field2),
                focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(function(a){return a.clone()})})};var l;e([d.property({type:r.apiValues,value:null,dependsOn:["type"],json:{type:r.jsonValues,read:r.read,write:r.write,origins:{"web-document":{default:"manual",type:r.jsonValues,read:r.read,write:r.write}}}})],
                c.prototype,"classificationMethod",null);e([d.property({types:f.types,json:{write:!0}})],c.prototype,"colorRamp",void 0);e([d.reader("colorRamp")],c.prototype,"readColorRamp",null);e([d.property({type:[String],value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"fields",null);e([d.property({type:a.default,value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"field1",null);e([d.property({type:a.default,value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"field2",null);e([d.property({type:["HH",
                    "HL","LH","LL"],value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"focus",null);e([d.property({type:Number,value:null,dependsOn:["type"],json:{type:k.Integer,write:!0}})],c.prototype,"numClasses",null);e([d.property({type:t,json:{type:t,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],c.prototype,"lengthUnit",void 0);e([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"maxSliderValue",void 0);e([d.property({type:Number,json:{write:!0,
                    origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"minSliderValue",void 0);e([d.property({type:[.25,.33,.5,1],value:null,dependsOn:["classificationMethod","type"],json:{type:[.25,.33,.5,1],write:!0}})],c.prototype,"standardDeviationInterval",null);e([d.property({type:String,value:null,json:{type:q.jsonValues,read:q.read,write:q.write,origins:{"web-scene":{type:q.jsonValues.filter(function(a){return"dotDensity"!==a}),read:q.read,write:q.write}}}})],c.prototype,"type",null);e([d.property({type:[g],
                json:{write:!0}})],c.prototype,"visualVariables",void 0);return c=l=e([d.subclass("esri.renderers.support.AuthoringInfo")],c)}(d.declared(l.JSONSupport))})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./AuthoringInfoClassBreakInfo".split(" "),function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});
            c=function(b){function a(a){a=b.call(this,a)||this;a.field="";a.normalizationField="";a.classBreakInfos=[];return a}n(a,b);c=a;a.prototype.clone=function(){return new c({field:this.field,normalizationField:this.normalizationField,classBreakInfos:l.clone(this.classBreakInfos)})};var c;e([h.property({type:String,json:{write:!0}})],a.prototype,"field",void 0);e([h.property({type:String,json:{write:!0}})],a.prototype,"normalizationField",void 0);e([h.property({type:[d.default],json:{write:!0}})],a.prototype,
                "classBreakInfos",void 0);return a=c=e([h.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a)}(h.declared(m.JSONSupport));b.AuthoringInfoFieldInfo=c;b.default=c})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(a){a=
            b.call(this,a)||this;a.minValue=0;a.maxValue=0;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({minValue:this.minValue,maxValue:this.maxValue})};var c;e([l.property({type:Number,json:{write:!0}})],d.prototype,"minValue",void 0);e([l.property({type:Number,json:{write:!0}})],d.prototype,"maxValue",void 0);return d=c=e([l.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],d)}(l.declared(m.JSONSupport));b.AuthoringInfoClassBreakInfo=c;b.default=c})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast".split(" "),
            function(c,b,n,e,m,l,h,d){var k=new m.default({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),a=new m.default({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),g={key:function(a){return"number"===typeof a?"number":"string"},typeMap:{number:Number,string:String},base:null},f=["high-to-low","above-and-below","centered-on","extremes"],r="seconds minutes hours days months years".split(" ");return function(b){function c(a){a=b.call(this,a)||this;
                a.endTime=null;a.field=null;a.maxSliderValue=null;a.minSliderValue=null;a.startTime=null;a.type=null;a.units=null;return a}n(c,b);l=c;c.prototype.castEndTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};c.prototype.castStartTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};Object.defineProperty(c.prototype,"style",{get:function(){return"color"===this.type?this._get("style"):null},set:function(a){this._set("style",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
                "theme",{get:function(){return"color"===this.type?this._get("theme")||"high-to-low":null},set:function(a){this._set("theme",a)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new l({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};var l;e([h.property({types:g,json:{write:!0}})],c.prototype,"endTime",void 0);e([d.cast("endTime")],
                c.prototype,"castEndTime",null);e([h.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);e([h.property({type:Number,json:{write:!0}})],c.prototype,"maxSliderValue",void 0);e([h.property({type:Number,json:{write:!0}})],c.prototype,"minSliderValue",void 0);e([h.property({types:g,json:{write:!0}})],c.prototype,"startTime",void 0);e([d.cast("startTime")],c.prototype,"castStartTime",null);e([h.property({type:k.apiValues,value:null,dependsOn:["type"],json:{type:k.jsonValues,read:k.read,
                    write:k.write}})],c.prototype,"style",null);e([h.property({type:f,value:null,dependsOn:["type"],json:{type:f,write:!0}})],c.prototype,"theme",null);e([h.property({type:a.apiValues,json:{type:a.jsonValues,read:a.read,write:a.write}})],c.prototype,"type",void 0);e([h.property({type:r,json:{type:r,write:!0}})],c.prototype,"units",void 0);return c=l=e([h.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],c)}(h.declared(l.JSONSupport))})},"esri/tasks/support/colorRamps":function(){define(["require",
            "exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});b.types={key:"type",base:e,typeMap:{algorithmic:n,multipart:m}};b.fromJSON=function(b){return b&&b.type?"algorithmic"===b.type?n.fromJSON(b):"multipart"===b.type?m.fromJSON(b):null:null}})},"esri/tasks/support/AlgorithmicColorRamp":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../Color ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ColorRamp".split(" "),
            function(c,b,n,e,m,l,h,d,k){return function(a){function b(b){b=a.call(this,b)||this;b.algorithm=null;b.fromColor=null;b.toColor=null;b.type="algorithmic";return b}e(b,a);c=b;b.prototype.clone=function(){return new c({fromColor:l.clone(this.fromColor),toColor:l.clone(this.toColor),algorithm:this.algorithm})};var c;n([h.enumeration.serializable()({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],b.prototype,"algorithm",void 0);n([h.property({type:m,json:{type:[d.Integer],
                    write:!0}})],b.prototype,"fromColor",void 0);n([h.property({type:m,json:{type:[d.Integer],write:!0}})],b.prototype,"toColor",void 0);n([h.property({type:["algorithmic"]})],b.prototype,"type",void 0);return b=c=n([h.subclass("esri.tasks.support.AlgorithmicColorRamp")],b)}(h.declared(k))})},"esri/tasks/support/ColorRamp":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l){return function(b){function d(d){d=b.call(this,d)||this;d.type=null;return d}n(d,b);e([l.property({readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=e([l.subclass("esri.tasks.support.ColorRamp")],d)}(l.declared(m.JSONSupport))})},"esri/tasks/support/MultipartColorRamp":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/lang ../../core/accessorSupport/decorators ./AlgorithmicColorRamp ./ColorRamp".split(" "),
            function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.colorRamps=null;a.type="multipart";return a}e(a,b);d=a;a.prototype.clone=function(){return new d({colorRamps:m.clone(this.colorRamps)})};var d;n([l.property({type:[h],json:{write:!0}})],a.prototype,"colorRamps",void 0);n([l.property({type:["multipart"]})],a.prototype,"type",void 0);return a=d=n([l.subclass("esri.tasks.support.MultipartColorRamp")],a)}(l.declared(d))})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q){Object.defineProperty(b,"__esModule",{value:!0});var t={base:r,key:"type",typeMap:{opacity:a,color:k,rotation:g,size:f}};b.VisualVariablesMixin=function(a){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._vvFactory=new q;return b}n(b,a);Object.defineProperty(b.prototype,"visualVariables",{set:function(a){this._vvFactory.visualVariables=a;this._set("visualVariables",this._vvFactory.visualVariables)},enumerable:!0,configurable:!0});
                b.prototype.readVisualVariables=function(a,b,d){return this._vvFactory.readVariables(a,b,d)};b.prototype.writeVisualVariables=function(a,b,d,c){b[d]=this._vvFactory.writeVariables(a,c)};Object.defineProperty(b.prototype,"arcadeRequiredForVisualVariables",{get:function(){if(!this.visualVariables)return!1;for(var a=0,b=this.visualVariables;a<b.length;a++)if(b[a].arcadeRequired)return!0;return!1},enumerable:!0,configurable:!0});b.prototype.hasVisualVariables=function(a,b){return a?!!this.getVisualVariablesForType(a,
                    b):!!(this.getVisualVariablesForType("size",b)||this.getVisualVariablesForType("color",b)||this.getVisualVariablesForType("opacity",b)||this.getVisualVariablesForType("rotation",b))};b.prototype.getVisualVariablesForType=function(a,b){var d=this.visualVariables;if(d&&(d=d.filter(function(d){return d.type===a&&("string"===typeof b?d.target===b:!1===b?!d.target:!0)}),!d||0!==d.length))return d};b.prototype.collectVVRequiredFields=function(a,b){return l(this,void 0,void 0,function(){var c,e,f,g;return m(this,
                    function(k){switch(k.label){case 0:c=[],this.visualVariables&&(c=c.concat(this.visualVariables)),e=0,f=c,k.label=1;case 1:if(!(e<f.length))return[3,4];g=f[e];if(!g)return[3,3];g.field&&d.collectField(a,b,g.field);g.normalizationField&&d.collectField(a,b,g.normalizationField);return g.valueExpression?[4,d.collectArcadeFieldNames(a,b,g.valueExpression)]:[3,3];case 2:k.sent(),k.label=3;case 3:return e++,[3,1];case 4:return[2]}})})};e([h.property({types:[t],value:null,json:{write:!0}})],b.prototype,"visualVariables",
                    null);e([h.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],b.prototype,"readVisualVariables",null);e([h.writer("visualVariables")],b.prototype,"writeVisualVariables",null);return b=e([h.subclass("esri.renderers.mixins.VisualVariablesMixin")],b)}(h.declared(a))}})},"esri/renderers/visualVariables/ColorVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./VisualVariable ./support/ColorStop".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.type="color";a.normalizationField=null;return a}n(d,b);a=d;Object.defineProperty(d.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",
                    a)},enumerable:!0,configurable:!0});d.prototype.clone=function(){return new a({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};d.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.normalizationField};d.prototype._interpolateData=function(){return this.stops&&
                this.stops.map(function(a){return a.value||0})};var a;e([m.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],d.prototype,"cache",null);e([m.property({type:["color"],json:{type:["colorInfo"]}})],d.prototype,"type",void 0);e([m.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0);e([m.property({type:[h],json:{write:!0}})],d.prototype,"stops",null);return d=a=e([m.subclass("esri.renderers.visualVariables.ColorVariable")],d)}(m.declared(l))})},"esri/renderers/visualVariables/VisualVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){var g=h.getLogger("esri.renderers.visualVariables.VisualVariable"),f=new m.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});return function(b){function c(a){a=b.call(this,a)||this;a.index=null;a.type=null;a.field=null;a.valueExpression=null;a.valueExpressionTitle=null;a.legendOptions=null;return a}n(c,b);c.prototype.castField=function(a){return null==a?a:"function"===typeof a?(g.error(".field: field must be a string value"),
                null):k.ensureString(a)};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return!!this.valueExpression},enumerable:!0,configurable:!0});c.prototype.clone=function(){};c.prototype.getAttributeHash=function(){return this.type+"-"+this.field+"-"+this.valueExpression};e([d.property()],c.prototype,"index",void 0);e([d.property({type:f.apiValues,readOnly:!0,json:{read:f.read,write:f.write}})],c.prototype,"type",void 0);e([d.property({type:String,json:{write:!0}})],c.prototype,"field",
                void 0);e([d.cast("field")],c.prototype,"castField",null);e([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);e([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);e([d.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"arcadeRequired",null);e([d.property({type:a,json:{write:!0}})],c.prototype,"legendOptions",void 0);return c=e([d.subclass("esri.renderers.visualVariables.VisualVariable")],c)}(d.declared(l.JSONSupport))})},
        "esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../support/LegendOptions".split(" "),function(c,b,n,e,m,l){return function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.showLegend=null;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({title:this.title,showLegend:this.showLegend})};var c;
            e([m.property({type:Boolean,json:{write:!0}})],d.prototype,"showLegend",void 0);return d=c=e([m.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],d)}(m.declared(l.default))})},"esri/renderers/support/LegendOptions":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});
            c=function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.title=null;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({title:this.title})};var c;e([l.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);return d=c=e([l.subclass("esri.renderers.support.LegendOptions")],d)}(l.declared(m.JSONSupport));b.LegendOptions=c;b.default=c})},"esri/renderers/visualVariables/OpacityVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./VisualVariable ./support/OpacityStop".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.type="opacity";a.normalizationField=null;return a}n(d,b);a=d;Object.defineProperty(d.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",
                    a)},enumerable:!0,configurable:!0});d.prototype.clone=function(){return new a({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};d.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.normalizationField};d.prototype._interpolateData=function(){return this.stops&&
                this.stops.map(function(a){return a.value||0})};var a;e([m.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],d.prototype,"cache",null);e([m.property({type:["opacity"],json:{type:["transparencyInfo"]}})],d.prototype,"type",void 0);e([m.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0);e([m.property({type:[h],json:{write:!0}})],d.prototype,"stops",null);return d=a=e([m.subclass("esri.renderers.visualVariables.OpacityVariable")],d)}(m.declared(l))})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../webdoc/support/opacityUtils".split(" "),
            function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.label=null;a.opacity=null;a.value=null;return a}n(a,b);c=a;a.prototype.readOpacity=function(a,b){return d.transparencyToOpacity(b.transparency)};a.prototype.writeOpacity=function(a,b,c){b[c]=d.opacityToTransparency(a)};a.prototype.clone=function(){return new c({label:this.label,opacity:this.opacity,value:this.value})};var c;e([l.property({type:String,json:{write:!0}})],a.prototype,"label",void 0);e([l.property({type:Number,
                json:{type:h.Integer,write:{target:"transparency"}}})],a.prototype,"opacity",void 0);e([l.reader("opacity",["transparency"])],a.prototype,"readOpacity",null);e([l.writer("opacity")],a.prototype,"writeOpacity",null);e([l.property({type:Number,json:{write:!0}})],a.prototype,"value",void 0);return a=c=e([l.subclass("esri.renderers.visualVariables.support.OpacityStop")],a)}(l.declared(m.JSONSupport))})},"esri/renderers/visualVariables/RotationVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Error ../../core/accessorSupport/decorators ./VisualVariable".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.axis=null;a.type="rotation";a.rotationType="geographic";a.valueExpressionTitle=null;return a}n(d,b);a=d;Object.defineProperty(d.prototype,"cache",{get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});d.prototype.writeValueExpressionTitleWebScene=function(a,b,d,c){c&&c.messages&&c.messages.push(new m("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",
                {instance:this,propertyName:"visualVariables["+this.index+"].valueExpressionTitle",context:c}))};d.prototype.clone=function(){return new a({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};var a;e([l.property({readOnly:!0,dependsOn:["valueExpression"]})],d.prototype,"cache",null);e([l.property({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",
                            write:!0}}}})],d.prototype,"axis",void 0);e([l.property({type:["rotation"],json:{type:["rotationInfo"]}})],d.prototype,"type",void 0);e([l.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],d.prototype,"rotationType",void 0);e([l.property({type:String,json:{write:!0}})],d.prototype,"valueExpressionTitle",void 0);e([l.writer("web-scene","valueExpressionTitle")],d.prototype,"writeValueExpressionTitleWebScene",null);return d=a=e([l.subclass("esri.renderers.visualVariables.RotationVariable")],
                d)}(l.declared(h))})},"esri/renderers/visualVariables/SizeVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 g,f,r,q,t){function u(a){if(null!=a){if("string"===typeof a||"number"===typeof a)return k.toPt(a);if("size"===a.type){if(q.isSizeVariable(a))return a;a=m({},a);delete a.type;return new y(a)}}}function p(a,b,d){if("object"!==typeof a)return a;b=new y;b.read(a,d);return b}var v=d.getLogger("esri.renderers.visualVariables.SizeVariable"),w=new h.default({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),z=new h.default({unknown:"unknown",inch:"inches",foot:"feet",
            yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"}),y=function(b){function d(a){a=b.call(this,a)||this;a.axis=null;a.legendOptions=null;a.normalizationField=null;a.scaleBy=null;a.target=null;a.type="size";a.useSymbolValue=null;a.valueExpression=null;a.valueRepresentation=null;a.valueUnit=null;return a}n(d,b);c=d;Object.defineProperty(d.prototype,
            "cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:t.viewScaleRE.test(this.valueExpression)}},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"expression",{set:function(a){v.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===a?(this.valueExpression="$view.scale",this._set("expression",a)):this._set("expression",
                null)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"index",{set:function(a){q.isSizeVariable(this.maxSize)&&(this.maxSize.index="visualVariables["+a+"].maxSize");q.isSizeVariable(this.minSize)&&(this.minSize.index="visualVariables["+a+"].minSize");this._set("index",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"inputValueType",{get:function(){return q.getInputValueType(this)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"maxDataValue",
            {set:function(a){a&&this.stops&&(v.warn("cannot set maxDataValue when stops is not null."),a=null);this._set("maxDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"maxSize",{set:function(a){a&&this.stops&&(v.warn("cannot set maxSize when stops is not null."),a=null);this._set("maxSize",a)},enumerable:!0,configurable:!0});d.prototype.castMaxSize=function(a){return u(a)};d.prototype.readMaxSize=function(a,b,d){return p(a,b,d)};Object.defineProperty(d.prototype,"minDataValue",
            {set:function(a){a&&this.stops&&(v.warn("cannot set minDataValue when stops is not null."),a=null);this._set("minDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"minSize",{set:function(a){a&&this.stops&&(v.warn("cannot set minSize when stops is not null."),a=null);this._set("minSize",a)},enumerable:!0,configurable:!0});d.prototype.castMinSize=function(a){return u(a)};d.prototype.readMinSize=function(a,b,d){return p(a,b,d)};Object.defineProperty(d.prototype,"arcadeRequired",
            {get:function(){return this.valueExpression?!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"stops",{set:function(a){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value})):a&&(v.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),
                a=null);this._set("stops",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"transformationType",{get:function(){return q.getTransformationType(this,this.inputValueType)},enumerable:!0,configurable:!0});d.prototype.readValueExpression=function(a,b){return a||b.expression&&"$view.scale"};d.prototype.writeValueExpressionWebScene=function(a,b,d,c){"$view.scale"===a?c&&c.messages&&(a=this.index,c.messages.push(new l("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",
            {instance:this,propertyName:("string"===typeof a?a:"visualVariables["+a+"]")+".valueExpression",context:c}))):b[d]=a};d.prototype.readValueUnit=function(a){return a?z.read(a):null};d.prototype.clone=function(){return new c({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:q.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:q.isSizeVariable(this.minSize)?
                this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(function(a){return a.clone()}),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};d.prototype.flipSizes=function(){if("clamped-linear"===this.transformationType){var a=this.minSize;this.minSize=this.maxSize;this.maxSize=a;return this}if("stops"===this.transformationType)for(var a=
            this.stops,b=a.map(function(a){return a.size}).reverse(),d=a.length,c=0;c<d;c++)a[c].size=b[c];return this};d.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.target+"-"+this.normalizationField};d.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||0})};var c;e([a.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],d.prototype,"cache",null);e([a.property({type:w.apiValues,json:{type:w.jsonValues,origins:{"web-map":{read:!1}},
                read:w.read,write:w.write}})],d.prototype,"axis",void 0);e([a.property({type:String,value:null,json:{read:!1}})],d.prototype,"expression",null);e([a.property()],d.prototype,"index",null);e([a.property({type:String,readOnly:!0,dependsOn:["field","valueExpression"]})],d.prototype,"inputValueType",null);e([a.property({type:r,json:{write:!0}})],d.prototype,"legendOptions",void 0);e([a.property({type:Number,value:null,json:{write:!0}})],d.prototype,"maxDataValue",null);e([a.property({type:Number,value:null,
            json:{write:!0}})],d.prototype,"maxSize",null);e([a.cast("maxSize")],d.prototype,"castMaxSize",null);e([a.reader("maxSize")],d.prototype,"readMaxSize",null);e([a.property({type:Number,value:null,json:{write:!0}})],d.prototype,"minDataValue",null);e([a.property({type:Number,value:null,json:{write:!0}})],d.prototype,"minSize",null);e([a.cast("minSize")],d.prototype,"castMinSize",null);e([a.reader("minSize")],d.prototype,"readMinSize",null);e([a.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",
            void 0);e([a.property({readOnly:!0,dependsOn:["valueExpression","minSize.arcadeRequired","maxSize.arcadeRequired"]})],d.prototype,"arcadeRequired",null);e([a.property({type:String})],d.prototype,"scaleBy",void 0);e([a.property({type:[f],value:null,json:{write:!0}})],d.prototype,"stops",null);e([a.property({type:["outline"],json:{write:!0}})],d.prototype,"target",void 0);e([a.property({type:String,readOnly:!0,dependsOn:"minDataValue maxDataValue minSize maxSize valueUnit inputValueType stops".split(" ")})],
            d.prototype,"transformationType",null);e([a.property({type:["size"],json:{type:["sizeInfo"]}})],d.prototype,"type",void 0);e([a.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],d.prototype,"useSymbolValue",void 0);e([a.property({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0);e([a.reader("valueExpression",["valueExpression","expression"])],d.prototype,"readValueExpression",null);e([a.writer("web-scene","valueExpression")],d.prototype,"writeValueExpressionWebScene",
            null);e([a.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],d.prototype,"valueRepresentation",void 0);e([a.property({type:z.apiValues,json:{write:z.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],d.prototype,"valueUnit",void 0);e([a.reader("valueUnit")],d.prototype,"readValueUnit",null);return d=c=e([a.subclass("esri.renderers.visualVariables.SizeVariable")],d)}(a.declared(g));return y})},"esri/renderers/visualVariables/support/SizeStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.label=null;a.size=null;a.value=null;return a}n(d,b);a=d;d.prototype.clone=function(){return new a({label:this.label,size:this.size,value:this.value})};var a;e([h.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);e([h.property({type:Number,cast:l.toPt,json:{write:!0}})],d.prototype,"size",void 0);e([h.property({type:Number,json:{write:!0}})],d.prototype,"value",void 0);return d=a=e([h.subclass("esri.renderers.visualVariables.support.SizeStop")],
                d)}(h.declared(m.JSONSupport))})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./VisualVariableLegendOptions".split(" "),function(c,b,n,e,m,l){return function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.customValues=null;return a}n(d,b);c=d;d.prototype.clone=function(){return new c({title:this.title,
            showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};var c;e([m.property({type:[Number],json:{write:!0}})],d.prototype,"customValues",void 0);return d=c=e([m.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],d)}(m.declared(l))})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["require","exports"],function(c,b){function n(b){return b.valueExpression?"expression":b.field&&"string"===typeof b.field?"field":
            "unknown"}Object.defineProperty(b,"__esModule",{value:!0});b.isSizeVariable=function(b){return b&&"esri.renderers.visualVariables.SizeVariable"===b.declaredClass};b.isValidNumber=function(b){return null!=b&&!isNaN(b)&&isFinite(b)};b.getInputValueType=n;b.getTransformationType=function(b,c){return"unknown"===(c||n(b))?"constant":b.stops?"stops":null!=b.minSize&&null!=b.maxSize&&null!=b.minDataValue&&null!=b.maxDataValue?"clamped-linear":"unknown"===(b.valueUnit||"unknown")?null!=b.minSize&&null!=b.minDataValue?
            b.minSize&&b.minDataValue?"proportional":"additive":"identity":"real-world-size"}})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("require exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/utils ./sizeVariableUtils".split(" "),function(c,b,n,e,m,l,h,d,k){function a(a,b,d){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"color"===a.type})[0]:a)if("esri.renderers.visualVariables.ColorVariable"!==
            a.declaredClass)w.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var c="number"===typeof b,e=c?null:b,f=e&&e.attributes,g=c?b:null,k=a.field,p=a.cache;b=p.ipData;var l=p.hasExpression,p=a.cache.compiledFunc;if(!k&&!l)return(d=a.stops)&&d[0]&&d[0].color;if("number"!==typeof g)if(l){if(!h.isSome(d)||!h.isSome(d.arcade)){w.error("Use of arcade expressions requires an arcade context");return}g=d.arcade.arcadeUtils;k=g.getViewInfo({viewingMode:d.viewingMode,
            scale:d.scale,spatialReference:d.spatialReference});e=g.createExecContext(e,k);p||(p=g.createSyntaxTree(a.valueExpression),p=g.createFunction(p),a.cache.compiledFunc=p);g=g.executeFunction(p,e)}else f&&(g=f[k]);e=a.normalizationField;f=f?parseFloat(f[e]):void 0;if(null!=g&&(!e||c||!isNaN(f)&&0!==f)&&(isNaN(f)||c||(g/=f),c=v(g,b)))return f=c[0],b=c[1],d=f===b?a.stops[f].color:n.blendColors(a.stops[f].color,a.stops[b].color,c[2],h.isSome(d)?d.color:void 0),new n(d)}}function g(a,b,d){if(a="visualVariables"in
        a&&a.visualVariables?a.visualVariables.filter(function(a){return"opacity"===a.type})[0]:a)if("esri.renderers.visualVariables.OpacityVariable"!==a.declaredClass)w.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var c="number"===typeof b,e=c?null:b,f=e&&e.attributes,g=c?b:null,k=a.field,p=a.cache;b=p.ipData;var l=p.hasExpression,p=a.cache.compiledFunc;if(!k&&!l)return(a=a.stops)&&a[0]&&a[0].opacity;if("number"!==typeof g)if(l){if(h.isNone(d)||
            h.isNone(d.arcade)){w.error("Use of arcade expressions requires an arcade context");return}g=d.arcade.arcadeUtils;d=g.getViewInfo({viewingMode:d.viewingMode,scale:d.scale,spatialReference:d.spatialReference});d=g.createExecContext(e,d);p||(e=g.createSyntaxTree(a.valueExpression),p=g.createFunction(e),a.cache.compiledFunc=p);g=g.executeFunction(p,d)}else f&&(g=f[k]);d=a.normalizationField;f=f?parseFloat(f[d]):void 0;if(null!=g&&(!d||c||!isNaN(f)&&0!==f)&&(isNaN(f)||c||(g/=f),c=v(g,b))){b=c[0];f=c[1];
            if(b===f)return a.stops[b].opacity;b=a.stops[b].opacity;return b+(a.stops[f].opacity-b)*c[2]}}}function f(a,b,d){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"rotation"===a.type})[0]:a)if("esri.renderers.visualVariables.RotationVariable"!==a.declaredClass)w.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");else{var c=a.axis||"heading",e="heading"===c&&"arithmetic"===a.rotationType?90:0,c="heading"===c&&"arithmetic"===
        a.rotationType?-1:1,f="number"===typeof b?null:b,g=f&&f.attributes,k=a.field,p=a.cache.hasExpression;b=a.cache.compiledFunc;var l=0;if(!k&&!p)return l;if(p){if(h.isNone(d)||h.isNone(d.arcade)){w.error("Use of arcade expressions requires an arcade context");return}g=d.arcade.arcadeUtils;d=g.getViewInfo({viewingMode:d.viewingMode,scale:d.scale,spatialReference:d.spatialReference});d=g.createExecContext(f,d);b||(b=g.createSyntaxTree(a.valueExpression),b=g.createFunction(b),a.cache.compiledFunc=b);l=
            g.executeFunction(b,d)}else g&&(l=g[k]||0);return l="number"!==typeof l||isNaN(l)?null:e+c*l}}function r(a,b,d){var c="number"===typeof b,e=c?null:b,f=e&&e.attributes,g=c?b:null;b=a.cache.compiledFunc;if(a.cache.isScaleDriven)e=h.isSome(d)?d.scale:void 0,d=h.isSome(d)?d.view:void 0,null==e||d&&"3d"===d.type?(e=d=null,(e=a.stops)?(d=e[0].value,e=e[e.length-1].value):(d=a.minDataValue||0,e=a.maxDataValue||0),d=(d+e)/2):d=e,g=d;else if(!c)switch(a.inputValueType){case "expression":if(h.isNone(d)||h.isNone(d.arcade)){w.error("Use of arcade expressions requires an arcade context");
            return}g=d.arcade.arcadeUtils;d=g.getViewInfo({viewingMode:d.viewingMode,scale:d.scale,spatialReference:d.spatialReference});d=g.createExecContext(e,d);b||(e=g.createSyntaxTree(a.valueExpression),b=g.createFunction(e),a.cache.compiledFunc=b);g=g.executeFunction(b,d);break;case "field":f&&(g=f[a.field]);break;case "unknown":g=null}if(!k.isValidNumber(g))return null;if(c||!a.normalizationField)return g;a=f?parseFloat(f[a.normalizationField]):null;return k.isValidNumber(a)&&0!==a?g/a:null}function q(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  b,d){if(a="visualVariables"in a&&a.visualVariables?a.visualVariables.filter(function(a){return"size"===a.type})[0]:a)if("esri.renderers.visualVariables.SizeVariable"!==a.declaredClass)w.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var c=r(a,b,d);b=p(c,a,b,d,a.cache.ipData);return null===b||void 0===b||isNaN(b)?0:b}}function t(a,b,d){return null==a?null:k.isSizeVariable(a)?q(a,b,d):k.isValidNumber(a)?a:null}function u(a,b,d){return k.isValidNumber(d)&&
        a>d?d:k.isValidNumber(b)&&a<b?b:a}function p(a,b,c,e,f){switch(b.transformationType){case "additive":return e=t(b.minSize,c,e),a+(e||b.minDataValue);case "constant":return a=(a=b.stops)&&a.length&&a[0].size,null==a&&(a=b.minSize),t(a,c,e);case "clamped-linear":f=(a-b.minDataValue)/(b.maxDataValue-b.minDataValue);var g=t(b.minSize,c,e);c=t(b.maxSize,c,e);e=h.isSome(e)?e.shape:void 0;a<=b.minDataValue?b=g:a>=b.maxDataValue?b=c:"area"===b.scaleBy&&e?(e=(b="circle"===e)?y*Math.pow(g/2,2):g*g,e+=f*((b?
            y*Math.pow(c/2,2):c*c)-e),b=b?2*Math.sqrt(e/y):Math.sqrt(e)):b=g+f*(c-g);return b;case "proportional":return f=h.isSome(e)?e.shape:void 0,a/=b.minDataValue,g=t(b.minSize,c,e),b=t(b.maxSize,c,e),e=null,e="circle"===f?2*Math.sqrt(a*Math.pow(g/2,2)):"square"===f||"diamond"===f||"image"===f?Math.sqrt(a*Math.pow(g,2)):a*g,u(e,g,b);case "stops":return f=v(a,f),g=f[0],a=f[1],f=f[2],g===a?b=t(b.stops[g].size,c,e):(g=t(b.stops[g].size,c,e),b=t(b.stops[a].size,c,e),b=g+(b-g)*f),b;case "real-world-size":return f=
            (h.isSome(e)&&e.resolution?e.resolution:1)*d.meterIn[b.valueUnit],g=t(b.minSize,c,e),e=t(b.maxSize,c,e),b=b.valueRepresentation,c=null,c="area"===b?2*Math.sqrt(a/y)/f:"radius"===b||"distance"===b?2*a/f:a/f,u(c,g,e);case "identity":return a;case "unknown":return null}}function v(a,b){if(b){var d=0,c=b.length-1;b.some(function(b,e){if(a<b)return c=e,!0;d=e;return!1});return[d,c,(a-b[d])/(b[c]-b[d])]}}Object.defineProperty(b,"__esModule",{value:!0});var w=l.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),
            z=new e,y=Math.PI;b.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;b.getColor=a;b.getOpacity=g;b.getRotationAngle=f;b.getSize=q;b.getSizeFromNumberOrVariable=t;b.getSizeForValue=p;b.getSizeRangeAtScale=function(a,b,d){var c=d&&"3d"===d.type;if(!(a.cache.isScaleDriven&&c||b))return null;d={scale:b,view:d};b=t(a.minSize,z,d);a=t(a.maxSize,z,d);if(null!=b||null!=a)return b>a&&(d=a,a=b,b=d),{minSize:b,maxSize:a}};b.getVisualVariableValues=function(b,d,c){if(b.visualVariables){var e=[],k=[],h=
            [],p=[],l=[],m=0;for(b=b.visualVariables;m<b.length;m++){var n=b[m];switch(n.type){case "color":k.push(n);break;case "opacity":h.push(n);break;case "rotation":l.push(n);break;case "size":p.push(n)}}k.forEach(function(b){var f=a(b,d,c);e.push({variable:b,value:f})});h.forEach(function(a){var b=g(a,d,c);e.push({variable:a,value:b})});l.forEach(function(a){var b=f(a,d,c);e.push({variable:a,value:b})});p.forEach(function(a){var b=q(a,d,c);e.push({variable:a,value:b})});return e.filter(function(a){return null!=
            a.value})}};b.getAllSizes=function(a,b,d){for(var c=["proportional","proportional","proportional"],e=0;e<a.length;e++){var f=a[e],g=f.useSymbolValue?"symbol-value":q(f,b,d);switch(f.axis){case "width":c[0]=g;break;case "depth":c[1]=g;break;case "height":c[2]=g;break;case "width-and-depth":c[0]=g;c[1]=g;break;case "all":case void 0:case null:c[0]=g;c[1]=g;c[2]=g;break;default:m.neverReached(f.axis)}}return c}})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q){c=function(b){function c(a,d,c,e){a=b.call(this,a,d,c,e)||this;a.layer=null;a.popupTemplate=null;a.sourceLayer=null;Object.defineProperty(a,"uid",{value:k.generateUID()});return a}e(c,b);k=c;c.prototype.normalizeCtorArgs=function(a,b,d,c){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:d,popupTemplate:c}};Object.defineProperty(c.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",
                    b,a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"geometry",{set:function(a){var b=this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"visible",{set:function(a){var b=this._get("visible");b!==
                a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});c.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&g.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};c.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};c.prototype.setAttribute=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      b){var d;this.attributes?(d=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",d,b,a)):(this.attributes=(d={},d[a]=b,d),this._notifyLayer("attributes",void 0,b,a))};c.prototype.getObjectId=function(){return this.sourceLayer?this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};c.prototype.toJSON=function(){return{geometry:g.isSome(this.geometry)?this.geometry.toJSON():null,symbol:g.isSome(this.symbol)?this.symbol.toJSON():null,attributes:n({},
                    this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};c.prototype.clone=function(){return new k(this.cloneProperties())};c.prototype.cloneProperties=function(){return{attributes:a.clone(this.attributes),geometry:a.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:a.clone(this.symbol),visible:this.visible}};c.prototype._notifyLayer=function(a,b,d,c){this.layer&&this.layer.graphicChanged&&
            (b={graphic:this,property:a,oldValue:b,newValue:d},"attributes"===a&&(b.attributeName=c),this.layer.graphicChanged(b))};var k;m([f.property({value:null})],c.prototype,"attributes",null);m([f.property({value:null,types:l.geometryTypes,json:{read:r.fromJSON}})],c.prototype,"geometry",null);m([f.property()],c.prototype,"layer",void 0);m([f.property({type:h})],c.prototype,"popupTemplate",void 0);m([f.property()],c.prototype,"sourceLayer",void 0);m([f.property({value:null,types:d.symbolTypes,json:{read:q.read}})],
                c.prototype,"symbol",null);m([f.property({type:Boolean,value:!0})],c.prototype,"visible",null);return c=k=m([f.subclass("esri.Graphic")],c)}(f.declared(k.JSONSupport));var t=0;(function(a){a.generateUID=function(){return t++}})(c||(c={}));return c})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r){var q=h.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),t={color:a,size:r,opacity:g,rotation:f},u=new l.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),p=/^\[([^\]]+)\]$/i;return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.colorVariables=null;b.opacityVariables=null;b.rotationVariables=null;b.sizeVariables=null;return b}n(b,a);Object.defineProperty(b.prototype,"visualVariables",
                {set:function(a){this._resetVariables();if((a=a&&a.filter(function(a){return!!a}))&&a.length){for(var b=0,d=a;b<d.length;b++){var c=d[b];switch(c.type){case "color":this.colorVariables.push(c);break;case "opacity":this.opacityVariables.push(c);break;case "rotation":this.rotationVariables.push(c);break;case "size":this.sizeVariables.push(c)}}this.sizeVariables.length&&this.sizeVariables.some(function(a){return!!a.target})&&a.sort(function(a,b){var d=null;return d=a.target===b.target?0:a.target?1:-1});
                        for(b=0;b<a.length;b++)c=a[b],c.index=b}this._set("visualVariables",a)},enumerable:!0,configurable:!0});b.prototype.readVariables=function(a,b,c){var e=b.rotationExpression;b=b.rotationType;if(e=(e=e&&e.match(p))&&e[1])a||(a=[]),a.push({type:"rotationInfo",rotationType:b,field:e});if(a)return a.map(function(a){var b=u.read(a.type),e=t[b];e||(q.warn("Unknown variable type: "+b),c&&c.messages&&c.messages.push(new d("visual-variable:unsupported","visualVariable of type '"+b+"' is not supported",{definition:a,
                context:c})));b=new e;b.read(a,c);return b})};b.prototype.writeVariables=function(a,b){for(var d=[],c=0;c<a.length;c++){var e=a[c].toJSON(b);e&&d.push(e)}return d};b.prototype._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};e([k.property()],b.prototype,"visualVariables",null);return b=e([k.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)}(k.declared(m))})},"esri/renderers/support/ClassBreakInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.description=null;a.label=null;a.minValue=null;a.maxValue=0;a.symbol=null;return a}n(a,b);c=a;a.prototype.clone=function(){return new c({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};a.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol);return this.minValue+"."+this.maxValue+"."+a};var c;e([h.property({type:String,
                json:{write:!0}})],a.prototype,"description",void 0);e([h.property({type:String,json:{write:!0}})],a.prototype,"label",void 0);e([h.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],a.prototype,"minValue",void 0);e([h.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],a.prototype,"maxValue",void 0);e([h.property({types:m.symbolTypesRenderer,json:{origins:{"web-scene":{types:m.symbolTypesRenderer3D,read:d.read,write:d.writeTarget}},
                    read:d.read,write:d.writeTarget}})],a.prototype,"symbol",void 0);return a=c=e([h.subclass("esri.renderers.support.ClassBreakInfo")],a)}(h.declared(l.JSONSupport))})},"esri/renderers/DictionaryRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../request ../core/Error ../core/lang ../core/Logger ../core/LRUCache ../core/maybe ../core/promiseUtils ../core/SetUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ../support/arcadeOnDemand ../symbols/CIMSymbol".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A){var x=f.getLogger("esri.renderers.DictionaryRenderer");return function(b){function c(a){a=b.call(this,a)||this;a._ongoingRequests=new Map;a._symbolCache=new r(100);a.config=null;a.description=null;a.fieldMap=null;a.label=null;a.scaleExpression=null;a.url=null;a.type="dictionary";return a}n(c,b);f=c;c.prototype.clone=function(){return new f({config:g.clone(this.config),scaleExpression:g.clone(this.scaleExpression),description:g.clone(this.description),
                fieldMap:g.clone(this.fieldMap),label:g.clone(this.label),url:g.clone(this.url),visualVariables:g.clone(this.visualVariables)})};c.prototype.getSymbolAsync=function(a,b){return h(this,void 0,void 0,function(){var c,e,f,g,k,h,p,m,q,n,u,r,v,w,z,y,x,A,B,D,C,E,G,aa,Y,Z,ha=this;return l(this,function(l){switch(l.label){case 0:this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(b)),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this._dictionaryPromise];case 2:return c=l.sent(),[3,4];
                case 3:return e=l.sent(),t.isAbortError(e)?(this._dictionaryPromise=null,[2,null]):[3,4];case 4:f={};g=0;for(k=this._symbolAttributes;g<k.length;g++)h=k[g],(p=this.fieldMap[h])&&null!==a.attributes[p]&&void 0!==a.attributes[p]?(m=""+a.attributes[p],f[h]=m):f[h]="";q=c(f,b);if(!q||"string"!==typeof q)return[2,null];n=q.split(";");u=[];r=[];v=0;for(w=n;v<w.length;v++)if((z=w[v])&&0!==z.length)if(-1!==z.indexOf("po:"))y=z.substr(3).split("|"),3===y.length&&(x=y[0],A=y[1],B=y[2],"DashTemplate"===A?B=
                    B.split(" ").map(function(a){return Number(a)}):"Color"===A?(D=(new d(B)).toRgba(),B=[D[0],D[1],D[2],255*D[3]]):B=Number(B),r.push({primitiveName:x,propertyName:A,value:B}));else if(-1!==z.indexOf("|"))for(C=0,E=z.split("|");C<E.length;C++)G=E[C],this._itemNames.has(G)&&u.push(G);else this._itemNames.has(z)&&u.push(z);aa=u.join(";")+r.map(function(a){return a.primitiveName+";"+a.propertyName+";"+a.value});if(Y=this._symbolCache.get(aa))return Y.catch(function(){ha._symbolCache.pop(aa)}),[2,Y];Z=this._cimPartsToCIMSymbol(u,
                    r,b);this._symbolCache.put(aa,Z,1);return[2,Z]}})})};c.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){var d,c;return l(this,function(e){switch(e.label){case 0:return[4,this.collectVVRequiredFields(a,b)];case 1:return e.sent(),this.scaleExpression?[4,v.collectArcadeFieldNames(a,b,this.scaleExpression)]:[3,3];case 2:e.sent(),e.label=3;case 3:d=b.map(function(a){return a.name});for(c in this.fieldMap)0>d.indexOf(this.fieldMap[c])||a.add(this.fieldMap[c]);return[2]}})})};
                Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return!0},enumerable:!0,configurable:!0});c.prototype.fetchResources=function(b){return h(this,void 0,void 0,function(){var d,c,e,f,g,h,p,n,r,v,w,z,A,B,D,E,C;return l(this,function(l){switch(l.label){case 0:if(!this.url)return x.error("no valid URL!"),[2,void 0];d=q.isSome(b)?b.abortOptions:null;c=k(this.url+"/resources/styles/dictionary-info.json",m({responseType:"json",query:{f:"json"}},d));return[4,t.all([c,y.loadArcade()])];case 1:e=
                    l.sent()[0].data;if(!e)throw new a("esri.renderers.DictionaryRenderer","Bad dictionary data!");f=e.expression;g=e.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+e.cimRefTemplateUrl;this._itemNames=u.createSetFromValues(e.itemsNames);this._symbolAttributes=g.symbol;h={};if(this.config)for(n in p=this.config,p)h[n]=p[n];r=0;for(v=g.configuration;r<v.length;r++)n=v[r],h.hasOwnProperty(n.name)||(h[n.name]=n.value);w=[];if(q.isSome(b)&&b.fields)for(z=function(a){var d=A.fieldMap[a],c=b.fields.filter(function(a){return a.name===
                    d});0<c.length&&w.push(m({},c[0],{name:a}))},A=this,B=0,D=this._symbolAttributes;B<D.length;B++)n=D[B],z(n);return[4,y.createDictionaryExpression(f,q.isSome(b)?b.spatialReference:null,w,h)];case 2:return E=l.sent(),C={scale:0},[2,function(a,b){a=E.repurposeFeature({geometry:null,attributes:a});C.scale=q.isSome(b)?b.scale:void 0;return E.evaluate({$feature:a,$view:C})}]}})})};c.prototype.getSymbol=function(){return null};c.prototype.getSymbols=function(){return[]};c.prototype.getAttributeHash=function(){return this.visualVariables&&
                    this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){return this.url+"-"+JSON.stringify(this.fieldMap)};c.prototype._getSymbolPart=function(a,b){return h(this,void 0,void 0,function(){var d,c,e,f;return l(this,function(g){switch(g.label){case 0:if(this._ongoingRequests.has(a))return[2,this._ongoingRequests.get(a).then(function(a){return a.data})];d=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,a);c=k(d,m({responseType:"json",query:{f:"json"}},
                    b));this._ongoingRequests.set(a,c);g.label=1;case 1:return g.trys.push([1,3,,4]),[4,c];case 2:return e=g.sent(),[2,e.data];case 3:return f=g.sent(),this._ongoingRequests.delete(a),[2,t.reject(f)];case 4:return[2]}})})};c.prototype._combineSymbolParts=function(a,b){var d;if(!a||0===a.length)return null;if(1===a.length)return{type:"CIMSymbolReference",symbol:a[0],primitiveOverrides:b};var c=m({},a[0]);c.symbolLayers=[];for(var e=0;e<a.length;e++){var f=a[e];(d=c.symbolLayers).unshift.apply(d,f.symbolLayers)}return{type:"CIMSymbolReference",
                    symbol:c,primitiveOverrides:b}};c.prototype._cimPartsToCIMSymbol=function(a,b,d){return h(this,void 0,void 0,function(){var c,e,f;return l(this,function(g){switch(g.label){case 0:c=Array(a.length);for(e=0;e<a.length;e++)c[e]=this._getSymbolPart(a[e],d);return[4,t.all(c)];case 1:return f=g.sent(),[2,new A({data:this._combineSymbolParts(f,b)})]}})})};var f;e([p.property({type:Object,json:{write:!0}})],c.prototype,"config",void 0);e([p.property({type:String,json:{write:!0}})],c.prototype,"description",
                    void 0);e([p.property({type:Object,json:{write:!0}})],c.prototype,"fieldMap",void 0);e([p.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);e([p.property({type:String,json:{write:!0}})],c.prototype,"scaleExpression",void 0);e([p.property({type:String,json:{write:!0}})],c.prototype,"url",void 0);return c=f=e([p.subclass("esri.renderers.DictionaryRenderer")],c)}(p.declared(z.VisualVariablesMixin(w)))})},"esri/core/LRUCache":function(){define(["require","exports","./MemCache"],function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b,n){return function(){function b(b,c){this._storage=new n.MemCacheStorage;this._storage.maxSize=b;c&&this._storage.registerRemoveFunc("",c)}b.prototype.put=function(b,c,e){this._storage.put(b,c,e,1)};b.prototype.pop=function(b){return this._storage.pop(b)};b.prototype.get=function(b){return this._storage.get(b)};b.prototype.clear=function(){this._storage.clearAll()};b.prototype.destroy=function(){this._storage.clearAll()};Object.defineProperty(b.prototype,"maxSize",{get:function(){return this._storage.maxSize},
            set:function(b){this._storage.maxSize=b},enumerable:!0,configurable:!0});return b}()})},"esri/core/MemCache":function(){define(["require","exports","./MapUtils","./PooledArray","./string"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});b.MIN_PRIORITY=-3;c=function(){function b(b,d,c){this._namespace=b;this._storage=d;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";c&&(this._storage.registerRemoveFunc(this._namespace,c),this._removeFunc=
            !0)}Object.defineProperty(b.prototype,"namespace",{get:function(){return this._namespace.slice(0,-1)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hitRate",{get:function(){return this._hit/(this._hit+this._miss)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"size",{get:function(){return this._storage.size},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"maxSize",{get:function(){return this._storage.maxSize},enumerable:!0,configurable:!0});
            b.prototype.resetHitRate=function(){this._hit=this._miss=0};b.prototype.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this)};b.prototype.put=function(b,d,c,a){void 0===a&&(a=0);this._storage.put(this._namespace+b,d,c,a)};b.prototype.get=function(b){b=this._storage.get(this._namespace+b);void 0===b?++this._miss:++this._hit;return b};b.prototype.pop=function(b){b=this._storage.pop(this._namespace+
                b);void 0===b?++this._miss:++this._hit;return b};b.prototype.updateSize=function(b,d,c){this._storage.updateSize(this._namespace+b,d,c)};b.prototype.clear=function(){this._storage.clear(this._namespace)};b.prototype.clearAll=function(){this._storage.clearAll()};b.prototype.getStats=function(){return this._storage.getStats()};b.prototype.resetStats=function(){this._storage.resetStats()};return b}();b.MemCache=c;c=function(){function c(b){void 0===b&&(b=10485760);this._maxSize=b;this._db=new Map;this._miss=
            this._hit=this._size=0;this._removeFuncs=[];this._users=new e}c.prototype.register=function(b){this._users.push(b)};c.prototype.deregister=function(b){this._users.removeUnordered(b)};c.prototype.registerRemoveFunc=function(b,d){this._removeFuncs.push([b,d])};c.prototype.deregisterRemoveFunc=function(b){this._removeFuncs=this._removeFuncs.filter(function(d){return d[0]!==b})};Object.defineProperty(c.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
            "maxSize",{get:function(){return this._maxSize},set:function(b){this._maxSize=Math.max(b,0);this._checkSizeLimit()},enumerable:!0,configurable:!0});c.prototype.put=function(c,d,e,a){var g=this._db.get(c);g&&(this._size-=g.size,this._db.delete(c),g.entry!==d&&this._notifyRemoved(c,g.entry));e>this._maxSize?this._notifyRemoved(c,d):void 0===d?console.warn("Refusing to cache undefined entry "):!e||0>e?console.warn("Refusing to cache entry with invalid size "+e):(a=1+Math.max(a,b.MIN_PRIORITY)-b.MIN_PRIORITY,
            this._db.set(c,{entry:d,size:e,lifetime:a,lives:a}),this._size+=e,this._checkSizeLimit())};c.prototype.updateSize=function(b,d,c){var a=this._db.get(b);a&&a.entry===d&&(this._size-=a.size,c>this._maxSize?this._notifyRemoved(b,d):(a.size=c,this._size+=c,this._checkSizeLimit()))};c.prototype.pop=function(b){var d=this._db.get(b);if(d)return this._size-=d.size,this._db.delete(b),++this._hit,d.entry;++this._miss};c.prototype.get=function(b){var d=this._db.get(b);if(void 0===d)++this._miss;else return this._db.delete(b),
            d.lives=d.lifetime,this._db.set(b,d),++this._hit,d.entry};c.prototype.getStats=function(){var c=this,d={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},a=[];this._db.forEach(function(b,d){var f=b.lifetime;a[f]=(a[f]||0)+b.size;c._users.forEach(function(a){a=a.namespace;m.startsWith(d,a)&&(e[a]=(e[a]||0)+b.size)})});var g={};this._users.forEach(function(a){var b=a.namespace;!isNaN(a.hitRate)&&
        0<a.hitRate?(e[b]=e[b]||0,g[b]=Math.round(100*a.hitRate)+"%"):g[b]="0%"});var f=Object.keys(e);f.forEach(function(a){return e[a]=e[a]/c._size*100});f.sort(function(a,b){return e[b]-e[a]});f.forEach(function(a){return d[a]=Math.round(e[a])+"% / "+g[a]});for(f=a.length-1;0<=f;--f){var l=a[f];l&&(d["Priority "+(f+b.MIN_PRIORITY-1)]=Math.round(l/this.size*100)+"%")}return d};c.prototype.resetStats=function(){this._hit=this._miss=0;this._users.forEach(function(b){return b.resetHitRate()})};c.prototype.clear=
            function(b){var d=this;this._db.forEach(function(c,a){m.startsWith(a,b)&&(d._size-=c.size,d._db.delete(a),d._notifyRemoved(a,c.entry))})};c.prototype.clearAll=function(){var b=this;this._db.forEach(function(d,c){b._notifyRemoved(c,d.entry)});this._size=0;this._db.clear()};c.prototype._getHitRate=function(){return this._hit/(this._hit+this._miss)};c.prototype._notifyRemoved=function(b,d){this._removeFuncs.forEach(function(c){if(m.startsWith(b,c[0]))c[1](d)})};c.prototype._checkSizeLimit=function(){var b=
            this;this._size<=this._maxSize||n.someMap(this._db,function(d,c){b._db.delete(c);1>=d.lives?(b._size-=d.size,b._notifyRemoved(c,d.entry)):(--d.lives,b._db.set(c,d));return b._size<=.9*b.maxSize})};return c}();b.MemCacheStorage=c})},"esri/core/MapUtils":function(){define(["require","exports","@dojo/framework/shim/array"],function(c,b,n){function e(b){if(0===b.size)throw Error("Map is empty");return b.keys().next().value}function m(b){if(0===b.size)throw Error("Map is empty");var a,d=!1;b.forEach(function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         c){d||(a=c,d=!0)});return a}function l(b){if(0===b.size)throw Error("Map is empty");return b.values().next().value}function h(b){if(0===b.size)throw Error("Map is empty");var a,d=!1;b.forEach(function(b){d||(a=b,d=!0)});return a}Object.defineProperty(b,"__esModule",{value:!0});b.someMap=Map.prototype.entries?function(b,a){b=b.entries();for(var d=b.next();!d.done;d=b.next())if(a(d.value[1],d.value[0]))return!0;return!1}:function(b,a){var d=!0;b.forEach(function(b,c){d&&(d=!a(b,c))});return!d};c=!!Map.prototype.values;
            var d=!!Map.prototype.keys;b.pairsOfMap=function(b){var a=[];b.forEach(function(b,d){return a.push([d,b])});return a};b.valuesOfMap=c?function(b){return n.from(b.values())}:function(b){var a=Array(b.size),d=0;b.forEach(function(b){return a[d++]=b});return a};b.keysOfMap=d?function(b){return n.from(b.keys())}:function(b){var a=Array(b.size),d=0;b.forEach(function(b,c){return a[d++]=c});return a};b.MapFromValues=c?function(b){return new Map(b)}:function(b){for(var a=new Map,d=0;d<b.length;d++){var c=
                b[d];a.set(c[0],c[1])}return a};b.firstKeyOfMap=d?e:m;b.firstValueOfMap=c?l:h;b.test={firstKeyOfMapFallback:m,firstValueOfMapFallback:h}})},"esri/renderers/DotDensityRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/lang ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p){return function(b){function c(a){a=b.call(this,a)||this;a.attributes=null;a.backgroundColor=new d([0,0,0,0]);a.blendDots=!0;a.dotBlendingEnabled=!0;a.dotShape="square";a.dotSize=1;a.legendOptions=null;a.outline=new p;a.dotValue=null;a.referenceDotValue=null;a.referenceScale=null;a.seed=1;a.type="dot-density";return a}n(c,b);f=c;c.prototype.calculateDotValue=function(a){if(null==this.referenceScale)return this.dotValue;a=a/this.referenceScale*this.dotValue;
                return 1>a?1:a};c.prototype.getSymbol=function(){return new u({outline:this.outline})};c.prototype.getSymbolAsync=function(){return h(this,void 0,void 0,function(){return l(this,function(a){return[2,this.getSymbol()]})})};c.prototype.getSymbols=function(){return[this.getSymbol()]};c.prototype.getAttributeHash=function(){return this.attributes&&this.attributes.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){return JSON.stringify(this.outline)};c.prototype.clone=
                function(){return new f({attributes:k.clone(this.attributes),backgroundColor:k.clone(this.backgroundColor),dotBlendingEnabled:k.clone(this.dotBlendingEnabled),dotShape:k.clone(this.dotShape),dotSize:k.clone(this.dotSize),dotValue:k.clone(this.dotValue),legendOptions:k.clone(this.legendOptions),outline:k.clone(this.outline),referenceScale:k.clone(this.referenceScale),visualVariables:k.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};c.prototype.getControllerHash=
                function(){var a=this.attributes.map(function(a){return a.field||a.valueExpression||""}),b=this.outline&&JSON.stringify(this.outline.toJSON())||"";return a+"-"+b};c.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){var d,c,e;return l(this,function(f){switch(f.label){case 0:return[4,this.collectVVRequiredFields(a,b)];case 1:f.sent(),d=0,c=this.attributes,f.label=2;case 2:if(!(d<c.length))return[3,6];e=c[d];return e.valueExpression?[4,g.collectArcadeFieldNames(a,b,
                e.valueExpression)]:[3,4];case 3:f.sent(),f.label=4;case 4:e.field&&a.add(e.field),f.label=5;case 5:return d++,[3,2];case 6:return[2]}})})};var f;e([a.property({type:[q],json:{write:!0}})],c.prototype,"attributes",void 0);e([a.property({type:d,json:{write:!0}})],c.prototype,"backgroundColor",void 0);e([a.property({type:Boolean}),a.aliasOf("dotBlendingEnabled")],c.prototype,"blendDots",void 0);e([a.property({type:Boolean,json:{write:!0}})],c.prototype,"dotBlendingEnabled",void 0);e([a.property({type:String,
                json:{write:!0}})],c.prototype,"dotShape",void 0);e([a.property({type:Number,json:{write:!0}})],c.prototype,"dotSize",void 0);e([a.property({type:t,json:{write:!0}})],c.prototype,"legendOptions",void 0);e([a.property({type:p,json:{default:null,write:!0}})],c.prototype,"outline",void 0);e([a.property({type:Number,json:{write:!0}})],c.prototype,"dotValue",void 0);e([a.property({type:Number}),a.aliasOf("dotValue")],c.prototype,"referenceDotValue",void 0);e([a.property({type:Number,json:{write:!0}})],
                c.prototype,"referenceScale",void 0);e([a.property({type:Number,json:{write:!0}})],c.prototype,"seed",void 0);e([a.enumeration.serializable()({dotDensity:"dot-density"})],c.prototype,"type",void 0);return c=f=e([a.subclass("esri.renderers.DotDensityRenderer")],c)}(a.declared(r.VisualVariablesMixin(f)))})},"esri/renderers/support/AttributeColorInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),
            function(c,b,n,e,m,l,h,d,k){var a=h.getLogger("esri.renderers.support.AttributeColorInfo");return function(b){function c(a){a=b.call(this,a)||this;a.color=null;a.field=null;a.label=null;a.valueExpression=null;a.valueExpressionTitle=null;return a}n(c,b);g=c;c.prototype.castField=function(b){return null==b?b:"function"===typeof b?(a.error(".field: field must be a string value"),null):k.ensureString(b)};c.prototype.getAttributeHash=function(){return this.field+"-"+this.valueExpression};c.prototype.clone=
                function(){return new g({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};var g;e([d.property({type:m,json:{type:[Number],write:!0}})],c.prototype,"color",void 0);e([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);e([d.cast("field")],c.prototype,"castField",null);e([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);e([d.property({type:String,json:{write:!0}})],
                c.prototype,"valueExpression",void 0);e([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);return c=g=e([d.subclass("esri.renderers.support.AttributeColorInfo")],c)}(d.declared(l.JSONSupport))})},"esri/renderers/support/DotDensityLegendOptions":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){return function(b){function d(){var a=
            null!==b&&b.apply(this,arguments)||this;a.unit=null;return a}e(d,b);c=d;d.prototype.clone=function(){return new c({unit:this.unit})};var c;n([l.property({type:String,json:{write:!0}})],d.prototype,"unit",void 0);return d=c=n([l.subclass("esri.renderers.support.DotDensityLegendOptions")],d)}(l.declared(m.JSONSupport))})},"esri/renderers/HeatmapRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/lang ../core/accessorSupport/decorators ../layers/support/fieldUtils ./Renderer ./support/HeatmapColorStop".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){return function(b){function c(a){a=b.call(this,a)||this;a.blurRadius=10;a.colorStops=[new f.HeatmapColorStop({ratio:0,color:new h("rgba(255, 140, 0, 0)")}),new f.HeatmapColorStop({ratio:.75,color:new h("rgba(255, 140, 0, 1)")}),new f.HeatmapColorStop({ratio:.9,color:new h("rgba(255, 0,   0, 1)")})];a.field=null;a.fieldOffset=0;a.maxPixelIntensity=100;a.minPixelIntensity=0;a.type="heatmap";return a}n(c,b);g=c;c.prototype.collectRequiredFields=function(b,d){return l(this,
                void 0,void 0,function(){var c;return m(this,function(e){(c=this.field)&&"string"===typeof c&&a.collectField(b,d,c);return[2]})})};c.prototype.getAttributeHash=function(){return null};c.prototype.getMeshHash=function(){return JSON.stringify(this.colorStops)+"."+this.blurRadius};c.prototype.clone=function(){return new g({blurRadius:this.blurRadius,colorStops:d.clone(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})};var g;e([k.property({type:Number,
                json:{write:!0}})],c.prototype,"blurRadius",void 0);e([k.property({type:[f.HeatmapColorStop],json:{write:!0}})],c.prototype,"colorStops",void 0);e([k.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);e([k.property({type:Number,json:{write:{overridePolicy:function(a,b,d){return{enabled:null==d}}}}})],c.prototype,"fieldOffset",void 0);e([k.property({type:Number,json:{write:!0}})],c.prototype,"maxPixelIntensity",void 0);e([k.property({type:Number,json:{write:!0}})],c.prototype,"minPixelIntensity",
                void 0);e([k.enumeration.serializable()({heatmap:"heatmap"})],c.prototype,"type",void 0);return c=g=e([k.subclass("esri.renderers.HeatmapRenderer")],c)}(k.declared(g))})},"esri/renderers/support/HeatmapColorStop":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(a){a=
            b.call(this,a)||this;a.color=null;a.ratio=null;return a}n(d,b);a=d;d.prototype.clone=function(){return new a({color:this.color,ratio:this.ratio})};var a;e([h.property({type:m,json:{write:!0}})],d.prototype,"color",void 0);e([h.property({type:Number,json:{write:!0}})],d.prototype,"ratio",void 0);return d=a=e([h.subclass("esri.renderers.support.HeatmapColorStop")],d)}(h.declared(l.JSONSupport));b.HeatmapColorStop=c;b.default=c})},"esri/renderers/SimpleRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../symbols ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ./Renderer ./mixins/VisualVariablesMixin ../symbols/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r){return function(b){function c(a){a=b.call(this,a)||this;a.description=null;a.label=null;a.symbol=null;a.type="simple";return a}n(c,b);f=c;c.prototype.writeSymbolWebScene=function(a,b,d,c){r.writeTarget(a,b,d,c)};c.prototype.writeSymbol=function(a,b,d,c){r.writeTarget(a,b,d,c)};c.prototype.readSymbol=function(a,b,d){return r.read(a,b,d)};c.prototype.collectRequiredFields=function(a,b){return l(this,void 0,void 0,function(){return m(this,function(d){switch(d.label){case 0:return[4,
                k.all([this.collectSymbolFields(a,b),this.collectVVRequiredFields(a,b)])];case 1:return d.sent(),[2]}})})};c.prototype.collectSymbolFields=function(a,b){return l(this,void 0,void 0,function(){return m(this,function(d){switch(d.label){case 0:return[4,k.all(this.getSymbols().map(function(d){return d.collectRequiredFields(a,b)}))];case 1:return d.sent(),[2]}})})};c.prototype.getSymbol=function(a,b){return this.symbol};c.prototype.getSymbolAsync=function(a,b){return l(this,void 0,void 0,function(){return m(this,
                function(a){return[2,this.symbol]})})};c.prototype.getSymbols=function(){return this.symbol?[this.symbol]:[]};c.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){return this.getSymbols().reduce(function(a,b){return a+=JSON.stringify(b)},"")};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables},enumerable:!0,configurable:!0});
                c.prototype.clone=function(){return new f({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:d.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};var f;e([a.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);e([a.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);e([a.property({types:h.symbolTypesRenderer})],c.prototype,"symbol",void 0);e([a.writer("web-scene","symbol",
                    {symbol:{types:h.symbolTypesRenderer3D}})],c.prototype,"writeSymbolWebScene",null);e([a.writer("symbol")],c.prototype,"writeSymbol",null);e([a.reader("symbol")],c.prototype,"readSymbol",null);e([a.enumeration.serializable()({simple:"simple"})],c.prototype,"type",void 0);return c=f=e([a.subclass("esri.renderers.SimpleRenderer")],c)}(a.declared(f.VisualVariablesMixin(g)))})},"esri/renderers/UniqueValueRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../symbols ../symbols ../core/arrayUtils ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../symbols/support/jsonUtils ../symbols/support/styleUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B,D,E,C,G,H){var F=q.getLogger("esri.renderers.UniqueValueRenderer"),I=z.ensureType(E);return function(b){function c(a){a=b.call(this,a)||this;a._valueInfoMap={};a._isDefaultSymbolDerived=!1;a.type="unique-value";a.backgroundFillSymbol=null;a.field=null;a.field2=null;a.field3=null;a.valueExpression=null;a.valueExpressionTitle=null;a.legendOptions=null;a.defaultLabel=null;a.fieldDelimiter=null;a.portal=null;a.styleOrigin=null;a.diff={uniqueValueInfos:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  b){if(a||b){if(!a||!b)return{type:"complete",oldValue:a,newValue:b};for(var d=!1,c={type:"collection",added:[],removed:[],changed:[],unchanged:[]},e=function(e){var f=g.find(a,function(a){return a.value===b[e].value});f?w.diff(f,b[e])?(c.changed.push({type:"complete",oldValue:f,newValue:b[e]}),d=!0):c.unchanged.push({oldValue:f,newValue:b[e]}):(c.added.push(b[e]),d=!0)},f=0;f<b.length;f++)e(f);e=function(e){g.find(b,function(b){return b.value===a[e].value})||(c.removed.push(a[e]),d=!0)};for(f=0;f<
                a.length;f++)e(f);return d?c:void 0}}};a._set("uniqueValueInfos",[]);return a}n(c,b);m=c;Object.defineProperty(c.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});c.prototype.writeBackgroundFillSymbolWebScene=function(a,b,d,c){G.writeTarget(a,b,d,c)};c.prototype.castField=function(a){return null==a||"function"===typeof a?a:z.ensureString(a)};c.prototype.writeField=function(a,b,d,c){"string"===typeof a?b[d]=a:c&&c.messages?c.messages.push(new f("property:unsupported",
                "UniqueValueRenderer.field set to a function cannot be written to JSON")):F.error(".field: cannot write field to JSON since it's not a string value")};Object.defineProperty(c.prototype,"defaultSymbol",{set:function(a){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",a)},enumerable:!0,configurable:!0});c.prototype.readDefaultSymbol=function(a,b,d){return G.read(a,b,d)};c.prototype.writeDefaultSymbolWebScene=function(a,b,d,c){this._isDefaultSymbolDerived||G.writeTarget(a,b,d,c)};c.prototype.writeDefaultSymbol=
                function(a,b,d,c){this._isDefaultSymbolDerived||G.writeTarget(a,b,d,c)};c.prototype.readPortal=function(a,b,d){return d.portal||A.getDefault()};c.prototype.readStyleOrigin=function(a,b,d){if(b.styleName)return Object.freeze({styleName:b.styleName});if(b.styleUrl)return a=p.fromJSON(b.styleUrl,d),Object.freeze({styleUrl:a})};c.prototype.writeStyleOrigin=function(a,b,d,c){a.styleName?b.styleName=a.styleName:a.styleUrl&&(b.styleUrl=p.toJSON(a.styleUrl,c))};Object.defineProperty(c.prototype,"uniqueValueInfos",
                {set:function(a){this.styleOrigin?F.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",a),this._updateValueInfoMap())},enumerable:!0,configurable:!0});c.prototype.addUniqueValueInfo=function(b,d){this.styleOrigin?F.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(b="object"===typeof b?I(b):new E({value:b,symbol:a.ensureType(d)}),this.uniqueValueInfos.push(b),
                this._valueInfoMap[b.value]=b)};c.prototype.removeUniqueValueInfo=function(a){if(this.styleOrigin)F.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var b=0;b<this.uniqueValueInfos.length;b++)if(this.uniqueValueInfos[b].value===a+""){delete this._valueInfoMap[a];this.uniqueValueInfos.splice(b,1);break}};c.prototype.getUniqueValueInfo=function(a,b){return h(this,void 0,void 0,function(){var c,e,f;return l(this,function(g){switch(g.label){case 0:c=
                b;if(!this.valueExpression||!t.isNone(b)&&!t.isNone(b.arcade))return[3,2];e=[{},c];f={};return[4,C.loadArcade()];case 1:c=d.apply(void 0,e.concat([(f.arcade=g.sent(),f)])),g.label=2;case 2:return[2,this._getUniqueValueInfo(a,c)]}})})};c.prototype.getSymbol=function(a,b){if(this.valueExpression&&(t.isNone(b)||t.isNone(b.arcade)))F.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(a=this._getUniqueValueInfo(a,b))&&a.symbol||this.defaultSymbol};c.prototype.getSymbolAsync=
                function(a,b){return h(this,void 0,void 0,function(){var c,e,f,g;return l(this,function(k){switch(k.label){case 0:c=b;if(!this.valueExpression||!t.isNone(c)&&!t.isNone(c.arcade))return[3,2];e=[{},c];f={};return[4,C.loadArcade()];case 1:c=d.apply(void 0,e.concat([(f.arcade=k.sent(),f)])),k.label=2;case 2:return g=this._getUniqueValueInfo(a,c),[2,g&&g.symbol||this.defaultSymbol]}})})};c.prototype.getSymbols=function(){for(var a=[],b=0,d=this.uniqueValueInfos;b<d.length;b++){var c=d[b];c.symbol&&a.push(c.symbol)}this.defaultSymbol&&
            a.push(this.defaultSymbol);return a};c.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),d=this.uniqueValueInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+d+"."+(this.field+"."+this.field2+"."+this.field3+"."+this.fieldDelimiter)+"."+this.valueExpression};c.prototype.clone=
                function(){var a=new m({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:r.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:r.clone(this.visualVariables),legendOptions:r.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:r.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&
                (a._isDefaultSymbolDerived=!0);a._set("portal",this.portal);var b=r.clone(this.uniqueValueInfos);this.styleOrigin&&(a._set("styleOrigin",Object.freeze(r.clone(this.styleOrigin))),Object.freeze(b));a._set("uniqueValueInfos",b);a._updateValueInfoMap();return a};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!0,configurable:!0});c.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,
                function(){var d;return l(this,function(c){switch(c.label){case 0:return d=[this.collectVVRequiredFields(a,b),this.collectSymbolFields(a,b)],[4,u.all(d)];case 1:return c.sent(),[2]}})})};c.prototype.collectSymbolFields=function(a,b){return h(this,void 0,void 0,function(){var d;return l(this,function(c){switch(c.label){case 0:return d=this.getSymbols().map(function(d){return d.collectRequiredFields(a,b)}).concat([y.collectArcadeFieldNames(a,b,this.valueExpression)]),y.collectField(a,b,this.field),
                y.collectField(a,b,this.field2),y.collectField(a,b,this.field3),[4,u.all(d)];case 1:return c.sent(),[2]}})})};c.prototype.populateFromStyle=function(){var a=this;return H.fetchStyle(this.styleOrigin,{portal:this.portal}).then(function(b){var d=[];a._valueInfoMap={};b&&b.data&&Array.isArray(b.data.items)&&b.data.items.forEach(function(c){var e=new k.WebStyleSymbol({styleUrl:b.styleUrl,styleName:b.styleName,portal:a.portal,name:c.name});a.defaultSymbol||c.name!==b.data.defaultItem||(a.defaultSymbol=
                e,a._isDefaultSymbolDerived=!0);e=new E({value:c.name,symbol:e});d.push(e);a._valueInfoMap[c.name]=e});a._set("uniqueValueInfos",Object.freeze(d));!a.defaultSymbol&&a.uniqueValueInfos.length&&(a.defaultSymbol=a.uniqueValueInfos[0].symbol,a._isDefaultSymbolDerived=!0);return a})};c.prototype._updateValueInfoMap=function(){var a=this;this._valueInfoMap={};this.uniqueValueInfos.forEach(function(b){return a._valueInfoMap[b.value+""]=b})};c.prototype._getUniqueValueInfo=function(a,b){return this.valueExpression?
                this._getUnqiueValueInfoForExpression(a,b):this._getUnqiueValueInfoForFields(a)};c.prototype._getUnqiueValueInfoForExpression=function(a,b){var d=t.unwrapOr(b,{});b=d.viewingMode;var c=d.scale,e=d.spatialReference,f=this._cache.compiledFunc,d=t.expect(d.arcade).arcadeUtils;f||(f=d.createSyntaxTree(this.valueExpression),f=d.createFunction(f),this._cache.compiledFunc=f);a=d.executeFunction(f,d.createExecContext(a,d.getViewInfo({viewingMode:b,scale:c,spatialReference:e})));return this._valueInfoMap[a+
            ""]};c.prototype._getUnqiueValueInfoForFields=function(a){var b=this.field,d=a.attributes,c;if("function"!==typeof b&&this.field2){a=this.field2;c=this.field3;var e=[];b&&e.push(d[b]);a&&e.push(d[a]);c&&e.push(d[c]);c=e.join(this.fieldDelimiter||"")}else"function"===typeof b?c=b(a):b&&(c=d[b]);return this._valueInfoMap[c+""]};c.fromPortalStyle=function(a,b){var d=new m(b&&b.properties);d._set("styleOrigin",Object.freeze({styleName:a}));d._set("portal",b&&b.portal||A.getDefault());b=d.populateFromStyle();
                b.catch(function(b){F.error("#fromPortalStyle('"+a+"'[, ...])","Failed to create unique value renderer from style name",b)});return b};c.fromStyleUrl=function(a,b){b=new m(b&&b.properties);b._set("styleOrigin",Object.freeze({styleUrl:a}));b=b.populateFromStyle();b.catch(function(b){F.error("#fromStyleUrl('"+a+"'[, ...])","Failed to create unique value renderer from style URL",b)});return b};var m;e([v.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"_cache",null);e([v.enumeration.serializable()({uniqueValue:"unique-value"})],
                c.prototype,"type",void 0);e([v.property({types:{base:k.BaseSymbol,key:"type",typeMap:{"simple-fill":a.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":a.symbolTypesRenderer.typeMap["picture-fill"],"polygon-3d":a.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{read:G.read,write:G.writeTarget}})],c.prototype,"backgroundFillSymbol",void 0);e([v.writer("web-scene","backgroundFillSymbol",{backgroundFillSymbol:{type:k.PolygonSymbol3D}})],c.prototype,"writeBackgroundFillSymbolWebScene",null);
                e([v.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],c.prototype,"field",void 0);e([v.cast("field")],c.prototype,"castField",null);e([v.writer("field")],c.prototype,"writeField",null);e([v.property({type:String,json:{write:!0}})],c.prototype,"field2",void 0);e([v.property({type:String,json:{write:!0}})],c.prototype,"field3",void 0);e([v.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);e([v.property({type:String,json:{write:!0}})],c.prototype,
                    "valueExpressionTitle",void 0);e([v.property({type:D.default,json:{write:!0}})],c.prototype,"legendOptions",void 0);e([v.property({type:String,json:{write:!0}})],c.prototype,"defaultLabel",void 0);e([v.property({types:a.symbolTypesRenderer})],c.prototype,"defaultSymbol",null);e([v.reader("defaultSymbol")],c.prototype,"readDefaultSymbol",null);e([v.writer("web-scene","defaultSymbol",{defaultSymbol:{types:a.symbolTypesRenderer3D}})],c.prototype,"writeDefaultSymbolWebScene",null);e([v.writer("defaultSymbol")],
                    c.prototype,"writeDefaultSymbol",null);e([v.property({type:String,json:{write:!0}})],c.prototype,"fieldDelimiter",void 0);e([v.property({type:A,readOnly:!0})],c.prototype,"portal",void 0);e([v.reader("portal",["styleName"])],c.prototype,"readPortal",null);e([v.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],c.prototype,"styleOrigin",void 0);e([v.reader("styleOrigin",["styleName","styleUrl"])],c.prototype,"readStyleOrigin",null);e([v.writer("styleOrigin",
                    {styleName:{type:String},styleUrl:{type:String}})],c.prototype,"writeStyleOrigin",null);e([v.property({type:[E],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],c.prototype,"uniqueValueInfos",null);return c=m=e([v.subclass("esri.renderers.UniqueValueRenderer")],c)}(v.declared(B.VisualVariablesMixin(x)))})},"esri/core/accessorSupport/diffUtils":function(){define("require exports ../Accessor ../Collection ../maybe ./utils".split(" "),function(c,b,n,e,m,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               l){function h(a){return a instanceof e?Object.keys(a.items):a instanceof n?l.getProperties(a).keys():a?Object.keys(a):[]}function d(a,b){return a instanceof e?a.items[b]:a[b]}function k(a,b){return Array.isArray(a)&&Array.isArray(b)?a.length!==b.length:!1}function a(a){return a?a.declaredClass:null}function g(b,c){var e,f=b.diff;if(f&&"function"===typeof f)return f(b,c);var l=h(b),q=h(c);if(0!==l.length||0!==q.length){if(!l.length||!q.length||k(b,c))return{type:"complete",oldValue:b,newValue:c};var t=
            q.filter(function(a){return-1===l.indexOf(a)}),y=l.filter(function(a){return-1===q.indexOf(a)}),t=l.filter(function(a){return-1<q.indexOf(a)&&d(b,a)!==d(c,a)}).concat(t,y).sort();if((y=a(b))&&-1<r.indexOf(y)&&t.length)return{type:"complete",oldValue:b,newValue:c};for(var A,y=b instanceof n&&c instanceof n,x=0;x<t.length;x++){var B=t[x],D=d(b,B),E=d(c,B),C=void 0;!(y||"function"!==typeof D&&"function"!==typeof E)||D===E||null==D&&null==E||(C=f&&f[B]&&"function"===typeof f[B]?f[B](D,E):"object"===typeof D&&
        "object"===typeof E&&a(D)===a(E)?g(D,E):{type:"complete",oldValue:D,newValue:E},m.isSome(C)&&(m.isSome(A)?A.diff[B]=C:A={type:"partial",diff:(e={},e[B]=C,e)}))}return A}}function f(a){if(m.isNone(a))return!0;switch(a.type){case "complete":return!1;case "collection":for(var b=0,d=a.added;b<d.length;b++){var c=d[b];if(!f(c))return!1}b=0;for(d=a.removed;b<d.length;b++)if(c=d[b],!f(c))return!1;b=0;for(a=a.changed;b<a.length;b++)if(c=a[b],!f(c))return!1;return!0;case "partial":for(b in a.diff)if(c=a.diff[b],
            !f(c))return!1;return!0}}Object.defineProperty(b,"__esModule",{value:!0});var r=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];b.diff=function(b,d){if("function"!==typeof b&&"function"!==typeof d&&(b||d))return!b||!d||"object"===typeof b&&"object"===typeof d&&a(b)!==a(d)?{type:"complete",oldValue:b,newValue:d}:g(b,d)};b.isEmpty=f})},"esri/renderers/support/UniqueValueInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d){return function(b){function a(a){a=b.call(this,a)||this;a.description=null;a.label=null;a.symbol=null;a.value=null;return a}n(a,b);c=a;a.prototype.clone=function(){return new c({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};a.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol&&this.symbol.toJSON());return this.value+"."+a};var c;e([h.property({type:String,json:{write:!0}})],a.prototype,"description",
                void 0);e([h.property({type:String,json:{write:!0}})],a.prototype,"label",void 0);e([h.property({types:m.symbolTypesRenderer,json:{origins:{"web-scene":{types:m.symbolTypesRenderer3D,read:d.read,write:d.writeTarget}},read:d.read,write:d.writeTarget}})],a.prototype,"symbol",void 0);e([h.property({type:String,json:{write:!0}})],a.prototype,"value",void 0);return a=c=e([h.subclass("esri.renderers.support.UniqueValueInfo")],a)}(h.declared(l.JSONSupport))})},"esri/symbols/support/styleUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../symbols ../../core/devEnvironmentUtils ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags ./jsonUtils ./StyleOrigin ./Thumbnail".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t){function u(a,b){return B(a,b).then(function(b){return{data:b.data,baseUrl:k.removeFile(a),styleUrl:a}})}function p(b,d,c){d=d.portal||a.getDefault();var e,f=d.url+" - "+(d.user&&d.user.username)+" - "+b;D[f]||(D[f]=v(b,d,c).then(function(a){e=a;return a.fetchData()}).then(function(a){return{data:a,baseUrl:e.itemUrl,styleName:b}}));return D[f]}function v(a,b,d){return b.load(d).then(function(){var c=new g({disableExtraQuery:!0,query:"owner:"+E+" AND type:"+C+
                    ' AND typekeywords:"'+a+'"'});return b.queryItems(c,d)}).then(function(b){b=b.results;var c=null,e=a.toLowerCase();if(b&&Array.isArray(b))for(var f=0;f<b.length;f++){var g=b[f];if(g.typeKeywords.some(function(a){return a.toLowerCase()===e})&&g.type===C&&g.owner===E){c=g;break}}if(!c)throw new h("symbolstyleutils:style-not-found","The style '"+a+"' could not be found",{styleName:a});return c.load(d)})}function w(a,b,c){return a.styleUrl?u(a.styleUrl,c):a.styleName?p(a.styleName,b,c):d.reject(new h("symbolstyleutils:style-url-and-name-missing",
                "Either styleUrl or styleName is required to resolve a style"))}function z(a,b,c,e,f){for(var g=a.data,p={portal:c.portal,url:k.urlToObject(a.baseUrl),origin:"portal-item"},n=function(d){if(d.name!==b)return"continue";var g=k.fromJSON(A(d,e),p),h=d.thumbnail&&d.thumbnail.href,n=d.thumbnail&&d.thumbnail.imageData;l.isDevEnvironment()&&(g=l.adjustStaticAGOUrl(g),h=l.adjustStaticAGOUrl(h));var u={portal:c.portal,url:k.urlToObject(k.removeFile(g)),origin:"portal-item"};return{value:B(g,f).then(function(d){d=
                    "cimRef"===e?y(d.data):d.data;if((d=r.fromJSON(d,u))&&m.isSymbol3D(d)){if(h){var f=k.fromJSON(h,p);d.thumbnail=new t.default({url:f})}else n&&(d.thumbnail=new t.default({url:"data:image/png;base64,"+n}));a.styleUrl?d.styleOrigin=new q({portal:c.portal,styleUrl:a.styleUrl,name:b}):a.styleName&&(d.styleOrigin=new q({portal:c.portal,styleName:a.styleName,name:b}))}return d})}},u=0,g=g.items;u<g.length;u++){var v=n(g[u]);if("object"===typeof v)return v.value}return d.reject(new h("symbolstyleutils:symbol-name-not-found",
                "The symbol name '"+b+"' could not be found",{symbolName:b}))}function y(a){return null===a||"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}}function A(a,b){if("cimRef"===b)return a.cimRef;if(a.formatInfos&&!f.enableWebStyleForceWOSR()){b=0;for(var d=a.formatInfos;b<d.length;b++){var c=d[b];if("gltf"===c.type)return c.href}}return a.webRef}function x(a,b,d){var c=G.replace(/\{SymbolName\}/gi,a.name);return B(c,d).then(function(a){a=y(a.data);return r.fromJSON(a,{portal:b.portal,
                url:k.urlToObject(k.removeFile(c)),origin:"portal-item"})})}function B(a,b){b=n({responseType:"json",query:{f:"json"}},b);return e(k.normalize(a),b)}Object.defineProperty(b,"__esModule",{value:!0});var D={};b.fetchStyle=w;b.resolveWebStyleSymbol=function(a,b,c,e){return a.name?a.styleName&&"Esri2DPointSymbolsStyle"===a.styleName?x(a,b,e):w(a,b,e).then(function(d){return z(d,a.name,b,c,e)}):d.reject(new h("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))};
                b.fetchSymbolFromStyle=z;b.styleNameFromItem=function(a){var b=0;for(a=a.typeKeywords;b<a.length;b++){var d=a[b];if(/^Esri.*Style$/.test(d)&&"Esri Style"!==d)return d}};var E="esri_en",C="Style",G="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson"})},"esri/core/devEnvironmentUtils":function(){define(["require","exports","./global"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.isDevEnvironment=
            function(b){b=b||n.location.hostname;return d.some(function(a){return null!=b.match(a)})};b.adjustStaticAGOUrl=function(b,a){if(!b)return b;a=a||n.location.hostname;return null!=a.match(e)||null!=a.match(l)?b.replace("static.arcgis.com","staticdev.arcgis.com"):null!=a.match(m)||null!=a.match(h)?b.replace("static.arcgis.com","staticqa.arcgis.com"):b};b.isTelemetryDevEnvironment=function(b){b=b||n.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(d).some(function(a){return null!=b.match(a)})};
            var e=/^devext.arcgis.com$/,m=/^qaext.arcgis.com$/,l=/^[\w-]*\.mapsdevext.arcgis.com$/,h=/^[\w-]*\.mapsqa.arcgis.com$/,d=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,e,m,/^jsapps.esri.com$/,l,h]})},"esri/support/featureFlags":function(){define(["require","exports","../core/has"],function(c,b,n){function e(b,c){return!!n("enable-feature:"+b+"/"+c)}Object.defineProperty(b,"__esModule",{value:!0});b.hasEnableFeature=e;b.enableWebStyleForceWOSR=function(){return e("jschmid","force-wosr")}})},"esri/renderers/support/jsonUtils":function(){define("require exports ../../core/compilerUtils ../../core/Error ../../core/object ../../core/Warning ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f){function r(a,b,d){if(!a)return null;if(a&&(a.styleName||a.styleUrl)&&"uniqueValue"!==a.type)return d&&d.messages&&d.messages.push(new l("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+a.type+"'",{definition:a,context:d})),null;b=a?u[a.type]||null:null;if(b)return b=new b,b.read(a,d),b;d&&d.messages&&a&&d.messages.push(new l("renderer:unsupported","Renderers of type '"+(a.type||"unknown")+"' are not supported",{definition:a,
                context:d}));return null}function q(a,b){if(!b||"web-scene"!==b.origin)return!0;switch(a.type){case "simple":case "unique-value":case "class-breaks":return!0;case "heatmap":case "dictionary":case "dot-density":return!1;default:return n.neverReached(a),!1}}function t(a,b,d){return a?q(a,d)?a.write(b,d):(d.messages&&d.messages.push(new e("renderer:unsupported","Renderer of type '"+a.declaredClass+"' are not supported in scenes.",{renderer:a,context:d})),null):null}Object.defineProperty(b,"__esModule",
                {value:!0});var u={simple:g,uniqueValue:f,classBreaks:h,heatmap:a,dotDensity:k,dictionary:d};b.read=r;b.writeTarget=function(a,b,d,c){(a=t(a,{},c))&&m.setDeepValue(d,a,b)};b.write=t;b.fromJSON=function(a,b){return r(a,null,b)}})},"esri/core/MultiOriginJSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./accessorSupport/decorators ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g){function f(b){return a.getProperties(b).store}Object.defineProperty(b,"__esModule",{value:!0});b.MultiOriginJSONMixin=function(b){return function(b){function c(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];var d=b.apply(this,d)||this,e=a.getProperties(d),c=e.metadatas,f=e.store,g=new h.default;e.store=g;f.keys().forEach(function(a){g.set(a,f.get(a),0)});Object.keys(c).forEach(function(a){e.internalGet(a)&&g.set(a,e.internalGet(a),0)});return d}n(c,b);
                c.prototype.clear=function(a,b){void 0===b&&(b="user");return f(this).delete(a,d.nameToId(b))};c.prototype.read=function(a,b){k.default(this,a,b)};c.prototype.write=function(a,b){a=a||{};g.default(this,a,b);return a};c.prototype.getAtOrigin=function(a,b){var c=f(this),e=d.nameToId(b);if("string"===typeof a)return c.get(a,e);var g={};a.forEach(function(a){g[a]=c.get(a,e)});return g};c.prototype.originOf=function(a){return d.idToName(this.originIdOf(a))};c.prototype.originIdOf=function(a){return f(this).originOf(a)};
                c.prototype.revert=function(b,c){var e=f(this),g=d.nameToId(c),h=a.getProperties(this);("string"===typeof b?"*"===b?e.keys(g):[b]:b).forEach(function(a){h.propertyInvalidated(a);e.revert(a,g);h.propertyCommitted(a)})};c.prototype.removeOrigin=function(a){var b=f(this);a=d.nameToId(a);for(var c=0,e=b.keys(a);c<e.length;c++){var g=e[c];b.originOf(g)===a&&b.set(g,b.get(g,a),6)}};c.prototype.updateOrigin=function(a,b){var c=f(this);b=d.nameToId(b);var e=this.get(a);c.delete(a);c.set(a,e,b)};return c=
                    e([l.subclass("esri.core.MultiOriginJSONSupport")],c)}(l.declared(b))};c=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=e([l.subclass("esri.core.MultiOriginJSONSupport")],b)}(l.declared(b.MultiOriginJSONMixin(m)));b.MultiOriginJSONSupport=c;b.isMultiOriginJSONMixin=function(a){return a&&"getAtOrigin"in a&&"originOf"in a}})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["require","exports","../arrayUtils","../lang"],function(c,b,n,e){Object.defineProperty(b,
            "__esModule",{value:!0});c=function(){function b(){this._propertyOriginMap=new Map;this._originStores=Array(7);this._values=new Map}b.prototype.clone=function(c){for(var h=new b,d=function(a){var b=k._originStores[a];b&&b.forEach(function(b,d){c&&c.has(d)||h.set(d,e.clone(b),a)})},k=this,a=2;7>a;a++)d(a);return h};b.prototype.get=function(b,c){return(c=void 0===c?this._values:this._originStores[c])?c.get(b):void 0};b.prototype.keys=function(b){return(b=null==b?this._values:this._originStores[b])?
            n.keysOfMap(b):[]};b.prototype.set=function(b,c,d){void 0===d&&(d=6);var e=this._originStores[d];e||(e=new Map,this._originStores[d]=e);e.set(b,c);return!this._values.has(b)||this._propertyOriginMap.get(b)<=d?(e=this._values.get(b),this._values.set(b,c),this._propertyOriginMap.set(b,d),e!==c):!1};b.prototype.delete=function(b,c){void 0===c&&(c=6);var d=this._originStores[c];if(d){var e=d.get(b);d.delete(b);if(this._values.has(b)&&this._propertyOriginMap.get(b)===c)for(this._values.delete(b),--c;0<=
        c;c--)if((d=this._originStores[c])&&d.has(b)){this._values.set(b,d.get(b));this._propertyOriginMap.set(b,c);break}return e}};b.prototype.has=function(b,c){return(c=void 0===c?this._values:this._originStores[c])?c.has(b):!1};b.prototype.revert=function(b,c){for(;0<c&&!this.has(b,c);)--c;var d=this._originStores[c],d=d&&d.get(b),e=this._values.get(b);this._values.set(b,d);this._propertyOriginMap.set(b,c);return e!==d};b.prototype.originOf=function(b){return this._propertyOriginMap.get(b)||0};b.prototype.forEach=
            function(b){this._values.forEach(b)};return b}();b.default=c})},"esri/geometry/HeightModelInfo":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h,d,k,a,g){function f(b,d){return new a("height-unit:unsupported","Height unit of value '"+b+"' is not supported",
            d)}function r(b,d){return new a("height-model:unsupported","Height model of value '"+b+"' is not supported",d)}var q=h.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),t=q.jsonValues.slice();l.removeUnordered(t,"orthometric");var u=h.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet",
            "sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});return function(a){function b(b){b=a.call(this,b)||this;b.heightModel="gravity-related-height";b.heightUnit="meters";b.vertCRS=null;return b}e(b,a);d=b;b.prototype.writeHeightModel=function(a,b,d){return q.write(a,
            b,d)};b.prototype.readHeightModel=function(a,b,d){if(b=q.read(a))return b;d&&d.messages&&d.messages.push(r(a,{context:d}));return null};b.prototype.readHeightUnit=function(a,b,d){if(b=u.read(a))return b;d&&d.messages&&d.messages.push(f(a,{context:d}));return null};b.prototype.readHeightUnitService=function(a,b,d){if(b=k.unitFromRESTJSON(a)||u.read(a))return b;d&&d.messages&&d.messages.push(f(a,{context:d}));return null};b.prototype.readVertCRS=function(a,b){return b.vertCRS||b.ellipsoid||b.geoid};
            b.prototype.clone=function(){return new d({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};b.prototype.equals=function(a){return a?this===a?!0:this.heightModel===a.heightModel&&this.heightUnit===a.heightUnit&&this.vertCRS===a.vertCRS:!1};b.deriveUnitFromSR=function(a,b){b=k.getVerticalUnitStringForSR(b);return new d({heightModel:a.heightModel,heightUnit:b,vertCRS:a.vertCRS})};b.prototype.write=function(a,b){b=n({origin:"web-scene"},b);return this.inherited(arguments,
                [a,b])};b.fromJSON=function(a){if(!a)return null;var b=new d;b.read(a,{origin:"web-scene"});return b};var d;m([g.property({type:q.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:t,default:"ellipsoidal"}}}})],b.prototype,"heightModel",void 0);m([g.writer("web-scene","heightModel")],b.prototype,"writeHeightModel",null);m([g.reader(["web-scene","service"],"heightModel")],b.prototype,"readHeightModel",null);m([g.property({type:u.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:u.jsonValues,
                            write:u.write}}}})],b.prototype,"heightUnit",void 0);m([g.reader("web-scene","heightUnit")],b.prototype,"readHeightUnit",null);m([g.reader("service","heightUnit")],b.prototype,"readHeightUnitService",null);m([g.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"vertCRS",void 0);m([g.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],b.prototype,"readVertCRS",null);return b=d=m([g.subclass("esri.geometry.HeightModelInfo")],b)}(g.declared(d.JSONSupport))})},
        "esri/layers/graphics/sources/MemorySource":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/tsSupport/assignHelper ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/awaiterHelper ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/maybe ../../../core/Promise ../../../core/promiseUtils ../../../core/workers ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../tasks/operations/zscale ../../../tasks/support/FeatureSet".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A){Object.defineProperty(b,"__esModule",{value:!0});var x=0,B=q.getLogger("esri.layers.graphics.sources.MemorySource");c=function(a){function b(b){b=a.call(this,b)||this;b._idToClientGraphic=null;b.type="memory";return b}n(b,a);b.prototype.load=function(a){a=t.isSome(a)?a.signal:null;this.addResolvingPromise(this._startWorker(a));return p.resolve(this)};Object.defineProperty(b.prototype,"workerGeometryType",{get:function(){var a=this.layer&&this.layer.geometryType;
                    return a?this._geometryTypeRequiresClientGraphicMapping(a)?"polygon":a:null},enumerable:!0,configurable:!0});b.prototype.applyEdits=function(a){var b=this;return this.load().then(function(){return b._applyEdits(a)})};b.prototype.openPorts=function(){var a=this;return this.load().then(function(){return a._connection.openPorts()})};b.prototype.queryFeatures=function(a,b){void 0===b&&(b={});return h(this,void 0,void 0,function(){var d,c,e,f,g,k,h,p;return l(this,function(l){switch(l.label){case 0:return[4,
                this.load(b)];case 1:return l.sent(),[4,this._connection.invoke("queryFeatures",a?a.toJSON():null,b)];case 2:d=l.sent();y.applyFeatureSetZUnitScaling(a,this.layer.spatialReference,d);c=A.fromJSON(d);if(!this._requiresClientGraphicMapping())return[2,c];e=this.layer.objectIdField;f=0;for(g=c.features;f<g.length;f++)if(k=g[f],h=k.attributes[e],p=this._idToClientGraphic.get(h))k.geometry=p.geometry;c.geometryType=this.layer.geometryType;return[2,c]}})})};b.prototype.queryFeaturesJSON=function(a,b){void 0===
            b&&(b={});return h(this,void 0,void 0,function(){var d;return l(this,function(c){switch(c.label){case 0:return this._requiresClientGraphicMapping()?[2,p.reject(new g("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)"))]:[4,this.load(b)];case 1:return c.sent(),[4,this._connection.invoke("queryFeatures",a?a.toJSON():null,b)];case 2:return d=c.sent(),y.applyFeatureSetZUnitScaling(a,this.layer.spatialReference,d),[2,d]}})})};b.prototype.queryFeatureCount=
                function(a,b){var d=this;void 0===b&&(b={});return this.load(b).then(function(){return d._connection.invoke("queryFeatureCount",a?a.toJSON():null,b)})};b.prototype.queryObjectIds=function(a,b){var d=this;void 0===b&&(b={});return this.load(b).then(function(){return d._connection.invoke("queryObjectIds",a?a.toJSON():null,b)})};b.prototype.queryExtent=function(a,b){var c=this;void 0===b&&(b={});return this.load(b).then(function(){return c._connection.invoke("queryExtent",a?a.toJSON():null,b)}).then(function(a){return{count:a.count,
                extent:d.Extent.fromJSON(a.extent)}})};b.prototype._applyEdits=function(a){var b=this;if(!this._connection)throw new g("feature-layer-source:edit-failure","Memory source not loaded");var d=this.layer.objectIdField,c=null,e=[],f=[],k=function(a){return"objectId"in a&&null!=a.objectId?a.objectId:"attributes"in a&&null!=a.attributes[d]?a.attributes[d]:null};a.addFeatures&&(c=this._prepareAddFeatures(a.addFeatures));if(a.deleteFeatures)for(var h=0,p=a.deleteFeatures;h<p.length;h++){var l=p[h],m=k(l);
                null!=m&&e.push(m)}var n=a.updateFeatures&&this._idToClientGraphic?new Map:null;if(a.updateFeatures)for(h=0,a=a.updateFeatures;h<a.length;h++)l=a[h],f.push(this._serializeFeature(l)),n&&(m=k(l),null!=m&&n.set(m,l));y.unapplyEditsZUnitScaling(c?c.features:null,f,this.layer.spatialReference);return this._connection.invoke("applyEdits",{adds:c?c.features:[],updates:f,deletes:e}).then(function(a){var d=a.featureEditResults;b.fullExtent=a.fullExtent;c&&c.finish(d.uidToObjectId);if(b._idToClientGraphic){if(n){a=
                0;for(var e=d.updateResults;a<e.length;a++){var f=e[a];f.success&&(f=n.get(f.objectId),null!=f&&b._addIdToClientGraphic(f))}}a=0;for(e=d.deleteResults;a<e.length;a++)f=e[a],f.success&&b._idToClientGraphic.delete(f.objectId)}return b._createEditsResult(d)})};b.prototype._createEditsResult=function(a){return{addFeatureResults:a.addResults?a.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:a.updateResults?a.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:a.deleteResults?
                    a.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};b.prototype._createFeatureEditResult=function(a){var b=!0===a.success?null:a.error||{code:void 0,description:void 0};return{objectId:a.objectId,globalId:a.globalId,error:b?new g("feature-layer-source:edit-failure",b.description,{code:b.code}):null}};b.prototype._prepareAddFeatures=function(a){for(var b=new Map,d=Array(a.length),c=null,e=0;e<a.length;e++){var f=
                a[e],g=this._serializeFeature(f);!c&&t.isSome(f.geometry)&&(c=f.geometry.type);d[e]=g;b.set(""+g.uid,f)}var k=this;return{features:d,inferredGeometryType:c,finish:function(a){var d=k.sourceJSON.objectIdField,c;for(c in a){var e=a[c],f=b.get(c);f&&(f.attributes||(f.attributes={}),-1===e?delete f.attributes[d]:f.attributes[d]=e,k._addIdToClientGraphic(f))}}}};b.prototype._addIdToClientGraphic=function(a){if(this._idToClientGraphic){var b=this.sourceJSON.objectIdField,b=a.attributes&&a.attributes[b];
                null!=b&&this._idToClientGraphic.set(b,a)}};b.prototype._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this.layer.geometryType||this.sourceJSON.geometryType)};b.prototype._geometryRequiresClientGraphicMapping=function(a){return this._geometryTypeRequiresClientGraphicMapping(a.type)};b.prototype._geometryTypeRequiresClientGraphicMapping=function(a){return"mesh"===a||"multipatch"===a||"extent"===a};b.prototype._serializeFeature=function(a){var b=a.attributes;
                a=this._geometryForSerialization(a);var d=(x++).toString();return a?{uid:d,geometry:a.toJSON(),attributes:b}:{uid:d,attributes:b}};b.prototype._geometryForSerialization=function(a){a=a.geometry;return t.isNone(a)?null:this._geometryRequiresClientGraphicMapping(a)?d.Polygon.fromExtent(a.extent):a};b.prototype._startWorker=function(a){return h(this,void 0,void 0,function(){var b,c,e,g,k,h,p,m,n,q,t,u,r,w,z,y;return l(this,function(l){switch(l.label){case 0:return b=this,[4,v.open("MemorySourceWorker",
                {strategy:f("esri-workers-for-memory-layers")?"dedicated":"local",signal:a})];case 1:return b._connection=l.sent(),c=this.layer,e=c.fields,g=c.spatialReference,k=c.objectIdField,h=c.hasM,p=c.hasZ,m=c.timeInfo,n="defaults"===this.layer.originOf("spatialReference"),q=this._prepareAddFeatures(this.items),this.on("before-changes",function(a){B.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");a.preventDefault()}),t={features:q.features,fields:e&&
                    e.map(function(a){return a.toJSON()}),geometryType:d.typeKebabDictionary.toJSON(this.workerGeometryType),hasM:h,hasZ:p,objectIdField:k,spatialReference:n?null:g&&g.toJSON(),timeInfo:m?m.toJSON():null},[4,this._connection.invoke("load",t,{signal:a})];case 2:u=l.sent();r=0;for(w=u.warnings;r<w.length;r++)z=w[r],B.warn(z.message,{layer:this.layer,warning:z});u.featureErrors.length&&B.warn("Encountered "+u.featureErrors.length+" validation errors while loading features",u.featureErrors);y=u.layerDefinition;
                this._geometryTypeRequiresClientGraphicMapping(q.inferredGeometryType)&&(y.geometryType=d.typeKebabDictionary.toJSON(q.inferredGeometryType));this.sourceJSON=y;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);q.finish(u.assignedObjectIds);return[2]}})})};e([w.shared({Type:k,ensureType:z.ensureType(k)})],b.prototype,"itemType",void 0);e([w.property()],b.prototype,"type",void 0);e([w.property({constructOnly:!0})],b.prototype,"layer",void 0);e([w.property({readOnly:!0,dependsOn:["layer.geometryType"]})],
                b.prototype,"workerGeometryType",null);e([w.property()],b.prototype,"sourceJSON",void 0);return b=e([w.subclass("esri.layers.graphics.sources.MemorySource")],b)}(w.declared(r.LoadableMixin(u.EsriPromiseMixin(a))));b.MemorySource=c;b.default=c})},"esri/core/workers":function(){define(["require","exports","./workers/workers"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});for(var e in n)b.hasOwnProperty(e)||(b[e]=n[e])})},"esri/core/workers/workers":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){function g(){return e(this,void 0,void 0,function(){var b,d,c;return n(this,function(e){if(t)return[2,t];u=h.createAbortController();b=[];d=function(d){var c=a.create(d).then(function(a){return q[d]=a});b.push(c)};for(c=0;c<f;c++)d(c);t=h.all(b);return[2,t]})})}Object.defineProperty(b,"__esModule",{value:!0});b.Connection=d;b.RemoteClient=k;var f=l("esri-workers-debug")?1:l("host-browser")?navigator.hardwareConcurrency-1:0;f||(f=l("safari")&&l("mac")||l("trident")?7:
                2);var r=0,q=[];b.initialize=function(){g()};b.openWithPorts=function(a,b){return new d(a.map(function(a){return new k(a,b,{})}))};b.open=function(a,b){void 0===b&&(b={});return e(this,void 0,void 0,function(){var e,p,t,u,v,B,D;return n(this,function(n){switch(n.label){case 0:if("string"!==typeof a)throw new m("workers:undefined-module","modulePath is missing");e=b.signal;p=b.strategy||"distributed";l("host-webworker")&&!l("esri-workers")&&(p="local");return"local"!==p?[3,4]:[4,k.loadWorker(a)];case 1:return(t=
                n.sent())?[3,3]:[4,h.create(function(b){return c([a],b)})];case 2:t=n.sent(),n.label=3;case 3:return h.throwIfAborted(e),u=b.client||t,v=k.connect(t),[2,new d([new k(v,u,b)])];case 4:return[4,g()];case 5:n.sent();h.throwIfAborted(e);if("dedicated"!==p)return[3,7];B=r++;r%=f;return[4,q[B].open(a,b)];case 6:return v=n.sent(),[2,new d([new k(v,b.client,b)])];case 7:return[4,h.all(q.map(function(d){return d.open(a,b)}))];case 8:return D=n.sent(),[2,new d(D.map(function(a){return new k(a,b.client,b)}))]}})})};
                b.terminate=function(){t&&(u.abort(),t=null);for(var a=0;a<q.length;a++)q[a]&&q[a].terminate();q.length=0};var t=null,u})},"esri/core/workers/Connection":function(){define(["require","exports","../handleUtils","../Logger","../promiseUtils"],function(c,b,n,e,m){var l=e.getLogger("esri.core.workers.Connection");return function(){function b(b){this._clientIdx=0;this._clients=b}Object.defineProperty(b.prototype,"closed",{get:function(){return!this._clients||!this._clients.length},enumerable:!0,configurable:!0});
            b.prototype.broadcast=function(b,c,a){for(var d=[],e=0,k=this._clients;e<k.length;e++)d.push(k[e].invoke(b,c,a));return d};b.prototype.close=function(){for(var b=0,c=this._clients;b<c.length;b++)c[b].close();this._clients=[]};b.prototype.getAvailableClient=function(){var b;this._clients.some(function(d){return d.isBusy()?!1:(b=d,!0)})||(this._clientIdx=(this._clientIdx+1)%this._clients.length,b=this._clients[this._clientIdx]);return b};b.prototype.invoke=function(b,c,a){var d=null;Array.isArray(a)?
                (l.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),d={transferList:a}):d=a;return this.closed?m.reject(Error("Connection closed")):this.getAvailableClient().invoke(b,c,d)};b.prototype.on=function(b,c){var a=this._clients.map(function(a){return a.on(b,c)});return n.handlesGroup(a)};b.prototype.openPorts=function(){return this._clients.map(function(b){return b.openPort()})};return b}()})},"esri/core/workers/RemoteClient":function(){define("require exports ../Error ../events ../promiseUtils ./registry ./utils ../../views/support/Scheduler".split(" "),
            function(c,b,n,e,m,l,h,d){var k=h.MessageType.CLOSE,a=h.MessageType.ABORT,g=h.MessageType.INVOKE,f=h.MessageType.RESPONSE,r=h.MessageType.OPEN_PORT,q=h.MessageType.ON,t=function(){function a(a){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===h.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,
                0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<b.length;a++){var d=b[a];this._cancelledJobIds.has(d.jobId)||this._invoke(d)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function b(a,b,c){var e=this;this._port=a;this._client=b;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new t(function(a){return e._onInvokeMessage(a)});
                this._responseQueue=[];this._onMessage=this._onMessage.bind(this);this._channel=c.channel;c.scheduler&&(this._frameTask=c.scheduler.registerTask(d.Task.REMOTE_CLIENT,function(a){return e._update(a)},function(){return 0<e._responseQueue.length}));this._port.addEventListener("message",this._onMessage);this._port.start()}b.connect=function(a){var d=new MessageChannel;a="function"===typeof a?new a:"default"in a&&"function"===typeof a.default?new a.default:a;var c=new b(d.port1,a,{channel:d});"object"===
            typeof a&&"remoteClient"in a&&(a.remoteClient=c);b.clients.set(c,a);return d.port2};b.loadWorker=function(a){return(a=l.registry[a])?a():m.resolve(null)};b.prototype.close=function(){this._post({type:k});this._close()};b.prototype.isBusy=function(){return 0<this._outJobs.size};b.prototype.invoke=function(b,d,c){var e=this,f=c&&c.signal,k=c&&c.transferList;if(!this._port)return m.reject(new n("remote-client:port-closed","Can't invoke(), port is closed"));var p=h.newJobId(),l=function(){var b=e._outJobs.get(p);
                b&&(e._outJobs.delete(p),e._post({type:a,jobId:p}),b.reject(m.createAbortError()))};return m.create(function(a,c){m.onAbortOrThrow(f,function(){l();c(m.createAbortError())});e._outJobs.set(p,{resolve:a,reject:c});e._post({type:g,jobId:p,methodName:b,abortable:!0},d,k)},l)};b.prototype.on=function(a,b){function d(a){b(a.data)}var c=new MessageChannel;this._port.postMessage({type:h.MessageType.ON,eventType:a,port:c.port2},[c.port2]);c.port1.addEventListener("message",d);c.port1.start();return{remove:function(){c.port1.postMessage({type:h.MessageType.CLOSE});
                    c.port1.close();c.port1.removeEventListener("message",d)}}};b.prototype.openPort=function(){var a=new MessageChannel;this._post({type:r,port:a.port2});return a.port1};b.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){return a.reject(m.createAbortError("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=
                null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};b.prototype._onMessage=function(b){if(b=h.receiveMessage(b))switch(b.type){case f:this._onResponseMessage(b);break;case g:this._invokeQueue.push(b);break;case a:this._onAbortMessage(b);break;case k:this._onCloseMessage();break;case r:this._onOpenPortMessage(b);break;case q:this._onOnMessage(b)}};b.prototype._onAbortMessage=function(a){var b=this._inJobs,d=a.jobId,c=b.get(d);this._invokeQueue.push(a);c&&(c.controller&&
            c.controller.abort(),b.delete(d))};b.prototype._onCloseMessage=function(){var a=this._client;this._close();a&&"destroy"in a&&b.clients.get(this)===a&&a.destroy();b.clients.delete(this);a&&a.remoteClient&&(a.remoteClient=null)};b.prototype._onInvokeMessage=function(a){var b=this,d=a.methodName,c=a.jobId,e=a.data;a=a.abortable?m.createAbortController():null;var g=this._inJobs,k=this._client,p=k[d],l;try{if(!p&&d&&-1!==d.indexOf("."))for(var n=d.split("."),q=0;q<n.length-1;q++)k=k[n[q]],p=k[n[q+1]];
                if("function"!==typeof p)throw new TypeError(d+" is not a function");l=p.call(k,e,{client:this,signal:a?a.signal:null})}catch(G){this._post({type:f,jobId:c,error:h.toInvokeError(G)});return}if(m.isPromiseLike(l)){g.set(c,{controller:a,promise:l});if(a&&"cancel"in l)m.onAbort(a.signal,function(){return l.cancel()});l.then(function(a){g.has(c)&&(g.delete(c),b._post({type:f,jobId:c},a))},function(a){g.has(c)&&(g.delete(c),m.isAbortError(a)||b._post({type:f,jobId:c,error:h.toInvokeError(a||{message:"Error encountered at method "+
                        d})}))})}else this._post({type:f,jobId:c},l)};b.prototype._onOpenPortMessage=function(a){new b(a.port,this._client,{})};b.prototype._onOnMessage=function(a){var b=a.port,d=this._client.on(a.eventType,function(a){delete a.target;b.postMessage(a)}),c=e.on(a.port,"message",function(a){h.receiveMessage(a).type===h.MessageType.CLOSE&&(c.remove(),d.remove(),b.close())})};b.prototype._onResponseMessage=function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};b.prototype._update=function(a){for(;!a.done&&
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};b.prototype._handleResponse=function(a){var b=a.jobId,d=a.error;a=a.data;var c=this._outJobs;if(c.has(b)){var e=c.get(b);c.delete(b);d?e.reject(n.fromJSON(JSON.parse(d))):e.resolve(a)}};b.prototype._post=function(a,b,d){return h.postMessage(this._port,a,b,d)};b.clients=new Map;return b}()})},"esri/core/workers/registry":function(){define(["require","exports","@dojo/framework/shim/Promise"],function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b){Object.defineProperty(b,"__esModule",{value:!0});b.registry={CSVSourceWorker:function(){return new Promise(function(b,e){c(["../../layers/graphics/sources/support/CSVSourceWorker"],b,e)})},EdgeProcessingWorker:function(){return new Promise(function(b,e){c(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],b,e)})},ElevationSamplerWorker:function(){return new Promise(function(b,e){c(["../../geometry/support/meshUtils/ElevationSamplerWorker"],b,e)})},GeoJSONSourceWorker:function(){return new Promise(function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       e){c(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],b,e)})},LercWorker:function(){return new Promise(function(b,e){c(["../../layers/support/LercWorker"],b,e)})},MemorySourceWorker:function(){return new Promise(function(b,e){c(["../../layers/graphics/sources/support/MemorySourceWorker"],b,e)})},PBFWorker:function(){return new Promise(function(b,e){c(["../../tasks/operations/PBFWorker"],b,e)})},Pipeline:function(){return new Promise(function(b,e){c(["../../views/2d/layers/features/Pipeline"],
                b,e)})},PointCloudWorker:function(){return new Promise(function(b,e){c(["../../views/3d/layers/PointCloudWorker"],b,e)})},RasterWorker:function(){return new Promise(function(b,e){c(["../../layers/support/RasterWorker"],b,e)})},SceneLayerWorker:function(){return new Promise(function(b,e){c(["../../views/3d/layers/SceneLayerWorker"],b,e)})},WorkerTileHandler:function(){return new Promise(function(b,e){c(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],b,e)})}}})},"esri/core/workers/utils":function(){define(["require",
            "exports","../has"],function(c,b,n){function e(b){return b&&"object"===typeof b&&("result"in b||"transferList"in b)}function m(b){if(!b||!b.length)return null;if(n("esri-workers-arraybuffer-transfer"))return b;b=b.filter(function(b){return!(b instanceof ArrayBuffer||b&&b.constructor&&"ArrayBuffer"===b.constructor.name)});return b.length?b:null}Object.defineProperty(b,"__esModule",{value:!0});var l;(function(b){b[b.HANDSHAKE=0]="HANDSHAKE";b[b.CONFIGURE=1]="CONFIGURE";b[b.CONFIGURED=2]="CONFIGURED";
            b[b.OPEN=3]="OPEN";b[b.OPENED=4]="OPENED";b[b.RESPONSE=5]="RESPONSE";b[b.INVOKE=6]="INVOKE";b[b.ABORT=7]="ABORT";b[b.CLOSE=8]="CLOSE";b[b.OPEN_PORT=9]="OPEN_PORT";b[b.ON=10]="ON"})(l=b.MessageType||(b.MessageType={}));var h=0;b.newJobId=function(){return h++};b.isTranferableResult=e;b.toInvokeError=function(b){return b?b.toJSON?JSON.stringify(b):JSON.stringify({name:b.name,message:b.message,details:b.details,stack:b.stack}):null};b.postMessage=function(b,c,a,g){c.type===l.OPEN_PORT?b.postMessage(c,
            [c.port]):c.type!==l.INVOKE&&c.type!==l.RESPONSE?b.postMessage(c):(e(a)?(g=m(a.transferList),c.data=a.result):(g=m(g),c.data=a),g?b.postMessage(c,g):b.postMessage(c))};b.receiveMessage=function(b){return b?(b=b.data)?"string"===typeof b?JSON.parse(b):b:null:null}})},"esri/views/support/Scheduler":function(){define("require exports @dojo/framework/shim/number ../../core/Logger ../../core/maybe ../../core/now ../../core/PooledArray ../../core/watchUtils ./debugFlags".split(" "),function(c,b,n,e,m,l,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      h,d,k){function a(a){return a in b.taskPriorities?b.taskPriorities[a]:"number"===typeof a?a:1}Object.defineProperty(b,"__esModule",{value:!0});var g,f=e.getLogger("esri.views.support.Scheduler");b.newScheduler=function(a){return new q.Scheduler(a)};(function(a){a.REMOTE_CLIENT="remote client";a.STREAM_DATA_LOADER="stream data loader";a.TERRAIN_SURFACE="terrain surface";a.SURFACE_GEOMETRY_UPDATES="surface geometry updates";a.I3S_CONTROLLER="I3S controller";a.POINT_CLOUD_LAYER="point cloud";a.FEATURE_TILE_FETCHER=
            "feature fetcher";a.FEATURE_FETCH_QUEUE="feature fetch queue";a.GRAPHICS_CORE="Graphics3D";a.LABELER="labeler";a.GRAPHICS_DECONFLICTOR="graphics deconflictor";a.FILTER_VISIBILITY="Graphics3D filter visibility";a.FEATURE_QUERY_ENGINE="feature query";a.SCALE_VISIBILITY="Graphics3D scale visibility";a.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";a.POINT_OF_INTEREST_FREQUENT="POI frequent";a.POINT_OF_INTEREST_INFREQUENT="POI infrequent";a.FEATURE_TILE_TREE="feature tile tree";a.FEATURE_TILE_TREE_ACTIVE=
            "fast feature tile tree";a.ELEVATION_ALIGNMENT="elevation alignment";a.TEXT_TEXTURE_ATLAS="text texture atlas";a.OVERLAY_MANAGER="overlay manager";a.LINE_OF_SIGHT_TOOL="line of sight tool";a.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";a[a.TEST_PRIO=1]="TEST_PRIO"})(c=b.Task||(b.Task={}));b.taskPriorities=(g={},g[c.REMOTE_CLIENT]=1,g[c.STREAM_DATA_LOADER]=1,g[c.FEATURE_FETCH_QUEUE]=1,g[c.TERRAIN_SURFACE]=2,g[c.SURFACE_GEOMETRY_UPDATES]=2,g[c.I3S_CONTROLLER]=4,g[c.POINT_CLOUD_LAYER]=
            4,g[c.FEATURE_TILE_FETCHER]=4,g[c.GRAPHICS_CORE]=6,g[c.LABELER]=6,g[c.GRAPHICS_DECONFLICTOR]=6,g[c.FILTER_VISIBILITY]=8,g[c.FEATURE_QUERY_ENGINE]=8,g[c.SCALE_VISIBILITY]=8,g[c.FRUSTUM_VISIBILITY]=8,g[c.POINT_OF_INTEREST_FREQUENT]=6,g[c.POINT_OF_INTEREST_INFREQUENT]=30,g[c.FEATURE_TILE_TREE]=16,g[c.FEATURE_TILE_TREE_ACTIVE]=1,g[c.ELEVATION_ALIGNMENT]=12,g[c.TEXT_TEXTURE_ATLAS]=12,g[c.OVERLAY_MANAGER]=12,g[c.LINE_OF_SIGHT_TOOL]=16,g[c.LINE_OF_SIGHT_TOOL_INTERACTIVE]=1,g);b.getTaskPriority=a;var r=1E3/
            30,q;(function(b){var c=function(){function c(a){var c=this;this._now=a;this._budget=null;this._state=1;this._tasks=new h;this._runQueue=new h;this._load=0;this._idleStateCallbacks=new h;this._idleUpdatesStartFired=!1;this._maxReschedule=u;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=d.init(k,"SCHEDULER_LOG_SLOW_TASKS",function(a){return c._debug=a});this._budget=new b.Budget(a);var e=this;this._test={state:void 0,FRAME_SAFETY_BUDGET:5,idleBudget:100,get budget(){return e._budget.budget},
            usedBudget:0,startTime:0,updateTask:function(a){return c._updateTask(a)},getState:function(a){return c._getState(a)},getRuntime:function(a){return c._getRuntime(a)}}}c.prototype.destroy=function(){this._debugHandle&&this._debugHandle.remove()};c.prototype.registerTask=function(b,d,c){var f=this,g=a(b),k=new e(b,d,c,g);this._tasks.push(k);return{remove:function(){return f._removeTask(k)},set task(a){k.setPriority(a)}}};c.prototype.registerIdleStateCallbacks=function(a,b){var d=this,c={idleBegin:a,
            idleEnd:b};this._idleStateCallbacks.push(c);2===this.state&&this._idleUpdatesStartFired&&c.idleBegin();var e=this;return{remove:function(){return d._removeIdleStateCallbacks(c)},set idleBegin(a){e._idleUpdatesStartFired&&(c.idleEnd(),2===e._state&&a());c.idleBegin=a},set idleEnd(a){c.idleEnd=a}}};Object.defineProperty(c.prototype,"now",{get:function(){return this._now()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"load",{get:function(){return this._load},enumerable:!0,configurable:!0});
            Object.defineProperty(c.prototype,"state",{get:function(){return m.isNone(this._test.state)?this._state:this._test.state},set:function(a){this._state!==a&&(this._state=a,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEach(function(a){return a.idleEnd()})))},enumerable:!0,configurable:!0});c.prototype.updateBudget=function(a){this._test.usedBudget=0;this._test.startTime=a.elapsedFrameTime;this._safetyBudget=5;var b=a.frameDuration,d=1;switch(this.state){case 2:this._safetyBudget=
                0;b=Math.max(100,a.frameDuration);d=30;break;case 1:b=Math.max(r,a.frameDuration)}b-=a.elapsedFrameTime+this._safetyBudget;if(2!==this.state&&0>b&&!this._forceTask)return this._forceTask=!0,!1;b=Math.max(b,d);this._budget.reset(b,this.state);this._maxReschedule=u;this._updateLoad();return this._schedule()};c.prototype.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEach(function(a){return a.idleBegin()}));
                this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};c.prototype._removeIdleStateCallbacks=function(a){this._idleUpdatesStartFired&&a.idleEnd();this._idleStateCallbacks.removeUnordered(a)};c.prototype._removeTask=function(a){this._tasks.removeUnordered(a);this._runQueue.removeUnordered(a)};c.prototype._updateTask=function(a){this._tasks.forEach(function(b){b.name===a&&b.setPriority(a)})};c.prototype._getState=function(a){if(this._runQueue.some(function(b){return b.name===
                a}))return t.SCHEDULED;var b=t.IDLE;this._tasks.forEach(function(d){d.name===a&&d.needsUpdate()&&(1>=d.schedule?b=t.READY:b!==t.READY&&(b=t.WAITING))});return b};c.prototype._getRuntime=function(a){var b=0;this._tasks.forEach(function(d){d.name===a&&(b+=d.runtime)});return b};c.prototype._runIdle=function(){this._run()};c.prototype._runInteracting=function(){this._run()};c.prototype._runAnimating=function(){this._run()};c.prototype._updateLoad=function(){var a=0;this._tasks.forEach(function(b){return b.needsUpdate()?
                ++a:a});this._load=.9*this._load+a*(1-.9)};c.prototype._schedule=function(){var a=this;if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(function(a){if(a.needsUpdate())return!0;a.schedule=a.priority;return!1});for(var b=function(){var b=!1,c=0;d._tasks.forEach(function(d){if(0!==d.schedule&&d.needsUpdate())switch(b=!0,c=Math.max(c,d.priority),d.schedule){case 1:d.schedule=0;a._runQueue.push(d);break;default:--d.schedule}});if(!b)return{value:!1};d._maxReschedule===u&&(d._maxReschedule=
                c);--d._maxReschedule},d=this;0===this._runQueue.length;){var c=b();if("object"===typeof c)return c.value}return!0};c.prototype._run=function(){do for(;0<this._runQueue.length;){var a=this._runQueue.pop();this._budget.resetProgress();var b=this._budget.now();try{a.update(this._budget)}catch(x){f.error('Exception in task "'+a.name+'"',x)}a.schedule=a.priority;a.runtime+=this._budget.now()-b;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",a.name,"used",this._budget.elapsed,
                "of max",this._budget.budget,"ms");if(0>=this._budget.remaining)return}while(this._schedule())};Object.defineProperty(c.prototype,"test",{get:function(){return this._test},enumerable:!0,configurable:!0});return c}();b.Scheduler=c;var e=function(){function b(a,b,d,c){this.name=a;this.update=b;this.needsUpdate=d;this._priority=c;this.runtime=0;this.schedule=this._priority}Object.defineProperty(b.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0});b.prototype.setPriority=
            function(b){this.name=b;this._priority=a(b);0!==this.schedule&&(this.schedule=this._priority)};return b}(),c=function(){function a(a){this.now=a;this._budget=this._begin=0;this._state=2;this._didWork=!1;this._enabled=!0}a.prototype.run=function(a){if(this.done)return!1;!0===a()&&(this._didWork=!0);return!0};Object.defineProperty(a.prototype,"done",{get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"budget",
            {get:function(){return this._budget},enumerable:!0,configurable:!0});a.prototype.madeProgress=function(){this._didWork=!0};Object.defineProperty(a.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=a},enumerable:!0,configurable:!0});a.prototype.reset=function(a,b){this._begin=this.now();this._budget=a;this._state=b;this._didWork=!1};Object.defineProperty(a.prototype,
            "remaining",{get:function(){return Math.max(this._budget-this.elapsed,0)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"elapsed",{get:function(){return this.now()-this._begin},enumerable:!0,configurable:!0});a.prototype.resetProgress=function(){this._didWork=!1};Object.defineProperty(a.prototype,"hasProgressed",{get:function(){return this._didWork},enumerable:!0,configurable:!0});return a}();b.Budget=c})(q||(q={}));var t;(function(a){a.SCHEDULED="s";a.READY="r";a.WAITING="w";
            a.IDLE="i"})(t=b.TaskState||(b.TaskState={}));b.noBudget=function(){var a=new q.Budget(l);a.enabled=!1;return a}();var u=n.MAX_SAFE_INTEGER})},"esri/core/watchUtils":function(){define("require exports ./events ./has ./lang ./promiseUtils".split(" "),function(c,b,n,e,m,l){function h(a,b,d,c,e){e=a.watch(b,function(b,e,f,g){d&&!d(b)||c.call(a,b,e,f,g)},e);if(Array.isArray(b))for(var f=0;f<b.length;f++){var g=a.get(b[f]);d&&d(g)&&c.call(a,g,g,b,a)}else g=a.get(b),d&&d(g)&&c.call(a,g,g,b,a);return e}
            function d(a,b,d,c,f){function g(){n&&(n.remove(),n=null)}var k="function"===typeof c?c:null,p="object"===typeof c?c:null;"boolean"===typeof c&&(f=c);var m=!1,n,q=l.createDeferred(g);l.onAbort(p,function(){g();q.reject(l.createAbortError())});c=e("esri-native-promise")?{then:q.promise.then.bind(q.promise),catch:q.promise.catch.bind(q.promise),remove:g}:{cancel:q.cancel,then:q.promise.then.bind(q.promise),catch:q.promise.catch.bind(q.promise),remove:g};Object.freeze(c);n=h(a,b,d,function(b,d,c,e){m=
                !0;g();k&&k.call(a,b,d,c,e);q.resolve({value:b,oldValue:d,propertyName:c,target:e})},f);m&&g();return c}function k(a){return!!a}function a(a){return!a}function g(a){return!0===a}function f(a){return!1===a}function r(a){return void 0!==a}function q(a){return void 0===a}function t(a,b,d,c){var e=Array.isArray(b)?b:-1<b.indexOf(",")?b.split(","):[b];b=a.watch(b,d,c);for(c=0;c<e.length;c++){var f=e[c].trim().replace(u,"$1"),g=a.get(f);d.call(a,g,g,f,a)}return b}Object.defineProperty(b,"__esModule",{value:!0});
            b.whenValidOnce=d;var u=/\?(\.|$)/g;b.init=t;b.watch=function(a,b,d,c){return a.watch(b,d,c)};b.once=function(a,b,c,e){return d(a,b,null,c,e)};b.when=function(a,b,d,c){return h(a,b,k,d,c)};b.whenOnce=function(a,b,c,e){return d(a,b,k,c,e)};b.whenNot=function(b,d,c,e){return h(b,d,a,c,e)};b.whenNotOnce=function(b,c,e,f){return d(b,c,a,e,f)};b.whenTrue=function(a,b,d,c){return h(a,b,g,d,c)};b.whenTrueOnce=function(a,b,c,e){return d(a,b,g,c,e)};b.whenFalse=function(a,b,d,c){return h(a,b,f,d,c)};b.whenFalseOnce=
                function(a,b,c,e){return d(a,b,f,c,e)};b.whenDefined=function(a,b,d,c){return h(a,b,r,d,c)};b.whenDefinedOnce=function(a,b,c,e){return d(a,b,r,c,e)};b.whenUndefined=function(a,b,d,c){return h(a,b,q,d,c)};b.whenUndefinedOnce=function(a,b,c,e){return d(a,b,q,c,e)};b.whenEqual=function(a,b,d,c,e){return h(a,b,function(a){return m.equals(d,a)},c,e)};b.whenEqualOnce=function(a,b,c,e,f){return d(a,b,function(a){return m.equals(c,a)},e,f)};b.pausable=function(a,b,d,c){var e=!1,f=a.watch(b,function(b,c,f,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                g){e||d.call(a,b,c,f,g)},c);return{remove:function(){f.remove()},pause:function(){e=!0},resume:function(){e=!1}}};b.on=function(a,b,d,c,e,f,g){function k(b){var c=h[b];c&&(f&&f(c.target,b,a,d),c.handle.remove(),delete h[b])}var h={},l=t(a,b,function(b,f,g){k(g);n.isEventTarget(b)&&(h[g]={handle:n.on(b,d,c),target:b},e&&e(b,g,a,d))},g);return{remove:function(){l.remove();for(var a in h)k(a)}}}})},"esri/views/support/debugFlags":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l){return new (function(b){function d(){var d=null!==b&&b.apply(this,arguments)||this;d.SCHEDULER_LOG_SLOW_TASKS=!1;return d}e(d,b);n([l.property()],d.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);return d=n([l.subclass("esri.views.support.DebugFlags")],d)}(l.declared(m)))})},"esri/core/workers/WorkerOwner":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){var g=h.getLogger("esri.core.workers"),f=k.MessageType.ABORT,r=k.MessageType.INVOKE,q=k.MessageType.OPEN,t=k.MessageType.OPENED,u=k.MessageType.RESPONSE;return function(){function b(a,b){this._outJobs=new Map;this._inJobs=new Map;this.worker=a;this.id=b;a.addEventListener("message",this._onMessage.bind(this));a.addEventListener("error",function(a){a.preventDefault();g.error(a)})}b.create=function(d){return e(this,void 0,void 0,function(){var c;return n(this,function(e){switch(e.label){case 0:return[4,
                a.createWorker()];case 1:return c=e.sent(),[2,new b(c,d)]}})})};b.prototype.terminate=function(){this.worker.terminate()};b.prototype.open=function(a,b){void 0===b&&(b={});return e(this,void 0,void 0,function(){var c,e,g=this;return n(this,function(h){c=b.signal;e=k.newJobId();return[2,d.create(function(b,k){b={resolve:b,reject:k};d.onAbortOrThrow(c,function(){g._outJobs.delete(e);g._post({type:f,jobId:e})});g._outJobs.set(e,b);g._post({type:q,jobId:e,modulePath:a})})]})})};b.prototype._onMessage=
                function(a){if(a=k.receiveMessage(a))switch(a.type){case t:this._onOpenedMessage(a);break;case u:this._onResponseMessage(a);break;case f:this._onAbortMessage(a);break;case r:this._onInvokeMessage(a)}};b.prototype._onAbortMessage=function(a){var b=this._inJobs;a=a.jobId;var d=b.get(a);d&&(d.controller&&d.controller.abort(),b.delete(a))};b.prototype._onInvokeMessage=function(a){var b=this,c=a.methodName,e=a.jobId,f=a.data;a=a.abortable?d.createAbortController():null;var g=this._inJobs,h=m.workerMessages[c],
                l;try{if("function"!==typeof h)throw new TypeError(c+" is not a function");l=h.call(null,f,{signal:a?a.signal:null})}catch(E){this._post({type:u,jobId:e,error:k.toInvokeError(E)});return}if(d.isPromiseLike(l)){g.set(e,{controller:a,promise:l});if(a&&"cancel"in l)d.onAbort(a.signal,function(){return l.cancel()});l.then(function(a){g.has(e)&&(g.delete(e),b._post({type:u,jobId:e},a))},function(a){g.has(e)&&(g.delete(e),a||(a={message:"Error encountered at method"+c}),d.isAbortError(a)||b._post({type:u,
                jobId:e,error:k.toInvokeError(a||{message:"Error encountered at method "+c})}))})}else this._post({type:u,jobId:e},l)};b.prototype._onOpenedMessage=function(a){var b=a.jobId;a=a.data;var d=this._outJobs.get(b);d&&(this._outJobs.delete(b),d.resolve(a))};b.prototype._onResponseMessage=function(a){var b=a.jobId,d=a.error;a=a.data;var c=this._outJobs.get(b);c&&(this._outJobs.delete(b),d?c.reject(l.fromJSON(JSON.parse(d))):c.resolve(a))};b.prototype._post=function(a,b,d){return k.postMessage(this.worker,
                a,b,d)};return b}()})},"esri/core/workers/workerFactory":function(){define("require exports ../tsSupport/assignHelper ../tsSupport/generatorHelper ../tsSupport/awaiterHelper dojo/_base/kernel ../../config ../has ../Logger ../promiseUtils ./loaderConfig ./utils ./WorkerFallback".split(" "),function(c,b,n,e,m,l,h,d,k,a,g,f,r){function q(b){return m(this,void 0,void 0,function(){return e(this,function(c){return[2,a.create(function(a){function c(k){if(k=f.receiveMessage(k))switch(k.type){case v:k=b;var m=
            h.workers.loaderUrl||g.DEFAULT_LOADER_URL,q;null!=h["default"]?(q=n({},h),delete q["default"],q=JSON.parse(JSON.stringify(q))):q=JSON.parse(JSON.stringify(h));var t=h.workers.loaderConfig,t=g.default({baseUrl:t.baseUrl,locale:l.locale,has:n({"config-deferredInstrumentation":0,"csp-restrictions":d("csp-restrictions"),"dojo-test-sniff":0,"esri-native-promise":d("esri-native-promise"),"esri-secure-context":d("esri-secure-context"),"esri-workers-arraybuffer-transfer":d("esri-workers-arraybuffer-transfer"),
                "events-keypress-typed":0,"host-webworker":1,"esri-webgl-texture-float":d("esri-webgl-texture-float"),"esri-shared-array-buffer":d("esri-shared-array-buffer"),"esri-atomics":d("esri-atomics"),"esri-2d-debug":0,"esri-webgl-max-texture-size":d("esri-webgl-max-texture-size")},t.has),map:n({},t.map),paths:n({},t.paths),packages:t.packages||[]});k.postMessage({type:p,configure:{esriConfig:q,loaderUrl:m,loaderConfig:t}});break;case u:b.removeEventListener("message",c),b.removeEventListener("error",e),a(b)}}
            function e(a){a.preventDefault();b.removeEventListener("message",c);b.removeEventListener("error",e);t.warn("Failed to create Worker. Fallback to execute module in main thread",a);b=new r;b.addEventListener("message",c);b.addEventListener("error",e)}b.addEventListener("message",c);b.addEventListener("error",e)})]})})}Object.defineProperty(b,"__esModule",{value:!0});var t=k.getLogger("esri.core.workers");d.add("esri-workers-arraybuffer-transfer",!d("safari")||12<=d("safari"));var u=f.MessageType.CONFIGURED,
            p=f.MessageType.CONFIGURE,v=f.MessageType.HANDSHAKE,w;try{w=URL.createObjectURL(new Blob(['var globalId\x3d0,outgoing\x3dnew Map,configured\x3d!1,HANDSHAKE\x3d0,CONFIGURE\x3d1,CONFIGURED\x3d2,OPEN\x3d3,OPENED\x3d4,RESPONSE\x3d5,INVOKE\x3d6,ABORT\x3d7;function createAbortError(){var error\x3dnew Error("AbortError");return error.dojoType\x3d"cancel",error}function receiveMessage(event){return event\x26\x26event.data?"string"\x3d\x3dtypeof event.data?JSON.parse(event.data):event.data:null}function invokeStaticMessage(methodName,data,options){var signal\x3doptions\x26\x26options.signal,Deferred\x3drequire("dojo/Deferred"),jobId\x3dglobalId++,abort\x3dfunction(){var outJob\x3doutgoing.get(jobId);outJob\x26\x26(outgoing.delete(jobId),self.postMessage({type:ABORT,jobId:jobId}),outJob.reject(createAbortError()))},deferred\x3dnew Deferred(abort);if(signal){if(signal.aborted)return deferred.reject(createAbortError());signal.addEventListener("abort",(function(){abort(),deferred.reject(createAbortError())}))}return outgoing.set(jobId,deferred),self.postMessage({type:INVOKE,jobId:jobId,methodName:methodName,abortable:!0,data:data}),deferred.promise}function messageHandler(event){var message\x3dreceiveMessage(event);if(message){var jobId\x3dmessage.jobId;switch(message.type){case CONFIGURE:var configuration\x3dmessage.configure;if(configured)return;self.dojoConfig\x3dconfiguration.loaderConfig,self.importScripts(configuration.loaderUrl),"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig),require(["esri/config"],(function(esriConfig){for(var name in configuration.esriConfig)Object.prototype.hasOwnProperty.call(configuration.esriConfig,name)\x26\x26(esriConfig[name]\x3dconfiguration.esriConfig[name]);self.postMessage({type:CONFIGURED})})),configured\x3d!0;break;case OPEN:var modulePath\x3dmessage.modulePath;require(["esri/core/workers/RemoteClient"],(function(RemoteClient){RemoteClient.loadWorker(modulePath).then((function(Module){return Module||new Promise((function(resolve){require([modulePath],resolve)}))})).then((function(Module){var port\x3dRemoteClient.connect(Module);self.postMessage({type:OPENED,jobId:jobId,data:port},[port])}))}));break;case RESPONSE:if(outgoing.has(jobId)){var deferred\x3doutgoing.get(jobId);outgoing.delete(jobId),message.error?deferred.reject(JSON.parse(message.error)):deferred.resolve(message.data)}}}}self.addEventListener("message",messageHandler),self.postMessage({type:HANDSHAKE});'],
            {type:"text/javascript"}))}catch(z){}b.createWorker=function(){return m(this,void 0,void 0,function(){var a;return e(this,function(b){if(!d("esri-workers"))return[2,q(new r)];if(w)try{a=new Worker(w)}catch(A){t.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new r}else t.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new r;return[2,q(a)]})})}})},"esri/core/workers/loaderConfig":function(){define(["require","exports","../tsSupport/assignHelper",
            "../has","../urlUtils"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});e=e("esri-built")?"dojo/dojo-lite.js":"dojo/dojo.js";b.DEFAULT_LOADER_URL=m.makeAbsolute(m.removeQueryParameters(c.toUrl(e)));b.DEFAULT_CONFIG={baseUrl:function(){var b=m.removeQueryParameters(c.toUrl("dojo/x.js"));return m.makeAbsolute(b.slice(0,b.length-5))}(),packages:[{name:"esri"},{name:"dojo"},{name:"dojox"},{name:"dstore"},{name:"moment",main:"moment"},{name:"@dojo"},{name:"cldrjs",main:"dist/cldr"},
                {name:"globalize",main:"dist/globalize"},{name:"maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",main:"tslib"}],map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}}};b.default=function(e){var h={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:n({},e.has),map:n({},e.map),
            packages:e.packages&&e.packages.concat()||[],paths:n({},e.paths)};e.hasOwnProperty("async")||(h.async=!0);e.hasOwnProperty("isDebug")||(h.isDebug=!1);e.baseUrl||(h.baseUrl=b.DEFAULT_CONFIG.baseUrl);b.DEFAULT_CONFIG.packages.forEach(function(a){a:{for(var b=h.packages,d=0;d<b.length;d++)if(b[d].name===a.name)break a;a=n({},a);d=m.removeQueryParameters(c.toUrl(a.name+"/x.js"));d=d.slice(0,d.length-5);a.location=m.makeAbsolute(d);b.push(a)}});e=h.map=h.map||{};for(var d=0,k=Object.keys(b.DEFAULT_CONFIG.map);d<
        k.length;d++){var a=k[d];e[a]||(e[a]=b.DEFAULT_CONFIG.map[a])}return h}})},"esri/core/workers/WorkerFallback":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../global ./RemoteClient ./utils @dojo/framework/shim/Promise".split(" "),function(c,b,n,e,m,l,h){var d=function(){return function(){var a=this,b=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(function(d){a[d]=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=
            arguments[c];return b[d].apply(b,a)}})}}(),k=m.MutationObserver||m.WebKitMutationObserver,a=function(){var a;if(m.process&&m.process.nextTick)a=function(a){m.process.nextTick(a)};else if(m.Promise)a=function(a){m.Promise.resolve().then(a)};else if(k){var b=[],d=document.createElement("div");(new k(function(){for(;0<b.length;)b.shift()()})).observe(d,{attributes:!0});a=function(a){b.push(a);d.setAttribute("queueStatus","1")}}return a}(),g=function(){var a=m.MessageEvent;try{new a("message",{data:null})}catch(r){return function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                b){void 0===b&&(b={});var d=b.data,c=b.bubbles,c=void 0===c?!1:c;b=b.cancelable;b=void 0===b?!1:b;var e=document.createEvent("Event");e.initEvent(a,c,b);e.data=d;return e}}return function(b,d){return new a(b,d)}}();return function(){function b(){this._dispatcher=new d;this._isInitialized=!1;this._workerPostMessage({type:h.MessageType.HANDSHAKE})}b.prototype.terminate=function(){};Object.defineProperty(b.prototype,"onmessage",{get:function(){return this._onmessageHandler},set:function(a){this._onmessageHandler&&
            this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=a)&&this.addEventListener("message",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"onerror",{get:function(){return this._onerrorHandler},set:function(a){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=a)&&this.addEventListener("error",a)},enumerable:!0,configurable:!0});b.prototype.postMessage=function(b){var d=this;a(function(){d._workerMessageHandler(g("message",
            {data:b}))})};b.prototype.dispatchEvent=function(a){return this._dispatcher.dispatchEvent(a)};b.prototype.addEventListener=function(a,b,d){this._dispatcher.addEventListener(a,b,d)};b.prototype.removeEventListener=function(a,b,d){this._dispatcher.removeEventListener(a,b,d)};b.prototype._workerPostMessage=function(b){var d=this;a(function(){d.dispatchEvent(g("message",{data:b}))})};b.prototype._workerMessageHandler=function(a){return e(this,void 0,void 0,function(){var b,d,e,f,g,k;return n(this,function(m){switch(m.label){case 0:b=
            h.receiveMessage(a);if(!b)return[2];d=b.type;switch(d){case h.MessageType.CONFIGURE:return[3,1];case h.MessageType.OPEN:return[3,2]}return[3,6];case 1:return this._isInitialized||this._workerPostMessage({type:h.MessageType.CONFIGURED}),[3,6];case 2:return e=b.modulePath,f=b.jobId,[4,l.loadWorker(e)];case 3:return(g=m.sent())?[3,5]:[4,new Promise(function(a,b){c([e],a,b)})];case 4:g=m.sent(),m.label=5;case 5:return k=l.connect(g),this._workerPostMessage({type:h.MessageType.OPENED,jobId:f,data:k}),
            [3,6];case 6:return[2]}})})};return b}()})},"esri/tasks/operations/zscale":function(){define(["require","exports","../../core/unitUtils","../../geometry/support/spatialReferenceUtils"],function(c,b,n,e){function m(b,c,a){if(!c||!a||a.vcsWkid||e.equals(c,a))return null;c=n.getMetersPerVerticalUnitForSR(c);a=n.getMetersPerVerticalUnitForSR(a);var d=c/a;if(1===d)return null;switch(b){case "point":case "esriGeometryPoint":return function(a){a&&null!=a.z&&(a.z*=d)};case "polyline":case "esriGeometryPolyline":return function(a){if(a){var b=
            0;for(a=a.paths;b<a.length;b++)for(var c=0,e=a[b];c<e.length;c++){var f=e[c];2<f.length&&(f[2]*=d)}}};case "polygon":case "esriGeometryPolygon":return function(a){if(a){var b=0;for(a=a.rings;b<a.length;b++)for(var c=0,e=a[b];c<e.length;c++){var f=e[c];2<f.length&&(f[2]*=d)}}};case "multipoint":case "esriGeometryMultipoint":return function(a){if(a){var b=0;for(a=a.points;b<a.length;b++){var c=a[b];2<c.length&&(c[2]*=d)}}};default:return null}}function l(b,c,a){if(null==b.hasM||b.hasZ)for(b=0;b<c.length;b++)for(var d=
            0,e=c[b];d<e.length;d++){var k=e[d];2<k.length&&(k[2]*=a)}}function h(b,c,a){if(b)for(var d=0;d<b.length;d++){var f=b[d].geometry,k=a;if(f&&f.spatialReference&&!e.equals(f.spatialReference,c)&&(k=n.getMetersPerVerticalUnitForSR(f.spatialReference)/k,1!==k))if("x"in f)null!=f.z&&(f.z*=k);else if("rings"in f)l(f,f.rings,k);else if("paths"in f)l(f,f.paths,k);else if("points"in f&&(null==f.hasM||f.hasZ))for(var h=0,f=f.points;h<f.length;h++){var m=f[h];2<m.length&&(m[2]*=k)}}}Object.defineProperty(b,
            "__esModule",{value:!0});b.getGeometryZScaler=m;b.applyFeatureSetZUnitScaling=function(b,c,a){if(a&&a.features&&a.hasZ&&(b=m(a.geometryType,c,b.outSpatialReference)))for(c=0,a=a.features;c<a.length;c++)b(a[c].geometry)};b.unapplyEditsZUnitScaling=function(b,c,a){if((b||c)&&a){var d=n.getMetersPerVerticalUnitForSR(a);h(b,a,d);h(c,a,d)}}})},"esri/tasks/support/FeatureSet":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r){var q=new h.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent"});c=function(b){function d(a){a=b.call(this,a)||this;a.displayFieldName=null;a.exceededTransferLimit=!1;a.features=[];a.fields=null;a.geometryType=null;a.hasM=!1;a.hasZ=!1;a.queryGeometry=null;a.spatialReference=null;return a}e(d,b);d.prototype.readFeatures=function(a,b){b=g.fromJSON(b.spatialReference);
                for(var d=[],c=0;c<a.length;c++){var e=a[c],f=l.fromJSON(e),e=e.geometry&&e.geometry.spatialReference;k.isSome(f.geometry)&&!e&&(f.geometry.spatialReference=b);d.push(f)}return d};d.prototype.writeGeometryType=function(a,b,d,c){if(a)q.write(a,b,d,c);else if(a=this.features)for(var e=0;e<a.length;e++){var f=a[e];if(f&&k.isSome(f.geometry)){q.write(f.geometry.type,b,d,c);break}}};d.prototype.writeSpatialReference=function(a,b){if(a)b.spatialReference=a.toJSON();else if(a=this.features)for(var d=0;d<
            a.length;d++){var c=a[d];c&&k.isSome(c.geometry)&&c.geometry.spatialReference&&(b.spatialReference=c.geometry.spatialReference.toJSON())}};d.prototype.toJSON=function(a){var b=this.write(null);if(b.features&&Array.isArray(a)&&0<a.length)for(var d=0;d<b.features.length;d++){var c=b.features[d];if(c.geometry){var e=a&&a[d];c.geometry=e&&e.toJSON()||c.geometry}}return b};d.prototype.quantize=function(a){for(var b=a.scale,d=b[0],c=b[1],b=a.translate,e=b[0],f=b[1],b=this.features,g=this._getQuantizationFunction(this.geometryType,
                function(a){return Math.round((a-e)/d)},function(a){return Math.round((f-a)/c)}),h=0,l=b.length;h<l;h++)g(k.expect(b[h].geometry))||(b.splice(h,1),h--,l--);this.transform=a;return this};d.prototype.unquantize=function(){var a=this.features,b=this.transform;if(!b)return this;for(var d=b.translate,c=d[0],e=d[1],b=b.scale,f=b[0],g=b[1],b=this._getHydrationFunction(this.geometryType,function(a){return a*f+c},function(a){return e-a*g}),d=0;d<a.length;d++){var h=a[d].geometry;k.isSome(h)&&b(h)}return this};
                d.prototype._quantizePoints=function(a,b,d){for(var c,e,f=[],g=0,h=a.length;g<h;g++){var k=a[g];if(0<g){var l=b(k[0]),k=d(k[1]);if(l!==c||k!==e)f.push([l-c,k-e]),c=l,e=k}else c=b(k[0]),e=d(k[1]),f.push([c,e])}return 0<f.length?f:null};d.prototype._getQuantizationFunction=function(a,b,d){var c=this;return"point"===a?function(a){a.x=b(a.x);a.y=d(a.y);return a}:"polyline"===a||"polygon"===a?function(a){for(var e=f.isPolygon(a)?a.rings:a.paths,g=[],k=0,h=e.length;k<h;k++){var l=c._quantizePoints(e[k],
                    b,d);l&&g.push(l)}return 0<g.length?(f.isPolygon(a)?a.rings=g:a.paths=g,a):null}:"multipoint"===a?function(a){var e;e=c._quantizePoints(a.points,b,d);return 0<e.length?(a.points=e,a):null}:"extent"===a?function(a){return a}:null};d.prototype._getHydrationFunction=function(a,b,d){if("point"===a)return function(a){a.x=b(a.x);a.y=d(a.y)};if("polyline"===a||"polygon"===a)return function(a){a=f.isPolygon(a)?a.rings:a.paths;for(var c,e,g=0,k=a.length;g<k;g++)for(var h=a[g],l=0,m=h.length;l<m;l++){var n=
                    h[l];0<l?(c+=n[0],e+=n[1]):(c=n[0],e=n[1]);n[0]=b(c);n[1]=d(e)}};if("extent"===a)return function(a){a.xmin=b(a.xmin);a.ymin=d(a.ymin);a.xmax=b(a.xmax);a.ymax=d(a.ymax)};if("multipoint"===a)return function(a){a=a.points;for(var c,e,f=0,g=a.length;f<g;f++){var k=a[f];0<f?(c+=k[0],e+=k[1]):(c=k[0],e=k[1]);k[0]=b(c);k[1]=d(e)}}};n([a.property({type:String,json:{write:!0}})],d.prototype,"displayFieldName",void 0);n([a.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
                    d.prototype,"exceededTransferLimit",void 0);n([a.property({type:[l],json:{write:!0}})],d.prototype,"features",void 0);n([a.reader("features")],d.prototype,"readFeatures",null);n([a.property({type:[r],json:{write:!0}})],d.prototype,"fields",void 0);n([a.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:q.read}}})],d.prototype,"geometryType",void 0);n([a.writer("geometryType")],d.prototype,"writeGeometryType",null);n([a.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
                    d.prototype,"hasM",void 0);n([a.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],d.prototype,"hasZ",void 0);n([a.property({types:m.geometryTypes,json:{read:f.fromJSON,write:!0}})],d.prototype,"queryGeometry",void 0);n([a.property({type:g,json:{write:!0}})],d.prototype,"spatialReference",void 0);n([a.writer("spatialReference")],d.prototype,"writeSpatialReference",null);n([a.property({json:{write:!0}})],d.prototype,"transform",void 0);return d=n([a.subclass("esri.tasks.support.FeatureSet")],
                    d)}(a.declared(d.JSONSupport));c.prototype.toJSON.isDefaultToJSON=!0;(function(a){})(c||(c={}));return c})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),function(c,b,n,e,m,l,h,d,k,a){var g=new m.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",
            dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(b){function c(a){a=b.call(this,a)||this;a.alias=null;a.defaultValue=void 0;a.description=null;a.domain=null;a.editable=!0;a.length=-1;a.name=null;a.nullable=!0;a.type=null;
            a.valueType=null;return a}n(c,b);f=c;c.prototype.readDescription=function(a,b){a=b.description;var d;try{d=JSON.parse(a)}catch(v){}return d?d.value:null};c.prototype.readValueType=function(a,b){a=b.description;var d;try{d=JSON.parse(a)}catch(v){}return d?g.fromJSON(d.fieldValueType):null};c.prototype.clone=function(){return new f({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,
            nullable:this.nullable,type:this.type,valueType:this.valueType})};var f;e([h.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);e([h.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);e([h.property()],c.prototype,"description",void 0);e([h.reader("description")],c.prototype,"readDescription",null);e([h.property({types:k.types,json:{read:{reader:k.fromJSON},write:!0}})],c.prototype,"domain",void 0);e([h.property({type:Boolean,json:{write:!0}})],
            c.prototype,"editable",void 0);e([h.property({type:d.Integer,json:{write:!0}})],c.prototype,"length",void 0);e([h.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);e([h.property({type:Boolean,json:{write:!0}})],c.prototype,"nullable",void 0);e([h.enumeration.serializable()(a.kebabDict)],c.prototype,"type",void 0);e([h.property()],c.prototype,"valueType",void 0);e([h.reader("valueType",["description"])],c.prototype,"readValueType",null);return c=f=e([h.subclass("esri.layers.support.Field")],
            c)}(h.declared(l.JSONSupport))})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.kebabDict=new n.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",
            esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/mixins/ArcGISService":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Logger ../../core/accessorSupport/decorators ../support/arcgisLayerUrl".split(" "),function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});b.ArcGISService=function(b){return function(b){function a(){return null!==
            b&&b.apply(this,arguments)||this}n(a,b);Object.defineProperty(a.prototype,"title",{get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){var a=h.parse(this.url);if(a&&a.title)return a.title}return this._get("title")||""},set:function(a){this._set("title",a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"url",{set:function(a){this._set("url",h.sanitizeUrl(a,m.getLogger(this.declaredClass)))},enumerable:!0,configurable:!0});
            e([l.property({dependsOn:["url"]})],a.prototype,"title",null);e([l.property({type:String})],a.prototype,"url",null);return a=e([l.subclass("esri.layers.mixins.ArcGISService")],a)}(l.declared(b))}})},"esri/layers/support/arcgisLayerUrl":function(){define(["require","exports","../../core/urlUtils"],function(c,b,n){function e(b){b=n.urlToObject(b);var d=b.path.match(l)||b.path.match(h);if(!d)return null;b=d[1];var a=d[2],c=d[3],d=d[4],e=a.indexOf("/");return{title:m(-1!==e?a.slice(e+1):a),serverType:c,
            sublayer:null!=d&&""!==d?parseInt(d,10):null,url:{path:b}}}function m(b){b=b.replace(/\s*[/_]+\s*/g," ");return b[0].toUpperCase()+b.slice(1)}Object.defineProperty(b,"__esModule",{value:!0});b.serverTypes="MapServer ImageServer FeatureServer SceneServer StreamServer VectorTileServer".split(" ");var l=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/("+b.serverTypes.join("|")+"))(?:\\/(?:layers\\/)?(\\d+))?","i"),h=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/("+b.serverTypes.join("|")+
            "))(?:\\/(?:layers\\/)?(\\d+))?","i");b.isArcGISUrl=function(b){return!!l.test(b)};b.parse=e;b.cleanTitle=m;b.titleFromUrlAndName=function(b,c){var a=[];b&&(b=e(b))&&b.title&&a.push(b.title);c&&(c=m(c),a.push(c));if(2===a.length){if(-1!==a[0].toLowerCase().indexOf(a[1].toLowerCase()))return a[0];if(-1!==a[1].toLowerCase().indexOf(a[0].toLowerCase()))return a[1]}return a.join(" - ")};b.isHostedAgolService=function(b){if(!b)return!1;b=b.toLowerCase();var d=-1!==b.indexOf(".arcgis.com/");b=-1!==b.indexOf("//services")||
            -1!==b.indexOf("//tiles")||-1!==b.indexOf("//features");return d&&b};b.isHostedSecuredProxyService=function(b,c){return c&&b&&-1!==b.toLowerCase().indexOf(c.toLowerCase())};b.sanitizeUrl=function(b,c){return b?n.removeTrailingSlash(n.removeQueryParameters(b,c)):b};b.sanitizeUrlWithLayerId=function(b,c,a){if(!c)return{url:c};c=n.removeQueryParameters(c,a);a=n.urlToObject(c);a=e(a.path);var d;a&&null!=a.sublayer&&(null==b.layerId&&(d=a.sublayer),c=a.url.path);return{url:n.removeTrailingSlash(c),layerId:d}};
            b.writeUrlWithLayerId=function(b,c,a,e,f){n.write(c,e,"url",f);e.url&&null!=b.layerId&&(e.url=n.join(e.url,a,b.layerId.toString()))};b.isWmsServer=function(b){if(!b)return!1;var d=b.toLowerCase();b=-1!==d.indexOf("/services/");var a=-1!==d.indexOf("/mapserver/wmsserver"),c=-1!==d.indexOf("/imageserver/wmsserver"),d=-1!==d.indexOf("/wmsserver");return b&&(a||c||d)};b.isServerOrServicesAGOLUrl=function(b){if(!b)return!1;b=(new n.Url(n.makeAbsolute(b))).authority.toLowerCase();return"server.arcgisonline.com"===
                b||"services.arcgisonline.com"===b}})},"esri/layers/mixins/TemporalLayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators ../../layers/support/TimeInfo ../support/fieldUtils ../support/timeUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a){Object.defineProperty(b,"__esModule",{value:!0});b.TemporalLayer=function(b){return function(b){function c(){var a=null!==b&&
            b.apply(this,arguments)||this;a.timeExtent=null;a.timeOffset=null;a.useViewTime=!0;return a}n(c,b);c.prototype.readOffset=function(b,d){d=d.timeInfo.exportOptions;if(!d)return null;b=d.timeOffset;d=a.timeUnitKebabDictionary.fromJSON(d.timeOffsetUnits);return b&&d?new l({value:b,unit:d}):null};Object.defineProperty(c.prototype,"timeInfo",{set:function(a){k.fixTimeInfoFields(a,this.fields);this._set("timeInfo",a)},enumerable:!0,configurable:!0});e([h.property({type:m,json:{write:!1}})],c.prototype,
            "timeExtent",void 0);e([h.property({type:l})],c.prototype,"timeOffset",void 0);e([h.reader("service","timeOffset",["timeInfo.exportOptions"])],c.prototype,"readOffset",null);e([h.property({value:null,type:d,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],c.prototype,"timeInfo",null);e([h.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"useViewTime",void 0);return c=e([h.subclass("esri.layers.mixins.TemporalLayer")],
            c)}(h.declared(b))}})},"esri/TimeExtent":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/accessorSupport/decorators ./layers/support/timeUtils".split(" "),function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.end=null;a.start=null;return a}n(d,b);a=d;d.prototype.readEnd=function(a,b){return null!=b.end?new Date(b.end):null};d.prototype.writeEnd=function(a,b){b.end=a?a.getTime():null};d.prototype.readStart=
            function(a,b){return null!=b.start?new Date(b.start):null};d.prototype.writeStart=function(a,b){b.start=a?a.getTime():null};d.prototype.clone=function(){return new a({end:this.end,start:this.start})};d.prototype.intersection=function(b){if(!b)return null;var d=this.start?this.start.getTime():-Infinity,c=this.end?this.end.getTime():Infinity,e=b.start?b.start.getTime():-Infinity;b=b.end?b.end.getTime():Infinity;var g,h;e>=d&&e<=c?g=e:d>=e&&d<=b&&(g=d);c>=e&&c<=b?h=c:b>=d&&b<=c&&(h=b);return isNaN(g)||
        isNaN(h)?null:(d=new a,d.start=-Infinity===g?null:new Date(g),d.end=Infinity===h?null:new Date(h),d)};d.prototype.offset=function(b,d){var c=new a,e=this.start,f=this.end;e&&(c.start=h.offsetDate(e,b,d));f&&(c.end=h.offsetDate(f,b,d));return c};d.prototype.equals=function(a){if(!a)return!1;var b=this.start?this.start.getTime():null,d=this.end?this.end.getTime():null,c=a.start?a.start.getTime():null;a=a.end?a.end.getTime():null;return b===c&&d===a};var a;e([l.property({type:Date,json:{write:{allowNull:!0}}})],
            d.prototype,"end",void 0);e([l.reader("end")],d.prototype,"readEnd",null);e([l.writer("end")],d.prototype,"writeEnd",null);e([l.property({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0);e([l.reader("start")],d.prototype,"readStart",null);e([l.writer("start")],d.prototype,"writeStart",null);return d=a=e([l.subclass("esri.TimeExtent")],d)}(l.declared(m.JSONSupport))})},"esri/layers/support/timeUtils":function(){define(["require","exports","../../TimeExtent","../../core/compilerUtils",
            "../../core/jsonMap"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});b.Milliseconds=function(b){return b};var l={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},
            months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};b.timeUnitKebabDictionary=m.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",
            esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});b.offsetDate=function(b,d,c){b=new Date(b.getTime());if(d&&c){c=l[c];var a=c.multiplier;b[c.setter](b[c.getter]()+d*a)}return b};b.combinedViewLayerTimeExtentProperty={type:n,dependsOn:"view.timeExtent layer.timeExtent layer.timeInfo layer.timeOffset layer.timeOffset.value layer.timeOffset.unit layer.useViewTime".split(" "),readOnly:!0,get:function(){if(!this.layer||!this.layer.timeInfo)return null;
                var b=this.view?this.view.timeExtent:null,b=this.layer.useViewTime?b:this.layer.timeExtent;if(!b)return null;var d=this.layer.timeOffset,b=d?b.offset(-d.value,d.unit):b,d=this._get("timeExtent");return b.equals(d)?d:b}};b.millisecondsPerTimeUnit={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};b.truncateDate=function(b,d){switch(d){case "milliseconds":return new Date(b.getTime());case "seconds":return new Date(b.getFullYear(),
            b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds());case "minutes":return new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes());case "hours":return new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours());case "days":return new Date(b.getFullYear(),b.getMonth(),b.getDate());case "weeks":return new Date(b.getFullYear(),b.getMonth(),b.getDate()-b.getDay());case "months":return new Date(b.getFullYear(),b.getMonth(),1);case "years":return new Date(b.getFullYear(),
            0,1);case "decades":return new Date(b.getFullYear()-b.getFullYear()%10,0,1);case "centuries":return new Date(b.getFullYear()-b.getFullYear()%100,0,1);default:return e.neverReached(d),null}}})},"esri/TimeInterval":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/accessorSupport/decorators ./layers/support/timeUtils".split(" "),function(c,b,n,e,m,l,h){return function(b){function d(a){a=b.call(this,a)||this;a.value=0;a.unit=
            "milliseconds";return a}n(d,b);a=d;d.prototype.toMilliseconds=function(){return this.value*h.millisecondsPerTimeUnit[this.unit]};d.prototype.clone=function(){return new a({value:this.value,unit:this.unit})};var a;e([l.property({type:Number,json:{write:!0},nonNullable:!0})],d.prototype,"value",void 0);e([l.property({type:h.timeUnitKebabDictionary.apiValues,json:{type:h.timeUnitKebabDictionary.jsonValues,read:h.timeUnitKebabDictionary.read,write:h.timeUnitKebabDictionary.write},nonNullable:!0})],d.prototype,
            "unit",void 0);return d=a=e([l.subclass("esri.TimeInterval")],d)}(l.declared(m.JSONSupport))})},"esri/layers/support/TimeInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./TimeReference ./timeUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a,g){return function(b){function c(a){a=b.call(this,a)||this;a.cumulative=!1;a.endField=
            null;a.fullTimeExtent=null;a.hasLiveData=!1;a.interval=null;a.startField=null;a.timeReference=null;a.trackIdField=null;a.useTime=!0;return a}n(c,b);f=c;c.prototype.readFullTimeExtent=function(a,b){return b.timeExtent&&Array.isArray(b.timeExtent)&&2===b.timeExtent.length?new m({start:b.timeExtent[0],end:b.timeExtent[1]}):null};c.prototype.writeFullTimeExtent=function(a,b){b.timeExtent=a&&a.start&&a.end?[a.start.getTime(),a.end.getTime()]:null};c.prototype.readInterval=function(a,b){return b.timeInterval&&
        b.timeIntervalUnits?new l({value:b.timeInterval,unit:g.timeUnitKebabDictionary.fromJSON(b.timeIntervalUnits)}):b.defaultTimeInterval&&b.defaultTimeIntervalUnits?new l({value:b.defaultTimeInterval,unit:g.timeUnitKebabDictionary.fromJSON(b.defaultTimeIntervalUnits)}):null};c.prototype.writeInterval=function(a,b){a?(a=a.toJSON(),b.timeInterval=a.value,b.timeIntervalUnits=a.unit):(b.timeInterval=null,b.timeIntervalUnits=null)};c.prototype.clone=function(){var a=this.fullTimeExtent,b=this.trackIdField,
            c=this.useTime;return new f({cumulative:this.cumulative,endField:this.endField,hasLiveData:this.hasLiveData,interval:this.interval,startField:this.startField,timeReference:d.clone(this.timeReference),fullTimeExtent:d.clone(a),trackIdField:b,useTime:c})};var f;e([k.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],c.prototype,"cumulative",void 0);e([k.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",
                    allowNull:!0}}})],c.prototype,"endField",void 0);e([k.property({type:m,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"fullTimeExtent",void 0);e([k.reader("fullTimeExtent",["timeExtent"])],c.prototype,"readFullTimeExtent",null);e([k.writer("fullTimeExtent")],c.prototype,"writeFullTimeExtent",null);e([k.property({type:Boolean,json:{write:!0}})],c.prototype,"hasLiveData",void 0);e([k.property({type:l,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"interval",void 0);e([k.reader("interval",
            ["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],c.prototype,"readInterval",null);e([k.writer("interval")],c.prototype,"writeInterval",null);e([k.property({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],c.prototype,"startField",void 0);e([k.property({type:a,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"timeReference",void 0);e([k.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,
            "trackIdField",void 0);e([k.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],c.prototype,"useTime",void 0);return c=f=e([k.subclass("esri.layers.support.TimeInfo")],c)}(k.declared(h.JSONSupport))})},"esri/layers/support/TimeReference":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       l){return function(b){function d(a){a=b.call(this,a)||this;a.respectsDaylightSaving=!1;a.timezone=null;return a}n(d,b);c=d;d.prototype.readRespectsDaylightSaving=function(a,b){return void 0!==b.respectsDaylightSaving?b.respectsDaylightSaving:void 0!==b.respectDaylightSaving?b.respectDaylightSaving:!1};d.prototype.clone=function(){return new c({respectsDaylightSaving:this.respectsDaylightSaving,timezone:this.timezone})};var c;e([l.property({type:Boolean,json:{write:!0}})],d.prototype,"respectsDaylightSaving",
            void 0);e([l.reader("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],d.prototype,"readRespectsDaylightSaving",null);e([l.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],d.prototype,"timezone",void 0);return d=c=e([l.subclass("esri.layers.support.TimeReference")],d)}(l.declared(m.JSONSupport))})},"esri/layers/support/FeatureIndex":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(a){return b.call(this,a)||this}n(d,b);c=d;d.prototype.clone=function(){return new c({name:this.name,fields:this.fields,isAscending:this.isAscending,isUnique:this.isUnique,description:this.description})};var c;e([l.property({constructOnly:!0})],d.prototype,"name",void 0);e([l.property({constructOnly:!0})],d.prototype,"fields",void 0);e([l.property({constructOnly:!0})],d.prototype,"isAscending",void 0);e([l.property({constructOnly:!0})],
                d.prototype,"isUnique",void 0);e([l.property({constructOnly:!0})],d.prototype,"description",void 0);return d=c=e([l.subclass("esri.layers.support.FeatureIndex")],d)}(l.declared(m.JSONSupport));b.FeatureIndex=c;b.default=c})},"esri/layers/support/FeatureReduction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",
            {value:!0});c=function(b){function d(){var d=null!==b&&b.apply(this,arguments)||this;d.type=null;return d}n(d,b);e([l.property({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=e([l.subclass("esri.layers.support.FeatureReduction")],d)}(l.declared(m.JSONSupport));b.FeatureReduction=c;b.default=c})},"esri/layers/support/FeatureReductionCluster":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../PopupTemplate ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function a(a){a=b.call(this,a)||this;a.type="cluster";a.clusterRadius=h.toPt("80px");a.popupTemplate=null;return a}n(a,b);e([d.property({type:["cluster"],readOnly:!0,json:{write:!0}})],a.prototype,"type",void 0);e([d.property({type:Number,cast:function(a){return"auto"===a?a:h.toPt(a)},json:{write:!0}})],a.prototype,"clusterRadius",void 0);e([d.property({type:m,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],
                a.prototype,"popupTemplate",void 0);return a=e([d.subclass("esri.layers.support.FeatureReductionCluster")],a)}(d.declared(l.JSONSupport));b.FeatureReductionCluster=c;b.default=c})},"esri/layers/support/FeatureReductionSelection":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./FeatureReduction".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function d(d){d=
            b.call(this,d)||this;d.type="selection";return d}n(d,b);e([m.property({type:["selection"]})],d.prototype,"type",void 0);return d=e([m.subclass("esri.layers.support.FeatureReductionSelection")],d)}(m.declared(l.default));b.FeatureReductionSelection=c;b.default=c})},"esri/layers/support/featureReductionUtils":function(){define("require exports ../../core/Error ../../core/object ./FeatureReduction ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),function(c,b,n,e,m,l,h){function d(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               a,d){return b?"selection"!==b.type?(d.messages&&d.messages.push(new n("featureReduction:unsupported","FeatureReduction of type '"+b.declaredClass+"' are not supported in scenes.",{featureReduction:b,context:d})),null):b.write(a,d):null}Object.defineProperty(b,"__esModule",{value:!0});b.webSceneFeatureReductionTypes={key:"type",base:m.default,typeMap:{selection:h.default}};b.read=function(b,a){a=a.layerDefinition||a;if(b=a.featureReduction)switch(b.type){case "selection":return h.default.fromJSON(b);
            case "cluster":return l.default.fromJSON(b)}return null};b.writeTarget=function(b,a,c,f){(b=d(b,{},f))&&e.setDeepValue(c,b,a)};b.write=d})},"esri/layers/support/FeatureTemplate":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h,d){var k=new m.default({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",
            esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});
            return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.description=null;b.drawingTool=null;b.prototype=null;b.thumbnail=null;return b}n(b,a);b.prototype.writeDrawingTool=function(a,b){b.drawingTool=k.toJSON(a)};b.prototype.writePrototype=function(a,b){b.prototype=h.fixJson(h.clone(a),!0)};b.prototype.writeThumbnail=function(a,b){b.thumbnail=h.fixJson(h.clone(a))};e([d.property({json:{write:!0}})],b.prototype,"name",void 0);e([d.property({json:{write:!0}})],b.prototype,"description",
                void 0);e([d.property({json:{read:k.read,write:k.write}})],b.prototype,"drawingTool",void 0);e([d.writer("drawingTool")],b.prototype,"writeDrawingTool",null);e([d.property({json:{write:!0}})],b.prototype,"prototype",void 0);e([d.writer("prototype")],b.prototype,"writePrototype",null);e([d.property({json:{write:!0}})],b.prototype,"thumbnail",void 0);e([d.writer("thumbnail")],b.prototype,"writeThumbnail",null);return b=e([d.subclass("esri.layers.support.FeatureTemplate")],b)}(d.declared(l.JSONSupport))})},
        "esri/layers/support/FeatureType":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./domains ./FeatureTemplate".split(" "),function(c,b,n,e,m,l,h,d,k){return function(a){function b(b){b=a.call(this,b)||this;b.id=null;b.name=null;b.domains=null;b.templates=null;return b}n(b,a);b.prototype.readDomains=function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var e=
            a[c];switch(e.type){case "range":b[c]=d.RangeDomain.fromJSON(e);break;case "codedValue":b[c]=d.CodedValueDomain.fromJSON(e);break;case "inherited":b[c]=d.InheritedDomain.fromJSON(e)}}return b};b.prototype.writeDomains=function(a,b){var d={},c;for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]&&a[c].toJSON());l.fixJson(d);b.domains=d};b.prototype.readTemplates=function(a){return a&&a.map(function(a){return new k(a)})};b.prototype.writeTemplates=function(a,b){b.templates=a&&a.map(function(a){return a.toJSON()})};
            e([h.property({json:{write:!0}})],b.prototype,"id",void 0);e([h.property({json:{write:!0}})],b.prototype,"name",void 0);e([h.property({json:{write:!0}})],b.prototype,"domains",void 0);e([h.reader("domains")],b.prototype,"readDomains",null);e([h.writer("domains")],b.prototype,"writeDomains",null);e([h.property({json:{write:!0}})],b.prototype,"templates",void 0);e([h.reader("templates")],b.prototype,"readTemplates",null);e([h.writer("templates")],b.prototype,"writeTemplates",null);return b=e([h.subclass("esri.layers.support.FeatureType")],
                b)}(h.declared(m.JSONSupport))})},"esri/layers/support/fieldProperties":function(){define("require exports @dojo/framework/shim/array ../../core/Logger ./Field ./fieldUtils".split(" "),function(c,b,n,e,m,l){Object.defineProperty(b,"__esModule",{value:!0});var h=e.getLogger("esri.layers.support.fieldProperties");b.defineFieldProperties=function(){return{fields:{type:[m],value:null},outFields:{type:[String],dependsOn:["fields"],json:{read:!1},set:function(b){this._userOutFields=b;this.notifyChange("outFields")},
                get:function(){var b=this._userOutFields;if(!b||!b.length)return null;if(n.includes(b,"*"))return["*"];if(!this.fields)return b;for(var c=0;c<b.length;c++){var a=b[c];l.hasField(this.fields,a)||h.error("field-attributes-layer:invalid-field","Invalid field "+a+" found in outFields",{layer:this,outFields:b})}return l.fixFields(this.fields,b)}}}}})},"esri/layers/support/FieldsIndex":function(){define(["require","exports","../../core/tsSupport/extendsHelper"],function(c,b,n){return function(){function b(b){this.fields=
            b;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this.dateFields=[];if(b){for(var c=[],e=0;e<b.length;e++){var d=b[e],k=d&&d.name;if(k){var a=k.toLowerCase().trim();this._fieldsMap.set(k,d);this._fieldsMap.set(a,d);c.push(a);if("date"===d.type||"esriFieldTypeDate"===d.type)this.dateFields.push(d),this._dateFieldsSet.add(d)}}c.sort();this.uid=c.join(",")}}b.prototype.destroy=function(){this._fieldsMap.clear()};b.prototype.has=function(b){return null!=this.get(b)};b.prototype.get=function(b){return null!=
        b?this._fieldsMap.get(b)||this._fieldsMap.get(b.toLowerCase().trim()):void 0};b.prototype.isDateField=function(b){return this._dateFieldsSet.has(this.get(b))};b.prototype.normalizeFieldName=function(b){if(b=this.get(b))return b.name};return b}()})},"esri/layers/support/LabelClass":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./LabelExpressionInfo ./labelUtils ./types ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u){function p(a){return a?"service"===a.origin?!1:!a.layer||!q.isOfType(a.layer,"map-image"):!0}var v=new d.default({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",
                esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",
                esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});return function(b){function d(a){a=b.call(this,a)||this;a.name=null;a.labelExpression=null;a.labelExpressionInfo=null;a.labelPlacement=
                null;a.maxScale=0;a.minScale=0;a.symbol=t.defaultTextSymbol2D;a.useCodedValues=void 0;a.where=null;return a}e(d,b);c=d;d.evaluateWhere=function(a,b){var d=function(a,b,d){switch(b){case "\x3d":return a==d?!0:!1;case "\x3c\x3e":return a!=d?!0:!1;case "\x3e":return a>d?!0:!1;case "\x3e\x3d":return a>=d?!0:!1;case "\x3c":return a<d?!0:!1;case "\x3c\x3d":return a<=d?!0:!1}return!1};try{if(null==a)return!0;var c=a.split(" ");if(3===c.length)return d(b[c[0]],c[1],c[2]);if(7===c.length){var e=d(b[c[0]],
                c[1],c[2]),f=c[3],g=d(b[c[4]],c[5],c[6]);switch(f){case "AND":return e&&g;case "OR":return e||g}}return!1}catch(H){console.log("Error.: can't parse \x3d "+a)}};d.prototype.readLabelExpression=function(a,b){b=b.labelExpressionInfo;if(!b||!b.value&&!b.expression)return a};d.prototype.writeLabelExpression=function(a,b,d,c){this.labelExpressionInfo&&(p(c)||c&&"service"===c.origin)&&(null!=this.labelExpressionInfo.value?a=this.labelExpressionInfo.value.replace(/\{/g,"[").replace(/\}/g,"]"):null!=this.labelExpressionInfo.expression&&
                (c=r.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression))&&(a="["+c+"]"));null!=a&&(b[d]=a)};d.prototype.writeLabelExpressionInfo=function(a,b,d,c){if(null==a&&null!=this.labelExpression&&p(c))a=new f({expression:this.getLabelExpressionArcade()});else if(!a)return;a=a.toJSON(c);a.expression&&(b[d]=a)};d.prototype.writeMaxScale=function(a,b){if(a||this.minScale)b.maxScale=a};d.prototype.writeMinScale=function(a,b){if(a||this.maxScale)b.minScale=a};d.prototype.getLabelExpression=function(){var a=
                {expression:"",type:"none"};this.labelExpressionInfo?this.labelExpressionInfo.value?(a.expression=this.labelExpressionInfo.value,a.type="conventional"):this.labelExpressionInfo.expression&&(a.expression=this.labelExpressionInfo.expression,a.type="arcade"):null!=this.labelExpression&&(a.expression=this.labelExpression.replace(/\[/g,"{").replace(/\]/g,"}"),a.type="conventional");return a};d.prototype.getLabelExpressionArcade=function(){var a=this.getLabelExpression();if(!a)return null;switch(a.type){case "conventional":return r.convertTemplatedStringToArcade(a.expression);
                case "arcade":return a.expression}return null};d.prototype.getLabelExpressionSingleField=function(){var a=this.getLabelExpression();if(!a)return null;switch(a.type){case "conventional":return r.getSingleFieldTemplatedString(a.expression);case "arcade":return r.getSingleFieldArcadeExpression(a.expression)}return null};d.prototype.clone=function(){return new c({labelExpression:this.labelExpression,labelExpressionInfo:a.clone(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,
                minScale:this.minScale,name:this.name,symbol:a.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};var c;n([g.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);n([g.property({type:String,json:{write:{allowNull:!0}}})],d.prototype,"labelExpression",void 0);n([g.reader("labelExpression")],d.prototype,"readLabelExpression",null);n([g.writer("labelExpression")],d.prototype,"writeLabelExpression",null);n([g.property({type:f,json:{write:{overridePolicy:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    b,d){return p(d)?{allowNull:!0}:{enabled:!1}}}}})],d.prototype,"labelExpressionInfo",void 0);n([g.writer("labelExpressionInfo")],d.prototype,"writeLabelExpressionInfo",null);n([g.property({type:v.apiValues,json:{type:v.jsonValues,read:v.read,write:v.write}})],d.prototype,"labelPlacement",void 0);n([g.property({type:Number})],d.prototype,"maxScale",void 0);n([g.writer("maxScale")],d.prototype,"writeMaxScale",null);n([g.property({type:Number})],d.prototype,"minScale",void 0);n([g.writer("minScale")],
                d.prototype,"writeMinScale",null);n([g.property({types:h.symbolTypesLabel,json:{origins:{"web-scene":{types:h.symbolTypesLabel3D,read:u.read,write:u.writeTarget,default:null}},read:u.read,write:u.writeTarget,default:null}})],d.prototype,"symbol",void 0);n([g.property({type:Boolean,json:{write:!0}})],d.prototype,"useCodedValues",void 0);n([g.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);return d=c=n([g.subclass("esri.layers.support.LabelClass")],d)}(g.declared(k.JSONSupport))})},
        "esri/layers/support/LabelExpressionInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./labelUtils".split(" "),function(c,b,n,e,m,l,h){return function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.value=null;a.expression=null;return a}n(d,b);a=d;d.prototype.readExpression=function(a,b){return b.value?h.convertTemplatedStringToArcade(b.value):a};d.prototype.writeExpression=
            function(a,b,d){null!=this.value&&(a=h.convertTemplatedStringToArcade(this.value));b[d]=a};d.prototype.clone=function(){return new a({value:this.value,expression:this.expression})};var a;e([l.property({json:{read:!1,write:!1}})],d.prototype,"value",void 0);e([l.property({type:String,json:{write:{allowNull:!0}}})],d.prototype,"expression",void 0);e([l.reader("expression",["expression","value"])],d.prototype,"readExpression",null);e([l.writer("expression")],d.prototype,"writeExpression",null);return d=
            a=e([l.subclass("esri.layers.support.LabelExpressionInfo")],d)}(l.declared(m.JSONSupport))})},"esri/layers/support/labelUtils":function(){define(["require","exports","../../core/string"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});var e=/__begin__/ig,m=/__end__/ig,l=/^__begin__/i,h=/__end__$/i;b.convertTemplatedStringToArcade=function(a){a?(a=n.replace(a,function(a){return'__begin__$feature["'+a+'"]__end__'}),a=l.test(a)?a.replace(l,""):'"'+a,a=h.test(a)?a.replace(h,""):a+'"',
            a=a.replace(e,'" + ').replace(m,' + "')):a='""';return a};var d=/^\s*\{([^}]+)\}\s*$/i;b.getSingleFieldTemplatedString=function(a){return(a=a.match(d))&&a[1].trim()||null};var k=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,a=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,g=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;b.getSingleFieldArcadeExpression=function(b){if(!b)return null;
            var d=k.exec(b)||a.exec(b);return d?d[1]||d[3]:(d=g.exec(b))?d[2]:null}})},"esri/symbols/support/defaults":function(){define("require exports ../../core/compilerUtils ../../core/maybe ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),function(c,b,n,e,m,l,h,d,k){Object.defineProperty(b,"__esModule",{value:!0});b.defaultPointSymbol2D=h.fromJSON(k.defaultPointSymbolJSON);b.defaultPolylineSymbol2D=l.fromJSON(k.defaultPolylineSymbolJSON);b.defaultPolygonSymbol2D=
            m.fromJSON(k.defaultPolygonSymbolJSON);b.defaultTextSymbol2D=d.fromJSON(k.defaultTextSymbolJSON);b.getDefaultSymbol2D=function(a){if(e.isNone(a))return null;switch(a.type){case "mesh":break;case "point":case "multipoint":return b.defaultPointSymbol2D;case "polyline":return b.defaultPolylineSymbol2D;case "polygon":case "extent":return b.defaultPolygonSymbol2D;default:n.neverReached(a)}return null};b.errorPointSymbol2D=h.fromJSON(k.errorPointSymbolJSON);b.errorPolylineSymbol2D=l.fromJSON(k.errorPolylineSymbolJSON);
            b.errorPolygonSymbol2D=m.fromJSON(k.errorPolygonSymbolJSON)})},"esri/symbols/support/defaultsJSON":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.defaultColor=[252,146,31,255];b.defaultOutlineColor=[153,153,153,255];b.defaultPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",size:6,color:b.defaultColor,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}};b.defaultPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",
            width:.75,color:b.defaultColor};b.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};b.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0};b.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,
                0,0,255],outline:null,size:10.5};b.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};b.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}})},"esri/layers/support/labelingInfo":function(){define(["require","exports","./LabelClass"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});var e=/\[([^\[\]]+)\]/gi;b.reader=function(b,c,h){var d=this;return b?b.map(function(b){var a=new n;a.read(b,h);if(a.labelExpression){var g=
            c.fields||c.layerDefinition&&c.layerDefinition.fields||d.fields;a.labelExpression=a.labelExpression.replace(e,function(a,b){a:if(g){a=b.toLowerCase();for(var d=0;d<g.length;d++){var c=g[d].name;if(c.toLowerCase()===a){b=c;break a}}}return"["+b+"]"})}return a}):null}})},"esri/layers/support/layerSourceUtils":function(){define(["require","exports","../../core/jsonMap","../../core/lang"],function(c,b,n,e){function m(a){return null!=a&&a.hasOwnProperty("mapLayerId")}function l(a){return null!=a&&a.hasOwnProperty("dataSource")}
            function h(a){if(!a)return a;m(a)&&(a.type=b.MAPLAYER);if(l(a)&&(a.type=b.DATALAYER,!a.dataSource.type)){var d=a.dataSource;d.workspaceId?d.type=d.gdbVersion?"table":d.query||d.oidFields?"query-table":"raster":d.leftTableKey&&d.rightTableKey&&d.leftTableSource&&d.rightTableSource&&(d.type="join-table",d.leftTableSource=h(d.leftTableSource),d.rightTableSource=h(d.rightTableSource))}return a}function d(c){var h={};if(c.type===b.MAPLAYER)h.mapLayerId=c.mapLayerId,c.gdbVersion&&(h.gdbVersion=c.gdbVersion);
            else if(c.type===b.DATALAYER){c.fields&&(h.fields=c.fields);var k;k=c.dataSource;var l;switch(k.type){case "table":l={dataSourceName:k.dataSourceName,workspaceId:k.workspaceId,gdbVersion:k.gdbVersion};break;case "query-table":l={geometryType:a.toJSON(k.geometryType),workspaceId:k.workspaceId,query:k.query,oidFields:k.oidFields,spatialReference:k.spatialReference};break;case "join-table":l={leftTableSource:d(k.leftTableSource),rightTableSource:d(k.rightTableSource),leftTableKey:k.leftTableKey,rightTableKey:k.rightTableKey,
                joinType:r.toJSON(k.joinType)};break;case "raster":l={workspaceId:k.workspaceId,dataSourceName:k.dataSourceName}}l.type=f.toJSON(k.type);k=e.fixJson(l);h.dataSource=k}h.type=g.toJSON(c.type);return e.fixJson(h)}function k(d){var c={};if(g.fromJSON(d.type)===b.MAPLAYER)c.mapLayerId=d.mapLayerId,d.gdbVersion&&(c.gdbVersion=d.gdbVersion);else if(g.fromJSON(d.type)===b.DATALAYER){d.fields&&(c.fields=d.fields);var h;h=d.dataSource;var l;switch(h.type){case "table":l={dataSourceName:h.dataSourceName,workspaceId:h.workspaceId,
                gdbVersion:h.gdbVersion};break;case "queryTable":l={geometryType:a.fromJSON(h.geometryType),workspaceId:h.workspaceId,query:h.query,oidFields:h.oidFields,spatialReference:h.spatialReference};break;case "joinTable":l={leftTableSource:k(h.leftTableSource),rightTableSource:k(h.rightTableSource),leftTableKey:h.leftTableKey,rightTableKey:h.rightTableKey,joinType:r.fromJSON(h.joinType)};break;case "raster":l={workspaceId:h.workspaceId,dataSourceName:h.dataSourceName}}l.type=f.fromJSON(h.type);h=e.fixJson(l);
                c.dataSource=h}c.type=g.fromJSON(d.type);return e.fixJson(c)}Object.defineProperty(b,"__esModule",{value:!0});b.MAPLAYER="map-layer";b.DATALAYER="data-layer";var a=new n.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),g=new n.default({mapLayer:b.MAPLAYER,dataLayer:b.DATALAYER}),f=new n.default({joinTable:"join-table",queryTable:"query-table"}),r=new n.default({esriLeftOuterJoin:"left-outer-join",
                esriLeftInnerJoin:"left-inner-join"});b.isMapLayerSource=m;b.isDataLayerSource=l;b.castSource=h;b.sourceToJSON=d;b.sourceFromJSON=k})},"esri/layers/support/Relationship":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h){var d=new m.default({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",
            esriRelCardinalityManyToMany:"many-to-many"});return function(b){function a(a){a=b.call(this,a)||this;a.cardinality=null;a.id=null;a.keyField=null;a.name=null;a.relatedTableId=null;return a}n(a,b);e([h.property({json:{read:d.read,write:d.write}})],a.prototype,"cardinality",void 0);e([h.property({json:{read:!0,write:!0}})],a.prototype,"id",void 0);e([h.property({json:{read:!0,write:!0}})],a.prototype,"keyField",void 0);e([h.property({json:{read:!0,write:!0}})],a.prototype,"name",void 0);e([h.property({json:{read:!0,
                write:!0}})],a.prototype,"relatedTableId",void 0);return a=e([h.subclass("esri.layers.support.Relationship")],a)}(h.declared(l.JSONSupport))})},"esri/support/popupUtils":function(){define("require exports ../core/tsSupport/assignHelper ../PopupTemplate ../layers/support/fieldUtils ../popup/content ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),function(c,b,n,e,m,l,h,d){function k(b,d){var c=b;d.ignoreFieldTypes&&(b=b.filter(function(a){return-1===d.ignoreFieldTypes.indexOf(a.type)}));
            if(0===b.length)return null;b===c&&(b=b.slice());b.sort(a);return{fields:b}}function a(a,b){return"oid"===a.type?-1:"oid"===b.type?1:r(a)?-1:r(b)?1:(a.alias||a.name).toLocaleLowerCase().localeCompare((b.alias||b.name).toLocaleLowerCase())}function g(a){var b=a.visibleFieldNames,d=a.editFieldsInfo;return a.fields.map(function(a){var c=a.name,e;if(e=a.editable&&-1===q.indexOf(a.type)){if((e=a.name)&&d){var g=d.creationDateField,k=d.creatorField,l=d.editDateField,m=d.editorField;e=-1!==[g&&g.toLowerCase(),
            k&&k.toLowerCase(),l&&l.toLowerCase(),m&&m.toLowerCase()].indexOf(e.toLowerCase())}else e=!1;e=!e}return new h({fieldName:c,isEditable:e,label:a.alias,format:f(a),visible:b?b.has(a.name):!0})})}function f(a){switch(a.type){case "small-integer":case "integer":case "single":return new d({digitSeparator:!0,places:0});case "double":return new d({digitSeparator:!0,places:2});case "date":return new d({dateFormat:"long-month-day-year"});default:return null}}function r(a){if("name"===(a.name&&a.name.toLowerCase())||
            "name"===(a.alias&&a.alias.toLowerCase()))return!0}Object.defineProperty(b,"__esModule",{value:!0});var q=["oid","global-id","guid"];b.createPopupTemplate=function(a,b){var d=a.displayField,c=a.fields,f=a.title,h=a.visibleFieldNames;a=a.editFieldsInfo;if(!c)return null;b=n({},t,b);c=k(c,b);if(!c)return null;f={titleBase:f,fields:c.fields,displayField:d};d=m.getDisplayFieldName(f);f=f.titleBase;d=d?f+": {"+d.trim()+"}":f;f=[new l.FieldsContent,new l.AttachmentsContent];h=g({fields:c.fields,visibleFieldNames:h,
            editFieldsInfo:a});return new e({title:d,content:f,fieldInfos:h})};var t={ignoreFieldTypes:["geometry","blob","raster","guid","xml"]}})},"esri/tasks/support/AttachmentQuery":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(c,b,n,e,m,l,h,d){c=function(b){function a(a){a=b.call(this,a)||this;a.attachmentTypes=
            null;a.attachmentsWhere=null;a.keywords=null;a.globalIds=null;a.name=null;a.num=null;a.objectIds=null;a.returnMetadata=!1;a.size=null;a.start=null;a.where=null;return a}n(a,b);d=a;a.prototype.writeStart=function(a,b){b.resultOffset=this.start;b.resultRecordCount=this.num||10};a.prototype.clone=function(){return new d(l.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,
            returnMetadata:this.returnMetadata,size:this.size,start:this.start}))};var d;e([h.property({type:[String],json:{write:!0}})],a.prototype,"attachmentTypes",void 0);e([h.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],a.prototype,"attachmentsWhere",void 0);e([h.property({type:[String],json:{write:!0}})],a.prototype,"keywords",void 0);e([h.property({type:[Number],json:{write:!0}})],a.prototype,"globalIds",void 0);e([h.property({json:{write:!0}})],
            a.prototype,"name",void 0);e([h.property({type:Number,json:{read:{source:"resultRecordCount"}}})],a.prototype,"num",void 0);e([h.property({type:[Number],json:{write:!0}})],a.prototype,"objectIds",void 0);e([h.property({type:Boolean,json:{default:!1,write:!0}})],a.prototype,"returnMetadata",void 0);e([h.property({type:[Number],json:{write:!0}})],a.prototype,"size",void 0);e([h.property({type:Number,json:{read:{source:"resultOffset"}}})],a.prototype,"start",void 0);e([h.writer("start"),h.writer("num")],
            a.prototype,"writeStart",null);e([h.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],a.prototype,"where",void 0);return a=d=e([h.subclass("esri.tasks.support.AttachmentQuery")],a)}(h.declared(m.JSONSupport));c.from=d.default(c);return c})},"esri/tasks/support/Query":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../geometry ../../symbols ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../symbols/support/jsonUtils ./QuantizationParameters ./StatisticDefinition".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p){var v=new k.default({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),w=new k.default({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
                esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});return function(a){function b(b){b=a.call(this,b)||this;b.cacheHint=!1;b.datumTransformation=null;b.distance=void 0;b.gdbVersion=null;b.geometry=null;b.geometryPrecision=void 0;b.groupByFieldsForStatistics=null;b.having=null;b.historicMoment=null;b.maxAllowableOffset=void 0;b.maxRecordCountFactor=1;b.multipatchOption=null;b.num=void 0;b.objectIds=null;b.orderByFields=
                null;b.outFields=null;b.outSpatialReference=null;b.outStatistics=null;b.parameterValues=null;b.pixelSize=null;b.quantizationParameters=null;b.rangeValues=null;b.relationParameter=null;b.resultType=null;b.returnCentroid=!1;b.returnDistinctValues=!1;b.returnExceededLimitFeatures=!0;b.returnGeometry=!1;b.returnQueryGeometry=!1;b.returnM=void 0;b.returnZ=void 0;b.source=null;b.spatialRelationship="intersects";b.start=void 0;b.sqlFormat=null;b.text=null;b.timeExtent=null;b.units=null;b.where=null;return b}
                n(b,a);c=b;b.from=function(a){return r.ensureClass(c,a)};b.prototype.castDatumTransformation=function(a){return"number"===typeof a||"object"===typeof a?a:null};b.prototype.writeHistoricMoment=function(a,b){b.historicMoment=a&&a.getTime()};b.prototype.writeParameterValues=function(a,b){if(a){var d={},c;for(c in a){var e=a[c];Array.isArray(e)?d[c]=e.map(function(a){return a instanceof Date?a.getTime():a}):d[c]=e instanceof Date?e.getTime():e}b.parameterValues=d}};b.prototype.writeStart=function(a,b){b.resultOffset=
                    this.start;b.resultRecordCount=this.num||10;b.where="1\x3d1"};b.prototype.writeWhere=function(a,b){b.where=a||"1\x3d1"};b.prototype.clone=function(){return new c(g.clone({cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):
                        null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,
                    returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,source:this.source,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};var c;b.MAX_MAX_RECORD_COUNT_FACTOR=5;e([f.property({type:Boolean,
                    json:{write:!0,default:!1}})],b.prototype,"cacheHint",void 0);e([f.property({json:{write:!0}})],b.prototype,"datumTransformation",void 0);e([f.cast("datumTransformation")],b.prototype,"castDatumTransformation",null);e([f.property({type:Number,json:{write:{overridePolicy:function(a){return{enabled:0<a}}}}})],b.prototype,"distance",void 0);e([f.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);e([f.property({types:l.geometryTypes,json:{read:q.fromJSON,write:!0}})],b.prototype,
                    "geometry",void 0);e([f.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);e([f.property({type:[String],json:{write:!0}})],b.prototype,"groupByFieldsForStatistics",void 0);e([f.property({type:String,json:{write:!0}})],b.prototype,"having",void 0);e([f.property({type:Date})],b.prototype,"historicMoment",void 0);e([f.writer("historicMoment")],b.prototype,"writeHistoricMoment",null);e([f.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);e([f.property({type:Number,
                    cast:function(a){return 1>a?1:a>c.MAX_MAX_RECORD_COUNT_FACTOR?c.MAX_MAX_RECORD_COUNT_FACTOR:a},json:{write:{overridePolicy:function(a){return{enabled:1<a}}}}})],b.prototype,"maxRecordCountFactor",void 0);e([f.property({type:String,json:{write:!0}})],b.prototype,"multipatchOption",void 0);e([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);e([f.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);e([f.property({type:[String],json:{write:!0}})],
                    b.prototype,"orderByFields",void 0);e([f.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);e([f.property({type:m.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);e([f.property({type:[p],json:{write:!0}})],b.prototype,"outStatistics",void 0);e([f.property({json:{write:!0}})],b.prototype,"parameterValues",void 0);e([f.writer("parameterValues")],b.prototype,"writeParameterValues",null);e([f.property({types:h.symbolTypes,
                    json:{read:t.read,write:!0}})],b.prototype,"pixelSize",void 0);e([f.property({type:u.default,json:{write:!0}})],b.prototype,"quantizationParameters",void 0);e([f.property({type:[Object],json:{write:!0}})],b.prototype,"rangeValues",void 0);e([f.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(){return{enabled:"relation"===this.spatialRelationship}}}}})],b.prototype,"relationParameter",void 0);e([f.property({type:String,json:{write:!0}})],
                    b.prototype,"resultType",void 0);e([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnCentroid",void 0);e([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnDistinctValues",void 0);e([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:!a}}}}})],b.prototype,"returnExceededLimitFeatures",void 0);e([f.property({type:Boolean,json:{write:!0}})],b.prototype,"returnGeometry",
                    void 0);e([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnQueryGeometry",void 0);e([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnM",void 0);e([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnZ",void 0);e([f.property({json:{write:!0}})],b.prototype,"source",void 0);e([f.property({type:String,json:{read:{source:"spatialRel",
                            reader:v.read},write:{target:"spatialRel",writer:v.write}}})],b.prototype,"spatialRelationship",void 0);e([f.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);e([f.writer("start"),f.writer("num")],b.prototype,"writeStart",null);e([f.property({type:String,json:{write:!0}})],b.prototype,"sqlFormat",void 0);e([f.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([f.property({type:d,json:{write:!0}})],b.prototype,"timeExtent",void 0);e([f.property({type:String,
                    json:{read:w.read,write:{writer:w.write,overridePolicy:function(a){return{enabled:a&&0<this.distance}}}}})],b.prototype,"units",void 0);e([f.property({type:String,json:{write:{overridePolicy:function(a){return{enabled:null!=a||0<this.start}}}}})],b.prototype,"where",void 0);e([f.writer("where")],b.prototype,"writeWhere",null);return b=c=e([f.subclass("esri.tasks.support.Query")],b)}(f.declared(a.JSONSupport))})},"esri/tasks/support/QuantizationParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h,d,k){Object.defineProperty(b,"__esModule",{value:!0});var a=new l.default({upperLeft:"upper-left",lowerLeft:"lower-left"});c=function(b){function c(a){a=b.call(this,a)||this;a.extent=null;a.mode="view";a.originPosition="upper-left";a.tolerance=1;return a}n(c,b);g=c;c.prototype.clone=function(){return new g(d.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};var g;e([k.property({type:m.Extent,json:{write:!0}})],c.prototype,
                "extent",void 0);e([k.property({type:["view","edit"],json:{write:!0}})],c.prototype,"mode",void 0);e([k.property({type:String,json:{read:a.read,write:a.write}})],c.prototype,"originPosition",void 0);e([k.property({type:Number,json:{write:!0}})],c.prototype,"tolerance",void 0);return c=g=e([k.subclass("esri.tasks.support.QuantizationParameters")],c)}(k.declared(h.JSONSupport));b.default=c})},"esri/tasks/support/StatisticDefinition":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h,d){var k=new m.default({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});return function(a){function b(b){b=a.call(this,b)||this;b.maxPointCount=void 0;b.maxRecordCount=void 0;b.maxVertexCount=void 0;b.onStatisticField=null;b.outStatisticFieldName=null;b.statisticType=null;b.statisticParameters=null;return b}n(b,a);c=b;b.prototype.writeStatisticParameters=
                function(a,b){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)b.statisticParameters=h.clone(a)};b.prototype.clone=function(){return new c({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:h.clone(this.statisticParameters)})};var c;e([d.property({type:Number,json:{write:!0}})],
                b.prototype,"maxPointCount",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"maxRecordCount",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"maxVertexCount",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"outStatisticFieldName",void 0);e([d.property({type:String,json:{read:{source:"statisticType",reader:k.read},write:{target:"statisticType",writer:k.write}}})],
                b.prototype,"statisticType",void 0);e([d.property({type:Object})],b.prototype,"statisticParameters",void 0);e([d.writer("statisticParameters")],b.prototype,"writeStatisticParameters",null);return b=c=e([d.subclass("esri.tasks.support.StatisticDefinition")],b)}(d.declared(l.JSONSupport))})},"esri/tasks/support/RelationshipQuery":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),
            function(c,b,n,e,m,l,h,d,k){c=function(a){function b(b){b=a.call(this,b)||this;b.gdbVersion=null;b.geometryPrecision=void 0;b.historicMoment=null;b.maxAllowableOffset=void 0;b.objectIds=null;b.outFields=null;b.outSpatialReference=null;b.relationshipId=void 0;b.returnGeometry=!1;b.source=null;b.where=null;return b}n(b,a);c=b;b.prototype._writeHistoricMoment=function(a,b){b.historicMoment=a&&a.getTime()};b.prototype.clone=function(){return new c(h.clone({gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,
                historicMoment:this.historicMoment&&this.historicMoment.getTime(),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,returnGeometry:this.returnGeometry,source:this.source,where:this.where}))};var c;e([d.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);e([d.property({type:Date})],
                b.prototype,"historicMoment",void 0);e([d.writer("historicMoment")],b.prototype,"_writeHistoricMoment",null);e([d.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);e([d.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);e([d.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);e([d.property({type:m.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);e([d.property({json:{write:!0}})],
                b.prototype,"relationshipId",void 0);e([d.property({json:{write:!0}})],b.prototype,"returnGeometry",void 0);e([d.property({json:{write:!0}})],b.prototype,"source",void 0);e([d.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);return b=c=e([d.subclass("esri.tasks.support.RelationshipQuery")],b)}(d.declared(l.JSONSupport));c.from=k.default(c);return c})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/tsSupport/assignHelper ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/awaiterHelper ../../../request ../../../core/Error ../../../core/Loadable ../../../core/maybe ../../../core/promiseUtils ../../../core/urlUtils ../../../core/accessorSupport/decorators ../../../tasks/QueryTask ../../../tasks/operations/queryAttachments ../../../tasks/operations/zscale".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p){function v(a){return h(this,void 0,void 0,function(){var b;return l(this,function(d){return"string"===typeof a?(b=r.dataComponents(a),[2,b?b:{data:a}]):[2,f.create(function(b,d){var c=new FileReader;c.readAsDataURL(a);c.onload=function(){return b(r.dataComponents(c.result))};c.onerror=function(a){return d(a)}})]})})}Object.defineProperty(b,"__esModule",{value:!0});c=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.type="feature-layer";
                return b}n(b,a);b.prototype.load=function(a){a=g.isSome(a)?a.signal:null;this.addResolvingPromise(this._fetchService(a));return f.resolve(this)};Object.defineProperty(b.prototype,"queryTask",{get:function(){var a=this.layer,b=a.parsedUrl,d=a.gdbVersion,c=a.spatialReference;return new t({url:null!=a.dynamicDataSource?b.path+"?"+r.objectToQuery(b.query):b.path,gdbVersion:d,sourceSpatialReference:c})},enumerable:!0,configurable:!0});b.prototype.addAttachment=function(a,b){var c=this;return this.load().then(function(){var e=
                a.attributes[c.layer.objectIdField],f=c.layer.parsedUrl.path+"/"+e+"/addAttachment",g=m({f:"json"},c.layer.parsedUrl.query,{gdbVersion:c.layer.gdbVersion}),g=c._getFormDataForAttachment(b,g);return d(f,{body:g}).then(function(a){return c._createFeatureEditResult(a.data.addAttachmentResult)}).catch(function(a){throw c._createAttachmentErrorResult(e,a);})})};b.prototype.updateAttachment=function(a,b,c){var e=this;return this.load().then(function(){var f=a.attributes[e.layer.objectIdField],g=e.layer.parsedUrl.path+
                "/"+f+"/updateAttachment",h=m({f:"json"},e.layer.parsedUrl.query,{gdbVersion:e.layer.gdbVersion,attachmentId:b}),h=e._getFormDataForAttachment(c,h);return d(g,{body:h}).then(function(a){return e._createFeatureEditResult(a.data.updateAttachmentResult)}).catch(function(a){throw e._createAttachmentErrorResult(f,a);})})};b.prototype.applyEdits=function(a,b){return h(this,void 0,void 0,function(){var c,e,f,g,h,k,m,n,q,t,u,r,v,w,y,z,A,V;return l(this,function(l){switch(l.label){case 0:return[4,this.load()];
                case 1:l.sent(),c=a.addFeatures.map(this._serializeFeature,this),e=a.updateFeatures.map(this._serializeFeature,this),f=this._getFeatureIds(a.deleteFeatures),p.unapplyEditsZUnitScaling(c,e,this.layer.spatialReference),g=[],h=[],k=a.deleteAttachments.slice(),m=0,n=a.addAttachments,l.label=2;case 2:if(!(m<n.length))return[3,5];q=n[m];u=(t=g).push;return[4,this._serializeAttachment(q)];case 3:u.apply(t,[l.sent()]),l.label=4;case 4:return m++,[3,2];case 5:r=0,v=a.updateAttachments,l.label=6;case 6:if(!(r<
                    v.length))return[3,9];q=v[r];y=(w=h).push;return[4,this._serializeAttachment(q)];case 7:y.apply(w,[l.sent()]),l.label=8;case 8:return r++,[3,6];case 9:return z=g.length||h.length||k.length?{adds:g,updates:h,deletes:k}:null,A={f:"json",adds:c.length?JSON.stringify(c):null,updates:e.length?JSON.stringify(e):null,deletes:f.length?f.join(","):null,gdbVersion:b&&b.gdbVersion||this.layer.gdbVersion,rollbackOnFailure:b&&b.rollbackOnFailureEnabled,useGlobalIds:b&&b.globalIdUsed,attachments:z&&JSON.stringify(z)},
                    [4,d(this.layer.parsedUrl.path+"/applyEdits",{query:A,method:"post",responseType:"json"})];case 10:return V=l.sent(),[2,this._createEditsResult(V)]}})})};b.prototype.deleteAttachments=function(a,b){var c=this;return this.load().then(function(){var e=a.attributes[c.layer.objectIdField];return d(c.layer.parsedUrl.path+"/"+e+"/deleteAttachments",{query:m({f:"json"},c.layer.parsedUrl.query,{gdbVersion:c.layer.gdbVersion,attachmentIds:b.join(",")}),method:"post",responseType:"json"}).then(function(a){return a.data.deleteAttachmentResults.map(c._createFeatureEditResult)}).catch(function(a){throw c._createAttachmentErrorResult(e,
                a);})})};b.prototype.queryAttachments=function(a,b){var c=this;void 0===b&&(b={});var e=this.layer.parsedUrl,g=e.path;return this.load().then(function(){var h=m({},b,{query:m({},e.query,{gdbVersion:c.layer.gdbVersion,f:"json"}),responseType:"json"});if(!c.layer.get("capabilities.operations.supportsQueryAttachments")){for(var k=a.objectIds,l=[],n=0;n<k.length;n++)l.push(d(g+"/"+k[n]+"/attachments",h));return f.all(l).then(function(a){return k.map(function(b,d){return{parentObjectId:b,attachmentInfos:a[d].data.attachmentInfos}})}).then(function(a){return u.processAttachmentQueryResult(a,
                g)})}return c.queryTask.executeAttachmentQuery(a,h)})};b.prototype.queryFeatures=function(a,b){var d=this;return this.load().then(function(){return d.queryTask.execute(a,b)})};b.prototype.queryFeaturesJSON=function(a,b){var d=this;return this.load().then(function(){return d.queryTask.executeJSON(a,b)})};b.prototype.queryObjectIds=function(a,b){var d=this;return this.load().then(function(){return d.queryTask.executeForIds(a,b)})};b.prototype.queryFeatureCount=function(a,b){var d=this;return this.load().then(function(){return d.queryTask.executeForCount(a,
                b)})};b.prototype.queryExtent=function(a,b){var d=this;return this.load().then(function(){return d.queryTask.executeForExtent(a,b)})};b.prototype.queryRelatedFeatures=function(a,b){var d=this;return this.load().then(function(){return d.queryTask.executeRelationshipQuery(a,b)})};b.prototype._fetchService=function(a){return h(this,void 0,void 0,function(){var b,c;return l(this,function(e){switch(e.label){case 0:return(b=this.layer.sourceJSON)?(this.sourceJSON=b,[2]):[4,d(this.layer.parsedUrl.path,{query:m({f:"json"},
                    this.layer.parsedUrl.query),responseType:"json",signal:a})];case 1:return this.sourceJSON=c=e.sent().data,[2]}})})};b.prototype._serializeFeature=function(a){var b=a.geometry;a=a.attributes;return g.isNone(b)?{attributes:a}:"mesh"===b.type||"extent"===b.type?null:{geometry:b.toJSON(),attributes:a}};b.prototype._serializeAttachment=function(a){return h(this,void 0,void 0,function(){var b,d,c,e,f,g,h,k,m;return l(this,function(l){switch(l.label){case 0:b=a.feature;d=a.attachment;c=d.globalId;e=d.name;
                f=d.contentType;g=d.data;h=d.uploadId;k={globalId:c,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};b&&(k.parentGlobalId="attributes"in b?b.attributes&&b.attributes[this.layer.globalIdField]:b.globalId);if(!h)return[3,1];k.uploadId=h;return[3,3];case 1:return g?[4,v(g)]:[3,3];case 2:m=l.sent(),k.contentType=m.mediaType,k.data=m.data,g instanceof File&&(k.name=g.name),l.label=3;case 3:return e&&(k.name=e),f&&(k.contentType=f),[2,k]}})})};b.prototype._getFeatureIds=function(a){var b=
                a[0];return b?"objectId"in b?this._getIdsFromFeatureIdentifier(a):this._getIdsFromFeatures(a):[]};b.prototype._getIdsFromFeatures=function(a){var b=this.layer.objectIdField;return a.map(function(a){return a.attributes&&a.attributes[b]})};b.prototype._getIdsFromFeatureIdentifier=function(a){return a.map(function(a){return a.objectId})};b.prototype._createEditsResult=function(a){var b=a.data;a=a.data&&a.data.attachments;return{addFeatureResults:b.addResults?b.addResults.map(this._createFeatureEditResult,
                    this):[],updateFeatureResults:b.updateResults?b.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:b.deleteResults?b.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:a&&a.addResults?a.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:a&&a.updateResults?a.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:a&&a.deleteResults?a.deleteResults.map(this._createFeatureEditResult,this):[]}};b.prototype._createFeatureEditResult=
                function(a){var b=!0===a.success?null:a.error||{code:void 0,description:void 0};return{objectId:a.objectId,globalId:a.globalId,error:b?new k("feature-layer-source:edit-failure",b.description,{code:b.code}):null}};b.prototype._createAttachmentErrorResult=function(a,b){return{objectId:a,globalId:null,error:new k("feature-layer-source:attachment-failure",b.details.messages&&b.details.messages[0]||b.message,{code:b.details.httpStatus||b.details.messageCode})}};b.prototype._getFormDataForAttachment=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            b){if(a=a instanceof FormData?a:a&&a.elements?new FormData(a):null)for(var d in b){var c=b[d];null!=c&&(a.set?a.set(d,c):a.append(d,c))}return a};e([q.property()],b.prototype,"type",void 0);e([q.property({constructOnly:!0})],b.prototype,"layer",void 0);e([q.property({readOnly:!0,dependsOn:["layer.parsedUrl","layer.gdbVersion","layer.dynamicDataSource"]})],b.prototype,"queryTask",null);return b=e([q.subclass("esri.layers.graphics.sources.FeatureLayerSource")],b)}(q.declared(a));b.default=c})},"esri/tasks/QueryTask":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/assignHelper ../geometry ../core/accessorSupport/decorators ./Task ./operations/query ./operations/queryAttachments ./operations/queryRelatedRecords ./support/AttachmentQuery ./support/FeatureSet ./support/Query ./support/RelationshipQuery".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u){return function(b){function c(a){a=b.call(this,a)||this;a.gdbVersion=null;a.source=null;a.sourceSpatialReference=null;return a}n(c,b);c.prototype.execute=function(a,b){return this.executeJSON(a,b).then(function(a){return q.fromJSON(a)})};c.prototype.executeJSON=function(b,d){return a.executeQuery(this.parsedUrl,this._normalizeQuery(b),this.sourceSpatialReference,l({},this.requestOptions,d)).then(function(a){return a.data})};c.prototype.executeForCount=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       d){return a.executeQueryForCount(this.parsedUrl,this._normalizeQuery(b),l({},this.requestOptions,d)).then(function(a){return a.data.count})};c.prototype.executeForExtent=function(b,d){return a.executeQueryForExtent(this.parsedUrl,this._normalizeQuery(b),l({},this.requestOptions,d)).then(function(a){return{count:a.data.count,extent:h.Extent.fromJSON(a.data.extent)}})};c.prototype.executeForIds=function(b,d){return a.executeQueryForIds(this.parsedUrl,this._normalizeQuery(b),l({},this.requestOptions,
                d)).then(function(a){return a.data.objectIds})};c.prototype.executeRelationshipQuery=function(a,b){a=u.from(a);if(this.gdbVersion||this.source)a=a.clone().set({gdbVersion:this.gdbVersion||a.gdbVersion,source:this.source||a.source});return f.executeRelationshipQuery(this.parsedUrl,a,l({},this.requestOptions,b)).then(function(a){var b=a.data,d={};Object.keys(b).forEach(function(a){return d[a]=q.fromJSON(b[a])});return d})};c.prototype.executeAttachmentQuery=function(a,b){var d=this;return g.executeAttachmentQuery(this.parsedUrl,
                r.from(a),l({},this.requestOptions,b)).then(function(a){return g.processAttachmentQueryResult(a.data.attachmentGroups,d.parsedUrl.path)})};c.prototype._normalizeQuery=function(a){var b=t.from(a);return this.gdbVersion||this.source?(b===a?b.clone():b).set({gdbVersion:this.gdbVersion||a.gdbVersion,source:this.source||a.source}):b};e([d.property()],c.prototype,"gdbVersion",void 0);e([d.property()],c.prototype,"source",void 0);e([d.property()],c.prototype,"sourceSpatialReference",void 0);return c=e([d.subclass("esri.tasks.QueryTask")],
                c)}(d.declared(k))})},"esri/tasks/Task":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/assignHelper ../core/Accessor ../core/urlUtils ../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h,d,k){return function(a){function b(b){b=a.call(this,b)||this;b.requestOptions=null;b.url=null;return b}n(b,a);b.prototype.normalizeCtorArgs=function(a,b){return"string"!==typeof a?a:l({url:a},
            b)};Object.defineProperty(b.prototype,"parsedUrl",{get:function(){return this._parseUrl(this.url)},enumerable:!0,configurable:!0});b.prototype._parseUrl=function(a){return a?d.urlToObject(a):null};b.prototype._encode=function(a,b,d){var c={},e;for(e in a)if("declaredClass"!==e){var f=a[e];if(null!=f&&"function"!==typeof f)if(Array.isArray(f)){c[e]=[];for(var g=0;g<f.length;g++)c[e][g]=this._encode(f[g])}else"object"===typeof f?(f.toJSON&&(f=f.toJSON(d&&d[e])),c[e]=b?f:JSON.stringify(f)):c[e]=f}return c};
            e([k.property({readOnly:!0,dependsOn:["url"]})],b.prototype,"parsedUrl",null);e([k.property()],b.prototype,"requestOptions",void 0);e([k.property({type:String})],b.prototype,"url",void 0);return b=e([k.subclass("esri.tasks.Task")],b)}(k.declared(h))})},"esri/tasks/operations/query":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../request ../../core/maybe ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/normalizeUtils ./pbfQueryUtils ./PBFWorker ./urlUtils ./zscale @dojo/framework/shim/Promise".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q){function t(a,b){var d=a.geometry;a=a.toJSON();d&&(a.geometry=JSON.stringify(d),a.geometryType=k.getJsonType(d),a.inSR=d.spatialReference.wkid||JSON.stringify(d.spatialReference));a.groupByFieldsForStatistics&&(a.groupByFieldsForStatistics=a.groupByFieldsForStatistics.join(","));a.objectIds&&(a.objectIds=a.objectIds.join(","));a.orderByFields&&(a.orderByFields=a.orderByFields.join(","));!a.outFields||b&&(b.returnCountOnly||b.returnExtentOnly||b.returnIdsOnly)?
                delete a.outFields:-1!==a.outFields.indexOf("*")?a.outFields="*":a.outFields=a.outFields.join(",");a.outSR?a.outSR=a.outSR.wkid||JSON.stringify(a.outSR):d&&(a.returnGeometry||a.returnCentroid)&&(a.outSR=a.inSR);a.returnGeometry&&delete a.returnGeometry;a.outStatistics&&(a.outStatistics=JSON.stringify(a.outStatistics));a.pixelSize&&(a.pixelSize=JSON.stringify(a.pixelSize));a.quantizationParameters&&(a.quantizationParameters=JSON.stringify(a.quantizationParameters));a.source&&(a.layer=JSON.stringify({source:a.source}),
                delete a.source);if(a.timeExtent){d=a.timeExtent;b=d.start;d=d.end;if(null!=b||null!=d)a.time=b===d?b:(null==b?"null":b)+","+(null==d?"null":d);delete a.timeExtent}return a}function u(b,c,e,f,g){void 0===f&&(f={});var k="string"===typeof b?d.urlToObject(b):b;b=c.geometry?[c.geometry]:[];f.responseType="pbf"===e?"array-buffer":"json";return a.normalizeCentralMeridian(b,null,f).then(function(a){a=a&&a[0];h.isSome(a)&&(c=c.clone(),c.geometry=a);a=r.mapParameters(n({},k.query,{f:e},g,t(c,g)));return l(k.path+
                "/query",n({},f,{query:a}))})}Object.defineProperty(b,"__esModule",{value:!0});b.queryToQueryStringParameters=t;b.executeQuery=function(a,b,d,c){return m(this,void 0,void 0,function(){var f;return e(this,function(e){switch(e.label){case 0:return[4,u(a,b,"json",c)];case 1:return f=e.sent(),q.applyFeatureSetZUnitScaling(b,d,f.data),[2,f]}})})};b.executeQueryPBF=function(a,b,d,c){var e;d.useWorker?(null==p&&(p=new f.PBFWorker),e=p):e=null;var h=e;return u(a,b,"pbf",c).then(function(a){var b=function(b){a.data=
                b;return a};return d.useWorker?h.parseFeatureQuery(a.data,d).then(function(a){return b(a)}):b(g.parsePBFFeatureQuery(a.data,d))})};b.executeQueryForIds=function(a,b,d){return u(a,b,"json",d,{returnIdsOnly:!0})};b.executeQueryForCount=function(a,b,d){return u(a,b,"json",d,{returnIdsOnly:!0,returnCountOnly:!0})};b.executeQueryForExtent=function(a,b,d){return u(a,b,"json",d,{returnExtentOnly:!0,returnCountOnly:!0}).then(function(a){var b=a.data;if(b.hasOwnProperty("extent"))return a;if(b.features)throw Error("Layer does not support extent calculation.");
                if(b.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return a})};var p})},"esri/geometry/support/normalizeUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../config ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../Polygon ../Polyline ../SpatialReference ./spatialReferenceUtils ./webMercatorUtils ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         b,n,e,m,l,h,d,k,a,g,f,r,q,t,u){function p(a){return"polygon"===a.type?a.rings:a.paths}function v(a,b){return Math.ceil((a-b)/(2*b))}function w(a,b){for(var d=0,c=p(a);d<c.length;d++)for(var e=0,f=c[d];e<f.length;e++)f[e][0]+=b;return a}function z(a){for(var b=[],d=0,c=0,e=0;e<a.length;e++){for(var f=a[e],g=null,h=0;h<f.length;h++)g=f[h],b.push(g),0===h?c=d=g[0]:(d=Math.min(d,g[0]),c=Math.max(c,g[0]));g&&b.push([(d+c)/2,0])}return b}function y(b,d){if(!(b instanceof g||b instanceof a))throw E.error("straightLineDensify: the input geometry is neither polyline nor polygon"),
            new l("straightLineDensify: the input geometry is neither polyline nor polygon");for(var c=[],e=0,f=p(b);e<f.length;e++){var h=f[e],k=[];c.push(k);k.push([h[0][0],h[0][1]]);for(var m=0;m<h.length-1;m++){var n=h[m][0],q=h[m][1],t=h[m+1][0],u=h[m+1][1],r=Math.sqrt((t-n)*(t-n)+(u-q)*(u-q)),v=(u-q)/r,w=(t-n)/r,x=r/d;if(1<x){for(var z=1;z<=x-1;z++){var y=z*d;k.push([w*y+n,v*y+q])}r=(r+Math.floor(x-1)*d)/2;k.push([w*r+n,v*r+q])}k.push([t,u])}}return"polygon"===b.type?new a({rings:c,spatialReference:b.spatialReference}):
            new g({paths:c,spatialReference:b.spatialReference})}function A(a,b,d){b&&(a=y(a,1E6),a=q.webMercatorToGeographic(a,!0));d&&(a=w(a,d));return a}function x(a,b,d){if(Array.isArray(a)){var c=a[0];if(c>b){var e=v(c,b);a[0]=c+-2*e*b}else c<d&&(e=v(c,d),a[0]=c+-2*e*d)}else c=a.x,c>b?(e=v(c,b),a=a.clone().offset(-2*e*b,0)):c<d&&(e=v(c,d),a=a.clone().offset(-2*e*d,0));return a}function B(a,b){for(var d=-1,c=function(c){var e=b.cutIndexes[c],f=b.geometries[c],g=p(f);c=function(a){var b=g[a];b.some(function(d){if(180>
            d[0])return!0;for(var c=d=0;c<b.length;c++){var e=b[c][0];d=e>d?e:d}d=Number(d.toFixed(9));d=-360*v(d,180);for(c=0;c<b.length;c++)e=f.getPoint(a,c),f.setPoint(a,c,e.clone().offset(d,0));return!0})};for(var h=0;h<g.length;h++)c(h);if(e===d)if("polygon"===a[0].type)for(c=0,h=p(f);c<h.length;c++)a[e]=a[e].addRing(h[c]);else{if("polyline"===a[0].type)for(c=0,h=p(f);c<h.length;c++)a[e]=a[e].addPath(h[c])}else d=e,a[e]=f},e=0;e<b.cutIndexes.length;e++)c(e);return a}function D(b,c,f){return e(this,void 0,
            void 0,function(){var e,h,l,p,z,y,E,F,G,V,H,T,ba,X,Q,W,P,ja,oa,pa,ia,aa,Y,Z,ha,la,qa,ka,ga,N,S,fa,na,ca,ea,ra,sa;return n(this,function(n){switch(n.label){case 0:if(!Array.isArray(b))return[2,D([b],c)];e=c?c.url:m.geometryServiceUrl;V=0;H=[];T=[];ba=0;for(X=b;ba<X.length;ba++)Q=X[ba],d.isNone(Q)?T.push(Q):(h||(h=Q.spatialReference,l=r.getInfo(h),E=(p=h.isWebMercator)?102100:4326,z=C[E].maxX,y=C[E].minX,F=C[E].plus180Line,G=C[E].minus180Line),l?"mesh"===Q.type?T.push(Q):"point"===Q.type?T.push(x(Q.clone(),
                z,y)):"multipoint"===Q.type?(W=Q.clone(),W.points=W.points.map(function(a){return x(a,z,y)}),T.push(W)):"extent"===Q.type?(P=Q.clone(),ja=P._normalize(!1,!1,l),T.push(ja.rings?new a(ja):ja)):Q.extent?(P=Q.extent,oa=v(P.xmin,y),pa=2*oa*z,ia=0===pa?Q.clone():w(Q.clone(),pa),P.offset(pa,0),P.intersects(F)&&P.xmax!==z?(V=P.xmax>V?P.xmax:V,ia=A(ia,p),H.push(ia),T.push("cut")):P.intersects(G)&&P.xmin!==y?(V=2*P.xmax*z>V?2*P.xmax*z:V,ia=A(ia,p,360),H.push(ia),T.push("cut")):T.push(ia)):T.push(Q.clone()):
                T.push(Q));aa=v(V,z);Y=-90;Z=aa;for(ha=new g;0<aa;)la=-180+360*aa,ha.addPath([[la,Y],[la,-1*Y]]),Y*=-1,aa--;return 0<H.length&&0<Z?[4,t.cut(e,H,ha,f)]:[3,3];case 1:qa=n.sent();ka=B(H,qa);ga=[];N=[];for(S=0;S<T.length;S++)fa=T[S],"cut"!==fa?N.push(fa):(na=ka.shift(),ca=b[S],d.isSome(ca)&&"polygon"===ca.type&&ca.rings&&1<ca.rings.length&&na.rings.length>=ca.rings.length?(ga.push(na),N.push("simplify")):N.push(p?q.geographicToWebMercator(na):na));return ga.length?[4,u.simplify(e,ga,f)]:[2,N];case 2:ea=
                n.sent();ra=[];for(S=0;S<N.length;S++)fa=N[S],"simplify"!==fa?ra.push(fa):ra.push(p?q.geographicToWebMercator(ea.shift()):ea.shift());return[2,ra];case 3:sa=[];for(S=0;S<T.length;S++)fa=T[S],"cut"!==fa?sa.push(fa):(na=H.shift(),sa.push(!0===p?q.geographicToWebMercator(na):na));return[2,k.resolve(sa)]}})})}Object.defineProperty(b,"__esModule",{value:!0});var E=h.getLogger("esri.geometry.support.normalizeUtils"),C={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new g({paths:[[[2.0037508342788905E7,
                        -2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:f.WebMercator}),minus180Line:new g({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:f.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new g({paths:[[[180,-180],[180,180]]],spatialReference:f.WGS84}),minus180Line:new g({paths:[[[-180,-180],[-180,180]]],spatialReference:f.WGS84})}};b.straightLineDensify=y;b.normalizeCentralMeridian=D;b.getDenormalizedExtent=
            function(a){var b;if(!a)return null;var d=a.extent;if(!d)return null;var c=a.spatialReference&&r.getInfo(a.spatialReference);if(!c)return d;var c=c.valid,e=c[0],c=c[1],f=d.width,g=d.xmin;b=d.xmax;b=[b,g];g=b[0];b=b[1];if("extent"===a.type||0===f||f<=c||f>2*c||g<e||b>c)return d;var h;switch(a.type){case "polygon":if(1<a.rings.length)h=z(a.rings);else return d;break;case "polyline":if(1<a.paths.length)h=z(a.paths);else return d;break;case "multipoint":h=a.points}a=d.clone();for(e=0;e<h.length;e++){var k=
                h[e][0];0>k?(k+=c,b=Math.max(k,b)):(k-=c,g=Math.min(k,g))}a.xmin=g;a.xmax=b;return a.width<f?(a.xmin-=c,a.xmax-=c,a):d};b.normalizeMapX=function(a,b){if(b=r.getInfo(b)){var d=b.valid;b=d[0];var d=d[1],c=d-b;if(a<b)for(;a<b;)a+=c;if(a>d)for(;a>d;)a-=c}return a}})},"esri/tasks/geometry/cut":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k){Object.defineProperty(b,"__esModule",{value:!0});b.cut=function(a,b,c,r){return e(this,void 0,void 0,function(){var e,f,g,p,v,w,z,y;return m(this,function(m){switch(m.label){case 0:return e="string"===typeof a?d.urlToObject(a):a,f=b[0].spatialReference,g=n({},r,{query:n({},e.query,{f:"json",sr:JSON.stringify(f),target:JSON.stringify({geometryType:k.getJsonType(b[0]),geometries:b}),cutter:JSON.stringify(c)})}),[4,h(e.path+"/cut",g)];case 1:return p=m.sent(),v=p.data,w=v.cutIndexes,
                z=v.geometries,y=void 0===z?[]:z,[2,{cutIndexes:w,geometries:y.map(function(a){return l.fromJSON(a).set(f)})}]}})})}})},"esri/tasks/geometry/simplify":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),function(c,b,n,e,m,l,h,d){function k(a){return{geometryType:d.getJsonType(a[0]),geometries:a.map(function(a){return a.toJSON()})}}
            function a(a,b,c){var e=d.getGeometryType(b);return a.map(function(a){a=e.fromJSON(a);a.spatialReference=c;return a})}Object.defineProperty(b,"__esModule",{value:!0});b.simplify=function(b,c,r){return e(this,void 0,void 0,function(){var e,f,g,p,v;return m(this,function(m){switch(m.label){case 0:return e="string"===typeof b?h.urlToObject(b):b,f=c[0].spatialReference,g=d.getJsonType(c[0]),p=n({},r,{query:n({},e.query,{f:"json",sr:f.wkid?f.wkid:JSON.stringify(f),geometries:JSON.stringify(k(c))})}),[4,
                l(e.path+"/simplify",p)];case 1:return v=m.sent(),[2,a(v.data,g,f)]}})})}})},"esri/tasks/operations/pbfQueryUtils":function(){define(["require","exports","./pbfFeatureServiceParser"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.parsePBFFeatureQuery=function(b,c){if((b=n.parseFeatureQuery(b,c).queryResult.featureResult)&&b.features&&b.features.length&&b.objectIdFieldName){c=b.objectIdFieldName;for(var e=0,h=b.features;e<h.length;e++){var d=h[e];d.attributes&&(d.objectId=d.attributes[c])}}return b}})},
        "esri/tasks/operations/pbfFeatureServiceParser":function(){define("require exports ../../core/Error ../../core/Logger ../../core/pbf ./pbfDehydratedFeatureSet ./pbfOptimizedFeatureSet".split(" "),function(c,b,n,e,m,l,h){function d(a,b,d){for(d=b.createPointGeometry(d);a.next();)switch(a.tag()){case 3:for(var c=a.getUInt32(),c=a.pos()+c,e=0;a.pos()<c;)b.addCoordinatePoint(d,a.getSInt64(),0,e++);break;default:a.skip()}return d}function k(a,b,d){var c=b.createGeometry(d);for(d=2+(d.hasZ?1:0)+(d.hasM?
            1:0);a.next();)switch(a.tag()){case 2:for(var e=a.getUInt32(),e=a.pos()+e,f=0;a.pos()<e;)b.addLength(c,a.getUInt32(),f++);break;case 3:for(var e=a.getUInt32(),e=a.pos()+e,g=f=0;a.pos()<e;)b.addCoordinate(c,a.getSInt64(),g,f),f++,f===d&&(g++,f=0);break;default:a.skip()}return c}function a(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getSInt32();case 5:return a.getUInt32();case 6:return a.getInt64();case 7:return a.getUInt64();
            case 8:return a.getSInt64();case 9:return a.getBool();default:return a.skip(),null}return null}function g(a){for(var b={type:0>=y.length?null:y[0]};a.next();)switch(a.tag()){case 1:b.name=a.getString();break;case 2:var d=a.getEnum();b.type=d>=y.length?null:y[d];break;case 3:b.alias=a.getString();break;case 4:d=a.getEnum();d=d>=A.length?null:A[d];b.sqlType=d;break;default:a.skip()}return b}function f(b,c,e,f){for(var g=c.createFeature(e),h=0;b.next();)switch(b.tag()){case 1:var l=f[h++].name;g.attributes[l]=
            b.processMessage(a);break;case 2:g.geometry=b.processMessageWithArgs(k,c,e);break;case 4:g.centroid=b.processMessageWithArgs(d,c,e);break;default:b.skip()}return g}function r(a){for(var b=[1,1,1,1];a.next();)switch(a.tag()){case 1:b[0]=a.getDouble();break;case 2:b[1]=a.getDouble();break;case 4:b[2]=a.getDouble();break;case 3:b[3]=a.getDouble();break;default:a.skip()}return b}function q(a){for(var b=[0,0,0,0];a.next();)switch(a.tag()){case 1:b[0]=a.getDouble();break;case 2:b[1]=a.getDouble();break;
            case 4:b[2]=a.getDouble();break;case 3:b[3]=a.getDouble();break;default:a.skip()}return b}function t(a){for(var b={originPosition:0>=x.length?null:x[0]};a.next();)switch(a.tag()){case 1:var d=a.getEnum();b.originPosition=d>=x.length?null:x[d];break;case 2:b.scale=a.processMessage(r);break;case 3:b.translate=a.processMessage(q);break;default:a.skip()}return b}function u(a){for(var b={};a.next();)switch(a.tag()){case 1:b.shapeAreaFieldName=a.getString();break;case 2:b.shapeLengthFieldName=a.getString();
            break;case 3:b.units=a.getString();break;default:a.skip()}return b}function p(a,b){for(b=b.createSpatialReference();a.next();)switch(a.tag()){case 1:b.wkid=a.getUInt32();break;case 5:b.wkt=a.getString();break;default:a.skip()}return b}function v(a,b){var d=b.createFeatureResult();d.geometryType=0>=b.geometryTypes.length?null:b.geometryTypes[0];for(var c=!1;a.next();)switch(a.tag()){case 1:d.objectIdFieldName=a.getString();break;case 3:d.globalIdFieldName=a.getString();break;case 4:d.geohashFieldName=
            a.getString();break;case 5:d.geometryProperties=a.processMessage(u);break;case 7:var e=a.getEnum();d.geometryType=e>=b.geometryTypes.length?null:b.geometryTypes[e];break;case 8:d.spatialReference=a.processMessageWithArgs(p,b);break;case 10:d.hasZ=a.getBool();break;case 11:d.hasM=a.getBool();break;case 12:d.transform=a.processMessage(t);break;case 9:e=a.getBool();d.exceededTransferLimit=e;break;case 13:b.addField(d,a.processMessage(g));break;case 15:c||(b.prepareFeatures(d),c=!0);b.addFeature(d,a.processMessageWithArgs(f,
            b,d,d.fields));break;default:a.skip()}b.finishFeatureResult(d);return d}function w(a,b){for(var d={};a.next();)switch(a.tag()){case 1:d.featureResult=a.processMessageWithArgs(v,b);break;default:a.skip()}return d}Object.defineProperty(b,"__esModule",{value:!0});var z=e.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),y="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
            A="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),x=["upperLeft","lowerLeft"];b.parseFeatureQuery=function(a,b){b=b&&"dehydrated"===b.type?new l.Context(b):
            new h.Context(b);try{var d=new m(new Uint8Array(a),new DataView(a));for(a={};d.next();)switch(d.tag()){case 2:a.queryResult=d.processMessageWithArgs(w,b);break;default:d.skip()}return a}catch(C){return d=new n("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:C}),z.error(d),{queryResult:{featureResult:b.createFeatureResult()}}}}})},"esri/core/pbf":function(){define(["require","exports","./has","./ObjectPool"],function(c,b,n,e){var m=n("esri-text-decoder")?new TextDecoder("utf-8"):
            null,l=n("safari")||n("ios")?6:n("ff")?12:32;return function(){function b(b,c,a,e){void 0===a&&(a=0);void 0===e&&(e=b?b.byteLength:0);this._tag=0;this._dataType=99;this.init(b,c,a,e)}b.prototype.init=function(b,c,a,e){this._data=b;this._dataView=c;this._pos=a;this._end=e};b.prototype.clone=function(){return new b(this._data,this._dataView,this._pos,this._end)};b.prototype.pos=function(){return this._pos};b.prototype.next=function(b){for(;;){if(this._pos===this._end)return!1;var d=this._decodeVarint();
            this._tag=d>>3;this._dataType=d&7;if(!b||b===this._tag)break;this.skip()}return!0};b.prototype.empty=function(){return this._pos>=this._end};b.prototype.tag=function(){return this._tag};b.prototype.getInt32=function(){return this._decodeVarint()};b.prototype.getInt64=function(){return this._decodeVarint()};b.prototype.getUInt32=function(){var b=4294967295,b=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return b;
            b=(b|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return b};b.prototype.getUInt64=function(){return this._decodeVarint()};b.prototype.getSInt32=function(){var b=this.getUInt32();return b>>>1^-(b&1)|0};b.prototype.getSInt64=function(){return this._decodeSVarint()};b.prototype.getBool=function(){var b=0!==this._data[this._pos];
            this._skip(1);return b};b.prototype.getEnum=function(){return this._decodeVarint()};b.prototype.getFixed64=function(){var b=this._dataView,c=this._pos,b=b.getUint32(c,!0)+4294967296*b.getUint32(c+4,!0);this._skip(8);return b};b.prototype.getSFixed64=function(){var b=this._dataView,c=this._pos,b=b.getUint32(c,!0)+4294967296*b.getInt32(c+4,!0);this._skip(8);return b};b.prototype.getDouble=function(){var b=this._dataView.getFloat64(this._pos,!0);this._skip(8);return b};b.prototype.getFixed32=function(){var b=
            this._dataView.getUint32(this._pos,!0);this._skip(4);return b};b.prototype.getSFixed32=function(){var b=this._dataView.getInt32(this._pos,!0);this._skip(4);return b};b.prototype.getFloat=function(){var b=this._dataView.getFloat32(this._pos,!0);this._skip(4);return b};b.prototype.getString=function(){var b=this._getLength(),c=this._pos,c=this._toString(this._data,c,c+b);this._skip(b);return c};b.prototype.getBytes=function(){var b=this._getLength(),c=this._pos,c=this._toBytes(this._data,c,c+b);this._skip(b);
            return c};b.prototype.processMessageWithArgs=function(b,c,a,e){var d=this.getMessage();b=b(d,c,a,e);d.release();return b};b.prototype.processMessage=function(b){var d=this.getMessage();b=b(d);d.release();return b};b.prototype.getMessage=function(){var d=this._getLength(),c=b.pool.acquire();c.init(this._data,this._dataView,this._pos,this._pos+d);this._skip(d);return c};b.prototype.release=function(){b.pool.release(this)};b.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();
            break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};b.prototype._skip=function(b){if(this._pos+b>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=b};b.prototype._decodeVarint=function(){var b=this._data,c=this._pos,a=0,e;if(10<=this._end-c){if(e=b[c++],a|=e&127,0!==(e&128)&&(e=b[c++],a|=(e&127)<<7,0!==(e&128)&&(e=b[c++],a|=(e&127)<<14,0!==(e&128)&&(e=b[c++],a|=(e&127)<<21,0!==
        (e&128)&&(e=b[c++],a+=268435456*(e&127),0!==(e&128)&&(e=b[c++],a+=34359738368*(e&127),0!==(e&128)&&(e=b[c++],a+=4398046511104*(e&127),0!==(e&128)&&(e=b[c++],a+=562949953421312*(e&127),0!==(e&128)&&(e=b[c++],a+=72057594037927936*(e&127),0!==(e&128)&&(e=b[c++],a+=0x7fffffffffffffff*(e&127),0!==(e&128)))))))))))throw Error("Varint too long!");}else{for(var f=1;c!==this._end;){e=b[c];if(0===(e&128))break;++c;a+=(e&127)*f;f*=128}if(c===this._end)throw Error("Varint overrun!");++c;a+=e*f}this._pos=c;return a};
            b.prototype._decodeSVarint=function(){var b=this._decodeVarint();return b%2?-(b+1)/2:b/2};b.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};b.prototype._toString=function(b,c,a){a=Math.min(this._end,a);if(a-c>l&&m)return b=b.subarray(c,a),m.decode(b);for(var d="",e="";c<a;++c){var h=b[c];h&128?e+="%"+h.toString(16):(d+=decodeURIComponent(e)+String.fromCharCode(h),e="")}e.length&&(d+=decodeURIComponent(e));return d};b.prototype._toBytes=
                function(b,c,a){a=Math.min(this._end,a);return new Uint8Array(b.buffer,c,a-c)};b.pool=new e(b,!1,function(b){b._data=null;b._dataView=null});return b}()})},"esri/tasks/operations/pbfDehydratedFeatureSet":function(){define("require exports ../../Graphic ../../core/compilerUtils ../../geometry/SpatialReference ../../layers/graphics/dehydratedFeatures ../../layers/support/Field ./zscale".split(" "),function(c,b,n,e,m,l,h,d){function k(a,b){return b}function a(a,b,d,c){switch(d){case 0:return q(a,b+c,
            0);case 1:return("lowerLeft"===a.originPosition?q:t)(a,b+c,1)}}function g(a,b,d,c){switch(d){case 0:return q(a,b+c,0);case 1:return("lowerLeft"===a.originPosition?q:t)(a,b+c,1);case 2:return q(a,b,2)}}function f(a,b,d,c){switch(d){case 0:return q(a,b+c,0);case 1:return("lowerLeft"===a.originPosition?q:t)(a,b+c,1);case 2:return q(a,b,3)}}function r(a,b,d,c){switch(d){case 0:return q(a,b+c,0);case 1:return("lowerLeft"===a.originPosition?q:t)(a,b+c,1);case 2:return q(a,b,2);case 3:return q(a,b,3)}}function q(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           b,d){return a.translate[d]+b*a.scale[d]}function t(a,b,d){return a.translate[d]-b*a.scale[d]}Object.defineProperty(b,"__esModule",{value:!0});c=function(){function b(a){this.options=a;this.geometryTypes=["point","multipoint","polyline","polygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=k;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}b.prototype.createFeatureResult=
            function(){return new l.DehydratedFeatureSetClass};b.prototype.finishFeatureResult=function(a){this.options.applyTransform&&(a.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0;if(a.hasZ){var b=d.getGeometryZScaler(a.geometryType,this.options.sourceSpatialReference,a.spatialReference);if(b){var c=0;for(a=a.features;c<a.length;c++)b(a[c].geometry)}}};b.prototype.createSpatialReference=function(){return new m};b.prototype.addField=function(a,b){a.fields.push(h.fromJSON(b));
            var d=a.fields.map(function(a){return a.name});this.AttributesConstructor=function(){for(var a=0;a<d.length;a++)this[d[a]]=null}};b.prototype.addFeature=function(a,b){var d=this.options.maxStringAttributeLength?this.options.maxStringAttributeLength:0;if(0<d)for(var c in b.attributes){var e=b.attributes[c];"string"===typeof e&&e.length>d&&(b.attributes[c]="")}a.features.push(b)};b.prototype.prepareFeatures=function(a){var b=this;this.options.applyTransform&&a.transform&&(this.transform=a.transform,
            this.applyTransform=this.deriveApplyTransform(a));this.vertexDimension=2;a.hasZ&&this.vertexDimension++;a.hasM&&this.vertexDimension++;switch(a.geometryType){case "point":this.addCoordinate=function(a,d,c,e){return b.addCoordinatePoint(a,d,e)};this.createGeometry=function(a){return b.createPointGeometry(a)};break;case "polygon":this.addCoordinate=function(a,d,c,e){return b.addCoordinatePolygon(a,d,e)};this.createGeometry=function(a){return b.createPolygonGeometry(a)};break;case "polyline":this.addCoordinate=
            function(a,d,c,e){return b.addCoordinatePolyline(a,d,e)};this.createGeometry=function(a){return b.createPolylineGeometry(a)};break;case "multipoint":this.addCoordinate=function(a,d,c,e){return b.addCoordinateMultipoint(a,d,e)};this.createGeometry=function(a){return b.createMultipointGeometry(a)};break;default:e.neverReached(a.geometryType)}};b.prototype.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;this.coordinateBuffer=
            null;this.coordinateBufferPtr=0;return new l.DehydratedFeatureClass(n.generateUID(),null,new this.AttributesConstructor)};b.prototype.addLength=function(a,b,d){0===this.lengths.length&&(this.toAddInCurrentPath=b);this.lengths.push(b)};b.prototype.createPointGeometry=function(a){a={type:"point",x:0,y:0,spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM};a.hasZ&&(a.z=0);a.hasM&&(a.m=0);return a};b.prototype.addCoordinatePoint=function(a,b,d){b=this.applyTransform(this.transform,b,d,0);
            switch(d){case 0:a.x=b;break;case 1:a.y=b;break;case 2:a.hasZ?a.z=b:a.m=b;break;case 3:a.m=b}};b.prototype.transformPathLikeValue=function(a,b){var d=0;1>=b&&(d=this.previousCoordinate[b],this.previousCoordinate[b]+=a);return this.applyTransform(this.transform,a,b,d)};b.prototype.addCoordinatePolyline=function(a,b,d){this.dehydratedAddPointsCoordinate(a.paths,b,d)};b.prototype.addCoordinatePolygon=function(a,b,d){this.dehydratedAddPointsCoordinate(a.rings,b,d)};b.prototype.addCoordinateMultipoint=
            function(a,b,d){0===d&&a.points.push([]);b=this.transformPathLikeValue(b,d);a.points[a.points.length-1].push(b)};b.prototype.createPolygonGeometry=function(a){return{type:"polygon",rings:[[]],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};b.prototype.createPolylineGeometry=function(a){return{type:"polyline",paths:[[]],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};b.prototype.createMultipointGeometry=function(a){return{type:"multipoint",points:[],spatialReference:a.spatialReference,
            hasZ:!!a.hasZ,hasM:!!a.hasM}};b.prototype.dehydratedAddPointsCoordinate=function(a,b,d){if(null===this.coordinateBuffer){var c=this.lengths.reduce(function(a,b){return a+b},0);this.coordinateBuffer=new Float64Array(c*this.vertexDimension)}0===d&&0===this.toAddInCurrentPath--&&(a.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);b=this.transformPathLikeValue(b,d);a=a[a.length-1];0===d&&a.push(new Float64Array(this.coordinateBuffer.buffer,
            this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));this.coordinateBuffer[this.coordinateBufferPtr++]=b};b.prototype.deriveApplyTransform=function(b){var d=b.hasZ;b=b.hasM;return d&&b?r:d?g:b?f:a};return b}();b.Context=c})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../geometry ../../Graphic ../../core/compilerUtils ../../core/has ../../core/lang ../../core/maybe ../../core/typedArrayUtil ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ../../geometry/support/quantizationUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u){function p(a,b,d){if(!a)return null;switch(b){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:d};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:d};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:d};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:d}}}
                function v(a,b,d,c){return{x:a,y:b,z:d,hasZ:null!=d,hasM:!1,spatialReference:c,type:"point"}}function w(a){return"declaredClass"in a}function z(a){return"declaredClass"in a}function y(a){return"declaredClass"in a}function A(a){return d.isNone(a)?null:w(a)?a:r.fromJSON(D(a))}function x(a){if(!a)return 0;var b=32,d;for(d in a)if(a.hasOwnProperty(d)){var c=a[d];switch(typeof c){case "string":b+=J(c);break;default:case "number":b+=16}}return b}function B(a){if(d.isNone(a))return 0;var b=32;switch(a.type){case "point":b+=
                    42;break;case "polyline":case "polygon":var c=0,e=2+(a.hasZ?1:0)+(a.hasM?1:0);a="polyline"===a.type?a.paths:a.rings;for(var f=0;f<a.length;f++)c+=a[f].length;b=b+(8*c*e+64)+128*c+34;b+=32*(a.length+1);break;case "multipoint":c=a.points.length;b+=8*c*(2+(a.hasZ?1:0)+(a.hasM?1:0))+64;b+=128*c;b+=34;b+=32;break;case "extent":b+=98;a.hasM&&(b+=32);a.hasZ&&(b+=32);break;case "mesh":b+=k.estimateSize(a.vertexAttributes.position);b+=k.estimateSize(a.vertexAttributes.normal);b+=k.estimateSize(a.vertexAttributes.uv);
                    b+=k.estimateSize(a.vertexAttributes.tangent);break;default:m.neverReached(a)}return b}function D(a){var b=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,spatialReference:b};case "polygon":var d=a.hasZ,c=a.hasM;return{rings:E(a.rings),hasZ:d,hasM:c,spatialReference:b};case "polyline":var e=a.paths,d=a.hasZ,c=a.hasM;return{paths:E(e),hasZ:d,hasM:c,spatialReference:b};case "extent":var e=a.xmin,f=a.xmax,g=a.ymin,h=a.ymax,k=a.zmin,l=a.zmax,n=a.mmin,q=a.mmax,d=
                    a.hasZ,c=a.hasM;return{xmin:e,xmax:f,ymin:g,ymax:h,zmin:k,zmax:l,mmin:n,mmax:q,hasZ:d,hasM:c,spatialReference:b};case "multipoint":return e=a.points,d=a.hasZ,c=a.hasM,{points:H(e)?C(e):e,hasZ:d,hasM:c,spatialReference:b};default:m.neverReached(a)}}function E(a){return G(a)?a.map(function(a){return C(a)}):a}function C(a){return a.map(function(a){return k.toArray(a)})}function G(a){for(var b=0;b<a.length;b++){var d=a[b];if(0!==d.length)return H(d)}return!1}function H(a){return a.length&&(k.isFloat32Array(a[0])||
                    k.isFloat64Array(a[0]))}function F(a,b){g.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[3]=a.x;b[1]=b[4]=a.y;a.hasZ&&(b[2]=b[5]=a.z);break;case "polyline":for(var d=0;d<a.paths.length;d++)g.expandWithNestedArray(b,a.paths[d],a.hasZ);break;case "polygon":for(d=0;d<a.rings.length;d++)g.expandWithNestedArray(b,a.rings[d],a.hasZ);break;case "multipoint":g.expandWithNestedArray(b,a.points,a.hasZ);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[3]=a.xmax;b[4]=a.ymax;null!=a.zmin&&
                (b[2]=a.zmin);null!=a.zmax&&(b[5]=a.zmax);break;default:m.neverReached(a)}}function I(a,b){f.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[2]=a.x;b[1]=b[3]=a.y;break;case "polyline":for(var d=0;d<a.paths.length;d++)f.expandWithNestedArray(b,a.paths[d]);break;case "polygon":for(d=0;d<a.rings.length;d++)f.expandWithNestedArray(b,a.rings[d]);break;case "multipoint":f.expandWithNestedArray(b,a.points);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;break;
                    default:m.neverReached(a)}}Object.defineProperty(b,"__esModule",{value:!0});b.equals=u.equals;c=function(){return function(a,b,d){this.uid=a;this.geometry=b;this.attributes=d;this.visible=!0;this.centroid=this.objectId=null}}();b.DehydratedFeatureClass=c;b.hasGeometry=function(a){return d.isSome(a.geometry)};b.isFeatureGeometry=function(a){return n.isFeatureGeometryType(a.type)};c=function(){return function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=
                    this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}();b.DehydratedFeatureSetClass=c;b.isPoint=function(a){return"point"===a.type};b.fromFeatureSetJSON=function(b){var d=n.featureGeometryTypeKebabDictionary.fromJSON(b.geometryType),c=a.fromJSON(b.spatialReference),f=b.transform,g=b.features.map(function(a){var g=b.objectIdFieldName;a={uid:e.generateUID(),objectId:g&&a.attributes?a.attributes[g]:null,attributes:a.attributes,
                    geometry:p(a.geometry,d,c),visible:!0};if((g=a.geometry)&&f)switch(g.type){case "point":a.geometry=q.hydratePoint(f,g,g,g.hasZ,g.hasM);break;case "multipoint":a.geometry=q.hydrateMultipoint(f,g,g,g.hasZ,g.hasM);break;case "polygon":a.geometry=q.hydratePolygon(f,g,g,g.hasZ,g.hasM);break;case "polyline":a.geometry=q.hydratePolyline(f,g,g,g.hasZ,g.hasM);break;default:m.neverReached(g)}return a});return{geometryType:d,features:g,spatialReference:c,fields:b.fields?b.fields.map(function(a){return t.fromJSON(a)}):
                        null,objectIdFieldName:b.objectIdFieldName,globalIdFieldName:b.globalIdFieldName,geohashFieldName:b.geohashFieldName,geometryProperties:b.geometryProperties,hasZ:b.hasZ,hasM:b.hasM,exceededTransferLimit:b.exceededTransferLimit,transform:null}};b.fromJSONGeometry=p;b.makeDehydratedPoint=v;b.isHydratedGeometry=w;b.isHydratedPoint=z;b.isHydratedGraphic=y;b.hydrateGraphic=function(a,b){if(!a)return null;if(y(a))return a;b=new e({layer:b,sourceLayer:b});b.visible=a.visible;b.symbol=h.clone(a.symbol);b.attributes=
                    h.clone(a.attributes);b.geometry=A(a.geometry);return b};b.hydrateGeometry=A;b.clonePoint=function(a,b){if(!a)return null;if(z(a)){if(null==b)return a.clone();if(z(b))return b.copy(a)}null!=b?(b.x=a.x,b.y=a.y,b.spatialReference=a.spatialReference,a.hasZ?(b.z=a.z,b.hasZ=a.hasZ):(b.z=null,b.hasZ=!1),a.hasM?(b.m=a.m,b.hasM=!0):(b.m=null,b.hasM=!1)):(b=v(a.x,a.y,a.z,a.spatialReference),a.hasM&&(b.m=a.m,b.hasM=!0));return b};var J=l("esri-text-decoder")?function(a){return 32+a.length}:function(a){return 32*
                    a.length};b.estimateAttributesObjectSize=x;b.estimateGeometryObjectSize=B;b.estimateSize=function(a){var b;b=32+x(a.attributes);return b=b+3+(8+B(a.geometry))};b.numVertices=function(a){if(d.isNone(a))return 0;switch(a.type){case "point":return 1;case "polyline":var b=0,c=0;for(a=a.paths;c<a.length;c++)b+=a[c].length;return b;case "polygon":c=b=0;for(a=a.rings;c<a.length;c++)b+=a[c].length;return b;case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(b=a.vertexAttributes&&
                    a.vertexAttributes.position)?b.length/3:0;default:m.neverReached(a)}};b.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var b=0;for(a=a.paths;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "polygon":b=0;for(a=a.rings;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "multipoint":return 0<a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:m.neverReached(a)}};
                b.computeAABB=F;b.expandAABB=function(a,b){F(a,M);g.expand(b,M)};b.computeAABR=I;b.expandAABR=function(a,b){I(a,O);f.expand(b,O)};b.getObjectId=function(a,b){return null!=a.objectId?a.objectId:a.attributes&&b?a.attributes[b]:null};var M=g.create(),O=f.create()})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../../core/maybe","../Extent","./aaBoundingRect"],function(c,b,n,e,m){function l(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3],a[4],a[5]]}function h(a,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  d,c,e,f,g){void 0===g&&(g=l());g[0]=a;g[1]=b;g[2]=d;g[3]=c;g[4]=e;g[5]=f;return g}function d(a){return a[0]>=a[3]?0:a[3]-a[0]}function k(a){return a[1]>=a[4]?0:a[4]-a[1]}function a(a){return a[2]>=a[5]?0:a[5]-a[2]}function g(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])}function f(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function r(a){return 6===a.length}Object.defineProperty(b,
            "__esModule",{value:!0});b.create=l;b.fromValues=h;b.fromExtent=function(a,b){void 0===b&&(b=l());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};b.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new e({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new e({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};b.fromMinMax=function(a,b,d){void 0===d&&(d=l());d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=b[0];d[4]=b[1];d[5]=
            b[2];return d};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};b.expand=function(a,b,d){void 0===d&&(d=a);r(b)?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.min(a[2],b[2]),d[3]=Math.max(a[3],b[3]),d[4]=Math.max(a[4],b[4]),d[5]=Math.max(a[5],b[5])):m.is(b)?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[3]=Math.max(a[3],b[2]),d[4]=Math.max(a[4],b[3])):2===
        b.length?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[3]=Math.max(a[3],b[0]),d[4]=Math.max(a[4],b[1])):3===b.length&&(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.min(a[2],b[2]),d[3]=Math.max(a[3],b[0]),d[4]=Math.max(a[4],b[1]),d[5]=Math.max(a[5],b[2]));return d};b.expandWithBuffer=function(a,b,d,c,e){void 0===d&&(d=0);void 0===c&&(c=b.length/3);void 0===e&&(e=a);var f=a[0],g=a[1],h=a[2],k=a[3],l=a[4];a=a[5];for(var m=0;m<c;m++)f=Math.min(f,b[d+3*m]),g=Math.min(g,b[d+3*m+1]),
            h=Math.min(h,b[d+3*m+2]),k=Math.max(k,b[d+3*m]),l=Math.max(l,b[d+3*m+1]),a=Math.max(a,b[d+3*m+2]);e[0]=f;e[1]=g;e[2]=h;e[3]=k;e[4]=l;e[5]=a;return e};b.expandWithOffset=function(a,b,d,c,e){void 0===e&&(e=a);e[0]=Math.min(a[0],a[0]+b);e[3]=Math.max(a[3],a[3]+b);e[1]=Math.min(a[1],a[1]+d);e[4]=Math.max(a[4],a[4]+d);e[2]=Math.min(a[2],a[2]+c);e[5]=Math.max(a[5],a[5]+c);return e};b.expandWithNestedArray=function(a,b,d,c){void 0===c&&(c=a);var e=b.length,f=a[0],g=a[1],h=a[2],k=a[3],l=a[4];a=a[5];if(d)for(d=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         0;d<e;d++){var m=b[d],f=Math.min(f,m[0]),g=Math.min(g,m[1]),h=Math.min(h,m[2]),k=Math.max(k,m[0]),l=Math.max(l,m[1]);a=Math.max(a,m[2])}else for(d=0;d<e;d++)m=b[d],f=Math.min(f,m[0]),g=Math.min(g,m[1]),k=Math.max(k,m[0]),l=Math.max(l,m[1]);c[0]=f;c[1]=g;c[2]=h;c[3]=k;c[4]=l;c[5]=a;return c};b.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=d;b.depth=k;b.height=a;b.diameter=function(b){var c=d(b),e=a(b);b=k(b);return Math.sqrt(c*c+e*e+b*b)};b.center=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               c){void 0===c&&(c=[0,0,0]);c[0]=b[0]+d(b)/2;c[1]=b[1]+k(b)/2;c[2]=b[2]+a(b)/2;return c};b.size=function(b,c){void 0===c&&(c=[0,0,0]);c[0]=d(b);c[1]=k(b);c[2]=a(b);return c};b.maximumDimension=function(b){return Math.max(d(b),a(b),k(b))};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};b.containsPointWithMargin=function(a,b,d){return b[0]>=a[0]-d&&b[1]>=a[1]-d&&b[2]>=a[2]-d&&b[0]<=a[3]+d&&b[1]<=a[4]+d&&b[2]<=a[5]+d};b.contains=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};b.intersects=g;b.intersectsClippingArea=function(a,b){return n.isNone(b)?!0:g(a,b)};b.offset=function(a,b,d,c,e){void 0===e&&(e=a);e[0]=a[0]+b;e[1]=a[1]+d;e[2]=a[2]+c;e[3]=a[3]+b;e[4]=a[4]+d;e[5]=a[5]+c;return e};b.getMin=function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};b.getMax=function(a,b){b[0]=a[3];b[1]=a[4];b[2]=a[5];return b};b.setMin=function(a,b,d){void 0===d&&(d=a);d[0]=b[0];d[1]=b[1];d[2]=b[2];d!==a&&
        (d[3]=a[3],d[4]=a[4],d[5]=a[5]);return d};b.setMax=function(a,b,d){void 0===d&&(d=a);d[3]=b[0];d[4]=b[1];d[5]=b[2];d!==a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2]);return a};b.set=f;b.empty=function(a){return a?f(a,b.NEGATIVE_INFINITY):l(b.NEGATIVE_INFINITY)};b.toRect=function(a,b){b||(b=m.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};b.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=b[2];a[4]=b[3];a[5]=Number.POSITIVE_INFINITY;return a};b.is=r;b.isPoint=function(b){return 0===
            d(b)&&0===k(b)&&0===a(b)};b.equals=function(a,b,d){if(n.isNone(a)||n.isNone(b))return a===b;if(!r(a)||!r(b))return!1;if(d)for(var c=0;c<a.length;c++){if(!d(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.wrap=function(a,b,d,c,e,f){return h(a,b,d,c,e,f,q)};b.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0,0,0];var q=l()})},"esri/geometry/support/aaBoundingRect":function(){define(["require",
            "exports","../../core/compilerUtils","../Extent"],function(c,b,n,e){function m(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3]]}function l(a){return a[0]>=a[2]?0:a[2]-a[0]}function h(a){return a[1]>=a[3]?0:a[3]-a[1]}function d(a,b,d){return b>=a[0]&&d>=a[1]&&b<=a[2]&&d<=a[3]}function k(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function a(a){return 4===a.length}function g(a,b,d){return a<b?b:a>d?d:a}Object.defineProperty(b,"__esModule",{value:!0});b.create=m;b.clone=function(a){return[a[0],
            a[1],a[2],a[3]]};b.fromValues=function(a,b,d,c,e){void 0===e&&(e=m());e[0]=a;e[1]=b;e[2]=d;e[3]=c;return e};b.fromExtent=function(a,b){void 0===b&&(b=m());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};b.toExtent=function(a,b){return new e({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};b.expand=function(b,d,c){void 0===c&&(c=b);if("length"in d)if(a(d))c[0]=
            Math.min(b[0],d[0]),c[1]=Math.min(b[1],d[1]),c[2]=Math.max(b[2],d[2]),c[3]=Math.max(b[3],d[3]);else{if(2===d.length||3===d.length)c[0]=Math.min(b[0],d[0]),c[1]=Math.min(b[1],d[1]),c[2]=Math.max(b[2],d[0]),c[3]=Math.max(b[3],d[1])}else switch(d.type){case "extent":c[0]=Math.min(b[0],d.xmin);c[1]=Math.min(b[1],d.ymin);c[2]=Math.max(b[2],d.xmax);c[3]=Math.max(b[3],d.ymax);break;case "point":c[0]=Math.min(b[0],d.x);c[1]=Math.min(b[1],d.y);c[2]=Math.max(b[2],d.x);c[3]=Math.max(b[3],d.y);break;default:n.neverReached(d)}return c};
            b.expandWithNestedArray=function(a,b,d){void 0===d&&(d=a);var c=b.length,e=a[0],f=a[1],g=a[2];a=a[3];for(var h=0;h<c;h++){var k=b[h],e=Math.min(e,k[0]),f=Math.min(f,k[1]),g=Math.max(g,k[0]);a=Math.max(a,k[1])}d[0]=e;d[1]=f;d[2]=g;d[3]=a;return d};b.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=l;b.height=h;b.diameter=function(a){var b=l(a);a=h(a);return Math.sqrt(b*b+a*a)};b.area=function(a){return l(a)*h(a)};b.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=
                (a[0]+a[2])/2;b[1]=(a[1]+a[3])/2;return b};b.containsPoint=function(a,b){return d(a,b[0],b[1])};b.containsPointObject=function(a,b){return d(a,b.x,b.y)};b.containsXY=d;b.containsPointWithMargin=function(a,b,d){return b[0]>=a[0]-d&&b[1]>=a[1]-d&&b[0]<=a[2]+d&&b[1]<=a[3]+d};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};b.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};b.intersection=function(a,b,d){void 0===
            d&&(d=a);var c=b[0],e=b[1],f=b[2];b=b[3];d[0]=g(a[0],c,f);d[1]=g(a[1],e,b);d[2]=g(a[2],c,f);d[3]=g(a[3],e,b);return d};b.distance=function(a,b){var d=(a[1]+a[3])/2,c=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-l(a)/2,0);a=Math.max(Math.abs(b[1]-d)-h(a)/2,0);return Math.sqrt(c*c+a*a)};b.size=function(a,b){b[0]=a[2]-a[0];b[1]=a[3]-a[1]};b.offset=function(a,b,d,c){void 0===c&&(c=a);c[0]=a[0]+b;c[1]=a[1]+d;c[2]=a[2]+b;c[3]=a[3]+d;return c};b.pad=function(a,b,d){void 0===d&&(d=a);d[0]=a[0]-b;d[1]=a[1]-b;d[2]=
                a[2]+b;d[3]=a[3]+b;return d};b.setMin=function(a,b,d){void 0===d&&(d=a);d[0]=b[0];d[1]=b[1];d!==a&&(d[2]=a[2],d[3]=a[3]);return d};b.setMax=function(a,b,d){void 0===d&&(d=a);d[2]=b[0];d[3]=b[1];d!==a&&(d[0]=a[0],d[1]=a[1]);return a};b.set=k;b.empty=function(a){return a?k(a,b.NEGATIVE_INFINITY):m(b.NEGATIVE_INFINITY)};b.is=a;b.isPoint=function(a){return(0===l(a)||!isFinite(a[0]))&&(0===h(a)||!isFinite(a[1]))};b.equals=function(b,d,c){if(null==b||null==d)return b===d;if(!a(b)||!a(d))return!1;if(c)for(var e=
                0;e<b.length;e++){if(!c(b[e],d[e]))return!1}else for(e=0;e<b.length;e++)if(b[e]!==d[e])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0];b.UNIT=[0,0,1,1]})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils","../../core/maybe"],function(c,b,n,e){function m(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;
            for(var d=0;d<a.length;d++){var c=a[d],e=b[d];if(c.length!==e.length)return!1;for(var g=0;g<c.length;g++)if(c[g]!==e[g])return!1}return!0}function l(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(!m(a[d],b[d]))return!1;return!0}function h(a,b){return a===b||a&&b&&a.equals(b)}function d(a,b){if(a===b)return!0;if(e.isNone(a)||e.isNone(b)||a.type!==b.type)return!1;switch(a.type){case "point":return a=h(a.spatialReference,b.spatialReference)?a.x===
            b.x&&a.y===b.y&&a.z===b.z&&a.m===b.m:!1,a;case "extent":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:h(a.spatialReference,b.spatialReference)?a.xmin===b.xmin&&a.ymin===b.ymin&&a.zmin===b.zmin&&a.xmax===b.xmax&&a.ymax===b.ymax&&a.zmax===b.zmax:!1,a;case "polyline":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:h(a.spatialReference,b.spatialReference)?l(a.paths,b.paths):!1,a;case "polygon":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:h(a.spatialReference,b.spatialReference)?l(a.rings,b.rings):!1,a;case "multipoint":return a=
            a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:h(a.spatialReference,b.spatialReference)?m(a.points,b.points):!1,a;case "mesh":return!1;default:n.neverReached(a)}}function k(a,b){if(a===b)return!0;if(!a||!b)return!1;var d=Object.keys(a),c=Object.keys(b);if(d.length!==c.length)return!1;for(c=0;c<d.length;c++){var e=d[c];if(a[e]!==b[e])return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.equals=function(a,b){return a===b?!0:null!=a&&null!=b&&a.objectId===b.objectId&&d(a.geometry,b.geometry)&&k(a.attributes,
            b.attributes)?!0:!1}})},"esri/tasks/operations/pbfOptimizedFeatureSet":function(){define("require exports ../../core/unitUtils ../../geometry/support/spatialReferenceUtils ../../layers/graphics/OptimizedFeature ../../layers/graphics/OptimizedFeatureSet ../../layers/graphics/OptimizedGeometry".split(" "),function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});c=function(){function b(b){this.options=b;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline",
            "esriGeometryPolygon"]}b.prototype.createFeatureResult=function(){return new l.default};b.prototype.prepareFeatures=function(){};b.prototype.finishFeatureResult=function(b){if(b&&b.features&&b.hasZ&&this.options.sourceSpatialReference&&b.spatialReference&&!e.equals(b.spatialReference,this.options.sourceSpatialReference)&&!b.spatialReference.vcsWkid){var a=n.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),d=n.getMetersPerVerticalUnitForSR(b.spatialReference),a=a/d;if(1!==a)for(d=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    0,b=b.features;d<b.length;d++){var c=b[d];if(c.geometry&&c.geometry.coords)for(var c=c.geometry.coords,h=2;h<c.length;h+=3)c[h]*=a}}};b.prototype.addFeature=function(b,a){b.features.push(a)};b.prototype.createFeature=function(){return new m.default};b.prototype.createSpatialReference=function(){return{wkid:0}};b.prototype.createGeometry=function(){return new h.default};b.prototype.addField=function(b,a){b.fields.push(a)};b.prototype.addCoordinate=function(b,a){b.coords.push(a)};b.prototype.addCoordinatePoint=
            function(b,a){b.coords.push(a)};b.prototype.addLength=function(b,a){b.lengths.push(a)};b.prototype.createPointGeometry=function(){return new h.default};return b}();b.Context=c})},"esri/tasks/operations/PBFWorker":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/assignHelper ../../Graphic ../../core/promiseUtils ../../core/workers ../../geometry/SpatialReference ../../layers/support/Field ./pbfQueryUtils".split(" "),function(c,b,n,e,m,l,h,d,k,a){Object.defineProperty(b,
            "__esModule",{value:!0});var g=function(){function b(){}b.prototype._parseFeatureQuery=function(b){var d=a.parsePBFFeatureQuery(b.buffer,b.options);if(b.options&&"dehydrated"===b.options.type&&(d.spatialReference=d.spatialReference.toJSON(),d.fields))for(b=0;b<d.fields.length;b++)d.fields[b]=d.fields[b].toJSON();return l.resolve(d)};return b}();c=function(b){function c(){var a=b.call(this)||this;a._thread=void 0;h.open("PBFWorker",{strategy:"dedicated"}).then(function(b){void 0===a._thread?a._thread=
            b:b.close()});return a}n(c,b);c.prototype.destroy=function(){this._thread&&this._thread.close();this._thread=null};c.prototype.parseFeatureQuery=function(b,c){return b&&0!==b.byteLength?this._thread?(c.sourceSpatialReference&&c.sourceSpatialReference instanceof d&&(c=e({},c,{sourceSpatialReference:c.sourceSpatialReference.toJSON()})),this._thread.invoke("_parseFeatureQuery",{buffer:b,options:c},{transferList:[b]}).then(function(a){if(c&&"dehydrated"===c.type){a.spatialReference=d.fromJSON(a.spatialReference);
            if(a.fields)for(var b=0;b<a.fields.length;b++)a.fields[b]=k.fromJSON(a.fields[b]);for(var b=a.spatialReference,e=0,f=a.features;e<f.length;e++){var g=f[e];g.uid=m.generateUID();g.geometry&&(g.geometry.spatialReference=b)}}return a})):l.resolve(a.parsePBFFeatureQuery(b,c)):l.resolve(null)};return c}(g);b.PBFWorker=c;b.default=function(){return new g}})},"esri/tasks/operations/urlUtils":function(){define(["require","exports"],function(c,b){function n(b){var c={},e;for(e in b)if("declaredClass"!==e){var h=
            b[e];if(null!=h&&"function"!==typeof h)if(Array.isArray(h)){c[e]=[];for(var d=0;d<h.length;d++)c[e][d]=n(h[d])}else"object"===typeof h?h.toJSON&&(c[e]=JSON.stringify(h)):c[e]=h}return c}Object.defineProperty(b,"__esModule",{value:!0});b.mapParameters=n})},"esri/tasks/operations/queryAttachments":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../core/urlUtils ../../layers/support/AttachmentInfo ./urlUtils".split(" "),function(c,b,n,e,m,l,h){function d(b){b=b.toJSON();
            b.attachmentTypes&&(b.attachmentTypes=b.attachmentTypes.join(","));b.keywords&&(b.keywords=b.keywords.join(","));b.globalIds&&(b.globalIds=b.globalIds.join(","));b.objectIds&&(b.objectIds=b.objectIds.join(","));b.size&&(b.size=b.size.join(","));return b}Object.defineProperty(b,"__esModule",{value:!0});b.processAttachmentQueryResult=function(b,a){for(var d={},c=0;c<b.length;c++)for(var e=b[c],h=e.parentObjectId,k=e.parentGlobalId,n=0,e=e.attachmentInfos;n<e.length;n++){var p=e[n],v=m.addProxy(m.addTokenParameter(a+
            "/"+h+"/attachments/"+p.id)),p=l.fromJSON(p);p.set({url:v,parentObjectId:h,parentGlobalId:k});d[h]?d[h].push(p):d[h]=[p]}return d};b.executeAttachmentQuery=function(b,a,c){a={query:h.mapParameters(n({},b.query,{f:"json"},d(a)))};c&&(a=n({},c,a));return e(b.path+"/queryAttachments",a)}})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./exifUtils".split(" "),
            function(c,b,n,e,m,l,h,d){var k={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};return function(a){function b(b){b=a.call(this,b)||this;b.contentType=null;b.exifInfo=null;b.id=null;b.globalId=null;b.keywords=null;b.name=null;b.parentGlobalId=null;b.parentObjectId=null;b.size=null;
                b.url=null;return b}n(b,a);c=b;Object.defineProperty(b.prototype,"orientationInfo",{get:function(){var a=d.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return k[a]||null},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};
                var c;e([l.property({type:String})],b.prototype,"contentType",void 0);e([l.property()],b.prototype,"exifInfo",void 0);e([l.property({readOnly:!0,dependsOn:["exifInfo"]})],b.prototype,"orientationInfo",null);e([l.property({type:h.Integer})],b.prototype,"id",void 0);e([l.property({type:String})],b.prototype,"globalId",void 0);e([l.property({type:String})],b.prototype,"keywords",void 0);e([l.property({type:String})],b.prototype,"name",void 0);e([l.property({json:{read:!1}})],b.prototype,"parentGlobalId",
                    void 0);e([l.property({json:{read:!1}})],b.prototype,"parentObjectId",void 0);e([l.property({type:h.Integer})],b.prototype,"size",void 0);e([l.property({json:{read:!1}})],b.prototype,"url",void 0);return b=c=e([l.subclass("esri.layers.support.AttachmentInfo")],b)}(l.declared(m.JSONSupport))})},"esri/layers/support/exifUtils":function(){define(["require","exports","../../core/arrayUtils"],function(c,b,n){function e(b){var c=b.tagName;b=b.tags;return b&&c?(b=n.find(b,function(b){return b.name===c}))&&
            b.value||null:null}Object.defineProperty(b,"__esModule",{value:!0});b.getExifValue=function(b){var c=b.exifInfo,h=b.exifName;b=b.tagName;return c&&h&&b?(c=n.find(c,function(b){return b.name===h}))?e({tagName:b,tags:c.tags}):null:null}})},"esri/tasks/operations/queryRelatedRecords":function(){define(["require","exports","../../core/tsSupport/assignHelper","../../request","./urlUtils"],function(c,b,n,e,m){function l(b){b=b.toJSON();b.objectIds&&(b.objectIds=b.objectIds.join(","));b.outFields&&(b.outFields=
            b.outFields.join(","));b.outSpatialReference&&(b.outSR=b.outSR.wkid||JSON.stringify(b.outSR.toJSON()),delete b.outSpatialReference);b.source&&(b.layer=JSON.stringify({source:b.source}),delete b.source);return b}Object.defineProperty(b,"__esModule",{value:!0});b.toQueryStringParameters=l;b.executeRelationshipQuery=function(b,d,c){d={query:m.mapParameters(n({},b.query,{f:"json"},l(d)))};c&&(d=n({},c,d));return e(b.path+"/queryRelatedRecords",d).then(function(a){for(var b=a.data,d=b.geometryType,c=b.spatialReference,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    e={},h=0,b=b.relatedRecordGroups;h<b.length;h++){var k=b[h],l={fields:void 0,objectIdFieldName:void 0,geometryType:d,spatialReference:c,features:k.relatedRecords};if(null!=k.objectId)e[k.objectId]=l;else for(var m in k)k.hasOwnProperty(m)&&"relatedRecords"!==m&&(e[k[m]]=l)}a.data=e;return a})}})},"esri/views/View":function(){define("require exports ../core/tsSupport/decorateHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/assignHelper ../Map ../TimeExtent ../core/Accessor ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/HandleOwner ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/scheduling ../core/watchUtils ../core/accessorSupport/decorators ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/GraphicsCollection ./BasemapView ./LayerViewManager ./RefreshManager ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B,D,E,C,G,H,F,I,J,M,O){var L=t.getLogger("esri.views.View");return function(b){function d(d){var e=b.call(this,d)||this;e._userSpatialReference=null;e._cursor=null;e.allLayerViews=new a({root:e,rootCollectionNames:["basemapView.baseLayerViews","groundView?.layerViews","layerViews","basemapView.referenceLayerViews"],getChildrenFunction:function(a){return a.layerViews}});e.animation=null;e.basemapView=null;e.defaultsFromMap=new O({view:e});e.fatalError=
                null;e.extent=null;e.graphics=new E.default;e.navigating=!1;e.layerViews=new k;e.padding={left:0,top:0,right:0,bottom:0};e.ready=!1;e.spatialReferenceWarningDelay=1E3;e.timeExtent=null;e.type=null;e.scale=null;e.updating=!1;e.initialExtentRequired=!0;e.renderContext=null;e.input=new I;e.navigation=new M;e.layerViewManager=null;e.refreshManager=null;e.isHeightModelInfoRequired=!1;e.width=null;e.height=null;e.resizing=!1;e.suspended=!1;e.viewEvents=new J.ViewEvents(e);e._isValid=!1;e._readyCycleForced=
                !1;e.handles.add(e.watch("preconditionsReady",function(a){a?(e._currentSpatialReference=e.spatialReference,c.views.add(e)):(e._currentSpatialReference=null,c.views.remove(e));e.notifyChange("spatialReference");!a&&e.ready?(e.layerViewManager.clear(),e.toolViewManager.detach(),e._teardown()):a&&!e.ready&&(e._startup(),e.toolViewManager.attach())},!0));return e}e(d,b);c=d;d.prototype.initialize=function(){var a=this;this.addResolvingPromise(this.validate().then(function(){a._isValid=!0;return z.whenOnce(a,
                "ready")}));this.basemapView=new C.BasemapView({view:this});this.layerViewManager=new G.default({view:this,layerViewImporter:{importLayerView:function(b){return a.importLayerView(b)},hasLayerViewModule:function(b){return a.hasLayerViewModule(b)}}});this.refreshManager=new H({view:this});this.toolViewManager=new F({view:this});this._resetInitialViewPropertiesFromContent();var b;z.init(this.defaultsFromMap,"isSpatialReferenceDone",function(d){var c=!!(a.map&&0<a.map.allLayers.length);if((!d||a.spatialReference||
                !c)&&b)b=null;else if(d&&!a.spatialReference&&c&&!b){var e=b=v.after(a.spatialReferenceWarningDelay);b.then(function(){e===b&&L.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}).catch(function(){})}},!0)};d.prototype.destroy=function(){this.destroyed||(this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.map=null,this.graphics.destroy(),this.graphics=null,this.handles.remove("defaultsFromMap"),
                this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager.destroy(),this.toolViewManager=null,this.refreshManager.destroy(),this.refreshManager=null,this.layerViewManager.destroy(),this.layerViewManager=null,this.basemapView.destroy(),this.basemapView=null,this.invalidate(),this._emitter.clear(),this.handles.removeAll())};d.prototype._startup=function(){this._set("ready",!0)};d.prototype._teardown=function(){this._set("ready",!1)};d.prototype.whenReady=function(){return v.resolve()};
                d.prototype.toMap=function(){L.error("#toMap()","Not implemented on this instance of View");return null};Object.defineProperty(d.prototype,"heightModelInfo",{get:function(){return this.getDefaultHeightModelInfo()},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"interacting",{get:function(){return this.navigating},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"preconditionsReady",{get:function(){return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&
                        this.map&&(!q.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"map",{set:function(a){var b=this._get("map");a!==b&&(q.isLoadable(a)&&
                    a.load().catch(function(){}),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set("map",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"spatialReference",{get:function(){var a=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;a&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&(a=a.clone(),a.vcsWkid=this.defaultsFromMap.vcsWkid,a.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);
                        return a},set:function(a){this._userSpatialReference=a;this._set("spatialReference",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"stationary",{get:function(){return!this.animation&&!this.navigating&&!this.resizing},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"initialExtent",{get:function(){return this.defaultsFromMap&&this.defaultsFromMap.extent},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"cursor",{get:function(){var a=this.toolViewManager?
                        this.toolViewManager.cursor:null;return u.isSome(a)?a:this._cursor||"default"},set:function(a){this._cursor=a;this.notifyChange("cursor")},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"size",{get:function(){return[this.width,this.height]},enumerable:!0,configurable:!0});d.prototype.whenLayerView=function(a){return this.layerViewManager.whenLayerView(a)};d.prototype.getDefaultSpatialReference=function(){return this.get("defaultsFromMap.spatialReference")};d.prototype.getDefaultHeightModelInfo=
                    function(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||null};d.prototype.importLayerView=function(a){throw new g("importLayerView() not implemented");};d.prototype.hasLayerViewModule=function(a){return!1};d.prototype.validate=function(){return v.resolve()};d.prototype.invalidate=function(){this._isValid=!1};d.prototype.isSpatialReferenceSupported=function(a,b,d){return!0};d.prototype.isTileInfoRequired=function(){return!1};
                d.prototype.when=function(a,b){this.isResolved()&&!this.ready&&L.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.');return this.inherited(arguments,[a,b])};d.prototype.forceReadyCycle=function(){var a=this;this.ready&&(this._readyCycleForced=!0,z.whenFalseOnce(this,"preconditionsReady",function(){return a._readyCycleForced=!1}))};d.prototype.createTool=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   b,d){return this.toolViewManager.createTool(a,b,d)};d.prototype.tryFatalErrorRecovery=function(){this.fatalError=null};d.prototype._resetInitialViewPropertiesFromContent=function(){var a=this;if(this.defaultsFromMap){var b=function(){return a.defaultsFromMap&&a.defaultsFromMap.start()};this.defaultsFromMap.reset();this._currentSpatialReference=null;this.notifyChange("spatialReference");this.handles.remove("defaultsFromMap");this.handles.add([z.watch(this,"spatialReference",function(a,d){D.equals(a,
                    d)||b()}),z.watch(this,"initialExtentRequired",b),w.schedule(b)],"defaultsFromMap")}};var c;d.views=new k;n([y.aliasOf("toolViewManager.activeTool")],d.prototype,"activeTool",void 0);n([y.property({readOnly:!0})],d.prototype,"allLayerViews",void 0);n([y.property()],d.prototype,"animation",void 0);n([y.property()],d.prototype,"basemapView",void 0);n([y.property()],d.prototype,"defaultsFromMap",void 0);n([y.property()],d.prototype,"fatalError",void 0);n([y.property({type:A})],d.prototype,"extent",void 0);
                n([y.property(E.graphicsCollectionProperty)],d.prototype,"graphics",void 0);n([y.property({readOnly:!0,type:x,dependsOn:["map.heightModelInfo?","defaultsFromMap.heightModelInfo"]})],d.prototype,"heightModelInfo",null);n([y.property({readOnly:!0,dependsOn:["navigating"]})],d.prototype,"interacting",null);n([y.property({readOnly:!0})],d.prototype,"navigating",void 0);n([y.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference initialExtentRequired initialExtent defaultsFromMap.isSpatialReferenceDone defaultsFromMap.isTileInfoDone".split(" ")})],
                    d.prototype,"preconditionsReady",null);n([y.property({type:k,readOnly:!0})],d.prototype,"layerViews",void 0);n([y.property({value:null,type:l})],d.prototype,"map",null);n([y.property()],d.prototype,"padding",void 0);n([y.property({readOnly:!0})],d.prototype,"ready",void 0);n([y.property({type:B,dependsOn:["defaultsFromMap.spatialReference","defaultsFromMap.vcsWkid","defaultsFromMap.latestVcsWkid"]})],d.prototype,"spatialReference",null);n([y.property()],d.prototype,"spatialReferenceWarningDelay",
                    void 0);n([y.property({dependsOn:["animation","navigating","resizing"]})],d.prototype,"stationary",null);n([y.property({type:h})],d.prototype,"timeExtent",void 0);n([y.aliasOf("toolViewManager.tools")],d.prototype,"tools",void 0);n([y.property()],d.prototype,"toolViewManager",void 0);n([y.property({readOnly:!0})],d.prototype,"type",void 0);n([y.property({type:Number})],d.prototype,"scale",void 0);n([y.property({readOnly:!0})],d.prototype,"updating",void 0);n([y.property({readOnly:!0})],d.prototype,
                    "initialExtentRequired",void 0);n([y.property({readOnly:!0,type:A,dependsOn:["defaultsFromMap.extent"]})],d.prototype,"initialExtent",null);n([y.property({dependsOn:["toolViewManager.cursor"]})],d.prototype,"cursor",null);n([y.property()],d.prototype,"renderContext",void 0);n([y.property({readOnly:!0})],d.prototype,"input",void 0);n([y.property({type:M,nonNullable:!0})],d.prototype,"navigation",void 0);n([y.property()],d.prototype,"layerViewManager",void 0);n([y.property()],d.prototype,"width",void 0);
                n([y.property()],d.prototype,"height",void 0);n([y.property({readOnly:!0})],d.prototype,"resizing",void 0);n([y.property({value:null,dependsOn:["width","height"],readOnly:!0})],d.prototype,"size",null);n([y.property({readOnly:!0})],d.prototype,"suspended",void 0);n([y.property({readOnly:!0})],d.prototype,"viewEvents",void 0);n([y.property()],d.prototype,"_isValid",void 0);n([y.property()],d.prototype,"_readyCycleForced",void 0);n([y.property()],d.prototype,"_currentSpatialReference",void 0);return d=
                    c=n([y.subclass("esri.views.View")],d)}(y.declared(r.HandleOwnerMixin(f.EventedMixin(p.EsriPromiseMixin(d)))))})},"esri/core/HandleOwner":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Accessor ./Handles ./accessorSupport/decorators ../views/support/WatchUpdatingTracking".split(" "),function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});b.HandleOwnerMixin=function(b){return function(a){function b(){return null!==a&&
            a.apply(this,arguments)||this}n(b,a);b.prototype.destroy=function(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())};Object.defineProperty(b.prototype,"handles",{get:function(){return this._get("handles")||new l},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"updatingHandles",{get:function(){return this._get("updatingHandles")||new d.WatchUpdatingTracking},enumerable:!0,configurable:!0});e([h.property({readOnly:!0})],b.prototype,"handles",null);e([h.property({readOnly:!0})],
            b.prototype,"updatingHandles",null);return b=e([h.subclass("esri.core.HandleOwner")],b)}(h.declared(b))};c=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}n(a,b);return a=e([h.subclass("esri.core.HandleOwner")],a)}(h.declared(b.HandleOwnerMixin(m)));b.HandleOwner=c})},"esri/views/support/WatchUpdatingTracking":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/Accessor ../../core/Handles ../../core/scheduling ../../core/watchUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/wire".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.updating=!1;a.handleId=0;a.handles=new l;a.scheduleHandleId=0;a.pendingPromises=new Set;return a}e(c,b);c.prototype.destroy=function(){this.removeAll();this.handles.destroy()};c.prototype.add=function(a,b,c,e){var f=this;void 0===e&&(e=0);var g=0!==(e&1),h=++this.handleId;g||this.installSyncUpdatingWatch(a,b,h);a=0!==(e&2)?d.init(a,b,c,g):a.watch(b,
                c,g);this.handles.add(a,h);return{remove:function(){f.handles.remove(h)}}};c.prototype.addOnCollectionPropertyChange=function(a,b,c,e){var f=this;void 0===e&&(e=0);e=0!==(e&2);var g=++this.handleId;this.handles.add([d.on(a,b,"after-changes",this.createSyncUpdatingCallback()),d.on(a,b,"change",c,e?function(a){c({added:a.items,removed:[],moved:[],target:a})}:null)],g);return{remove:function(){f.handles.remove(g)}}};c.prototype.addOnCollectionChange=function(a,b,d){var c=this;void 0===d&&(d=0);d=0!==
                (d&2);var e=++this.handleId;this.handles.add([a.on("after-changes",this.createSyncUpdatingCallback()),a.on("change",b)],e);d&&b({added:a.items,removed:[],moved:[],target:a});return{remove:function(){c.handles.remove(e)}}};c.prototype.addPromise=function(a){var b=this;if(!a)return a;var d=++this.handleId;this.handles.add({remove:function(){b.pendingPromises.delete(a)&&(0!==b.pendingPromises.size||b.handles.has(g)||b._set("updating",!1))}},d);this.pendingPromises.add(a);this._set("updating",!0);var c=
                function(){return b.handles.remove(d)};a.then(c,c);return a};c.prototype.removeAll=function(){this.pendingPromises.clear();this.handles.removeAll();this._set("updating",!1)};c.prototype.installSyncUpdatingWatch=function(b,d,c){b=a.default(b,d,this.createSyncUpdatingCallback());this.handles.add(b,c);return b};c.prototype.createSyncUpdatingCallback=function(){var a=this;return function(){a.handles.remove(g);++a.scheduleHandleId;var b=a.scheduleHandleId;a._get("updating")||a._set("updating",!0);a.handles.add(h.schedule(function(){b===
            a.scheduleHandleId&&(a._set("updating",0<a.pendingPromises.size),a.handles.remove(g))}),g)}};n([k.property({readOnly:!0})],c.prototype,"updating",void 0);return c=n([k.subclass("esri.views.support.WatchUpdatingTracking")],c)}(k.declared(m));b.WatchUpdatingTracking=c;var g=-42})},"esri/support/GraphicsCollection":function(){define("require exports ../core/tsSupport/decorateHelper ../core/tsSupport/declareExtendsHelper ../Graphic ../core/Collection ../core/collectionUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType".split(" "),
            function(c,b,n,e,m,l,h,d,k){Object.defineProperty(b,"__esModule",{value:!0});var a=l.ofType(m),g=function(b){function c(a){var d=b.call(this,a)||this;d.on("before-add",function(a){a.item||a.preventDefault()});d.on("after-add",function(a){return d._own(a.item)});d.on("after-remove",function(a){a.item.layer=null});return d}e(c,b);c.prototype.destroy=function(){this._unownAll()};Object.defineProperty(c.prototype,"owner",{get:function(){return this._get("owner")},set:function(a){a!==this._get("owner")&&
                (this._unownAll(),this._set("owner",a),this._ownAll())},enumerable:!0,configurable:!0});c.prototype._createNewInstance=function(b){return new a(b)};c.prototype._ownAll=function(){var a=this;this.items.forEach(function(b){return a._own(b)})};c.prototype._own=function(a){a.layer&&"group"!==a.layer.type&&"remove"in a.layer&&a.layer!==this.owner&&a.layer.remove(a);a.layer=this.owner};c.prototype._unownAll=function(){var a=this;this.items.forEach(function(b){return a._unown(b)})};c.prototype._unown=function(a){a.layer===
            this.owner&&(a.layer=null)};n([d.property()],c.prototype,"owner",null);return c=n([d.subclass("esri.support.GraphicsCollection")],c)}(d.declared(a));b.GraphicsCollection=g;b.castGraphicsCollection=function(a){if(a=k.default(g,a))a.owner=this;return a};b.graphicsCollectionProperty={type:g,cast:h.castForReferenceSetter,set:function(a){a=h.referenceSetter(a,this._get("graphics"),g);a.owner=this;this._set("graphics",a)}};b.default=g})},"esri/views/BasemapView":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/Collection ../core/watchUtils ../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function a(a){a=b.call(this,a)||this;a.view=null;a.baseLayerViews=new l;a.referenceLayerViews=new l;a._loadingHandle=h.init(a,"view.map.basemap",function(a){a&&a.load().catch(function(){})});return a}n(a,b);a.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)};Object.defineProperty(a.prototype,"suspended",{get:function(){return this.view?
                    this.view.suspended:!0},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"updating",{get:function(){return this.view&&this.view.suspended?!1:!(!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)},enumerable:!0,configurable:!0});e([d.property({constructOnly:!0})],a.prototype,"view",void 0);e([d.property({readOnly:!0})],a.prototype,"baseLayerViews",void 0);e([d.property({readOnly:!0})],a.prototype,"referenceLayerViews",void 0);e([d.property({readOnly:!0,
                dependsOn:["view.suspended"]})],a.prototype,"suspended",null);e([d.property({type:Boolean,readOnly:!0,dependsOn:["view.suspended","view.map.basemap.loaded"]})],a.prototype,"updating",null);return a=e([d.subclass("esri.views.BasemapView")],a)}(d.declared(m));b.BasemapView=c})},"esri/views/LayerViewManager":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/Error ../core/HandleOwner ../core/Logger ../core/promiseUtils ../core/scheduling ../core/watchUtils ../core/accessorSupport/decorators ./support/WatchUpdatingTracking".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q){Object.defineProperty(b,"__esModule",{value:!0});var t=k.getLogger("esri.views.LayerViewManager"),u=new Map;u.set("view.map.basemap.baseLayers","view.basemapView.baseLayerViews");u.set("view.map.ground.layers","view.groundView.layerViews");u.set("view.map.layers","view.layerViews");u.set("view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews");var p=function(){function b(b,d,c){var e=this;this.layer=b;this.view=d;this.layerViewImporter=c;this._controller=
                a.createAbortController();this._deferred=a.createDeferred();this.done=this._started=!1;a.onAbort(this._controller.signal,function(){var a=new h("cancelled:layerview-create","layerview creation cancelled",{layer:b});e._deferred.reject(a)})}Object.defineProperty(b.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!0,configurable:!0});b.prototype.destroy=function(){this._controller.abort();var a=this.layerView;if(a){var b=this.layer,d=this.view;a.destroy();b.emit("layerview-destroy",
                {view:d,layerView:a});d.emit("layerview-destroy",{layer:b,layerView:a});this.done=!0;this.layerViewImporter=this.view=this.layerView=this.layer=null;a.layer=null;a.parent=null;a.view=null}};b.prototype.start=function(){return l(this,void 0,void 0,function(){var b,d,c,e,f,g,k,l;return m(this,function(m){switch(m.label){case 0:if(this._started)return[2];this._started=!0;b=this;d=b._controller.signal;c=b.layer;e=b.view;this._map=e.map;m.label=1;case 1:return m.trys.push([1,10,,11]),[4,c.load({signal:d})];
                case 2:return m.sent(),"prefetchResources"in c?[4,c.prefetchResources({signal:d})]:[3,4];case 3:m.sent(),m.label=4;case 4:return f=void 0,c.createLayerView?[4,c.createLayerView(e,{signal:d})]:[3,6];case 5:return f=m.sent(),[3,8];case 6:if(!this.layerViewImporter.hasLayerViewModule(c))throw new h("layer:view-not-supported","No layerview implementation was found");return[4,this.layerViewImporter.importLayerView(c)];case 7:g=m.sent(),a.throwIfAborted(d),f="default"in g?new g.default({layer:c,view:e}):
                    new g({layer:c,view:e}),m.label=8;case 8:return a.throwIfAborted(d),[4,f.when()];case 9:m.sent();k=this._map&&this._map.allLayers.includes(c);if(!k||d.aborted)return f.destroy(),f.layer=f.parent=f.view=null,this.done=!0,k?[2]:[2,this._deferred.reject(new h("view:no-layerview-for-layer","The layer has been removed from the map",{layer:c}))];this.layerView=f;c.emit("layerview-create",{view:e,layerView:f});e.emit("layerview-create",{layer:c,layerView:f});this.done=!0;this._deferred.resolve(f);return[3,
                    11];case 10:return l=m.sent(),c.emit("layerview-create-error",{view:e,error:l}),e.emit("layerview-create-error",{layer:c,error:l}),this.done=!0,this._deferred.reject(new h("layerview:create-error","layerview creation failed",{layer:c,error:l})),[3,11];case 11:return[2]}})})};return b}();c=function(b){function d(a){var d=b.call(this,a)||this;d._layerLayerViewInfoMap=new Map;d._watchUpdatingTracking=new q.WatchUpdatingTracking;d.view=null;d._preloadLayerViewModules=function(){var a=d.view,b=d.get("view.map.allLayers");
                a&&b&&b.forEach(function(a){d.layerViewImporter.hasLayerViewModule(a)&&d.layerViewImporter.importLayerView(a)})};d._reschedule=function(){d.handles.remove("reschedule");d.handles.add(g.schedule(d._doWork),"reschedule");d.notifyChange("updating")};d._doWork=function(){var a=d.get("view.map");d._map!==a&&(d.clear(),d._map=a);if(d.handles.has("reschedule")){d.handles.remove("reschedule");d.handles.remove("collection-change");var b=a&&a.allLayers;if(b){b.forEach(d._createLayerView,d);d._refreshCollections();
                var c=[];d._layerLayerViewInfoMap.forEach(function(a,d){b.includes(d)||c.push(a)});for(a=0;a<c.length;a++){var e=c[a];d._layerLayerViewInfoMap.delete(e.layer);e.destroy()}d.handles.add(d._watchUpdatingTracking.addOnCollectionChange(b,d._reschedule),"collection-change");d.notifyChange("updating")}}};d.handles.add([f.on(d,"view.map.allLayers","change",d._preloadLayerViewModules,d._preloadLayerViewModules),d.watch(["view.map.basemap","view.map.ground","view.map.layers","view.ready"],d._reschedule,!0)]);
                return d}n(d,b);d.prototype.initialize=function(){this._preloadLayerViewModules()};d.prototype.destroy=function(){this.clear();this._watchUpdatingTracking.destroy();this._map=this.view=null};Object.defineProperty(d.prototype,"updating",{get:function(){if(this.handles.has("reschedule")||this._watchUpdatingTracking.updating)return!0;var a=!0;this._layerLayerViewInfoMap.forEach(function(b){return a=a&&b.done});return!a},enumerable:!0,configurable:!0});d.prototype.clear=function(){this.destroyed||(this._layerLayerViewInfoMap.forEach(function(a){return a.destroy()}),
                this._layerLayerViewInfoMap.clear(),this._refreshCollections())};d.prototype.whenLayerView=function(b){this._reschedule();this._doWork();return this._layerLayerViewInfoMap.has(b)?this._layerLayerViewInfoMap.get(b).promise:a.reject(new h("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:b}))};d.prototype._refreshCollections=function(){var a=this;u.forEach(function(b,d){a._populateLayerViewsOwners(a.get(d),a.get(b),a.view)})};d.prototype._populateLayerViewsOwners=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          b,d){var c=this;if(a&&b){var e=0;a.forEach(function(a){var f=c._layerLayerViewInfoMap.get(a);f&&f.layerView&&(f=f.layerView,f.layer=a,f.parent=d,b.getItemAt(e)!==f&&b.splice(e,0,f),a.layers&&c._populateLayerViewsOwners(a.layers,f.layerViews,f),e+=1)});e<b.length&&b.splice(e,b.length)}else b&&b.removeAll()};d.prototype._createLayerView=function(b){var d=this;if(this._layerLayerViewInfoMap.has(b))this.view.ready&&this._layerLayerViewInfoMap.get(b).start();else{b.load().catch(function(){});this.layerViewImporter.hasLayerViewModule(b)&&
            this.layerViewImporter.importLayerView(b);var c=new p(b,this.view,this.layerViewImporter);c.promise.then(function(){d._refreshCollections();d.notifyChange("updating")},function(c){c&&(a.isAbortError(c)||"cancelled:layerview-create"===c.name)||t.error("Failed to create view for layer '"+b.title+", id:"+b.id+"' of type '"+b.type+"'.",{error:c});d._refreshCollections();d.notifyChange("updating")});this._layerLayerViewInfoMap.set(b,c);this.view.ready&&c.start()}this.notifyChange("updating")};e([r.property({readOnly:!0})],
                d.prototype,"_watchUpdatingTracking",void 0);e([r.property()],d.prototype,"layerViewImporter",void 0);e([r.property({readOnly:!0,dependsOn:["_watchUpdatingTracking.updating"]})],d.prototype,"updating",null);e([r.property()],d.prototype,"view",void 0);return d=e([r.subclass("esri.views.LayerViewManager")],d)}(r.declared(d.HandleOwner));b.default=c})},"esri/views/RefreshManager":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/Handles ../core/accessorSupport/decorators ./layers/RefreshableLayerView".split(" "),
            function(c,b,n,e,m,l,h,d){return function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a._handles=new l;a._currentTick=0;return a}n(a,b);a.prototype.initialize=function(){var a=this;this._handles.add([this.view.allLayerViews.on("after-changes",function(){a.notifyChange("tickInterval");a._handles.remove("layerViewsUpdating");a._handles.add(a._getLayerViewHandles(),"layerViewsUpdating")}),this.watch("tickInterval",function(){return a._restartTicking()}),this.watch("view.ready",function(){return a._restartTicking()})]);
                this._restartTicking()};a.prototype.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)};Object.defineProperty(a.prototype,"tickInterval",{get:function(){var a=this.view.allLayerViews.filter(function(a){return d.isRefreshableLayerView(a)});return this._getCommonInterval(a)},enumerable:!0,configurable:!0});a.prototype._restartTicking=function(){var a=this;this._currentTick=0;this._intervalID&&clearInterval(this._intervalID);
                this.get("view.ready")&&this.tickInterval&&(this._intervalID=setInterval(function(){var b=Date.now();a._currentTick+=a.tickInterval;a.view.allLayerViews.forEach(function(c){if(d.isRefreshableLayerView(c)){var e=Math.round(6E4*c.refreshInterval),f=0===a._currentTick%e,g=6E3>b-c.refreshTimestamp;e&&f&&!g&&c.refresh(b)}})},this.tickInterval))};a.prototype._getLayerViewHandles=function(){var a=this,b=[],c=function(){return a.notifyChange("tickInterval")};this.view.allLayerViews.forEach(function(a){d.isRefreshableLayerView(a)&&
            a.layer&&b.push(a.watch("refreshInterval",c),a.layer.on("refresh",function(){a.refresh(Date.now())}))});return b};a.prototype._getCommonInterval=function(a){var b=function(a,d){return isNaN(a)||isNaN(d)?0:0>=d?a:b(d,a%d)};return a.toArray().reduce(function(a,d){return b(Math.round(6E4*d.refreshInterval),a)},0)};e([h.property()],a.prototype,"view",void 0);e([h.property({readOnly:!0})],a.prototype,"tickInterval",null);return a=e([h.subclass("esri.views.RefreshManager")],a)}(h.declared(m))})},"esri/views/layers/RefreshableLayerView":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/promiseUtils ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});b.RefreshableLayerView=function(b){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.refreshTimestamp=null;b.refreshDebounced=h.debounce(function(a,d){return l(b,void 0,void 0,function(){var b;return m(this,function(c){switch(c.label){case 0:return"number"===typeof a?b=a:(b=Date.now(),d=a),this._set("refreshTimestamp",b),this.doRefresh?[4,this.doRefresh(d)]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},
                2E3);return b}n(b,a);b.prototype.refresh=function(a){void 0===a&&(a=Date.now());this._set("refreshTimestamp",a);this.doRefresh&&this.doRefresh()};e([d.property()],b.prototype,"layer",void 0);e([d.aliasOf("layer.refreshInterval")],b.prototype,"refreshInterval",void 0);e([d.property({readOnly:!0})],b.prototype,"refreshTimestamp",void 0);return b=e([d.subclass("esri.layers.mixins.RefreshableLayerView")],b)}(d.declared(b))};b.isRefreshableLayerView=function(b){return"refresh"in b}})},"esri/views/ToolViewManager":function(){define("require exports ../core/tsSupport/decorateHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../core/Accessor ../core/Collection ../core/Handles ../core/Logger ../core/maybe ../core/promiseUtils ../core/watchUtils ../core/accessorSupport/decorators ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/ToolViewManagerManipulatorState".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w){var z=g.getLogger("esri.views.ToolViewManager");return function(b){function c(d){var c=b.call(this,d)||this;c._handles=new a;c._creatingTool=null;c._manipulatorState=new w.default;c.tools=v.newToolCollection();c.cursor=null;c._forEachTool=function(a){if(!f.isSome(c._creatingTool)||!a(c._creatingTool))for(var b=0,d=c.tools.items;b<d.length&&!a(d[b]);b++);};return c}e(c,b);c.prototype.initialize=function(){var a=this;this._handles.add([this.view.on(p.eventTypes,
                function(b){a._handleInputEvent(b)},u.ViewEventPriorities.TOOL),this.tools.on("before-add",function(b){var d=b.item;null==d||a.tools.includes(d)?b.preventDefault():null==d.created||d.created||(z.error("tools","Tool can not be added to view before it has been created"),b.preventDefault())}),this.tools.on("before-remove",function(b){a._manipulatorState.clearPointers(b.item,a._forEachTool)}),this.tools.on("change",function(){a._refreshToolWatchers()})])};c.prototype.destroy=function(){this._forEachTool(function(a){return a.destroy()});
                this._handles.destroy();this._handles=null};Object.defineProperty(c.prototype,"activeTool",{set:function(a){var b=this;f.isSome(a)&&!this.view.ready?z.error("#activeTool\x3d","cannot set active tool while view is not ready"):(v.swap(this,a,function(d){b._set("activeTool",d);b._removeIncompleteTools(a);b._forEachTool(function(a){var d=f.isNone(b.activeTool)||a===b.activeTool;a.setEditableFlag&&a.setEditableFlag(1,d);d=v.areToolManipulatorsEditable(a);!f.isNone(b.activeTool)&&d||b._manipulatorState.clearPointers(a,
                    b._forEachTool,!d)});b._updateCursor()}),this._creatingTool!==a&&this._rejectCreatingTool())},enumerable:!0,configurable:!0});c.prototype.createTool=function(a,b,c){return l(this,void 0,void 0,function(){var e,g,k,l=this;return m(this,function(m){switch(m.label){case 0:return[4,this.view.whenReady()];case 1:return m.sent(),e=v.evaluateToolConstructorArguments(b),g=new a(h({},e,{view:this.view})),k=r.onAbort(c,function(){return l.activeTool=null}),this._rejectCreatingTool("Tool creation was interrupted by another tool being created"),
                this._creatingTool=g,g.attach(),this._refreshToolWatchers(),v.setActive(g,!0),[4,g.when()];case 2:return m.sent(),f.isSome(k)&&k.remove(),this._creatingTool=null,this.tools.add(g),g instanceof d&&null!=g.completed&&q.whenOnce(g,"completed").then(function(){v.setActive(g,!1)}),[2,g]}})})};c.prototype.attach=function(){var a=this;this._forEachTool(function(a){return a.attach()});"3d"===this.view.type?this._handles.add([this.view.state.watch("camera",function(){a.forEachManipulator(function(a){if(null!=
                a.onViewChange)a.onViewChange()})}),this.view.elevationProvider.on("elevation-change",function(b){a.forEachManipulator(function(a){if(null!=a.onElevationChange)a.onElevationChange(b)})})],"manipulators"):this._handles.add(this.view.watch("extent",function(){a.forEachManipulator(function(a){if(null!=a.onViewChange)a.onViewChange()})}))};c.prototype.detach=function(){this.activeTool=null;this._forEachTool(function(a){a.detach();a.destroy()});this.tools.removeAll();this._handles.remove("manipulators")};
                c.prototype.forEachManipulator=function(a){this._forEachTool(function(b){b.manipulators&&b.manipulators.forEach(function(d){return a(d.manipulator,b)})})};c.prototype._handleInputEvent=function(a){var b=this;f.isSome(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(a):this._forEachTool(function(b){!1!==b.visible&&b.handleInputEvent&&b.handleInputEvent(a)});"key-down"===a.type&&"Escape"===a.key&&this.activeTool&&(a.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(a,
                    {forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:function(a){b.activeTool=a},creatingTool:this._creatingTool,view:this.view});this._manipulatorState.handleHoverEvent(a,this._forEachTool);this._updateCursor()};c.prototype._refreshToolWatchers=function(){var a=this;this._handles.remove("tools");this._forEachTool(function(b){if(b instanceof d){var c=q.watch(b,["cursor","visible","editable"],function(){v.areToolManipulatorsEditable(b)||a._manipulatorState.clearPointers(b,a._forEachTool);
                    a._updateCursor()});a._handles.add(c,"tools")}b.manipulators&&a._handles.add(b.manipulators.on("change",function(d){d.removed.forEach(function(d){a._manipulatorState.clearPointers(b,a._forEachTool,!0,d.id)});a._manipulatorState.updateHoveredStateFromKnownPointers(a._forEachTool);a._updateCursor()}),"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};c.prototype._updateCursor=function(){var a=null;this._forEachTool(function(b){return null!=
                b.cursor&&!1!==b.visible?(a=b.cursor,!0):!1});a||(a=this._manipulatorState.cursor);this._get("cursor")!==a&&this._set("cursor",a)};c.prototype._rejectCreatingTool=function(a){var b=this._creatingTool;f.isNone(b)||(this._manipulatorState.clearPointers(b,this._forEachTool),b.rejectCreation&&b.rejectCreation(r.createAbortError(a)),b.destroy(),this._creatingTool=null,this._refreshToolWatchers())};c.prototype._removeIncompleteTools=function(a){var b=this;this.tools.filter(function(b){return(f.isNone(a)||
                    b!==a)&&null!=b.completed&&!b.completed}).forEach(function(a){b.tools.remove(a)})};n([t.property({constructOnly:!0,nonNullable:!0})],c.prototype,"view",void 0);n([t.property({value:null})],c.prototype,"activeTool",null);n([t.property({readOnly:!0,type:k})],c.prototype,"tools",void 0);n([t.property({readOnly:!0})],c.prototype,"cursor",void 0);return c=n([t.subclass("esri.views.ToolViewManager")],c)}(t.declared(d))})},"esri/views/input/InputManager":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Logger ../../core/now ../../core/accessorSupport/decorators ./keys ./handlers/LatestPointerType".split(" "),
            function(c,b,n,e,m,l,h,d,k,a){Object.defineProperty(b,"__esModule",{value:!0});var g=l.getLogger("esri.views.input.InputManager");c=function(c){function l(a){a=c.call(this,a)||this;a._pointerCaptures=new Map;a._nameToGroup={};a._handlers=[];a._currentPropagation=null;a._sourceEvents=new Set;a._keyModifiers=new Set;a._activeKeyModifiers=new Set;a._stoppedPropagationEventIds=new Set;a.primaryKey=k.primaryKey;a.latestPointerType="mouse";a.test={timestamp:void 0};return a}n(l,c);l.prototype.initialize=
                function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};l.prototype.destroy=function(){for(var a=0,b=Object.keys(this._nameToGroup);a<b.length;a++)this.uninstallHandlers(b[a]);this.eventSource=null};Object.defineProperty(l.prototype,"hasPendingInputs",{get:function(){return this._handlers.some(function(a){return a.handler.hasPendingInputs})},enumerable:!0,configurable:!0});l.prototype.installHandlers=function(a,d,c){var e=this;void 0===c&&(c=b.ViewEventPriorities.INTERNAL);
                if(this._nameToGroup[a])g.error("There is already an InputHandler group registered under the name `"+a+"`");else if(0===d.length)g.error("Can't register a group of zero handlers");else{var f={name:a,handlers:d.map(function(a){return{handler:a,active:!0,removed:!1,priorityIndex:0,groupPriority:c,eventCallback:null,uninstallCallback:null}})};this._nameToGroup[a]=f;a=function(a){var b=f.handlers[a];h._handlers.push(b);b.handler.onInstall({updateDependencies:function(){e.updateDependencies()},emit:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            d,c,f,g){e._emitInputEvent(b.priorityIndex,a,d,c,g,f)},setPointerCapture:function(a,d){e._setPointerCapture(f,b,a,d)},setEventCallback:function(a){b.eventCallback=a},setUninstallCallback:function(a){b.uninstallCallback=a},refreshHasPendingInputs:function(){e.notifyChange("hasPendingInputs")}})};var h=this;for(d=f.handlers.length-1;0<=d;d--)a(d);this.updateDependencies()}};l.prototype.uninstallHandlers=function(a){var b=this._nameToGroup[a];b?(b.handlers.forEach(function(a){a.removed=!0;a.uninstallCallback()}),
                delete this._nameToGroup[a],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):g.error("There is no InputHandler group registered under the name `"+a+"`")};l.prototype.hasHandlers=function(a){return void 0!==this._nameToGroup[a]};l.prototype.updateDependencies=function(){var a=new Set,b=new Set;this._handlersPriority=[];for(var d=this._handlers.length-1;0<=d;d--){var c=this._handlers[d];c.priorityIndex=d;this._handlersPriority.push(c)}this._handlersPriority=
                this._sortHandlersPriority(this._handlersPriority);for(d=this._handlersPriority.length-1;0<=d;d--){c=this._handlersPriority[d];c.priorityIndex=d;var e=c.handler.hasSideEffects;if(!e)for(var f=0,g=c.handler.outgoingEventTypes;f<g.length;f++)if(a.has(g[f])){e=!0;break}if(e)for(f=0,g=c.handler.incomingEventMatches;f<g.length;f++){var h=g[f];a.add(h.eventType);for(var l=0,h=h.keyModifiers;l<h.length;l++){var m=h[l];k.isSystemModifier(m)||b.add(m)}}c.active=e}this._sourceEvents=a;this._keyModifiers=b;
                0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)};l.prototype._setLatestPointerType=function(a){this._set("latestPointerType",a)};l.prototype._onEventReceived=function(a,b){"pointer-capture-lost"===a&&this._pointerCaptures.delete(b.native.pointerId);this._updateKeyModifiers(a,b);this._emitInputEventFromSource(a,
                b,null!=this.test.timestamp?this.test.timestamp:b.native?b.native.timestamp:void 0,b.native?b.native.cancelable:void 0)};l.prototype._updateKeyModifiers=function(a,b){var d=this;if(b){var c=!1,e=function(){if(!c){var a=new Set;d._activeKeyModifiers.forEach(function(b){a.add(b)});d._activeKeyModifiers=a;c=!0}},f=function(a,b){b&&!d._activeKeyModifiers.has(a)?(e(),d._activeKeyModifiers.add(a)):!b&&d._activeKeyModifiers.has(a)&&(e(),d._activeKeyModifiers.delete(a))};if("key-down"===a||"key-up"===a){var g=
                b.key;this._keyModifiers.has(g)&&f(g,"key-down"===a)}a=b.native;f("Alt",!(!a||!a.altKey));f("Ctrl",!(!a||!a.ctrlKey));f("Shift",!(!a||!a.shiftKey));f("Meta",!(!a||!a.metaKey));f("Primary",this._activeKeyModifiers.has(this.primaryKey))}};l.prototype._installRecognizers=function(){var d=this;this._latestPointerTypeHandler=new a.LatestPointerType(function(a){return d._setLatestPointerType(a)});0<this.recognizers.length&&this.installHandlers("default",this.recognizers,b.ViewEventPriorities.INTERNAL);
                this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],b.ViewEventPriorities.INTERNAL)};l.prototype._setPointerCapture=function(a,b,d,c){a=a.name+"-"+b.priorityIndex;b=this._pointerCaptures.get(d.pointerId)||new Set;this._pointerCaptures.set(d.pointerId,b);c?(b.add(a),1===b.size&&this.eventSource&&this.eventSource.setPointerCapture(d,!0)):b.has(a)&&(b.delete(a),0===b.size&&(this._pointerCaptures.delete(d.pointerId),this.eventSource&&this.eventSource.setPointerCapture(d,!1)))};
                l.prototype._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(function(a){return!a.removed});this.updateDependencies()};l.prototype._emitInputEventFromSource=function(a,b,d,c){this._emitInputEvent(0,a,b,d,c)};l.prototype._emitInputEvent=function(a,b,d,c,e,g){c=void 0!==c?c:this._currentPropagation?this._currentPropagation.timestamp:h();b=new f(b,d,c,g||this._activeKeyModifiers,void 0!==e?e:!1);this._currentPropagation?this._currentPropagation.addedEvents.push(b):this._doNewPropagation(a,
                    b)};l.prototype._doNewPropagation=function(a,b){for(a=this._currentPropagation={events:[b],addedEvents:[],currentHandler:this._handlersPriority[a],needsHandlerGarbageCollect:!1,timestamp:b.timestamp};a.currentHandler;){if(a.currentHandler.removed)a.needsHandlerGarbageCollect=!0;else{b=a.events;var d=[];a.addedEvents=[];for(var c=0;c<b.length;c++){var e=b[c],f=e.data&&e.data.eventId;null!=f&&this._stoppedPropagationEventIds.has(f)||(a.currentHandler.active&&a.currentHandler.eventCallback(e),e.shouldStopPropagation()?
                    null!=f&&this._stoppedPropagationEventIds.add(f):d.push(e))}a.events=d.concat(a.addedEvents)}a.currentHandler=this._handlersPriority[a.currentHandler.priorityIndex+1]}a.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null};l.prototype._compareHandlerPriority=function(a,b){if(a.handler.hasSideEffects!==b.handler.hasSideEffects)return a.handler.hasSideEffects?1:-1;if(a.groupPriority!==b.groupPriority)return a.groupPriority>
                b.groupPriority?-1:1;for(var d=0,c=a.handler.incomingEventMatches;d<c.length;d++)for(var e=c[d],f=function(a){if(e.eventType!==a.eventType)return"continue";var b=e.keyModifiers.filter(function(b){return-1!==a.keyModifiers.indexOf(b)});if(b.length===e.keyModifiers.length!==(b.length===a.keyModifiers.length))return{value:e.keyModifiers.length>a.keyModifiers.length?-1:1}},g=0,h=b.handler.incomingEventMatches;g<h.length;g++){var k=f(h[g]);if("object"===typeof k)return k.value}return a.priorityIndex>b.priorityIndex?
                    -1:1};l.prototype._sortHandlersPriority=function(a){for(var b=[],d=0;d<a.length;d++){for(var c=a[d],e=0;e<b.length&&0<=this._compareHandlerPriority(c,b[e]);)e++;b.splice(e,0,c)}return b};Object.defineProperty(l.prototype,"debug",{get:function(){var a=this,b=function(b){var d=a._setPointerCapture;a._setPointerCapture=function(){};b();a._setPointerCapture=d};return{injectEvent:function(d,c){b(function(){a._onEventReceived(d,c)})},disablePointerCapture:b}},enumerable:!0,configurable:!0});e([d.property({readOnly:!0})],
                    l.prototype,"hasPendingInputs",null);e([d.property({})],l.prototype,"eventSource",void 0);e([d.property({})],l.prototype,"recognizers",void 0);e([d.property({readOnly:!0})],l.prototype,"latestPointerType",void 0);return l=e([d.subclass("esri.views.input.InputManager")],l)}(d.declared(m));b.InputManager=c;var f=function(){function a(a,b,d,c,e){this.type=a;this.data=b;this.timestamp=d;this.modifiers=c;this.cancelable=e;this._stopPropagation=!1}a.prototype.stopPropagation=function(){this._stopPropagation=
                !0};a.prototype.shouldStopPropagation=function(){return this._stopPropagation};a.prototype.preventDefault=function(){this.data.native.preventDefault()};return a}();b.ViewEventPriorities={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}})},"esri/views/input/keys":function(){define(["require","exports","../../core/events","../../core/has"],function(c,b,n,e){Object.defineProperty(b,"__esModule",{value:!0});b.primaryKey=e("mac")?"Meta":"Ctrl";var m={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",
            35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(c=48;58>c;c++)m[c]=String.fromCharCode(c);for(c=1;25>c;c++)m[111+c]="F"+c;for(c=65;91>c;c++)m[c]=[String.fromCharCode(c+32),String.fromCharCode(c)];b.eventKey=function(b){if(void 0!==b.key)return n.eventKey(b);var c=m[b.keyCode];return Array.isArray(c)?b.shiftKey?c[1]:c[0]:c};b.isSystemModifier=function(b){switch(b){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1}})},
        "esri/views/input/handlers/LatestPointerType":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","../InputHandler"],function(c,b,n,e){Object.defineProperty(b,"__esModule",{value:!0});c=function(b){function c(c){var d=b.call(this,!0)||this;d._onChange=c;d._value="mouse";d.registerIncoming("pointer-down",function(b){d._setValue("touch"===b.data.native.pointerType?"touch":"mouse")});d._moveHandler=d.registerIncoming("pointer-move",function(b){d._setValue("touch"===b.data.native.pointerType?
            "touch":"mouse")});d._moveHandler.pause();return d}n(c,b);c.prototype._setValue=function(b){b!==this._value&&("touch"===b?this._moveHandler.resume():this._moveHandler.pause(),this._value=b,this._onChange(b))};return c}(e.InputHandler);b.LatestPointerType=c})},"esri/views/input/InputHandler":function(){define(["require","exports","../../core/Logger","./EventMatch"],function(c,b,n,e){Object.defineProperty(b,"__esModule",{value:!0});var m=n.getLogger("esri.views.input.InputHandler");c=function(){function b(b){this._manager=
            null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=b}Object.defineProperty(b.prototype,"incomingEventMatches",{get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(var b in this._incoming)for(var a=0,d=this._incoming[b];a<d.length;a++)this._incomingEventMatches.push(d[a].match)}return this._incomingEventMatches},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
            "incomingEventTypes",{get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(function(b){return b.eventType}));return this._incomingEventTypes},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"outgoingEventTypes",{get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasSideEffects",{get:function(){return this._hasSideEffects},
            enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasPendingInputs",{get:function(){return!1},enumerable:!0,configurable:!0});b.prototype.onInstall=function(b){var a=this;this._manager?m.error("This InputHandler has already been registered with an InputManager"):(b.setEventCallback(function(b){return a._handleEvent(b)}),b.setUninstallCallback(function(){return a._onUninstall()}),this._manager=b)};b.prototype.onUninstall=function(){};b.prototype.registerIncoming=function(b,a,d){var c=
            this;"function"===typeof a?(d=a,a=[]):a=a||[];b="string"===typeof b?new e.EventMatch(b,a):b;var g=function(){c._incomingEventTypes=null;c._incomingEventMatches=null};a=function(a){var b=c._incoming[a.match.eventType];b&&(a=b.indexOf(a),b.splice(a,1),g(),c._manager&&c._manager.updateDependencies())};d=new l(b,d,{onPause:a,onRemove:a,onResume:function(a){var b=c._incoming[a.match.eventType];b&&-1===b.indexOf(a)&&(b.push(a),g(),c._manager&&c._manager.updateDependencies())}});a=this._incoming[b.eventType];
            a||(a=[],this._incoming[b.eventType]=a);a.push(d);g();this._manager&&this._manager.updateDependencies();return d};b.prototype.registerOutgoing=function(b){var a=this;if(this._outgoing[b])throw Error("There is already a callback registered for this outgoing InputEvent: "+b);var d=new h(b,{onEmit:function(b,d,c,e){a._manager.emit(b.eventType,d,c,e)},onRemove:function(b){delete a._outgoing[b.eventType];a._manager.updateDependencies()}});this._outgoing[b]=d;this._outgoingEventTypes=null;this._manager&&
        this._manager.updateDependencies();return d};b.prototype.startCapturingPointer=function(b){this._manager.setPointerCapture(b,!0)};b.prototype.stopCapturingPointer=function(b){this._manager.setPointerCapture(b,!1)};b.prototype.refreshHasPendingInputs=function(){this._manager.refreshHasPendingInputs()};b.prototype._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):m.error("This InputHandler is not registered with an InputManager")};b.prototype._handleEvent=function(b){var a=
            this._incoming[b.type];if(a)for(var d=0;d<a.length;d++){var c=a[d];if(c.match.matches(b)&&(c.callback(b),b.shouldStopPropagation()))break}};return b}();b.InputHandler=c;var l=function(){function b(b,a,d){this.match=b;this._callback=a;this._handler=d}b.prototype.pause=function(){this._handler.onPause(this)};b.prototype.resume=function(){this._handler.onResume(this)};b.prototype.remove=function(){this._handler.onRemove(this)};Object.defineProperty(b.prototype,"callback",{get:function(){return this._callback},
            enumerable:!0,configurable:!0});return b}(),h=function(){function b(b,a){this.eventType=b;this._removed=!1;this._handler=a}b.prototype.emit=function(b,a,d){if(!this._removed)this._handler.onEmit(this,b,a,d)};b.prototype.remove=function(){this._removed=!0;this._handler.onRemove(this)};return b}()})},"esri/views/input/EventMatch":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});c=function(){function b(b,c){void 0===c&&(c=[]);this.eventType=b;this.keyModifiers=
            c}b.prototype.matches=function(b){if(b.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;b=b.modifiers;for(var c=0,e=this.keyModifiers;c<e.length;c++)if(!b.has(e[c]))return!1;return!0};return b}();b.EventMatch=c})},"esri/views/input/ViewEvents":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/compilerUtils ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager".split(" "),function(c,b,n,e,m,l,h,d){function k(a){return!!g[a]}
            function a(a){for(var b=0;b<a.length;b++)if(!k(a[b]))return!1;return!0}Object.defineProperty(b,"__esModule",{value:!0});b.eventTypes="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");var g={};b.eventTypes.forEach(function(a){g[a]=!0});c=function(){function b(a){this.handlers=new Map;this.counter=0;this.handlerCounts=new Map;this.view=a;this.inputManager=
                null}b.prototype.connect=function(a){var b=this;a&&this.disconnect();this.inputManager=a;this.handlers.forEach(function(a,d){return b.inputManager.installHandlers(d,[a.handler],a.priority)})};b.prototype.disconnect=function(){var a=this;this.inputManager&&this.handlers.forEach(function(b,d){return a.inputManager.uninstallHandlers(d)});this.inputManager=null};b.prototype.destroy=function(){this.disconnect();this.handlers.clear();this.view=null};b.prototype.on=function(b,c,e,g){var h=this,l=Array.isArray(b)?
                b:b.split(",");if(!a(l))return l.some(k)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;var m;Array.isArray(c)?b=c:(m=c,b=[]);"function"===typeof e?m=e:g=e;g=null!=g?g:d.ViewEventPriorities.DEFAULT;var n=this.createUniqueGroupName();e=new f(this.view,l,b,m);this.handlers.set(n,{handler:e,priority:g});for(m=0;m<l.length;m++)b=l[m],c=this.handlerCounts.get(b)||0,this.handlerCounts.set(b,c+1);this.inputManager&&this.inputManager.installHandlers(n,
                [e],g);return{remove:function(){return h.removeHandler(n,l)}}};b.prototype.hasHandler=function(a){return!!this.handlerCounts.get(a)};b.prototype.removeHandler=function(a,b){if(this.handlers.has(a)){this.handlers.delete(a);for(var d=0;d<b.length;d++){var c=b[d],e=this.handlerCounts.get(c);void 0===e?console.error("Trying to remove handler for event that has no handlers registered: ",c):1===e?this.handlerCounts.delete(c):this.handlerCounts.set(c,e-1)}}this.inputManager&&this.inputManager.uninstallHandlers(a)};
                b.prototype.createUniqueGroupName=function(){this.counter+=1;return"viewEvents_"+this.counter};return b}();b.ViewEvents=c;var f=function(a){function b(b,d,c,f){var g=a.call(this,!0)||this;g.view=b;for(b=0;b<d.length;b++){var h=d[b];switch(h){case "click":g.registerIncoming("click",c,function(a){return f(g.wrapClick(a))});break;case "double-click":g.registerIncoming("double-click",c,function(a){return f(g.wrapDoubleClick(a))});break;case "immediate-click":g.registerIncoming("immediate-click",c,function(a){return f(g.wrapImmediateClick(a))});
                break;case "immediate-double-click":g.registerIncoming("immediate-double-click",c,function(a){return f(g.wrapImmediateDoubleClick(a))});break;case "hold":g.registerIncoming("hold",c,function(a){return f(g.wrapHold(a))});break;case "drag":g.registerIncoming("drag",c,function(a){(a=g.wrapDrag(a))&&f(a)});break;case "key-down":g.registerIncoming("key-down",c,function(a){return f(g.wrapKeyDown(a))});break;case "key-up":g.registerIncoming("key-up",c,function(a){return f(g.wrapKeyUp(a))});break;case "pointer-down":g.registerIncoming("pointer-down",
                c,function(a){return f(g.wrapPointer(a,"pointer-down"))});break;case "pointer-move":g.registerIncoming("pointer-move",c,function(a){return f(g.wrapPointer(a,"pointer-move"))});break;case "pointer-up":g.registerIncoming("pointer-up",c,function(a){return f(g.wrapPointer(a,"pointer-up"))});break;case "pointer-drag":g.registerIncoming("pointer-drag",c,function(a){return f(g.wrapPointerDrag(a))});break;case "mouse-wheel":g.registerIncoming("mouse-wheel",c,function(a){return f(g.wrapMouseWheel(a))});break;
                case "pointer-enter":g.registerIncoming("pointer-enter",c,function(a){return f(g.wrapPointer(a,"pointer-enter"))});break;case "pointer-leave":g.registerIncoming("pointer-leave",c,function(a){return f(g.wrapPointer(a,"pointer-leave"))});break;case "gamepad":g.registerIncoming("gamepad",c,function(a){f(g.wrapGamepad(a))});break;case "focus":g.registerIncoming("focus",c,function(a){f(g.wrapFocus(a))});break;case "blur":g.registerIncoming("blur",c,function(a){f(g.wrapBlur(a))});break;default:e.neverReached(h)}}return g}
                n(b,a);b.prototype.wrapFocus=function(a){return{type:"focus",timestamp:a.timestamp,native:a.data.native,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapBlur=function(a){return{type:"blur",timestamp:a.timestamp,native:a.data.native,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapClick=function(a){var b=
                    a.data,d=b.pointerType,c=b.button,e=b.buttons,f=b.x,g=b.y,h=b.native,b=b.eventId,k=a.cancelable,m=a.timestamp,n=l.createScreenPoint(f,g),q=this.getMapPoint(f,g);return{type:"click",pointerType:d,button:c,buttons:e,x:f,y:g,native:h,timestamp:m,screenPoint:n,mapPoint:q,eventId:b,cancelable:k,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapDoubleClick=function(a){var b=a.data,d=b.x,c=b.y,e=b.eventId,f=a.cancelable;return{type:"double-click",
                    pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:d,y:c,native:b.native,timestamp:a.timestamp,mapPoint:this.getMapPoint(d,c),eventId:e,cancelable:f,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapImmediateClick=function(a){var b=a.data,d=b.x,c=b.y,e=b.native,f=b.eventId,g=a.cancelable;return{type:"immediate-click",pointerId:e.pointerId,pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:d,y:c,native:e,
                    timestamp:a.timestamp,mapPoint:this.getMapPoint(d,c),eventId:f,cancelable:g,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapImmediateDoubleClick=function(a){var b=a.data,d=b.x,c=b.y,e=b.native,f=b.eventId,g=a.cancelable;return{type:"immediate-double-click",pointerId:e.pointerId,pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:d,y:c,native:e,timestamp:a.timestamp,mapPoint:this.getMapPoint(d,c),eventId:f,cancelable:g,
                    stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapHold=function(a){var b=a.data,d=b.x,c=b.y,e=a.cancelable;return{type:"hold",pointerType:b.pointerType,button:b.button,buttons:b.buttons,x:d,y:c,native:b.native,timestamp:a.timestamp,mapPoint:this.getMapPoint(d,c),cancelable:e,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.getMapPoint=function(a,b){return this.view.toMap(l.createScreenPoint(a,
                    b),{exclude:[]})};b.prototype.wrapDrag=function(a){var b=a.data,d=b.center,c=d.x,d=d.y,e=b.action,f=b.pointerType,g=b.button;"start"===e&&(this.latestDragStart=b);if(this.latestDragStart){var h=b.pointer.native,k=b.buttons,l=a.cancelable,n=a.timestamp,q={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};"end"===e&&(this.latestDragStart=void 0);return{type:"drag",action:e,x:c,y:d,origin:q,pointerType:f,button:g,buttons:k,radius:b.radius,angle:m.rad2deg(b.angle),native:h,timestamp:n,
                    cancelable:l,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}}};b.prototype.wrapKeyDown=function(a){var b=a.data;return{type:"key-down",key:b.key,repeat:b.repeat,native:b.native,timestamp:a.timestamp,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapKeyUp=function(a){var b=a.data;return{type:"key-up",key:b.key,native:b.native,timestamp:a.timestamp,
                    cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapPointer=function(a,b){var d=a.data,c=d.native;return{type:b,x:d.x,y:d.y,pointerId:c.pointerId,pointerType:c.pointerType,button:d.button,buttons:d.buttons,native:c,timestamp:a.timestamp,eventId:d.eventId,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapPointerDrag=
                    function(a){var b=a.data.currentEvent;return{type:"pointer-drag",x:b.x,y:b.y,pointerId:a.data.startEvent.native.pointerId,pointerType:a.data.startEvent.native.pointerType,button:a.data.startEvent.button,buttons:b.buttons,action:a.data.action,origin:{x:a.data.startEvent.x,y:a.data.startEvent.y},native:b.native,timestamp:a.timestamp,eventId:b.eventId,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapMouseWheel=
                    function(a){var b=a.data;return{type:"mouse-wheel",x:b.x,y:b.y,deltaY:b.deltaY,native:b.native,timestamp:a.timestamp,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};b.prototype.wrapGamepad=function(a){var b=a.data,d=b.state;return{type:"gamepad",device:b.device,timestamp:a.timestamp,action:b.action,buttons:d.buttons,axes:d.axes,cancelable:a.cancelable,stopPropagation:function(){return a.stopPropagation()},preventDefault:function(){return a.preventDefault()}}};
                return b}(h.InputHandler)})},"esri/views/interactive/interactiveToolUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/Collection ../../core/maybe ../DOMContainer".split(" "),function(c,b,n,e,m,l){function h(b,c){var a=b.view;a&&(c&&a.ready&&a.activeTool!==b?(a.activeTool=b,l.isDOMContainer(a)&&a.focus()):c||a.activeTool!==b||(a.activeTool=null))}Object.defineProperty(b,"__esModule",{value:!0});b.setActive=h;b.swap=function(b,c,a){b=b.activeTool;c!==b&&(m.isSome(b)&&
        b.deactivate&&b.deactivate(),a(c),m.isSome(c)&&c.activate&&c.activate())};b.newToolCollection=function(){var b=new e;b.on("after-add",function(b){b=b.item;b.view&&b.view.ready&&b.attach()});b.on("after-remove",function(b){b=b.item;h(b,!1);b.destroyed||b.detach()});return b};b.areToolManipulatorsEditable=function(b){return!1!==b.visible&&!1!==b.editable&&(null==b.hasEditableFlag||b.hasEditableFlag(1))};b.evaluateToolConstructorArguments=function(b){return m.isNone(b)?{}:"function"===typeof b?b():b}})},
        "esri/views/DOMContainer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/domUtils ../core/scheduling ../core/watchUtils ../core/accessorSupport/decorators ./overlay/ViewOverlay ../widgets/Popup".split(" "),function(c,b,n,e,m,l,h,d,k,a){function g(a){a&&(m.empty(a),a.parentNode&&a.parentNode.removeChild(a))}Object.defineProperty(b,"__esModule",{value:!0});var f=[0,0];b.DOMContainer=function(b){return function(b){function c(){for(var a=
            [],d=0;d<arguments.length;d++)a[d]=arguments[d];var c=b.apply(this,a)||this;c._freqInfo={freq:16,time:750};c._overlayRenderTaskHandle=null;c.height=0;c.position=null;c.resizing=!1;c.root=null;c.surface=null;c.suspended=!0;c.ui=null;c.userContent=null;c.width=0;c.widthBreakpoint=null;c.handles.add([c.watch("cursor",function(a){var b=c.surface;b&&b.setAttribute("data-cursor",a)}),c.watch("interacting",function(a){var b=c.surface;b&&b.setAttribute("data-interacting",a.toString())})]);return c}n(c,b);
            c.prototype.initialize=function(){var a=this;this.handles.add(this.watch("ui",function(b,d){return a._handleUIChange(b,d)}));this._wireUI(this.ui);this.handles.add([this.on("focus",function(){return a.notifyChange("focused")}),this.on("blur",function(){return a.notifyChange("focused")})])};c.prototype.destroy=function(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)};Object.defineProperty(c.prototype,"container",
                {set:function(a){var b=this,d=this._get("container");if(d!==a)if(this.handles.remove("dom-size"),this._stopMeasuring(),d&&(d.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),g(this.root),this._set("root",null),m.reparent(this.userContent,d),g(this.userContent),this._set("userContent",null)),a){a.classList.add("esri-view");d=document.createElement("div");d.className=
                        "esri-view-user-storage";m.reparent(a,d);a.appendChild(d);this._set("userContent",d);d=document.createElement("div");d.className="esri-view-root";a.insertBefore(d,a.firstChild);this._set("root",d);var c=document.createElement("div");c.className="esri-view-surface";c.setAttribute("role","application");c.tabIndex=0;d.appendChild(c);this._set("surface",c);var e=new k;d.appendChild(e.surface);this._set("overlay",e);e.watch("needsRender",function(a){a&&!b._overlayRenderTaskHandle?b._overlayRenderTaskHandle=
                        l.addFrameTask({render:function(){b.overlay.render()}}):b._overlayRenderTaskHandle&&(b._overlayRenderTaskHandle.remove(),b._overlayRenderTaskHandle=null)});this.forceDOMReadyCycle();this.handles.add(h.init(this,"size",function(a){var b=a[1];a[0]>=document.body.clientWidth||b>=document.body.clientHeight?c.classList.add("esri-view-surface--inset-outline"):c.classList.remove("esri-view-surface--inset-outline")}),"dom-size");this._set("container",a);this._startMeasuring()}else this._set("width",0),this._set("height",
                        0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"focused",{get:function(){var a=document.activeElement===this.surface;return document.hasFocus()&&a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"popup",{get:function(){return this._get("popup")||new a({view:this})},set:function(a){var b=this._get("popup");b&&b!==a&&b.destroy();this._set("popup",a)},enumerable:!0,
                configurable:!0});Object.defineProperty(c.prototype,"size",{get:function(){return[this.width,this.height]},enumerable:!0,configurable:!0});c.prototype.blur=function(){this.surface&&this.surface.blur()};c.prototype.focus=function(){this.surface&&this.surface.focus()};c.prototype.pageToContainer=function(a,b,d){var c=this.position;a-=c[0];b-=c[1];d?(d[0]=a,d[1]=b):d=[a,b];return d};c.prototype.containerToPage=function(a,b,d){var c=this.position;a+=c[0];b+=c[1];d?(d[0]=a,d[1]=b):d=[a,b];return d};c.prototype._handleUIChange=
                function(a,b){b&&(this.handles.remove("ui"),b.destroy());a&&this._wireUI(a);this._set("ui",a)};c.prototype._wireUI=function(a){this.handles.remove("ui");a&&(a.view=this,this.handles.add([h.init(this,"root",function(b){if(b){var d=document.createElement("div");b.appendChild(d);b=d}else b=null;a.container=b}),h.init(this,"popup",function(b,d){d&&a.remove(d,"popup");b&&(b.view=a.view,a.add(b,{key:"popup",position:"manual"}))})],"ui"))};c.prototype._stopMeasuring=function(){this.handles.remove("measuring");
                this._get("resizing")&&this._set("resizing",!1)};c.prototype._startMeasuring=function(){var a=this,b=this._freqInfo;b.freq=16;b.time=750;this.handles.add([function(){var a=function(){b.freq=16;b.time=750};window.addEventListener("resize",a);return{remove:function(){window.removeEventListener("resize",a)}}}(),l.addFrameTask({prepare:function(b){var d=a._measure(),c=a._freqInfo;c.time+=b.deltaTime;d&&(c.freq=16,a._get("resizing")||a._set("resizing",!0));c.time<c.freq||(c.time=0,a._position()||d?c.freq=
                    16:c.freq=Math.min(750,2*c.freq),!d&&512<=c.freq&&a._get("resizing")&&a._set("resizing",!1))}})],"measuring");this._measure();this._position()};c.prototype._measure=function(){var a=this.container,b=a?a.clientWidth:0,d=a?a.clientHeight:0;if(0===b||0===d||"hidden"===window.getComputedStyle(a).visibility)return this.suspended||this._set("suspended",!0),!1;var a=this.width,c=this.height;if(b===a&&d===c)return this.suspended&&this._set("suspended",!1),!1;this._set("width",b);this._set("height",d);this.suspended&&
            this._set("suspended",!1);this.emit("resize",{oldWidth:a,oldHeight:c,width:b,height:d});return!0};c.prototype._position=function(){var a=this.container,b=this.position,d=(a.ownerDocument||window.document).defaultView,a=a.getBoundingClientRect();f[0]=a.left+d.pageXOffset;f[1]=a.top+d.pageYOffset;return b&&f[0]===b[0]&&f[1]===b[1]?!1:(this._set("position",[f[0],f[1]]),!0)};c.prototype.forceDOMReadyCycle=function(){};e([d.property({value:null,cast:function(a){return m.byId(a)}})],c.prototype,"container",
                null);e([d.property({readOnly:!0,dependsOn:["surface"]})],c.prototype,"focused",null);e([d.property({readOnly:!0})],c.prototype,"height",void 0);e([d.property({type:a})],c.prototype,"popup",null);e([d.property({type:k})],c.prototype,"overlay",void 0);e([d.property({readOnly:!0})],c.prototype,"position",void 0);e([d.property({readOnly:!0})],c.prototype,"resizing",void 0);e([d.property({readOnly:!0})],c.prototype,"root",void 0);e([d.property({value:null,dependsOn:["width","height"],readOnly:!0})],c.prototype,
                "size",null);e([d.property({readOnly:!0})],c.prototype,"surface",void 0);e([d.property({readOnly:!0})],c.prototype,"suspended",void 0);e([d.property()],c.prototype,"ui",void 0);e([d.property({readOnly:!0})],c.prototype,"userContent",void 0);e([d.property({readOnly:!0})],c.prototype,"width",void 0);e([d.property()],c.prototype,"widthBreakpoint",void 0);return c=e([d.subclass("esri.views.DOMContainer")],c)}(d.declared(b))};b.isDOMContainer=function(a){return a&&"focus"in a}})},"esri/core/domUtils":function(){define(["require",
            "exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.byId=function(b){return"string"===typeof b?document.getElementById(b):b};b.empty=function(b){for(;b.hasChildNodes();)b.removeChild(b.firstChild)};b.insertAfter=function(b,c){var e=c.parentNode;e&&(e.lastChild===c?e.appendChild(b):e.insertBefore(b,c.nextSibling))};b.insertBefore=function(b,c){var e=c.parentNode;e&&e.insertBefore(b,c)};b.reparent=function(b,c){for(;b.hasChildNodes();)c.appendChild(b.firstChild)};b.remove=function(b){b.parentNode&&
        b.parentNode.removeChild(b)};b.closest=function(){if(Element.prototype.closest)return function(b,c){return b.closest(c)};var b=Element.prototype.matches||Element.prototype.msMatchesSelector;return function(c,m){do{if(b.call(c,m))return c;c=c.parentElement}while(null!==c&&1===c.nodeType);return null}}()})},"esri/views/overlay/ViewOverlay":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/accessorSupport/decorators ../../libs/maquette/index ../support/WatchUpdatingTracking".split(" "),
            function(c,b,n,e,m,l,h,d,k){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.items=new l;b._watchUpdatingTracking=new k.WatchUpdatingTracking;b._callbacks=new Map;b._projector=d.createProjector();b._hiddenProjector=d.createProjector();return b}n(b,a);Object.defineProperty(b.prototype,"needsRender",{get:function(){return 0<this.items.length},enumerable:!0,configurable:!0});b.prototype.initialize=function(){var a=this,b=document.createElement("div");b.className="esri-overlay-surface";
                this._set("surface",b);this._hiddenSurface=document.createElement("div");this._hiddenSurface.setAttribute("style","visibility: hidden;");b.appendChild(this._hiddenSurface);this._watchUpdatingTracking.addOnCollectionChange(this.items,function(b){b.added.map(function(b){var d=function(){return b.render()};a._callbacks.set(b,d);a._projector.append(a.surface,d)});b.removed.map(function(b){var d=a._projector.detach(a._callbacks.get(b));a.surface.removeChild(d.domNode);a._callbacks.delete(b)})})};b.prototype.addItem=
                function(a){this.items.add(a)};b.prototype.removeItem=function(a){this.items.remove(a)};b.prototype.destroy=function(){this.items.removeAll();this._projector=this._callbacks=null;this._watchUpdatingTracking.destroy()};b.prototype.render=function(){this._projector.renderNow()};b.prototype.computeBoundingRect=function(a){var b=this._hiddenSurface,d=this._hiddenProjector,c=null,e=function(){return c=a.render()};d.append(b,e);d.renderNow();var f={left:0,top:0,right:0,bottom:0};if(c&&c.domNode){var g=
                c.domNode.getBoundingClientRect();f.left=g.left;f.top=g.top;f.right=g.right;f.bottom=g.bottom}for(d.detach(e);b.firstChild;)b.removeChild(b.firstChild);return f};b.prototype.overlaps=function(a,b){a=this.computeBoundingRect(a);b=this.computeBoundingRect(b);return Math.max(a.left,b.left)<=Math.min(a.right,b.right)&&Math.max(a.top,b.top)<=Math.min(a.bottom,b.bottom)};Object.defineProperty(b.prototype,"hasVisibleItems",{get:function(){return this.items.some(function(a){return a.visible})},enumerable:!0,
                configurable:!0});b.prototype.renderCanvas=function(a){if(this.items.some(function(a){return a.visible})){var b=a.getContext("2d");b.save();b.font="10px "+getComputedStyle(this.surface).fontFamily;this.items.forEach(function(a){b.save();a.renderCanvas(b);b.restore()});b.restore()}};e([h.property({readOnly:!0})],b.prototype,"surface",void 0);e([h.property({readOnly:!0})],b.prototype,"items",void 0);e([h.property({readOnly:!0,dependsOn:["items.length"]})],b.prototype,"needsRender",null);e([h.property({readOnly:!0})],
                b.prototype,"_watchUpdatingTracking",void 0);e([h.property({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],b.prototype,"updating",void 0);return b=e([h.subclass("esri.views.overlay.ViewOverlay")],b)}(h.declared(m))})},"esri/libs/maquette/index":function(){define("require exports ./dom ./h ./projector ./cache ./mapping".split(" "),function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});b.dom=n.dom;b.h=e.h;b.createProjector=m.createProjector;b.createCache=l.createCache;b.createMapping=
            h.createMapping})},"esri/libs/maquette/dom":function(){define(["require","exports","./projection"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});var e={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(b,c,e){b.style[c]=e}};b.applyDefaultProjectionOptions=function(b){return n.extend(e,b)};b.dom={create:function(c,e){e=b.applyDefaultProjectionOptions(e);n.createDom(c,document.createElement("div"),void 0,e);return n.createProjection(c,
                e)},append:function(c,e,h){h=b.applyDefaultProjectionOptions(h);n.createDom(e,c,void 0,h);return n.createProjection(e,h)},insertBefore:function(c,e,h){h=b.applyDefaultProjectionOptions(h);n.createDom(e,c.parentNode,c,h);return n.createProjection(e,h)},merge:function(c,e,h){h=b.applyDefaultProjectionOptions(h);e.domNode=c;n.initPropertiesAndChildren(c,e,h);return n.createProjection(e,h)},replace:function(c,e,h){h=b.applyDefaultProjectionOptions(h);n.createDom(e,c.parentNode,c,h);c.parentNode.removeChild(c);
                return n.createProjection(e,h)}}})},"esri/libs/maquette/projection":function(){define(["require","exports","../../widgets/support/widgetUtils"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});var e=[];b.extend=function(a,b){var d={};Object.keys(a).forEach(function(b){d[b]=a[b]});b&&Object.keys(b).forEach(function(a){d[a]=b[a]});return d};var m=function(a,b){return a.vnodeSelector!==b.vnodeSelector?!1:a.properties&&b.properties?a.properties.key!==b.properties.key?!1:a.properties.bind===
            b.properties.bind:!a.properties&&!b.properties},l=function(a){if("string"!==typeof a)throw Error("Style values must be strings");},h=function(a,b,d,c){var e=a[b];if(""!==e.vnodeSelector){var f=e.properties;if(!(f&&(void 0===f.key?f.bind:f.key)))for(f=0;f<a.length;f++)if(f!==b&&m(a[f],e))throw Error(d.vnodeSelector+" had a "+e.vnodeSelector+" child "+("added"===c?c:"removed")+", but there is now more than one. You must add unique key properties to make them distinguishable.");}},d=[],k=!1,a=function(b){(b.children||
            []).forEach(a);b.properties&&b.properties.afterRemoved&&b.properties.afterRemoved.apply(b.properties.bind||b.properties,[b.domNode])},g=function(){k=!1;d.forEach(a);d.length=0},f=function(a){d.push(a);k||(k=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(g,{timeout:16}):setTimeout(g,16))},r=function(a){var b=a.domNode;if(a.properties){var d=a.properties.exitAnimation;if(d){b.style.pointerEvents="none";d(b,function(){b.parentNode&&(b.parentNode.removeChild(b),
            f(a))},a.properties);return}}b.parentNode&&(b.parentNode.removeChild(b),f(a))},q=function(a,b,d){if(b)for(var c=d.eventHandlerInterceptor,e=Object.keys(b),f=e.length,g=function(f){f=e[f];var g=b[f];if("className"===f)throw Error('Property "className" is not supported, use "class".');if("class"===f)u(a,g,!0);else if("classes"===f){var h=Object.keys(g),k=h.length;for(f=0;f<k;f++){var m=h[f];g[m]&&a.classList.add(m)}}else if("styles"===f)for(h=Object.keys(g),k=h.length,f=0;f<k;f++){var m=h[f],q=g[m];
            q&&(l(q),d.styleApplyer(a,m,q))}else"key"!==f&&null!==g&&void 0!==g&&(h=typeof g,"function"===h?0===f.lastIndexOf("on",0)&&(c&&(g=c(f,g,a,b)),"oninput"===f&&function(){var a=g;g=function(b){a.apply(this,[b]);b.target["oninput-value"]=b.target.value}}(),a[f]=g):"http://www.w3.org/2000/svg"===d.namespace?"href"===f?a.setAttributeNS("http://www.w3.org/1999/xlink",f,g):a.setAttribute(f,g):"string"===h&&"value"!==f?"innerHTML"===f?a[f]=n.renderingSanitizer.sanitize(g):a.setAttribute(f,g):a[f]=g)},h=0;h<
                                                                                                                      f;h++)g(h)};b.initPropertiesAndChildren=function(a,d,c){var e=d.children;if(e)for(var f=0;f<e.length;f++)b.createDom(e[f],a,void 0,c);d.text&&(a.textContent=d.text);q(a,d.properties,c);d.properties&&d.properties.afterCreate&&d.properties.afterCreate.apply(d.properties.bind||d.properties,[a,c,d.vnodeSelector,d.properties,d.children])};b.createDom=function(a,d,c,e){var f,g=0,h=a.vnodeSelector,k=d.ownerDocument;if(""===h)f=a.domNode=k.createTextNode(a.text),void 0!==c?d.insertBefore(f,c):d.appendChild(f);
        else{for(var l=0;l<=h.length;++l){var m=h.charAt(l);if(l===h.length||"."===m||"#"===m)m=h.charAt(g-1),g=h.slice(g,l),"."===m?f.classList.add(g):"#"===m?f.id=g:("svg"===g&&(e=b.extend(e,{namespace:"http://www.w3.org/2000/svg"})),void 0!==e.namespace?f=a.domNode=k.createElementNS(e.namespace,g):(f=a.domNode=a.domNode||k.createElement(g),"input"===g&&a.properties&&void 0!==a.properties.type&&f.setAttribute("type",a.properties.type)),void 0!==c?d.insertBefore(f,c):f.parentNode!==d&&d.appendChild(f)),
            g=l+1}b.initPropertiesAndChildren(f,a,e)}};var t,u=function(a,b,d){b&&b.split(" ").forEach(function(b){b&&a.classList.toggle(b,d)})};t=function(a,d,c){var f=a.domNode;if(a===d)return!1;var g=!1;if(""===d.vnodeSelector){if(d.text!==a.text)return a=f.ownerDocument.createTextNode(d.text),f.parentNode.replaceChild(a,f),d.domNode=a,!0;d.domNode=f}else{0===d.vnodeSelector.lastIndexOf("svg",0)&&(c=b.extend(c,{namespace:"http://www.w3.org/2000/svg"}));a.text!==d.text&&(g=!0,void 0===d.text?f.removeChild(f.firstChild):
            f.textContent=d.text);d.domNode=f;var k;k=a.children;var q=d.children,p=c;if(k===q)k=!1;else{k=k||e;for(var q=q||e,v=k.length,w=q.length,C=0,G=0,H=!1;G<w;){var F=C<v?k[C]:void 0,I=q[G];if(void 0!==F&&m(F,I))H=t(F,I,p)||H,C++;else{b:{var F=k,J=I;if(""!==J.vnodeSelector)for(var M=C+1;M<F.length;M++)if(m(F[M],J)){F=M;break b}F=-1}if(0<=F){for(;C<F;C++)r(k[C]),h(k,C,d,"removed");H=t(k[F],I,p)||H;C=F+1}else b.createDom(I,f,C<v?k[C].domNode:void 0,p),I.properties&&(F=I.properties.enterAnimation)&&F(I.domNode,
            I.properties),h(q,G,d,"added")}G++}if(v>C)for(;C<v;C++)r(k[C]),h(k,C,d,"removed");k=H}g=k||g;k=a.properties;q=d.properties;p=c;if(q){v=!1;w=Object.keys(q);G=w.length;for(H=0;H<G;H++)if(F=w[H],I=q[F],C=k[F],"class"===F)C!==I&&(u(f,C,!1),u(f,I,!0));else if("classes"===F)for(var J=f.classList,M=Object.keys(I),O=M.length,F=0;F<O;F++){var L=M[F],K=!!I[L];K!==!!C[L]&&(v=!0,K?J.add(L):J.remove(L))}else if("styles"===F)for(J=Object.keys(I),M=J.length,F=0;F<M;F++)O=J[F],L=I[O],L!==C[O]&&(v=!0,L?(l(L),p.styleApplyer(f,
            O,L)):p.styleApplyer(f,O,""));else I||"string"!==typeof C||(I=""),"value"===F?(J=f[F],J!==I&&(f["oninput-value"]?J===f["oninput-value"]:I!==C)&&(f[F]=I,f["oninput-value"]=void 0),I!==C&&(v=!0)):I!==C&&(C=typeof I,"function"===C&&p.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===p.namespace?"href"===F?f.setAttributeNS("http://www.w3.org/1999/xlink",F,I):f.setAttribute(F,I):"string"===C?"innerHTML"===F?f[F]=n.renderingSanitizer.sanitize(I):"role"===F&&""===I?f.removeAttribute(F):f.setAttribute(F,
            I):f[F]!==I&&(f[F]=I),v=!0));k=v}else k=void 0;g=k||g;d.properties&&d.properties.afterUpdate&&d.properties.afterUpdate.apply(d.properties.bind||d.properties,[f,c,d.vnodeSelector,d.properties,d.children])}g&&d.properties&&d.properties.updateAnimation&&d.properties.updateAnimation(f,d.properties,a.properties);return!1};b.createProjection=function(a,b){return{getLastRender:function(){return a},update:function(d){if(a.vnodeSelector!==d.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");
                var c=a;a=d;t(c,d,b)},domNode:a.domNode}}})},"esri/widgets/support/widgetUtils":function(){define("require exports ../../core/ArrayPool ../../core/arrayUtils ../../core/has ../../core/Logger ../../libs/sanitizer/Sanitizer maquette-css-transitions".split(" "),function(c,b,n,e,m,l,h,d){Object.defineProperty(b,"__esModule",{value:!0});l.getLogger("esri.widgets.support.widgetUtils");b.join=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return b.join(" ")};b.classes=function(b){for(var a=
            n.acquire(),d=0;d<arguments.length;d++){var c=arguments[d],e=typeof c;if("string"===e)a.push(c);else if(Array.isArray(c))a.push.apply(a,c);else if("object"===e)for(var h in c)c[h]&&a.push(h)}d=a.join(" ");n.release(a);return d};b.isRTL=function(){return"rtl"===document.dir};b.discardNode=function(b){this[b.getAttribute("data-node-ref")]=null};b.storeNode=function(b){this[b.getAttribute("data-node-ref")]=b};b.cssTransition=function(b,a){return("enter"===b?d.createEnterCssTransition:d.createExitCssTransition)(a)};
            b.additionalWhiteListedTags="h1 h2 h3 h4 h5 h6 sub sup".split(" ").concat("animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" "));c=b.additionalWhiteListedTags.reduce(function(b,a){b[a]=[];return b},{});b.safeAttrs="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");
            b.renderingSanitizer=new h({whiteList:c,onTagAttr:function(d,a,c){d=a+'\x3d"'+c+'"';if(e.includes(b.safeAttrs,a))return d},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0)})},"esri/libs/sanitizer/Sanitizer":function(){!function(c,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(c=c||self).Sanitizer=b()}(this,function(){function c(a,b){return a(b={exports:{}},b.exports),b.exports}function b(){return{"align-content":!1,
            "align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,
            "background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,
            "border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,
            "break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,
            "display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,
            "font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,
            "image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,
            "margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,
            opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,
            quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,
            "text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,
            "transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function n(a){var b=a||{},d={},c;for(c in b)d[c]=b[c];(a=d).whiteList=a.whiteList||E.whiteList;a.onAttr=
            a.onAttr||E.onAttr;a.onIgnoreAttr=a.onIgnoreAttr||E.onIgnoreAttr;a.safeAttrValue=a.safeAttrValue||E.safeAttrValue;this.options=a}function e(a){return a.replace(K,"\x26lt;").replace(R,"\x26gt;")}function m(a){return a.replace(da,"\x26quot;")}function l(a){return a.replace(U,'"')}function h(a){return a.replace(V,function(a,b){return"x"===b[0]||"X"===b[0]?String.fromCharCode(parseInt(b.substr(1),16)):String.fromCharCode(parseInt(b,10))})}function d(a){return a.replace(ma,":").replace(T," ")}function k(a){for(var b=
            "",d=0,c=a.length;d<c;d++)b+=32>a.charCodeAt(d)?" ":a.charAt(d);return J(b)}function a(a){return a=k(a=d(a=h(a=l(a))))}function g(a){return a=e(a=m(a))}function f(a,b){for(;b<a.length;b++){var d=a[b];if(" "!==d)return"\x3d"===d?b:-1}}function r(a,b){for(;0<b;b--){var d=a[b];if(" "!==d)return"\x3d"===d?b:-1}}function q(a){return'"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1]?a.substr(1,a.length-2):a}function t(a){var b=a||{},d={},c;for(c in b)d[c]=b[c];(a=d).stripIgnoreTag&&(a.onIgnoreTag&&
        console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),a.onIgnoreTag=P.onIgnoreTagStripAll);a.whiteList=a.whiteList||P.whiteList;a.onTag=a.onTag||P.onTag;a.onTagAttr=a.onTagAttr||P.onTagAttr;a.onIgnoreTag=a.onIgnoreTag||P.onIgnoreTag;a.onIgnoreTagAttr=a.onIgnoreTagAttr||P.onIgnoreTagAttr;a.safeAttrValue=a.safeAttrValue||P.safeAttrValue;a.escapeHtml=a.escapeHtml||P.escapeHtml;this.options=a;!1===a.css?this.cssFilter=!1:(a.css=a.css||{},this.cssFilter=
            new pa(a.css))}var u,p,v=Object.prototype,w=Function.prototype.toString,z=v.hasOwnProperty,y=w.call(Object),A=v.toString,x=(u=Object.getPrototypeOf,p=Object,function(a){return u(p(a))}),B=function(a){var b;if(!(b=!a||"object"!=typeof a||"[object Object]"!=A.call(a))&&(b=!1,null!=a&&"function"!=typeof a.toString))try{b=!!(a+"")}catch(la){}if(b)return!1;a=x(a);if(null===a)return!0;a=z.call(a,"constructor")&&a.constructor;return"function"==typeof a&&a instanceof a&&w.call(a)==y},D=/javascript\s*\:/gim,
            E={whiteList:b(),getDefaultWhiteList:b,onAttr:function(a,b,d){},onIgnoreAttr:function(a,b,d){},safeAttrValue:function(a,b){return D.test(b)?"":b}},C=function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},G=function(a){return String.prototype.trimRight?a.trimRight():a.replace(/(\s*$)/g,"")},H=function(a,b){function d(){if(!e){var d=C(a.slice(f,g)),c=d.indexOf(":");if(-1!==c){var k=C(d.slice(0,c)),c=C(d.slice(c+1));k&&(d=b(f,h.length,k,c,d))&&(h+=d+"; ")}}f=g+1}";"!==(a=G(a))[a.length-
            1]&&(a+=";");for(var c=a.length,e=!1,f=0,g=0,h="";g<c;g++){var k=a[g];if("/"===k&&"*"===a[g+1]){k=a.indexOf("*/",g+2);if(-1===k)break;f=(g=k+1)+1;e=!1}else"("===k?e=!0:")"===k?e=!1:";"===k?e||d():"\n"===k&&d()}return C(h)};n.prototype.process=function(a){if(!(a=(a=a||"").toString()))return"";var b=this.options,d=b.whiteList,c=b.onAttr,e=b.onIgnoreAttr,f=b.safeAttrValue;return H(a,function(a,b,g,h,k){var l=d[g],m=!1;if(!0===l?m=l:"function"==typeof l?m=l(h):l instanceof RegExp&&(m=l.test(h)),!0!==
        m&&(m=!1),h=f(g,h)){var n;a={position:b,sourcePosition:a,source:k,isWhite:m};return m?null==(n=c(g,h,a))?g+":"+h:n:null==(n=e(g,h,a))?void 0:n}})};var v=c(function(a,b){for(var d in(b=a.exports=function(a,b){return(new n(b)).process(a)}).FilterCSS=n,E)b[d]=E[d]}),F=(v.FilterCSS,function(a,b){var d,c;if(Array.prototype.indexOf)return a.indexOf(b);d=0;for(c=a.length;d<c;d++)if(a[d]===b)return d;return-1}),I=function(a,b,d){var c,e;if(Array.prototype.forEach)return a.forEach(b,d);c=0;for(e=a.length;c<
        e;c++)b.call(d,a[c],c,a)},J=function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},M=function(a){return(a=/\s|\n|\t/.exec(a))?a.index:-1},O=v.getDefaultWhiteList,L=new v.FilterCSS,K=/</g,R=/>/g,da=/"/g,U=/&quot;/g,V=/&#([a-zA-Z0-9]*);?/gim,ma=/&colon;?/gim,T=/&newline;?/gim,ba=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,X=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Q=/u\s*r\s*l\s*\(.*/gi,W=/\x3c!--[\s\S]*?--\x3e/g,P={whiteList:{a:["target",
                    "href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src",
                    "alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls loop preload src height width".split(" ")},getDefaultWhiteList:function(){return{a:["target",
                    "href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src",
                    "alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls loop preload src height width".split(" ")}},onTag:function(a,b,d){},
            onIgnoreTag:function(a,b,d){},onTagAttr:function(a,b,d){},onIgnoreTagAttr:function(a,b,d){},safeAttrValue:function(b,d,c,e){if(c=a(c),"href"===d||"src"===d){if("#"===(c=J(c)))return"#";if("http://"!==c.substr(0,7)&&"https://"!==c.substr(0,8)&&"mailto:"!==c.substr(0,7)&&"tel:"!==c.substr(0,4)&&"#"!==c[0]&&"/"!==c[0])return""}else if("background"===d){if(ba.lastIndex=0,ba.test(c))return""}else if("style"===d){if((X.lastIndex=0,X.test(c))||(Q.lastIndex=0,Q.test(c)&&(ba.lastIndex=0,ba.test(c))))return"";
                !1!==e&&(c=(e=e||L).process(c))}return c=g(c)},escapeHtml:e,escapeQuote:m,unescapeQuote:l,escapeHtmlEntities:h,escapeDangerHtml5Entities:d,clearNonPrintableCharacter:k,friendlyAttrValue:a,escapeAttrValue:g,onIgnoreTagStripAll:function(){return""},StripTagBody:function(a,b){"function"!=typeof b&&(b=function(){});var d=!Array.isArray(a),c=[],e=!1;return{onIgnoreTag:function(f,g,h){return d||-1!==F(a,f)?h.isClosing?(c.push([!1!==e?e:h.position,h.position+10]),e=!1,"[/removed]"):(e||(e=h.position),"[removed]"):
                    b(f,g,h)},remove:function(a){var b="",d=0;return I(c,function(c){b+=a.slice(d,c[0]);d=c[1]}),b+=a.slice(d)}}},stripCommentTag:function(a){return a.replace(W,"")},stripBlankChar:function(a){a=a.split("");return(a=a.filter(function(a){a=a.charCodeAt(0);return 127!==a&&(!(31>=a)||10===a||13===a)})).join("")},cssFilter:L,getDefaultCSSWhiteList:O},ja=/[^a-zA-Z0-9_:\.\-]/gim,oa={parseTag:function(a,b,d){for(var c="",e=0,f=!1,g=!1,h=0,k=a.length,l="",m="",h=0;h<k;h++)m=a.charAt(h),!1===f?"\x3c"===m&&(f=
                h):!1===g?"\x3c"===m?(c+=d(a.slice(e,h)),e=f=h):"\x3e"===m?(c+=d(a.slice(e,f)),e=m=a.slice(f,h+1),l=M(e),e=-1===l?e.slice(1,-1):e.slice(1,l+1),l=("/"===(e=J(e).toLowerCase()).slice(0,1)&&(e=e.slice(1)),"/"===e.slice(-1)&&(e=e.slice(0,-1)),e),c+=b(f,c.length,l,m,"\x3c/"===m.slice(0,2)),e=h+1,f=!1):'"'!==m&&"'"!==m||"\x3d"!==a.charAt(h-1)||(g=m):m===g&&(g=!1);return e<a.length&&(c+=d(a.substr(e))),c},parseAttr:function(a,b){function d(a,d){1>(a=(a=J(a)).replace(ja,"").toLowerCase()).length||(a=b(a,
                d||""))&&e.push(a)}for(var c=0,e=[],g=!1,h=a.length,k=0;k<h;k++){var l;l=a.charAt(k);if(!1!==g||"\x3d"!==l)if(!1===g||k!==c||'"'!==l&&"'"!==l||"\x3d"!==a.charAt(k-1))/\s|\n|\t/.test(l)&&((a=a.replace(/\s|\n|\t/g," "),!1===g)?-1===(l=f(a,k))?(d(J(a.slice(c,k))),g=!1,c=k+1):k=l-1:-1===(l=r(a,k-1))&&(d(g,q(J(a.slice(c,k)))),g=!1,c=k+1));else{if(-1===(l=a.indexOf(l,k+1)))break;d(g,J(a.slice(c+1,l)));g=!1;c=(k=l)+1}else g=a.slice(c,k),c=k+1}return c<a.length&&(!1===g?d(a.slice(c)):d(g,q(J(a.slice(c))))),
                J(e.join(" "))}},pa=v.FilterCSS,ia=oa.parseTag,aa=oa.parseAttr;t.prototype.process=function(a){if(!(a=(a=a||"").toString()))return"";var b=this.options,d=b.whiteList,c=b.onTag,e=b.onIgnoreTag,f=b.onTagAttr,g=b.onIgnoreTagAttr,h=b.safeAttrValue,k=b.escapeHtml,l=this.cssFilter;b.stripBlankChar&&(a=P.stripBlankChar(a));b.allowCommentTag||(a=P.stripCommentTag(a));var m=!1;b.stripIgnoreTagBody&&(m=P.StripTagBody(b.stripIgnoreTagBody,e),e=m.onIgnoreTag);a=ia(a,function(a,b,m,n,q){b={sourcePosition:a,position:b,
            isClosing:q,isWhite:d.hasOwnProperty(m)};if(null!=(a=c(m,n,b)))return a;if(b.isWhite){if(b.isClosing)return"\x3c/"+m+"\x3e";a=function(a){var b=M(a);if(-1===b)return{html:"",closing:"/"===a[a.length-2]};b="/"===(a=J(a.slice(b+1,-1)))[a.length-1];return b&&(a=J(a.slice(0,-1))),{html:a,closing:b}}(n);var p=d[m];b=aa(a.html,function(a,b){var d,c=-1!==F(p,a);return null==(d=f(m,a,b,c))?c?(b=h(m,a,b,l))?a+'\x3d"'+b+'"':a:null==(d=g(m,a,b,c))?void 0:d:d});n="\x3c"+m;return b&&(n+=" "+b),a.closing&&(n+=
            " /"),n+="\x3e"}return null==(a=e(m,n,b))?k(n):a},k);return m&&(a=m.remove(a)),a};var Y=c(function(a,b){function d(a,b){return(new t(b)).process(a)}for(var c in(b=a.exports=d).filterXSS=d,b.FilterXSS=t,P)b[c]=P[c];for(c in oa)b[c]=oa[c];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=a.exports)});Y.filterXSS;Y.FilterXSS;return function(){function a(a,b){var d,c=this;this.arcgisWhiteList={a:["href","target","style"],
            img:"src width height border alt style".split(" "),video:"autoplay controls height loop muted poster preload width".split(" "),audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:"width height cellpadding cellspacing border style".split(" "),div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:"height width valign align colspan rowspan nowrap style".split(" "),th:"height width valign align colspan rowspan nowrap style".split(" "),
            p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(a,b,d,e){return"a"===a&&"href"===b||("img"===a||"source"===
                a)&&"src"===b?c.sanitizeUrl(d):Y.safeAttrValue(a,b,d,e)}};a&&!b?d=a:a&&b?(d=Object.create(this.arcgisFilterOptions),Object.keys(a).forEach(function(b){"whiteList"===b?d.whiteList=c._extendObjectOfArrays([c.arcgisWhiteList,a.whiteList||{}]):d[b]=a[b]})):(d=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList;this.xssFilterOptions=d;this._xssFilter=new Y.FilterXSS(d)}return a.prototype.sanitize=function(a,b){switch(void 0===b&&(b={}),typeof a){case "number":return isNaN(a)||!isFinite(a)?
            null:a;case "boolean":return a;case "string":return this._xssFilter.process(a);case "object":return this._iterateOverObject(a,b);default:if(!b.allowUndefined||void 0!==a)return null}},a.prototype.sanitizeUrl=function(a){var b=this._trim(a.substring(0,a.indexOf(":")));return"/"===a||"#"===a||"#"===a[0]||-1<this.allowedProtocols.indexOf(b.toLowerCase())?Y.escapeAttrValue(a):""},a.prototype.validate=function(a,b){void 0===b&&(b={});b=this.sanitize(a,b);return{isValid:a===b,sanitized:b}},a.prototype._extendObjectOfArrays=
            function(a){var b={};return a.forEach(function(a){Object.keys(a).forEach(function(d){Array.isArray(a[d])&&Array.isArray(b[d])?b[d]=b[d].concat(a[d]):b[d]=a[d]})}),b},a.prototype._iterateOverObject=function(a,b){var d=this;void 0===b&&(b={});try{var c=!1,e=void 0;if(Array.isArray(a))e=a.reduce(function(a,e){var f=d.validate(e,b);return f.isValid?a.concat([e]):(c=!0,a.concat([f.sanitized]))},[]);else{if(!B(a))return b.allowUndefined&&void 0===a?void 0:null;e=Object.keys(a).reduce(function(e,f){var g=
            a[f],h=d.validate(g,b);return h.isValid?e[f]=g:(c=!0,e[f]=h.sanitized),e},{})}return c?e:a}catch(N){return null}},a.prototype._trim=function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},a}()})},"maquette-css-transitions/dist/maquette-css-transitions.umd":function(){(function(c,b){"object"===typeof exports&&"undefined"!==typeof module?b(exports):"function"===typeof define&&define.amd?define(["exports"],b):(c=c||self,b(c.maquetteCssTransitions={}))})(this,function(c){var b,
            n,e=function(c){if("WebkitTransition"in c.style)b="webkitTransitionEnd",n="webkitAnimationEnd";else if("transition"in c.style)b="transitionend",n="animationend";else throw Error("Your browser is not supported!");};c.createEnterCssTransition=function(c,l){void 0===l&&(l=c+"-active");return function(h){b||e(h);var d=!1,k=function(a){d||(d=!0,h.removeEventListener(b,k),h.removeEventListener(n,k),h.classList.remove(c),h.classList.remove(l))};h.classList.add(c);h.addEventListener(b,k);h.addEventListener(n,
            k);requestAnimationFrame(function(){h.classList.add(l)})}};c.createExitCssTransition=function(c,l){void 0===l&&(l=c+"-active");return function(h,d){b||e(h);var k=!1,a=function(c){k||(k=!0,h.removeEventListener(b,a),h.removeEventListener(n,a),d())};h.classList.add(c);h.addEventListener(b,a);h.addEventListener(n,a);requestAnimationFrame(function(){h.classList.add(l)})}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/libs/maquette/h":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,
            "__esModule",{value:!0});var n=function(b,c,l){for(var e=0,d=c.length;e<d;e++){var k=c[e];Array.isArray(k)?n(b,k,l):null!==k&&void 0!==k&&!1!==k&&("string"===typeof k&&(k={vnodeSelector:"",properties:void 0,children:void 0,text:k.toString(),domNode:null}),l.push(k))}};b.h=function(b,c,l){if(Array.isArray(c))l=c,c=void 0;else if(c&&("string"===typeof c||c.hasOwnProperty("vnodeSelector"))||l&&("string"===typeof l||l.hasOwnProperty("vnodeSelector")))throw Error("h called with invalid arguments");var e,
            d;l&&1===l.length&&"string"===typeof l[0]?e=l[0]:l&&(d=[],n(b,l,d),0===d.length&&(d=void 0));return{vnodeSelector:b,properties:c,children:d,text:""===e?void 0:e,domNode:null}}})},"esri/libs/maquette/projector":function(){define(["require","exports","./dom"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});var e;e=Array.prototype.find?function(b,d){return b.find(d)}:function(b,d){return b.filter(d)[0]};var m=function(b,d){var c=b;d.forEach(function(a){c=c&&c.children?e(c.children,function(b){return b.domNode===
            a}):void 0});return c},l=function(b,d,c){var a=function(a){c("domEvent",a);var e=d(),g;g=a.currentTarget;for(var h=e.domNode,k=[];g!==h;)k.push(g),g=g.parentNode;g=k;g.reverse();e=m(e.getLastRender(),g);b.scheduleRender();var l;e&&(l=e.properties["on"+a.type].apply(e.properties.bind||this,arguments));c("domEventProcessed",a);return l};return function(){return a}};b.createProjector=function(b){var d,c=n.applyDefaultProjectionOptions(b),a=c.performanceLogger,e=!0,f,h=!1,m=[],t=[],u=function(b,e,f){var g;
            c.eventHandlerInterceptor=l(d,function(){return g},a);g=b(e,f(),c);m.push(g);t.push(f)},p=function(){f=void 0;if(e){e=!1;a("renderStart",void 0);for(var b=0;b<m.length;b++){var d=t[b]();a("rendered",void 0);m[b].update(d);a("patched",void 0)}a("renderDone",void 0);e=!0}};return d={renderNow:p,scheduleRender:function(){f||h||(f=requestAnimationFrame(p))},stop:function(){f&&(cancelAnimationFrame(f),f=void 0);h=!0},resume:function(){h=!1;e=!0;d.scheduleRender()},append:function(a,b){u(n.dom.append,a,
                b)},insertBefore:function(a,b){u(n.dom.insertBefore,a,b)},merge:function(a,b){u(n.dom.merge,a,b)},replace:function(a,b){u(n.dom.replace,a,b)},detach:function(a){for(var b=0;b<t.length;b++)if(t[b]===a)return t.splice(b,1),m.splice(b,1)[0];throw Error("renderFunction was not found");}}}})},"esri/libs/maquette/cache":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.createCache=function(){var b,c;return{invalidate:function(){b=c=void 0},result:function(e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             l){if(b)for(var h=0;h<e.length;h++)b[h]!==e[h]&&(c=void 0);c||(c=l(),b=e);return c}}}})},"esri/libs/maquette/mapping":function(){define(["require","exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.createMapping=function(b,c,m){var e=[],h=[];return{results:h,map:function(d){for(var k=d.map(b),a=h.slice(),g=0,f=0;f<d.length;f++){var l=d[f],n=k[f];if(n===e[g])h[f]=a[g],m(l,a[g],f),g++;else{for(var t=!1,u=1;u<e.length+1;u++){var p=(g+u)%e.length;if(e[p]===n){h[f]=a[p];m(d[f],
                a[p],f);g=p+1;t=!0;break}}t||(h[f]=c(l,f))}}h.length=d.length;e=k}}}})},"esri/widgets/Popup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper dojo/i18n!../nls/common dojo/i18n!./Popup/nls/Popup ../intl ../core/Collection ../core/deprecate ../core/events ../core/Handles ../core/Logger ../core/promiseUtils ../core/throttle ../core/watchUtils ../core/accessorSupport/decorators ./Spinner ./Widget ./Popup/PopupViewModel ./support/widget ./support/widgetUtils".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B){function D(a,b){return void 0===b?"esri-popup__"+a:"esri-popup__"+a+"-"+b}function E(){return h(this,void 0,void 0,function(){return l(this,function(a){return[2,u.create(function(a){c(["./Feature"],function(b){a(b)})})]})})}var C={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},G=t.getLogger("esri.widgets.Popup"),H={closeButton:!0,featureNavigation:!0};return function(b){function c(a){var c=b.call(this,a)||this;c._blurContainer=!1;
                c._containerNode=null;c._mainContainerNode=null;c._featureMenuNode=null;c._actionsMenuNode=null;c._focusContainer=!1;c._focusDockButton=!1;c._focusFeatureMenuButton=!1;c._focusActionsMenuButton=!1;c._focusFirstFeature=!1;c._focusFirstAction=!1;c._handles=new q;c._pointerOffsetInPx=16;c._spinner=null;c._displaySpinnerThrottled=p.throttle(function(){return c._displaySpinner()},0);c.actions=null;c.alignment="auto";c.autoCloseEnabled=null;c.autoOpenEnabled=null;c.defaultPopupTemplateEnabled=null;c.content=
                    null;c.collapsed=!1;c.collapseEnabled=!0;c.dockEnabled=!1;c.featureCount=null;c.featureMenuOpen=!1;c.features=null;c.goToOverride=null;c.highlightEnabled=null;c.location=null;c.featureWidgets=[];c.label=k.widgetLabel;c.maxInlineActions=3;c.promises=null;c.selectedFeature=null;c.selectedFeatureIndex=null;c.selectedFeatureWidget=null;c.spinnerEnabled=!0;c.title=null;c.updateLocationEnabled=null;c.view=null;c.viewModel=new A;c.visible=null;c.visibleElements=m({},H);c._addSelectedFeatureIndexHandle();
                c.own([v.watch(c,"viewModel.screenLocation",function(){return c._positionContainer()}),v.watch(c,["viewModel.visible","dockEnabled"],function(){return c._toggleScreenLocationEnabled()}),v.watch(c,"viewModel.screenLocation",function(a,b){!!a!==!!b&&c.reposition()}),v.watch(c,"viewModel.features",function(){return c._updateFeatureWidgets()}),v.watch(c,"viewModel.view.padding viewModel.view.size viewModel.visible viewModel.waitingForResult viewModel.location alignment".split(" "),function(){return c.reposition()}),
                    v.watch(c,"spinnerEnabled",function(a){return c._spinnerEnabledChange(a)}),v.watch(c,"viewModel.view.size",function(a,b){return c._updateDockEnabledForViewSize(a,b)}),v.watch(c,"viewModel.view",function(a,b){return c._viewChange(a,b)}),v.watch(c,"viewModel.view.ready",function(a,b){return c._viewReadyChange(a,b)}),v.watch(c,["viewModel.waitingForResult","viewModel.location"],function(){c._hideSpinner();c._displaySpinnerThrottled()}),v.watch(c,["featureWidgets","viewModel.selectedFeatureIndex"],function(){return c._updateFeatureWidget()}),
                    v.watch(c,"selectedFeatureWidget.viewModel.title",function(a){return c._setTitleFromFeatureWidget(a)}),v.watch(c,["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.waitingForContent"],function(){return c._setContentFromFeatureWidget()}),v.whenFalse(c,"collapsed",function(){"xsmall"===c.get("viewModel.view.widthBreakpoint")&&c.visible&&c.collapseEnabled&&c.viewModel.centerAtLocation()}),v.on(c,"viewModel.allActions","change",function(){return c._watchActions()}),v.init(c,"viewModel.allActions",
                        function(){return c._watchActions()})]);return c}n(c,b);c.prototype.destroy=function(){this._destroyFeatureWidgets();this._destroySpinner();this._handles&&this._handles.destroy();this._handles=null};Object.defineProperty(c.prototype,"actionsMenuOpen",{get:function(){return this.viewModel.visible?this._get("actionsMenuOpen"):!1},set:function(a){this._set("actionsMenuOpen",!!a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"currentAlignment",{get:function(){return this._getCurrentAlignment()},
                enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"currentDockPosition",{get:function(){return this._getCurrentDockPosition()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"dockOptions",{get:function(){return this._get("dockOptions")||C},set:function(a){var b=m({},C),c=this.get("viewModel.view.breakpoints"),d={};c&&(d.width=c.xsmall,d.height=c.xsmall);a=m({},b,a);b=m({},b.breakpoint,d);d=a.breakpoint;!0===d?a.breakpoint=b:"object"===typeof d&&(a.breakpoint=m({},
                    b,d));this._set("dockOptions",a);this._setCurrentDockPosition();this.reposition()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"featureNavigationEnabled",{set:function(a){f.deprecatedProperty(G,"featureNavigationEnabled",{replacement:"visibleElements.featureNavigation",version:"4.15"});this.visibleElements=m({},this.visibleElements,{featureNavigation:a})},enumerable:!0,configurable:!0});c.prototype.castVisibleElements=function(a){return m({},H,a)};c.prototype.blur=function(){this.visible||
            G.warn("Popup cannot be blurred while visible is false");this._blurContainer=!0;this.scheduleRender()};c.prototype.clear=function(){this.viewModel.clear()};c.prototype.close=function(){this.visible=!1};c.prototype.fetchFeatures=function(a,b){return this.viewModel.fetchFeatures(a,b)};c.prototype.focus=function(){this.visible||G.warn("Popup cannot be focused while visible is false");this._focusContainer=!0;this.scheduleRender()};c.prototype.next=function(){return this.viewModel.next()};c.prototype.open=
                function(a){this._handles.remove("selected-index");var b={collapsed:a?!!a.collapsed:!1,actionsMenuOpen:a?!!a.actionsMenuOpen:!1,featureMenuOpen:a?!!a.featureMenuOpen:!1};"xsmall"===this.get("viewModel.view.widthBreakpoint")&&(b.collapsed=!0);this.set(b);this.viewModel.open(a);this._addSelectedFeatureIndexHandle()};c.prototype.previous=function(){return this.viewModel.previous()};c.prototype.reposition=function(){this.renderNow();this._positionContainer();this._setCurrentAlignment()};c.prototype.triggerAction=
                function(a){this.viewModel.triggerAction(a)};c.prototype.render=function(){var b=this,c,e,f,g,h,l,m,n=this.actionsMenuOpen,q=this.collapsed,p=this.collapseEnabled,r=this.dockEnabled,t=this.featureMenuOpen,u=this.featureWidgets,v=this.visible,w=this.visibleElements,z=w.featureNavigation,y=this.viewModel,A=y.content,I=y.featureCount,F=y.pendingPromisesCount,E=y.selectedFeatureIndex,C=y.title,G=v&&1<I&&z,H=this._getInlineActionCount(G),z=this._divideActions(H),qa=z.inlineActions,ka=z.menuActions,z=G&&
                t,y=1<ka.length&&n,ga=G&&this._getPageText(I,E),N=this._renderContent(),S=B.isRTL(),fa=!!(this.get("selectedFeatureWidget")?this.get("selectedFeatureWidget.viewModel.waitingForContent")||this.get("selectedFeatureWidget.viewModel.content"):N),na=(p=!!(p&&C&&fa))&&!z&&q,ca=this.get("viewModel.view.widthBreakpoint"),ea=r?k.undock:k.dock,q=this.currentAlignment,I=this.currentDockPosition,F=F?x.tsx("div",{key:D("loading-container"),role:"presentation",class:"esri-popup__loading-container","aria-label":d.loading,
                title:d.loading},x.tsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon","esri-icon-loading-indicator","esri-rotating")})):null,ra=(c={},c["esri-icon-right-triangle-arrow"]=S,c["esri-popup__pagination-previous-icon--rtl"]=S,c["esri-icon-left-triangle-arrow"]=!S,c["esri-popup__pagination-previous-icon"]=!S,c);c=x.tsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon",ra)});ra=x.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,
                class:this.classes("esri-popup__button","esri-popup__pagination-previous"),"aria-label":k.previous,title:k.previous},c);c=(e={},e["esri-icon-left-triangle-arrow"]=S,e["esri-popup__pagination-next-icon--rtl"]=S,e["esri-icon-right-triangle-arrow"]=!S,e["esri-popup__pagination-next-icon"]=!S,e);e=x.tsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon",c)});S=x.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes("esri-popup__button",
                    "esri-popup__pagination-next"),"aria-label":k.next,title:k.next},e);c=B.cssTransition("enter","esri-popup--feature-updated");e=this.id+"-feature-menu";t=x.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes("esri-popup__button","esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":e,"aria-expanded":t,"aria-label":d.menu,
                title:d.menu},ga);t=G?[ra,F||t,S]:null;ga=this._wouldDockTo();ga=(f={},f["esri-icon-minimize"]=r,f["esri-popup__icon--dock-icon"]=!r,f["esri-icon-dock-right"]=!r&&("top-right"===ga||"bottom-right"===ga),f["esri-icon-dock-left"]=!r&&("top-left"===ga||"bottom-left"===ga),f["esri-icon-maximize"]=!r&&"top-center"===ga,f["esri-icon-dock-bottom"]=!r&&"bottom-center"===ga,f);f=x.tsx("span",{"aria-hidden":"true",class:this.classes(ga,"esri-popup__icon")});f="xsmall"!==ca&&this.get("dockOptions.buttonEnabled")?
                x.tsx("div",{role:"button","aria-label":ea,title:ea,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes("esri-popup__button","esri-popup__button--dock")},f):null;ca=(g={},g["esri-popup__header-container--button"]=p,g);ea=p?"button":"heading";ga=p?na?d.expand:d.collapse:"";g=this.id+"-popup-title";C=C?x.tsx("div",{class:this.classes("esri-popup__header-container",ca),key:C,
                enterAnimation:c,id:g,role:ea,"aria-label":ga,title:ga,tabIndex:p?0:-1,bind:this,onclick:this._toggleCollapsed,onkeydown:this._toggleCollapsed},x.tsx("h2",{class:"esri-popup__header-title",innerHTML:C})):null;ca=x.tsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon","esri-icon-close")});ca=x.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:"esri-popup__button","aria-label":d.close,title:d.close},ca);w=x.tsx("header",{class:"esri-popup__header"},
                C,x.tsx("div",{class:"esri-popup__header-buttons"},f,w.closeButton?ca:null));f=this.id+"-popup-content";A=!fa||p&&na?null:x.tsx("article",{key:A,enterAnimation:c,id:f,class:"esri-popup__content"},N);fa="bottom-left"===q||"bottom-center"===q||"bottom-right"===q||"top-left"===I||"top-center"===I||"top-right"===I;N="top-left"===q||"top-center"===q||"top-right"===q||"bottom-left"===I||"bottom-center"===I||"bottom-right"===I;c=!!qa.length;ca=!!ka.length;ea=n?d.close:d.open;ea=ca?x.tsx("div",{key:D("actions-menu-button"),
                class:this.classes("esri-popup__button","esri-popup__actions-menu-button"),role:"button",id:this.id+"-actions-menu-button","aria-haspopup":"true","aria-controls":n?this.id+"-actions-menu":null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":ea,title:ea},x.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null;qa=c&&qa.toArray().map(function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           c){return b._renderAction({action:a,index:c,type:"inline"})});n=ca&&n?x.tsx("ul",{id:this.id+"-actions-menu",role:"menu","aria-labelledby":this.id+"-actions-menu-button",key:D("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},ka.toArray().map(function(a,c){return b._renderAction({action:a,index:c+H,type:"menu-item"})})):null;n=c||ca?x.tsx("div",{key:"inline-actions-container","data-inline-actions":c.toString(),
                "data-menu-actions":ca.toString(),class:"esri-popup__inline-actions-container"},qa,ea,n):null;qa=G?x.tsx("section",{key:D("navigation"),class:this.classes("esri-popup__navigation")},t):null;ka=(h={},h["esri-popup__footer--has-pagination"]=G,h["esri-popup__footer--has-actions"]=c,h["esri-popup__footer--has-actions-menu"]=ca,h);h=G||c?x.tsx("div",{key:D("feature-buttons"),class:this.classes("esri-popup__footer",ka)},n,qa):null;E=this._renderFeatureMenuNode(u,E,e);u=a.substitute(k.selectedFeatures,{total:u.length});
                n=x.tsx("section",{key:D("menu"),class:"esri-popup__feature-menu"},x.tsx("h2",{class:"esri-popup__feature-menu-header"},u),x.tsx("nav",{class:"esri-popup__feature-menu-viewport",afterCreate:this._featureMenuViewportNodeUpdated,afterUpdate:this._featureMenuViewportNodeUpdated},E));u=r?null:x.tsx("div",{key:D("pointer"),class:"esri-popup__pointer",role:"presentation"},x.tsx("div",{class:this.classes("esri-popup__pointer-direction","esri-popup--shadow")}));E=this.get("selectedFeature.layer.title");G=
                    this.get("selectedFeature.layer.id");p=(l={},l["esri-popup--shadow"]=r,l["esri-popup--is-collapsible"]=p,l["esri-popup--is-collapsed"]=na,l);l=(m={},m["esri-popup--aligned-top-center"]=v&&"top-center"===q,m["esri-popup--aligned-bottom-center"]=v&&"bottom-center"===q,m["esri-popup--aligned-top-left"]=v&&"top-left"===q,m["esri-popup--aligned-bottom-left"]=v&&"bottom-left"===q,m["esri-popup--aligned-top-right"]=v&&"top-right"===q,m["esri-popup--aligned-bottom-right"]="bottom-right"===q,m["esri-popup--is-docked"]=
                    v&&r,m["esri-popup--shadow"]=v&&!r,m["esri-popup--is-docked-top-left"]=v&&"top-left"===I,m["esri-popup--is-docked-top-center"]=v&&"top-center"===I,m["esri-popup--is-docked-top-right"]=v&&"top-right"===I,m["esri-popup--is-docked-bottom-left"]=v&&"bottom-left"===I,m["esri-popup--is-docked-bottom-center"]=v&&"bottom-center"===I,m["esri-popup--is-docked-bottom-right"]=v&&"bottom-right"===I,m["esri-popup--feature-menu-open"]=v&&z,m["esri-popup--actions-menu-open"]=v&&y,m);m=fa?n:null;r=N?n:null;z=fa?h:
                    null;y=N?h:null;m=x.tsx("div",{class:this.classes("esri-popup__main-container","esri-widget",p),tabIndex:-1,role:"dialog","aria-labelledby":C?g:"","aria-describedby":A?f:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},z,m,w,A,y,r);return x.tsx("div",{key:D("base"),class:this.classes("esri-popup",l),role:"presentation","data-layer-title":E,"data-layer-id":G,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},
                    v?[m,u]:null)};c.prototype._getInlineActionCount=function(a){var b=this.maxInlineActions;if("number"!==typeof b)return null;b=Math.round(b);return Math.max(a?b-1:b,0)};c.prototype._watchActions=function(){var a=this,b=this.viewModel.allActions;this._handles.remove("actions");b&&b.forEach(function(b){a._handles.add(v.watch(b,"active className disabled id title image visible".split(" "),function(){return a.scheduleRender()}),"actions")})};c.prototype._divideActions=function(a){var b=this.viewModel.allActions,
                c=null===a,d=0===a;return{inlineActions:c?b.slice(0):d?new g:b.slice(0,a),menuActions:c?new g:d?b.slice(0):b.slice(a)}};c.prototype._featureMenuOpenChanged=function(a){a?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0};c.prototype._actionsMenuOpenChanged=function(a){a?this._focusFirstAction=!0:this._focusActionsMenuButton=!0};c.prototype._setTitleFromFeatureWidget=function(a){this.selectedFeatureWidget&&(this.viewModel.title=a||"")};c.prototype._setContentFromFeatureWidget=function(){var a=
                this.selectedFeatureWidget;a&&(this.viewModel.content=a)};c.prototype._handleFeatureMenuKeyup=function(a){"Escape"===r.eventKey(a)&&(a.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())};c.prototype._handleActionMenuKeyup=function(a){"Escape"===r.eventKey(a)&&(a.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())};c.prototype._handleFeatureMenuItemKeyup=function(a){var b=r.eventKey(a),c=this._featureMenuNode,
                d=a.currentTarget["data-feature-index"];if(c){var c=c.querySelectorAll("li"),e=c.length;"ArrowUp"===b?(a.stopPropagation(),c[(d-1+e)%e].focus()):"ArrowDown"===b?(a.stopPropagation(),c[(d+1+e)%e].focus()):"Home"===b?(a.stopPropagation(),c[0].focus()):"End"===b&&(a.stopPropagation(),c[c.length-1].focus())}};c.prototype._handleActionMenuItemKeyup=function(a){var b=r.eventKey(a),c=this._actionsMenuNode,d=a.currentTarget["data-action-index"];if(c){var c=c.querySelectorAll("li"),e=c.length;"ArrowUp"===
            b?(a.stopPropagation(),c[(d-1+e)%e].focus()):"ArrowDown"===b?(a.stopPropagation(),c[(d+1+e)%e].focus()):"Home"===b?(a.stopPropagation(),c[0].focus()):"End"===b&&(a.stopPropagation(),c[c.length-1].focus())}};c.prototype._handleMainKeyup=function(a){var b=r.eventKey(a);"ArrowLeft"===b&&(a.stopPropagation(),this.previous());"ArrowRight"===b&&(a.stopPropagation(),this.next())};c.prototype._spinnerEnabledChange=function(a){this._destroySpinner();a&&(a=this.get("viewModel.view"),this._createSpinner(a))};
                c.prototype._hideSpinner=function(){var a=this._spinner;a&&(a.location=null,a.hide())};c.prototype._displaySpinner=function(){var a=this._spinner;if(a){var b=this.viewModel,c=b.location;b.waitingForResult?a.show({location:c}):a.hide()}};c.prototype._getIconStyles=function(a){return{"background-image":a?"url("+a+")":""}};c.prototype._renderAction=function(b){var c,d,e=b.action,f=b.index;b=b.type;var g=this.get("selectedFeature.attributes"),h=e.title,k=e.className,l=e.image,k=l||k?k:"esri-icon-default-action",
                    h=h&&g?a.substitute(h,g):h,m=k&&g?a.substitute(k,g):k,g=l&&g?a.substitute(l,g):l,l=(c={},c["esri-icon-loading-indicator"]=e.active,c["esri-rotating"]=e.active,c["esri-popup__icon"]=!!k,c["esri-popup__action-image"]=!e.active&&!!g,c);m&&(l[m]=!e.active);c=(d={},d["esri-popup__action"]="toggle"!==e.type,d["esri-popup__action-toggle"]="toggle"===e.type,d["esri-popup__action-toggle--on"]="toggle"===e.type&&e.value,d["esri-popup__button--disabled"]=e.disabled,d);d=x.tsx("span",{key:"text",class:"esri-popup__action-text"},
                    h);d=[x.tsx("span",{key:"icon","aria-hidden":"true",class:this.classes("esri-popup__icon",l),styles:this._getIconStyles(g)}),d];f="menu-item"===b?x.tsx("li",{key:e,role:"menuitem",tabIndex:0,title:h,"aria-label":h,class:this.classes("esri-popup__button",c),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":f,onclick:this._triggerAction,onkeydown:this._triggerAction},d):x.tsx("div",{key:e,role:"button",tabIndex:0,title:h,"aria-label":h,class:this.classes("esri-popup__button",c),
                    onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":f,onclick:this._triggerAction,onkeydown:this._triggerAction},d);return e.visible?f:null};c.prototype._addSelectedFeatureIndexHandle=function(){var a=this,b=v.watch(this,"viewModel.selectedFeatureIndex",function(b,c){return a._selectedFeatureIndexUpdated(b,c)});this._handles.add(b,"selected-index")};c.prototype._selectedFeatureIndexUpdated=function(a,b){this.featureCount&&a!==b&&-1!==a&&(this.featureMenuOpen=this.actionsMenuOpen=
                    !1)};c.prototype._updateFeatureWidget=function(){this._set("selectedFeatureWidget",this.featureWidgets[this.viewModel.selectedFeatureIndex]||null)};c.prototype._destroyFeatureWidgets=function(){this.featureWidgets.forEach(function(a){return a&&!a.destroyed&&a.destroy()});this._set("featureWidgets",[])};c.prototype._updateFeatureWidgets=function(){return h(this,void 0,void 0,function(){var a,b,c,d,e,f,g=this;return l(this,function(h){switch(h.label){case 0:return a=this,b=a.features,c=a.featureWidgets,
                    b&&b.length?[4,E()]:(this._destroyFeatureWidgets(),[2]);case 1:return d=h.sent(),e=c.slice(0),f=[],b.forEach(function(a,b){if(a){var c=null;e.some(function(b,d){b&&b.graphic===a&&(c=b,e.splice(d,1));return!!c});if(c)f[b]=c;else{var h=new d({defaultPopupTemplateEnabled:g.defaultPopupTemplateEnabled,graphic:a,spatialReference:g.get("view.spatialReference"),map:g.get("view.map")});h.visibleElements=m({},h.visibleElements,{title:!1});f[b]=h}}}),e.forEach(function(a){return a&&!a.destroyed&&a.destroy()}),
                    this._set("featureWidgets",f),[2]}})})};c.prototype._isScreenLocationWithinView=function(a,b){return-1<a.x&&-1<a.y&&a.x<=b.width&&a.y<=b.height};c.prototype._isOutsideView=function(a){var b=a.popupHeight,c=a.popupWidth,d=a.screenLocation,e=a.side;a=a.view;if(isNaN(c)||isNaN(b)||!a||!d)return!1;var f=a.padding;return"right"===e&&d.x+c/2>a.width-f.right||"left"===e&&d.x-c/2<f.left||"top"===e&&d.y-b<f.top||"bottom"===e&&d.y+b>a.height-f.bottom?!0:!1};c.prototype._determineCurrentAlignment=function(){var a=
                    this._pointerOffsetInPx,b=this._containerNode,c=this._mainContainerNode,d=this.viewModel,e=d.screenLocation,d=d.view;if(!e||!d||!b)return"top-center";if(!this._isScreenLocationWithinView(e,d))return this._get("currentAlignment")||"top-center";var f=c?window.getComputedStyle(c,null):null,c=f?parseInt(f.getPropertyValue("max-height").replace(/[^-\d\.]/g,""),10):0,f=f?parseInt(f.getPropertyValue("height").replace(/[^-\d\.]/g,""),10):0,g=b.getBoundingClientRect(),b=g.width+a,g=Math.max(g.height,c,f)+
                    a,a=this._isOutsideView({popupHeight:g,popupWidth:b,screenLocation:e,side:"right",view:d}),c=this._isOutsideView({popupHeight:g,popupWidth:b,screenLocation:e,side:"left",view:d}),f=this._isOutsideView({popupHeight:g,popupWidth:b,screenLocation:e,side:"top",view:d}),e=this._isOutsideView({popupHeight:g,popupWidth:b,screenLocation:e,side:"bottom",view:d});return c?f?"bottom-right":"top-right":a?f?"bottom-left":"top-left":f?e?"top-center":"bottom-center":"top-center"};c.prototype._getCurrentAlignment=
                    function(){var a=this.alignment;return this.dockEnabled?null:"auto"===a?this._determineCurrentAlignment():"function"===typeof a?a.call(this):a};c.prototype._setCurrentAlignment=function(){this._set("currentAlignment",this._getCurrentAlignment())};c.prototype._setCurrentDockPosition=function(){this._set("currentDockPosition",this._getCurrentDockPosition())};c.prototype._getDockPosition=function(){var a=this.get("dockOptions.position");return"auto"===a?this._determineCurrentDockPosition():"function"===
                typeof a?a.call(this):a};c.prototype._getCurrentDockPosition=function(){return this.dockEnabled?this._getDockPosition():null};c.prototype._wouldDockTo=function(){return this.dockEnabled?null:this._getDockPosition()};c.prototype._renderFeatureMenuItemNode=function(a,b,c){var e,f=b===c,g=(e={},e["esri-popup__feature-menu-item--selected"]=f,e);e=f?x.tsx("span",{key:D("feature-menu-selected-feature-"+c),title:k.selectedFeature,"aria-label":k.selectedFeature,class:"esri-icon-check-mark"}):null;a=x.tsx("span",
                    {innerHTML:a.title||d.untitled});return x.tsx("li",{role:"menuitem",tabIndex:-1,key:D("feature-menu-feature-"+c),class:this.classes(g,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":b,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},x.tsx("span",{class:"esri-popup__feature-menu-title"},a,e))};c.prototype._renderFeatureMenuNode=function(a,b,c){var d=this;return 1<a.length?x.tsx("ol",{class:"esri-popup__feature-menu-list",id:c,bind:this,
                    afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},a.map(function(a,c){return d._renderFeatureMenuItemNode(a,c,b)})):null};c.prototype._determineCurrentDockPosition=function(){var a=this.get("viewModel.view"),b=B.isRTL()?"top-left":"top-right";if(!a)return b;var c=a.padding||{left:0,right:0,top:0,bottom:0},c=a.width-c.left-c.right;return(a=a.get("breakpoints"))&&c<=a.xsmall?"bottom-center":b};c.prototype._renderContent=
                    function(){var a=this.get("viewModel.content");if(!a)return null;if("string"===typeof a)return x.tsx("div",{key:a,innerHTML:a});if(x.isWidget(a)&&!a.destroyed)return x.tsx("div",{key:a},a.render());if(a instanceof HTMLElement)return x.tsx("div",{key:a,bind:a,afterCreate:this._attachToNode});if(x.hasDomNode(a))return x.tsx("div",{key:a,bind:a.domNode,afterCreate:this._attachToNode})};c.prototype._attachToNode=function(a){a.appendChild(this)};c.prototype._positionContainer=function(a){void 0===a&&(a=
                    this._containerNode);a&&(this._containerNode=a);if(a){var b=this.viewModel.screenLocation,c=a.getBoundingClientRect().width;if(b=this._calculatePositionStyle(b,c))a.style.top=b.top,a.style.left=b.left,a.style.bottom=b.bottom,a.style.right=b.right}};c.prototype._calculateFullWidth=function(a){var b=this.currentAlignment,c=this._pointerOffsetInPx;return"top-left"===b||"bottom-left"===b||"top-right"===b||"bottom-right"===b?a+c:a};c.prototype._calculateAlignmentPosition=function(a,b,c,d){var e=this.currentAlignment,
                    f=this._pointerOffsetInPx;d/=2;var g=c.height-b;c=c.width-a;var h=this.view.padding;if("bottom-center"===e)return{top:b+f-h.top,left:a-d-h.left};if("top-left"===e)return{bottom:g+f-h.bottom,right:c+f-h.right};if("bottom-left"===e)return{top:b+f-h.top,right:c+f-h.right};if("top-right"===e)return{bottom:g+f-h.bottom,left:a+f-h.left};if("bottom-right"===e)return{top:b+f-h.top,left:a+f-h.left};if("top-center"===e)return{bottom:g+f-h.bottom,left:a-d-h.left}};c.prototype._calculatePositionStyle=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           b){var c=this.view;if(c){if(this.dockEnabled)return{left:"",top:"",right:"",bottom:""};if(a&&b&&(b=this._calculateFullWidth(b),a=this._calculateAlignmentPosition(a.x,a.y,c,b)))return{top:void 0!==a.top?a.top+"px":"auto",left:void 0!==a.left?a.left+"px":"auto",bottom:void 0!==a.bottom?a.bottom+"px":"auto",right:void 0!==a.right?a.right+"px":"auto"}}};c.prototype._viewChange=function(a,b){a&&b&&(this.close(),this.clear())};c.prototype._viewReadyChange=function(a,b){a?(a=this.get("viewModel.view"),this._wireUpView(a)):
                    b&&(this.close(),this.clear())};c.prototype._wireUpView=function(a){this._destroySpinner();a&&(this.spinnerEnabled&&this._createSpinner(a),this._setDockEnabledForViewSize(this.dockOptions))};c.prototype._dockingThresholdCrossed=function(a,b,c){var d=a[0];a=a[1];var e=b[0];b=b[1];var f=c.width;c=c.height;return d<=f&&e>f||d>f&&e<=f||a<=c&&b>c||a>c&&b<=c};c.prototype._updateDockEnabledForViewSize=function(a,b){if(a&&b){var c=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},d=c.left+
                    c.right,e=c.top+c.bottom,c=[],f=[];c[0]=a[0]-d;c[1]=a[1]-e;f[0]=b[0]-d;f[1]=b[1]-e;a=this.dockOptions;this._dockingThresholdCrossed(c,f,a.breakpoint)&&this._setDockEnabledForViewSize(a);this._setCurrentDockPosition()}};c.prototype._focusDockButtonNode=function(a){this._focusDockButton&&(this._focusDockButton=!1,a.focus())};c.prototype._mainContainerNodeUpdated=function(a){this._mainContainerNode=a;this._focusContainer?(this._focusContainer=!1,a.focus()):this._blurContainer&&(this._blurContainer=!1,
                    a.blur())};c.prototype._featureMenuNodeUpdated=function(a){(this._featureMenuNode=a)&&this._focusFirstFeature&&(this._focusFirstFeature=!1,a=a.querySelectorAll("li"),a.length&&a[0].focus())};c.prototype._actionsMenuNodeUpdated=function(a){(this._actionsMenuNode=a)&&this._focusFirstAction&&(this._focusFirstAction=!1,a=a.querySelectorAll("li"),a.length&&a[0].focus())};c.prototype._focusFeatureMenuButtonNode=function(a){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,a.focus())};c.prototype._focusActionsMenuButtonNode=
                    function(a){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,a.focus())};c.prototype._featureMenuViewportNodeUpdated=function(a){a&&(a.scrollTop=0)};c.prototype._toggleScreenLocationEnabled=function(){var a=this.dockEnabled,b=this.viewModel;b&&(b.screenLocationEnabled=this.visible&&!a)};c.prototype._shouldDockAtCurrentViewSize=function(a){a=a.breakpoint;var b=this.get("viewModel.view.ui"),c=b.width,b=b.height;if(isNaN(c)||isNaN(b))return!1;c=a.hasOwnProperty("width")&&c<=a.width;a=a.hasOwnProperty("height")&&
                    b<=a.height;return c||a};c.prototype._setDockEnabledForViewSize=function(a){a.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(a))};c.prototype._getPageText=function(b,c){return a.substitute(k.pageText,{index:c+1,total:b})};c.prototype._destroySpinner=function(){var a=this._spinner,b=this.view;a&&(b&&b.ui&&b.ui.remove(this._spinner,"popup-spinner"),a.destroy(),this._spinner=null)};c.prototype._createSpinner=function(a){a&&(this._spinner=new z({view:a}),a.ui.add(this._spinner,{key:"popup-spinner",
                    position:"manual"}))};c.prototype._toggleCollapsed=function(){this.collapsed=!this.collapsed};c.prototype._close=function(){this.close();this.view&&this.view.focus()};c.prototype._toggleDockEnabled=function(){this.dockEnabled=!this.dockEnabled;this._focusDockButton=!0;this.scheduleRender()};c.prototype._toggleFeatureMenu=function(){var a=!this.featureMenuOpen;this._featureMenuOpenChanged(a);this.actionsMenuOpen=!1;this.featureMenuOpen=a};c.prototype._toggleActionsMenu=function(){var a=!this.actionsMenuOpen;
                    this._actionsMenuOpenChanged(a);this.featureMenuOpen=!1;this.actionsMenuOpen=a};c.prototype._triggerAction=function(a){a=a.currentTarget["data-action-index"];var b=this.viewModel.allActions.getItemAt(a);b&&"toggle"===b.type&&(b.value=!b.value);this.actionsMenuOpen=!1;this.viewModel.triggerAction(a)};c.prototype._selectFeature=function(a){a=a.currentTarget["data-feature-index"];isNaN(a)||(this.viewModel.selectedFeatureIndex=a);this.featureMenuOpen=!1;this._focusFeatureMenuButton=!0;this.scheduleRender()};
                c.prototype._next=function(){this.next()};c.prototype._previous=function(){this.previous()};e([w.aliasOf("viewModel.actions"),x.renderable()],c.prototype,"actions",void 0);e([w.property({dependsOn:["viewModel.visible"]}),x.renderable()],c.prototype,"actionsMenuOpen",null);e([w.property()],c.prototype,"alignment",void 0);e([w.aliasOf("viewModel.autoCloseEnabled")],c.prototype,"autoCloseEnabled",void 0);e([w.aliasOf("viewModel.autoOpenEnabled")],c.prototype,"autoOpenEnabled",void 0);e([w.aliasOf("viewModel.defaultPopupTemplateEnabled")],
                    c.prototype,"defaultPopupTemplateEnabled",void 0);e([w.aliasOf("viewModel.content"),x.renderable()],c.prototype,"content",void 0);e([w.property(),x.renderable()],c.prototype,"collapsed",void 0);e([w.property(),x.renderable()],c.prototype,"collapseEnabled",void 0);e([w.property({readOnly:!0,dependsOn:["dockEnabled","alignment"]}),x.renderable()],c.prototype,"currentAlignment",null);e([w.property({readOnly:!0,dependsOn:["viewModel.view.ready","dockEnabled","dockOptions"]}),x.renderable()],c.prototype,
                    "currentDockPosition",null);e([w.property(),x.renderable()],c.prototype,"dockOptions",null);e([w.property(),x.renderable()],c.prototype,"dockEnabled",void 0);e([w.aliasOf("viewModel.featureCount"),x.renderable()],c.prototype,"featureCount",void 0);e([w.property(),x.renderable()],c.prototype,"featureMenuOpen",void 0);e([w.aliasOf("viewModel.features"),x.renderable()],c.prototype,"features",void 0);e([w.property(),x.renderable()],c.prototype,"featureNavigationEnabled",null);e([w.aliasOf("viewModel.goToOverride")],
                    c.prototype,"goToOverride",void 0);e([w.aliasOf("viewModel.highlightEnabled")],c.prototype,"highlightEnabled",void 0);e([w.aliasOf("viewModel.location"),x.renderable()],c.prototype,"location",void 0);e([w.property({readOnly:!0}),x.renderable()],c.prototype,"featureWidgets",void 0);e([w.property()],c.prototype,"label",void 0);e([w.property(),x.renderable()],c.prototype,"maxInlineActions",void 0);e([w.aliasOf("viewModel.promises")],c.prototype,"promises",void 0);e([w.aliasOf("viewModel.selectedFeature"),
                    x.renderable()],c.prototype,"selectedFeature",void 0);e([w.aliasOf("viewModel.selectedFeatureIndex"),x.renderable()],c.prototype,"selectedFeatureIndex",void 0);e([w.property({readOnly:!0}),x.renderable()],c.prototype,"selectedFeatureWidget",void 0);e([w.property()],c.prototype,"spinnerEnabled",void 0);e([w.aliasOf("viewModel.title"),x.renderable()],c.prototype,"title",void 0);e([w.aliasOf("viewModel.updateLocationEnabled")],c.prototype,"updateLocationEnabled",void 0);e([w.aliasOf("viewModel.view")],
                    c.prototype,"view",void 0);e([w.property({type:A}),x.renderable("viewModel.view.widthBreakpoint viewModel.allActions viewModel.screenLocation viewModel.screenLocationEnabled viewModel.state viewModel.pendingPromisesCount viewModel.promiseCount viewModel.waitingForResult".split(" ")),x.vmEvent(["triggerAction","trigger-action"])],c.prototype,"viewModel",void 0);e([w.aliasOf("viewModel.visible"),x.renderable()],c.prototype,"visible",void 0);e([w.property(),x.renderable()],c.prototype,"visibleElements",
                    void 0);e([w.cast("visibleElements")],c.prototype,"castVisibleElements",null);e([x.accessibleHandler()],c.prototype,"_toggleCollapsed",null);e([x.accessibleHandler()],c.prototype,"_close",null);e([x.accessibleHandler()],c.prototype,"_toggleDockEnabled",null);e([x.accessibleHandler()],c.prototype,"_toggleFeatureMenu",null);e([x.accessibleHandler()],c.prototype,"_toggleActionsMenu",null);e([x.accessibleHandler()],c.prototype,"_triggerAction",null);e([x.accessibleHandler()],c.prototype,"_selectFeature",
                    null);e([x.accessibleHandler()],c.prototype,"_next",null);e([x.accessibleHandler()],c.prototype,"_previous",null);return c=e([w.subclass("esri.widgets.Popup")],c)}(w.declared(y))})},"esri/core/throttle":function(){define(["require","exports"],function(c,b){function n(b,c,l,h){var d=null,e=1E3;"number"===typeof c?(e=c,h=l):(d=c,e=l);var a=0,g,f=function(){a=0;b.apply(h,g)};c=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];d&&d.apply(h,b);g=b;e?a||(a=setTimeout(f,e)):f()};c.remove=
            function(){a&&(clearTimeout(a),a=0)};c.forceUpdate=function(){a&&(clearTimeout(a),f())};c.hasPendingUpdates=function(){return!!a};return c}Object.defineProperty(b,"__esModule",{value:!0});b.throttle=n;b.default=n})},"esri/widgets/Spinner":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/promiseUtils ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./Spinner/SpinnerViewModel ./support/widget".split(" "),function(c,b,n,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           e,m,l,h,d,k,a){return function(b){function c(a){a=b.call(this,a)||this;a._animationDelay=500;a._animationPromise=null;a.location=null;a.view=null;a.viewModel=new k;a.visible=!1;return a}n(c,b);c.prototype.postInitialize=function(){var a=this;this.own([l.watch(this,"visible",function(b){return a._visibleChange(b)})])};c.prototype.destroy=function(){this._animationPromise=null};c.prototype.show=function(a){var b=this,c=a.location;a=a.promise;c&&(this.viewModel.location=c);this.visible=!0;c=function(){return b.hide()};
            a&&a.catch(function(){}).then(c)};c.prototype.hide=function(){this.visible=!1};c.prototype.render=function(){var b,c=this.visible,d=!!this.viewModel.screenLocation,c=(b={},b["esri-spinner--start"]=c&&d,b["esri-spinner--finish"]=!c&&d,b);b=this._getPositionStyles();return a.tsx("div",{class:this.classes("esri-spinner",c),styles:b})};c.prototype._visibleChange=function(a){var b=this;if(a)this.viewModel.screenLocationEnabled=!0;else{var c=m.after(this._animationDelay);this._animationPromise=c;c.catch(function(){}).then(function(){b._animationPromise===
        c&&(b.viewModel.screenLocationEnabled=!1,b._animationPromise=null)})}};c.prototype._getPositionStyles=function(){var a=this.viewModel,b=a.screenLocation,a=a.view;if(!a||!b)return{};a=a.padding;return{left:b.x-a.left+"px",top:b.y-a.top+"px"}};e([h.aliasOf("viewModel.location")],c.prototype,"location",void 0);e([h.aliasOf("viewModel.view")],c.prototype,"view",void 0);e([h.property({type:k}),a.renderable(["viewModel.screenLocation","viewModel.screenLocationEnabled"])],c.prototype,"viewModel",void 0);
            e([h.aliasOf("viewModel.visible")],c.prototype,"visible",void 0);return c=e([h.subclass("esri.widgets.Spinner")],c)}(h.declared(d))})},"esri/widgets/Widget":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/domUtils ../core/Evented ../core/Handles ../core/Logger ../core/watchUtils ../core/accessorSupport/decorators ../libs/maquette/index ./support/widget".split(" "),function(c,b,n,e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         m,l,h,d,k,a,g,f,r,q){var t=a.getLogger("esri.widgets.Widget"),u=0;return function(a){function b(b,c){b=a.call(this,b,c)||this;b._attached=!1;b.destroyed=!1;b.domNode=null;b.iconClass="esri-icon-checkbox-unchecked";b.label=b.declaredClass.split(".").pop();b.visible=!0;b._internalHandles=new k;b.render=b.render.bind(b);return b}e(b,a);b.prototype.normalizeCtorArgs=function(a,b){a=n({},a);b&&(a.container=b);return a};b.prototype.initialize=function(){var a=this;this._internalHandles.add(this._renderableProps.map(function(b){return g.init(a,
            b,function(a,c){var d=this;l.isCollection(c)&&this._internalHandles.remove(this.declaredClass+":"+b+"-collection-change-event-listener");l.isCollection(a)&&(a=a.on("change",function(){return d.scheduleRender()}),this._internalHandles.add(a,this.declaredClass+":"+b+"-collection-change-event-listener"));this.scheduleRender()})}));this._delegatedEventNames.length&&this._internalHandles.add(g.init(this,"viewModel",function(){a._get("viewModel")&&a._internalHandles.remove("delegated-events");a._delegatedEventNames.map(function(b){return a.viewModel.on(b,
            function(c){a.emit(b,c)})})}),"delegated-events");this.postInitialize();this._internalHandles.add(g.whenOnce(this,"container",function(b){return a._attach(b)}))};b.prototype.postInitialize=function(){};b.prototype.destroy=function(){this.destroyed||(this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._internalHandles.destroy(),this._emitter.clear(),this._set("destroyed",!0))};b.prototype.startup=function(){t.warn("Widget.startup() is deprecated and no longer needed")};
            Object.defineProperty(b.prototype,"container",{set:function(a){this._get("container")||this._set("container",a)},enumerable:!0,configurable:!0});b.prototype.castContainer=function(a){return h.byId(a)};Object.defineProperty(b.prototype,"id",{get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+u++},set:function(a){a&&this._set("id",a)},enumerable:!0,configurable:!0});b.prototype.render=function(){throw Error("not implemented");};b.prototype.scheduleRender=
                function(){this._projector.scheduleRender()};b.prototype.classes=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return q.classes.apply(this,a)};b.prototype.own=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments));this._internalHandles.add(a)};b.prototype.renderNow=function(){this._projector.renderNow()};b.prototype._attach=function(a){a&&(this._projector.merge(a,this.render),this._attached=!0)};b.prototype._detach=function(a){a&&this._attached&&(this._projector.detach(this.render),
            a.parentNode&&a.parentNode.removeChild(a),this._attached=!1)};m([f.shared(r.createProjector())],b.prototype,"_projector",void 0);m([f.shared([])],b.prototype,"_renderableProps",void 0);m([f.shared([])],b.prototype,"_delegatedEventNames",void 0);m([f.property({value:null})],b.prototype,"container",null);m([f.cast("container")],b.prototype,"castContainer",null);m([f.property({readOnly:!0})],b.prototype,"destroyed",void 0);m([f.property({aliasOf:"container"})],b.prototype,"domNode",void 0);m([f.property()],
                b.prototype,"iconClass",void 0);m([f.property({dependsOn:["container"]})],b.prototype,"id",null);m([f.property()],b.prototype,"label",void 0);m([f.property()],b.prototype,"viewModel",void 0);m([f.property()],b.prototype,"visible",void 0);return b=m([f.subclass("esri.widgets.Widget")],b)}(f.declared(d.EventedAccessor))})},"esri/widgets/support/widget":function(){define("require exports ./decorators ./jsxFactory ./widgetUtils ./shim/SVGElement".split(" "),function(c,b,n,e,m){function l(c){for(var d in c)b.hasOwnProperty(d)||
        (b[d]=c[d])}Object.defineProperty(b,"__esModule",{value:!0});l(n);l(e);l(m);b.isWidget=function(b){return b&&"function"===typeof b.render};b.hasDomNode=function(b){return b&&"function"===typeof b.postMixInProperties&&"function"===typeof b.buildRendering&&"function"===typeof b.postCreate&&"function"===typeof b.startup}})},"esri/widgets/support/decorators":function(){define(["require","exports","./decorators/accessibleHandler","./decorators/renderable","./decorators/vmEvent"],function(c,b,n,e,m){function l(c){for(var d in c)b.hasOwnProperty(d)||
        (b[d]=c[d])}Object.defineProperty(b,"__esModule",{value:!0});l(n);l(e);l(m)})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["require","exports"],function(c,b){function n(b){return function(c){for(var e=[],h=1;h<arguments.length;h++)e[h-1]=arguments[h];h=c.type;if(c instanceof KeyboardEvent||"keyup"===h||"keydown"===h||"keypress"===h){if("Enter"===c.key||" "===c.key)c.preventDefault(),c.stopPropagation(),c.target.click()}else b.call.apply(b,[this,c].concat(e))}}Object.defineProperty(b,
            "__esModule",{value:!0});b.accessibleHandler=function(){return function(b,c){return{value:n(b[c])}}}})},"esri/widgets/support/decorators/renderable":function(){define(["require","exports","./propUtils"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.renderable=function(b){var c="string"===typeof b?n.splitProps(b):b;return function(b,e){b._renderableProps||(b._renderableProps=[]);b=b._renderableProps;c?b.push.apply(b,n.normalizePropNames(c,e)):b.push(e)}}})},"esri/widgets/support/decorators/propUtils":function(){define(["require",
            "exports"],function(c,b){Object.defineProperty(b,"__esModule",{value:!0});b.splitProps=function(b){return b.split(",").map(function(b){return b.trim()})};b.normalizePropNames=function(b,c){return b.map(function(b){b=0===b.indexOf(c)?b:c+"."+b;return b})}})},"esri/widgets/support/decorators/vmEvent":function(){define(["require","exports","./propUtils"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.vmEvent=function(b){return function(c){c._delegatedEventNames||(c._delegatedEventNames=
            []);var e=Array.isArray(b)?b:n.splitProps(b);c._delegatedEventNames=c._delegatedEventNames.concat(e)}}})},"esri/widgets/support/jsxFactory":function(){define(["require","exports","maquette-jsx"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.tsx=n.jsx})},"maquette-jsx/dist/maquette-jsx.umd":function(){(function(c,b){"object"===typeof exports&&"undefined"!==typeof module?b(exports):"function"===typeof define&&define.amd?define(["exports"],b):(c=c||self,b(c.maquetteCssTransitions=
            {}))})(this,function(c){var b=function(c,m){for(var e=0,h=c.length;e<h;e++){var d=c[e];Array.isArray(d)?b(d,m):null!==d&&void 0!==d&&!1!==d&&(d.hasOwnProperty("vnodeSelector")||(d={vnodeSelector:"",properties:void 0,children:void 0,text:d.toString(),domNode:null}),m.push(d))}},n=function(c,m){for(var e=[],h=2;h<arguments.length;h++)e[h-2]=arguments[h];if(1===e.length&&"string"===typeof e[0])return{vnodeSelector:c,properties:m||void 0,children:void 0,text:e[0],domNode:null};h=[];b(e,h);return{vnodeSelector:c,
            properties:m||void 0,children:h,text:void 0,domNode:null}};c.enableGlobalJsx=function(){window.jsx=n};c.jsx=n;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/widgets/support/shim/SVGElement":function(){define(["require","exports","../../../core/has"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});n.add("esri-svg-classlist","classList"in SVGElement.prototype);var e=function(){function b(b){this._node=b}b.prototype.add=function(b){var c=this._node;c.className.baseVal=(c.className.baseVal+
            " "+b).trim()};b.prototype.contains=function(b){return-1<this._node.className.baseVal.split(" ").indexOf(b)};b.prototype.remove=function(b){for(var c=this._node,d="",e=0,a=c.className.baseVal.split(" ");e<a.length;e++){var g=a[e];g!==b&&(d+=g+" ")}c.className.baseVal=d.trim()};b.prototype.toggle=function(b,c){var d=this.contains(b),e;if(e=d?!0!==c&&"remove":!1!==c&&"add")this[e](b);return void 0!==c?c:!d};return b}();b.DOMTokenListSubset=e;n("esri-svg-classlist")||Object.defineProperty(SVGElement.prototype,
            "classList",{get:function(){return new e(this)}})})},"esri/widgets/Spinner/SpinnerViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../support/AnchorElementViewModel".split(" "),function(c,b,n,e,m,l){return function(b){function c(c){c=b.call(this,c)||this;c.visible=!1;return c}n(c,b);e([m.property()],c.prototype,"visible",void 0);return c=e([m.subclass("esri.widgets.CompassViewModel")],
            c)}(m.declared(l))})},"esri/widgets/support/AnchorElementViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/watchUtils ../../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h,d,k){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var e=a.apply(this,b)||this;e._anchorHandles=new l;e.location=null;e.screenLocation=
            null;e.screenLocationEnabled=!1;e.view=null;e._anchorHandles.add([d.watch(e,["screenLocationEnabled","location","view.size","view.stationary"],function(){return e._updateScreenPointAndHandle()}),d.watch(e,["view","view.ready"],function(){return e._wireUpView()})]);return e}n(b,a);b.prototype.destroy=function(){this.view=null;this._anchorHandles&&this._anchorHandles.destroy();this._viewpointHandle=this._anchorHandles=null};b.prototype._wireUpView=function(){var a=this;this._anchorHandles.remove("view");
            this._viewpointHandle=null;if(this.get("view.ready")){this._setScreenLocation();var b=this.view,b=h.pausable(b,"3d"===b.type?"camera":"viewpoint",function(){return a._viewpointChange()});this._anchorHandles.add(b,"view");this._viewpointHandle=b;this._toggleWatchingViewpoint()}};b.prototype._viewpointChange=function(){this._setScreenLocation();this.emit("view-change")};b.prototype._updateScreenPointAndHandle=function(){this._setScreenLocation();this._toggleWatchingViewpoint()};b.prototype._toggleWatchingViewpoint=
            function(){var a=this._viewpointHandle,b=this.screenLocationEnabled;a&&(this.location&&b?a.resume():a.pause())};b.prototype._setScreenLocation=function(){var a=this.location,b=this.view,c=this.screenLocationEnabled,d=this.get("view.ready"),a=c&&a&&d?b.toScreen(a):null;this._set("screenLocation",a)};e([k.property()],b.prototype,"location",void 0);e([k.property({readOnly:!0})],b.prototype,"screenLocation",void 0);e([k.property()],b.prototype,"screenLocationEnabled",void 0);e([k.property()],b.prototype,
            "view",void 0);return b=e([k.subclass("esri.widgets.support.AnchorElementViewModel")],b)}(k.declared(m.EventedAccessor))})},"esri/widgets/Popup/PopupViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../geometry ../../core/Collection ../../core/Error ../../core/Handles ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/webMercatorUtils ../../layers/Layer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionToggle ../../views/input/InputManager ../../views/support/layerViewUtils ./actions ../support/AnchorElementViewModel ../support/GoTo".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t,u,p,v,w,z,y,A,x,B,D,E){var C=k.ofType({key:"type",defaultKeyValue:"button",base:w,typeMap:{button:z,toggle:y}}),G=f.getLogger("esri.widgets.Popup.PopupViewModel");return function(b){function c(a){a=b.call(this,a)||this;a._handles=new g;a._pendingPromises=new Set;a._zoomToLocation=null;a._fetchFeaturesController=null;a.actions=new C([B.zoomToFeature.clone()]);a.defaultPopupTemplateEnabled=!1;a.autoCloseEnabled=!1;a.autoOpenEnabled=!0;a.content=null;a.highlightEnabled=
                !0;a.title=null;a.updateLocationEnabled=!1;a.view=null;a.visible=!1;a.zoomFactor=4;return a}n(c,b);c.prototype.initialize=function(){var a=this;this._handles.add([t.init(this,["autoOpenEnabled","view"],this._autoOpenEnabledChange),this.on("view-change",this._autoClose),t.watch(this,["highlightEnabled","selectedFeature","visible","view"],this._highlightFeature),t.watch(this,"view.animation.state",function(b){a._zoomToLocation||(B.zoomToFeature.disabled="waiting-for-target"===b)}),t.watch(this,"location",
                function(b){var c=a.selectedFeature;a.updateLocationEnabled&&b&&(!c||c.geometry)&&a.centerAtLocation()}),t.watch(this,"selectedFeature",function(b){if(b){var c=a.location,d=a.updateLocationEnabled,e=a.view;!d&&c||!b.geometry?d&&!b.geometry&&a.centerAtLocation().then(function(){a.location=e.center.clone()}):a.location=r.unwrap(a._getPointFromGeometry(b.geometry))}}),this.on("trigger-action",function(b){return B.triggerAction({event:b,view:a.view})})])};c.prototype.destroy=function(){this._cancelFetchingFeatures();
                this._handles.destroy();this._handles=null;this._pendingPromises.clear();this.view=null};Object.defineProperty(c.prototype,"allActions",{get:function(){var a=this._get("allActions")||new C;a.removeAll();var b=this.selectedFeature&&("function"===typeof this.selectedFeature.getEffectivePopupTemplate&&this.selectedFeature.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled)||this.selectedFeature.popupTemplate),c=b&&b.actions;(b=b&&b.overwriteActions?c:c?c.concat(this.actions):this.actions)&&b.filter(Boolean).forEach(function(b){return a.add(b)});
                    return a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"featureCount",{get:function(){return this.features.length},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"features",{get:function(){return this._get("features")||[]},set:function(a){a=a||[];this._set("features",a);var b=this.pendingPromisesCount,c=this.selectedFeatureIndex,d=this.promiseCount&&a.length;d&&b&&-1===c?this.selectedFeatureIndex=0:d&&-1!==c||(this.selectedFeatureIndex=a.length?0:-1)},enumerable:!0,
                configurable:!0});Object.defineProperty(c.prototype,"location",{get:function(){return this._get("location")||null},set:function(a){var b=this.get("view.spatialReference.isWebMercator");a&&a.get("spatialReference.isWGS84")&&b&&(a=p.geographicToWebMercator(a));this._set("location",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pendingPromisesCount",{get:function(){return this._pendingPromises.size},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"waitingForResult",
                {get:function(){return(!!this._fetchFeaturesController||0<this.pendingPromisesCount)&&0===this.featureCount},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"promiseCount",{get:function(){return this.promises.length},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"promises",{get:function(){return this._get("promises")||[]},set:function(a){var b=this;this._pendingPromises.clear();this.features=[];Array.isArray(a)&&a.length?(this._set("promises",a),a=a.slice(0),
                    a.forEach(function(a){b._pendingPromises.add(a);a.then(function(c){b._pendingPromises.has(a)&&b._updateFeatures(c);b._updatePendingPromises(a)},function(){return b._updatePendingPromises(a)})})):this._set("promises",[]);this.notifyChange("pendingPromisesCount")},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"selectedFeature",{get:function(){var a=this.selectedFeatureIndex;return-1===a?null:this.features[a]||null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
                "selectedFeatureIndex",{get:function(){var a=this._get("selectedFeatureIndex");return"number"===typeof a?a:-1},set:function(a){var b=this.featureCount;a=isNaN(a)||-1>a||!b?-1:(a+b)%b;this._set("selectedFeatureIndex",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"state",{get:function(){return this.get("view.ready")?"ready":"disabled"},enumerable:!0,configurable:!0});c.prototype.centerAtLocation=function(){var b=this.view,c=this._getSelectedTarget();return c?this.callGoTo({target:{target:c,
                    scale:b.scale}}):(b=new a("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:c,view:b}),G.error(b),q.reject(b))};c.prototype.clear=function(){this.set({promises:[],features:[],content:null,title:null,location:null})};c.prototype.fetchFeatures=function(b,c){var d=this.view;return d&&b?d.fetchPopupFeatures(b,{event:c&&c.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:c&&c.signal}):(b=new a("fetch-features:invalid-screenpoint-or-view",
                "Cannot fetch features without a screenPoint and view.",{screenPoint:b,view:d}),G.error(b),q.reject(b))};c.prototype.open=function(a){var b=this;a=m({updateLocationEnabled:!1,promises:[],fetchFeatures:!1,visible:!1},a);var c=a.fetchFeatures;delete a.fetchFeatures;c=c?this._fetchFeaturesWithController(this._getScreenPoint(a.location||this.location)).then(function(a){var c=a.promisesPerLayerView;a=q.resolve(a.clientOnlyGraphics);c=c.map(function(a){return a.promise});b.promises=[a].concat(c)}):q.resolve();
                this.set(a);c.then(function(){b._setVisibleWhenContentExists()}).catch(function(){})};c.prototype.triggerAction=function(a){(a=this.allActions.getItemAt(a))&&this.emit("trigger-action",{action:a})};c.prototype.next=function(){this.selectedFeatureIndex+=1;return this};c.prototype.previous=function(){--this.selectedFeatureIndex;return this};c.prototype.zoomToLocation=function(){var b=this,c=this.location,d=this.selectedFeature,e=this.view,f=this.zoomFactor,g=this._getSelectedTarget();if(!g)return c=
                new a("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:g,view:e}),G.error(c),q.reject(c);var e=e.scale/f,h=this.get("selectedFeature.geometry")||c,k=h&&"point"===h.type&&this._isZoomScreenSize(d);B.zoomToFeature.active=!0;B.zoomToFeature.disabled=!0;return this._zoomToLocation=c=this.callGoTo({target:{target:g,scale:k?e:void 0}}).catch(function(){B.zoomToFeature.active=!1;B.zoomToFeature.disabled=!1;b._zoomToLocation=null}).then(function(){k&&(b.location=
                h)})};c.prototype._getScreenPoint=function(a){var b=this.view;return b&&a&&"function"===typeof b.toScreen?b.toScreen(a):null};c.prototype._getSelectedTarget=function(){var a=this.selectedFeature,b=this.location,c=this.view;if(!c)return null;var c="3d"===c.type,d=this.get("selectedFeature.geometry");return c?a||b:d||b};c.prototype._autoOpenEnabledChange=function(){var a=this,b=this._handles,c=this.autoOpenEnabled;b.remove("auto-fetch-features");c&&this.view&&(c=this.view.on("click",function(b){"mouse"===
            b.pointerType&&0!==b.button||a._fetchFeaturesAndOpen(b)},A.ViewEventPriorities.WIDGET),b.add(c,"auto-fetch-features"))};c.prototype._cancelFetchingFeatures=function(){var a=this._fetchFeaturesController;a&&a.abort();this._fetchFeaturesController=null;this.notifyChange("waitingForResult")};c.prototype._fetchFeaturesWithController=function(a,b){var c=this;this._cancelFetchingFeatures();var d=q.createAbortController(),e=d.signal;this._fetchFeaturesController=d;this.notifyChange("waitingForResult");a=
                this.fetchFeatures(a,{signal:e,event:b});a.catch().then(function(){c._fetchFeaturesController=null;c.notifyChange("waitingForResult")});return a};c.prototype._fetchFeaturesAndOpen=function(a){var b=a.mapPoint,c=this.view;this._fetchFeaturesWithController(a.screenPoint,a).then(function(a){var d=a.promisesPerLayerView,e=a.location,d=[q.resolve(a.clientOnlyGraphics)].concat(d.map(function(a){return a.promise}));c.popup.open({location:e||b,promises:d});return a})};c.prototype._updatePendingPromises=function(a){a&&
            this._pendingPromises.has(a)&&(this._pendingPromises.delete(a),this.notifyChange("pendingPromisesCount"))};c.prototype._setVisibleWhenContentExists=function(){var a=this,b=this._handles,c=this.promiseCount;b.remove("pendingVisible");c?(c=t.init(this,"pendingPromisesCount",function(c){a.featureCount&&(a.set("visible",!0),b.remove("pendingVisible"));c||b.remove("pendingVisible")}),b.add(c,"pendingVisible")):this.set("visible",!0)};c.prototype._autoClose=function(){this.autoCloseEnabled&&(this.visible=
                !1)};c.prototype._isZoomScreenSize=function(b){var c=this.view;if("3d"!==c.type||!b||"esri.Graphic"!==b.declaredClass)return!0;if((c=c.getViewForGraphic(b))&&"whenGraphicBounds"in c){var d=!1;c.whenGraphicBounds(b,{useViewElevation:!0}).then(function(a){d=!a||!a.boundingBox||a.boundingBox[0]===a.boundingBox[3]&&a.boundingBox[1]===a.boundingBox[4]&&a.boundingBox[2]===a.boundingBox[5]}).catch(function(){var c=new a("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:b});
                G.error(c)});return d}return!0};c.prototype._getPointFromGeometry=function(a){return r.isNone(a)?null:"point"===a.type?a:"extent"===a.type?a.center:"polygon"===a.type?a.centroid:"multipoint"===a.type||"polyline"===a.type?a.extent.center:null};c.prototype._getLayerView=function(a,b){return h(this,void 0,void 0,function(){return l(this,function(c){switch(c.label){case 0:return[4,a.when()];case 1:return c.sent(),[2,a.whenLayerView(b)]}})})};c.prototype._highlightFeature=function(){return h(this,void 0,
                void 0,function(){var a,b,c,d,e,f,g,h,k,m,n,q,p;return l(this,function(l){switch(l.label){case 0:a="highlight";this._handles.remove(a);b=this;c=b.selectedFeature;d=b.highlightEnabled;e=b.view;f=b.visible;if(!(c&&e&&d&&f))return[2];g=c.layer;if(!(g&&g instanceof v))return[2];this._highlightPromise=h=this._getLayerView(e,g);return[4,h];case 1:k=l.sent();if(!(k&&x.highlightsSupported(k)&&this._highlightPromise===h&&this.selectedFeature&&this.highlightEnabled&&this.visible))return[2];m="objectIdField"in
                    g&&g.objectIdField;q=(n=c.attributes)&&m&&n[m];p=k.highlight(q||c);this._handles.add(p,a);return[2]}})})};c.prototype._updateFeatures=function(a){var b=this.features;a&&a.length&&(b.length?(a=a.filter(function(a){return-1===b.indexOf(a)}),this.features=b.concat(a)):this.features=a)};e([u.property({type:C})],c.prototype,"actions",void 0);e([u.property({dependsOn:["actions.length","selectedFeature.sourceLayer.popupTemplate.actions.length","selectedFeature.sourceLayer.popupTemplate.overwriteActions",
                    "selectedFeature.popupTemplate.actions.length","selectedFeature.popupTemplate.overwriteActions"],readOnly:!0})],c.prototype,"allActions",null);e([u.property({type:Boolean})],c.prototype,"defaultPopupTemplateEnabled",void 0);e([u.property()],c.prototype,"autoCloseEnabled",void 0);e([u.property()],c.prototype,"autoOpenEnabled",void 0);e([u.property()],c.prototype,"content",void 0);e([u.property({readOnly:!0,dependsOn:["features"]})],c.prototype,"featureCount",null);e([u.property()],c.prototype,"features",
                null);e([u.property()],c.prototype,"highlightEnabled",void 0);e([u.property({type:d.Point})],c.prototype,"location",null);e([u.property({readOnly:!0,dependsOn:["promises"]})],c.prototype,"pendingPromisesCount",null);e([u.property({readOnly:!0,dependsOn:["featureCount","pendingPromisesCount"]})],c.prototype,"waitingForResult",null);e([u.property({readOnly:!0,dependsOn:["promises"]})],c.prototype,"promiseCount",null);e([u.property()],c.prototype,"promises",null);e([u.property({value:null,readOnly:!0,
                dependsOn:["features","selectedFeatureIndex","updateLocationEnabled"]})],c.prototype,"selectedFeature",null);e([u.property({value:-1})],c.prototype,"selectedFeatureIndex",null);e([u.property({readOnly:!0,dependsOn:["view.ready"]})],c.prototype,"state",null);e([u.property()],c.prototype,"title",void 0);e([u.property()],c.prototype,"updateLocationEnabled",void 0);e([u.property()],c.prototype,"view",void 0);e([u.property()],c.prototype,"visible",void 0);e([u.property()],c.prototype,"zoomFactor",void 0);
                e([u.property()],c.prototype,"centerAtLocation",null);e([u.property()],c.prototype,"zoomToLocation",null);return c=e([u.subclass("esri.widgets.Popup.PopupViewModel")],c)}(u.declared(E.GoToMixin(D)))})},"esri/views/support/layerViewUtils":function(){define(["require","exports","../../core/maybe"],function(c,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.highlightsSupported=function(b){return b&&"function"===typeof b.highlight};b.occludeesSupported=function(b){return b&&"function"===typeof b.occlude};
            b.scaleBoundsPredicate=function(b,c,l){return n.isNone(b)||b>l&&(0===c||b<c)};b.extractSafeScaleBounds=function(b){return{minScale:b.minScale||0,maxScale:b.maxScale||0}}})},"esri/widgets/Popup/actions":function(){define("require exports dojo/i18n!../../nls/common dojo/i18n!./nls/Popup ../../core/Error ../../core/promiseUtils ../../support/actions/ActionButton".split(" "),function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});b.zoomToFeature=new h({id:"zoom-to-feature",title:e.zoom,
            className:"esri-icon-zoom-in-magnifying-glass"});b.removeSelectedFeature=new h({id:"remove-selected-feature",title:n.remove,className:"esri-icon-trash"});b.all=[b.zoomToFeature,b.removeSelectedFeature];b.triggerAction=function(c){var d=c.view,a=c.event.action;c=d&&d.popup;if(!a)return l.reject(new m("trigger-action:missing-arguments","Event has no action"));if(!c)return l.reject(new m("trigger-action:missing-arguments","view.popup is missing"));var e=a.disabled,a=a.id;if(!a)return l.reject(new m("trigger-action:invalid-action",
            "action.id is missing"));if(e)return l.reject(new m("trigger-action:invalid-action","Action is disabled"));if(a===b.zoomToFeature.id)return c.viewModel.zoomToLocation();if(a===b.removeSelectedFeature.id){c.close();c=c.selectedFeature;if(!c)return l.reject(new m("trigger-action:"+b.removeSelectedFeature.id,"selectedFeature is required",{selectedFeature:c}));(e=c.sourceLayer)?e.remove(c):d.graphics.remove(c)}return l.resolve()}})},"esri/widgets/support/GoTo":function(){define(["require","exports","../../core/tsSupport/declareExtendsHelper",
            "../../core/tsSupport/decorateHelper","../../core/accessorSupport/decorators"],function(c,b,n,e,m){Object.defineProperty(b,"__esModule",{value:!0});b.GoToMixin=function(b){return function(b){function c(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];c=b.apply(this,c)||this;c.goToOverride=null;c.view=null;return c}n(c,b);c.prototype.callGoTo=function(b){var a=this.view;return this.goToOverride?this.goToOverride(a,b):a.goTo(b.target,b.options)};e([m.property()],c.prototype,"goToOverride",
            void 0);e([m.property()],c.prototype,"view",void 0);return c=e([m.subclass("esri.widgets.support.GoTo")],c)}(m.declared(b))}})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("require exports ../../core/MapUtils ../../core/mathUtils ../../core/maybe ../../core/screenUtils ./interactiveToolUtils".split(" "),function(c,b,n,e,m,l,h){Object.defineProperty(b,"__esModule",{value:!0});c=function(){function b(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=
            new Map;this._draggedManipulators=new Map;this._stopDrag=!1;this._cursor=this._revertToActiveTool=null}Object.defineProperty(b.prototype,"cursor",{get:function(){return this._cursor},enumerable:!0,configurable:!0});b.prototype.handleInputEvent=function(a,b){var c=function(){return a.stopPropagation()};switch(a.type){case "pointer-move":"mouse"===a.pointerType&&this._pointerLocations.set(a.pointerId,{x:a.x,y:a.y,pointerType:a.pointerType});break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=
            !0);this._stopDrag&&(c(),"end"===a.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===a.pointerType&&0!==a.button||a.native.shiftKey)break;var g=l.createScreenPointFromEvent(a),h=this._intersect(g,a.pointerType,b.forEachTool);if(m.isNone(h))break;var k=this._findManipulatorByKey(h,b.forEachTool);m.isSome(k)&&k.interactive&&!k.grabbing&&(this._grabbedManipulators.set(a.pointerId,{key:h,start:g}),1===this._grabbedManipulators.size&&(this._revertToActiveTool=b.activeTool,b.setActiveTool(h.tool)),
            k.grabbing=!0,k.events.emit("grab-changed",{action:"start",screenPoint:g}),c());break;case "pointer-up":this._handlePointerEnd(a,b);break;case "pointer-drag":if("mouse"===a.pointerType&&0!==a.button)break;var n=this._grabbedManipulators.get(a.pointerId),k=this._draggedManipulators.get(a.pointerId),h=m.applySome(n||k,function(a){return a.key}),p=this._findManipulatorByKey(h,b.forEachTool);if(m.isNone(p))break;g=l.createScreenPointFromEvent(a);g.x=e.clamp(g.x,0,b.view.width);g.y=e.clamp(g.y,0,b.view.height);
            n=m.expect(n||k).start;g={action:a.action,start:n,screenPoint:g};switch(a.action){case "start":case "update":if("update"===g.action||1===this._grabbedManipulators.size)p.dragging=!0,k||(g.action="start"),p.events.emit("drag",g),this._draggedManipulators.set(a.pointerId,{key:m.expect(h),start:n});break;case "end":p.dragging=!1,k&&p.events.emit("drag",g),this._draggedManipulators.delete(a.pointerId),this._handlePointerEnd(a,b)}c();break;case "immediate-click":var g=l.createScreenPointFromEvent(a),h=
            this._intersect(g,a.pointerType,b.forEachTool),v=this._findToolAndManipulatorByKey(h,b.forEachTool,d);a.native.shiftKey||b.forEachTool(function(a){if((!v||d.tool!==a||!a.selectionManagementDisabled)&&a.manipulators){var b=!1;a.manipulators.forEach(function(a){a=a.manipulator;a.selected&&(a.selected=!1,b=!0)});b&&a.manipulatorSelectionChanged&&a.manipulatorSelectionChanged()}});if(!v)break;k=d.manipulator;h=d.tool;if(!k.interactive)break;k.selectable&&!h.selectionManagementDisabled&&(k.selected=!k.selected,
        h.manipulatorSelectionChanged&&h.manipulatorSelectionChanged());h=a.native.shiftKey;k.events.emit("immediate-click",{screenPoint:g,button:a.button,pointerType:a.pointerType,shiftKey:h,stopPropagation:c});break;case "click":g=l.createScreenPointFromEvent(a);h=this._intersect(g,a.pointerType,b.forEachTool);k=this._findManipulatorByKey(h,b.forEachTool);if(m.isNone(k)||!k.interactive)break;h=a.native.shiftKey;k.events.emit(a.type,{screenPoint:g,button:a.button,pointerType:a.pointerType,shiftKey:h});c();
            break;case "double-click":g=l.createScreenPointFromEvent(a),h=this._intersect(g,a.pointerType,b.forEachTool),k=this._findManipulatorByKey(h,b.forEachTool),!m.isNone(k)&&k.interactive&&(h=a.native.shiftKey,k.events.emit("double-click",{screenPoint:g,button:a.button,pointerType:a.pointerType,shiftKey:h,stopPropagation:c}))}this._updateCursor(b.forEachTool)};b.prototype._handlePointerEnd=function(a,b){var c=m.applySome(this._grabbedManipulators.get(a.pointerId),function(a){return a.key}),d=this._findManipulatorByKey(c,
            b.forEachTool);m.isSome(d)&&!d.dragging&&(c=m.isSome(b.creatingTool)&&b.creatingTool===m.expect(c).tool,1!==this._grabbedManipulators.size||0!==this._draggedManipulators.size||c||(b.setActiveTool(this._revertToActiveTool),this._revertToActiveTool=null),d.grabbing&&(d.grabbing=!1,d.events.emit("grab-changed",{action:"end",screenPoint:l.createScreenPointFromEvent(a)})),this._grabbedManipulators.delete(a.pointerId))};b.prototype._cursorFromMap=function(a,b){var c=this,d=null;n.someMap(a,function(a){a=
            c._findManipulatorByKey(a.key,b);return m.isSome(a)&&a.interactive&&"cursor"in a&&a.cursor?(d=a.cursor,!0):!1});return d};b.prototype._updateCursor=function(a){this._cursor=0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators,a)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators,a)||"pointer":null};b.prototype.clearPointers=function(a,b,c,d){var e=this;void 0===c&&(c=!0);var f=function(b){return b.tool===a&&(m.isNone(d)||b.manipulatorId===
            d)};this._grabbedManipulators.forEach(function(a,c){a=a.key;f(a)&&(e._grabbedManipulators.delete(c),c=e._findManipulatorByKey(a,b),m.isSome(c)&&(c.grabbing=!1,c.events.emit("grab-changed",{action:"end",screenPoint:null})))});this._draggedManipulators.forEach(function(a,c){a=a.key;f(a)&&(e._draggedManipulators.delete(c),c=e._findManipulatorByKey(a,b),m.isSome(c)&&(c.dragging=!1,c.events.emit("drag",{action:"cancel",screenPoint:null,start:null})))});c&&this._hoveredManipulators.forEach(function(a,c){a=
            a.key;f(a)&&(e._hoveredManipulators.delete(c),c=e._findManipulatorByKey(a,b),m.isSome(c)&&(c.hovering=!1))});this._updateCursor(b)};b.prototype._intersect=function(a,b,c){var d=null;c(function(c){if(null==c.manipulators||!h.areToolManipulatorsEditable(c))return!1;var e=c.manipulators.intersect(a,b);if(m.isNone(e))return!1;d={manipulatorId:e,tool:c};return!0});return d};b.prototype.updateHoveredStateFromKnownPointers=function(a){var b=this;this._pointerLocations.forEach(function(c,d){b._updateHoveredStateForPointerAtScreenPosition(l.createScreenPoint(c.x,
            c.y),d,c.pointerType,a)})};b.prototype.handleHoverEvent=function(a,b){"pointer-up"!==a.type&&"immediate-click"!==a.type&&"pointer-move"!==a.type||"mouse"!==a.pointerType||this._updateHoveredStateForPointerAtScreenPosition(l.createScreenPointFromEvent(a),a.pointerId,a.pointerType,b)};b.prototype._updateHoveredStateForPointerAtScreenPosition=function(a,b,c,d){a=this._intersect(a,c,d);c=this._findManipulatorByKey(a,d);var e=m.applySome(this._hoveredManipulators.get(b),function(a){return a.key}),e=this._findManipulatorByKey(e,
            d);m.isSome(c)&&!c.interactive&&(c=null);e!==c&&(m.isSome(e)&&(e.hovering=!1),m.isSome(c)?(c.hovering=!0,this._hoveredManipulators.set(b,{key:m.expect(a)})):this._hoveredManipulators.delete(b),this._updateCursor(d))};b.prototype._findManipulatorByKey=function(a,b){return this._findToolAndManipulatorByKey(a,b,d)?d.manipulator:null};b.prototype._findToolAndManipulatorByKey=function(a,b,c){if(m.isNone(a))return null;c.tool=null;c.manipulator=null;b(function(b){if(b!==a.tool||null==b.manipulators||!h.areToolManipulatorsEditable(b))return!1;
            var d=b.manipulators.findById(a.manipulatorId);return m.isSome(d)?(c.manipulator=d,c.tool=b,!0):!1});return null!=c.manipulator};return b}();b.default=c;var d={manipulator:null,tool:null}})},"esri/views/input/Input":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ./gamepad/GamepadSettings".split(" "),function(c,b,n,e,m,l,h){return function(b){function c(){var a=null!==b&&b.apply(this,
            arguments)||this;a.gamepad=new h;return a}n(c,b);e([l.property({readOnly:!0})],c.prototype,"gamepad",void 0);return c=e([l.subclass("esri.views.input.Input")],c)}(l.declared(m))})},"esri/views/input/gamepad/GamepadSettings":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators ./GamepadInputDevice".split(" "),function(c,b,n,e,m,l,h,d){return function(b){function a(){var a=
            b.call(this)||this;a.devices=new l;a.enabledFocusMode="document";return a}n(a,b);e([h.property({type:l.ofType(d),readOnly:!0})],a.prototype,"devices",void 0);e([h.property({type:["document","view","none"]})],a.prototype,"enabledFocusMode",void 0);return a=e([h.subclass("esri.views.input.gamepad.GamepadSettings")],a)}(h.declared(m))})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l){var h=/^(3dconnexion|space(mouse|navigator|pilot|explorer))/i,d={standard:.15,spacemouse:.025,unknown:0};return function(b){function a(a){var c=b.call(this)||this;c.nativeIndex=null;c._detectedDeviceType="unknown";"standard"===a.mapping?c._detectedDeviceType="standard":h.test(a.id)?c._detectedDeviceType="spacemouse":c._detectedDeviceType="unknown";c.nativeIndex=a.index;return c}n(a,b);Object.defineProperty(a.prototype,"native",{get:function(){return(navigator.getGamepads?navigator.getGamepads():
                    [])[this.nativeIndex]},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"deviceType",{get:function(){return this._detectedDeviceType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"axisThreshold",{get:function(){return d[this.deviceType]},enumerable:!0,configurable:!0});e([l.property({nonNullable:!0,readOnly:!0})],a.prototype,"nativeIndex",void 0);e([l.property({type:String,readOnly:!0})],a.prototype,"deviceType",null);e([l.property({type:Number,readOnly:!0})],
                a.prototype,"axisThreshold",null);return a=e([l.subclass("esri.views.input.gamepad.GamepadInputDevice")],a)}(l.declared(m))})},"esri/views/navigation/Navigation":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ./gamepad/GamepadSettings".split(" "),function(c,b,n,e,m,l,h){return function(b){function c(a){a=b.call(this,a)||this;a.browserTouchPanEnabled=!0;a.gamepad=new h;a.momentumEnabled=
            !0;a.mouseWheelZoomEnabled=!0;return a}n(c,b);e([l.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);e([l.property({type:h,nonNullable:!0})],c.prototype,"gamepad",void 0);e([l.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);e([l.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=e([l.subclass("esri.views.navigation.Navigation")],c)}(l.declared(m))})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators ../../input/gamepad/GamepadInputDevice".split(" "),
            function(c,b,n,e,m,l,h){return function(b){function c(a){a=b.call(this,a)||this;a.enabled=!0;a.device=null;a.mode="pan";a.tiltDirection="forward-down";a.velocityFactor=1;return a}n(c,b);e([l.property({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0);e([l.property({type:h})],c.prototype,"device",void 0);e([l.property({type:["pan","zoom"],nonNullable:!0})],c.prototype,"mode",void 0);e([l.property({type:["forward-down","forward-up"],nonNullable:!0})],c.prototype,"tiltDirection",void 0);e([l.property({type:Number,
                nonNullable:!0})],c.prototype,"velocityFactor",void 0);return c=e([l.subclass("esri.views.navigation.gamepad.GamepadSettings")],c)}(l.declared(m))})},"esri/views/support/DefaultsFromMap":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/arrayUtils ../../core/Handles ../../core/Logger ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/heightModelInfoUtils ../../geometry/support/webMercatorUtils @dojo/framework/shim/Promise".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g,f,r,q,t){function u(a){return a?JSON.stringify(a.toJSON()):"undefined"}function p(a){switch(a){case 0:return"Waiting";case 1:return"Found";case 2:return"Exhausted"}return"Unknown: "+a}var v=a.getLogger("esri.views.support.DefaultsFromMap");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._handles=new k;b._waitTask=null;b._extentProjectController=null;b._spatialReferenceCandidates=null;b._extentCandidates=null;b.logDebugInformation=!1;b.isSpatialReferenceDone=
                !1;b.isTileInfoDone=!1;b.isHeightModelInfoSearching=!1;b.spatialReference=null;b.extent=null;b.heightModelInfo=null;b.vcsWkid=null;b.latestVcsWkid=null;b.mapCollectionPaths=h.DefaultMapCollectionPaths.slice();b.tileInfo=null;return b}n(b,a);h=b;b.prototype.initialize=function(){var a=this;this.watch("mapCollectionPaths",function(){a._running&&(a.reset(),a.start())})};b.prototype.destroy=function(){this._set("view",null);this._handles&&(this._handles.destroy(),this._handles=null);this._cancelLoading()};
                Object.defineProperty(b.prototype,"_running",{get:function(){return!!(this._handles&&0<this._handles.size)},enumerable:!0,configurable:!0});b.prototype.reset=function(){this._handles.removeAll();this._set("isSpatialReferenceDone",!1);this._set("isTileInfoDone",!1);this._set("isHeightModelInfoSearching",!1);this._set("spatialReference",null);this._set("extent",null);this._set("heightModelInfo",null);this._set("vcsWkid",null);this._set("latestVcsWkid",null);this._set("tileInfo",null);this._extentCandidates=
                    this._spatialReferenceCandidates=null};b.prototype.start=function(){var a=this;this._handles.removeAll();for(var b=this._updateLayerChange.bind(this),c=0,d=this.mapCollectionPaths;c<d.length;c++)this._handles.add(f.on(this.view,"map."+d[c],"change",b,b,b,!0));this._handles.add(f.when(this,"isSpatialReferenceDone",function(){return a._updateTileInfo()},!0))};b.prototype._ownerNameFromCollectionName=function(a){var b=a.lastIndexOf(".");return-1===b?"view":"view."+a.slice(0,b)};b.prototype._ensureLoadedOwnersFromCollectionName=
                    function(a){for(var b=this._ownerNameFromCollectionName(a).split("."),c,d=0;d<b.length;d++){c=this.get(b.slice(0,d+1).join("."));if(!c)break;if(c.load&&!c.isFulfilled())return{collectionName:a,owner:null,loading:c.load().catch(function(){})}}return{collectionName:a,owner:c}};b.prototype._cancelLoading=function(){this._waitTask=null;this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)};b.prototype._updateWhen=function(a){var b=this,c=!0,d=!1,e=a.catch(function(){}).then(function(){c?
                    d=!0:e===b._waitTask&&b._update()}),c=!1;d||(this._waitTask=e);return d};b.prototype._updateLayerChange=function(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",!1);this._update()};b.prototype._update=function(){var a=this;this._cancelLoading();if(this.view){if(!this.isSpatialReferenceDone){this._debugLog("Starting search for spatial reference...");var b=this._processMapCollections(function(b){return a._processSpatialReferenceSource(b)});this._debugLog("Search ended with status '"+
                    p(b)+"'");if(0!==b){var c=null,b=this._spatialReferenceCandidates;!b||1>b.length?(c=this.defaultSpatialReference,this._debugLog("No spatial reference found, locking to default ("+u(c)+")")):(this.defaultSpatialReference&&1<b.length&&-1<d.findIndex(b,function(b){return b.equals(a.defaultSpatialReference)})&&(b=[this.defaultSpatialReference]),c=b[0],this._debugLog("Locking to "+u(c)));this._set("spatialReference",c);c?this.extent?this._set("isSpatialReferenceDone",!0):(b=this.logDebugInformation,this.logDebugInformation=
                    !1,this._processMapCollections(function(b){return a._findExtent(b,c)}),this.logDebugInformation=b,this._projectExtentCandidate().catch().then(function(){return a._set("isSpatialReferenceDone",!0)})):this._set("isSpatialReferenceDone",!0)}}null==this.heightModelInfo&&this.view.isHeightModelInfoRequired&&(this._debugLog("Starting search for height model info..."),b=this._processMapCollections(function(b){return a._processHeightModelInfoSource(b)},function(a){return q.mayHaveHeightModelInfo(a)}),this._debugLog("Search ended with status "+
                    p(b)),this._set("isHeightModelInfoSearching",0===b));this._updateTileInfo()}};b.prototype._processMapCollections=function(a,b){var c=this;this._preloadMapCollections(b);var d=2;this._forAllMapCollectionSources(function(a){if(2!==d)return!1;c._debugLog("Processing collection "+a.collectionName+"...");return a.loading&&!c._updateWhen(a.loading)?(c._debugLog("Collection "+a.collectionName+" owner is loading -\x3e wait"),d=0,!1):!0},function(e){return 2!==d?!1:null==b||b(e)?!e.load||e.isFulfilled()||
                c._updateWhen(e.load())?e.load&&!e.isResolved()||!a(e)?!0:(d=1,!1):(c._debugLog("Source "+e.id+" is loading -\x3e wait"),d=0,!1):(c._debugLog("Source "+e.id+" is skipped due to predicate"),!1)});return d};b.prototype._preloadMapCollections=function(a){var b=this,c=10,d=this.logDebugInformation;this.logDebugInformation=!1;this._forAllMapCollectionSources(function(){return!0},function(e){if(0===c||null!=a&&!a(e))return!1;e.load&&!e.isFulfilled()&&(b.logDebugInformation=d,b._debugLog("Pre-loading source "+
                    e.id),b.logDebugInformation=!1,e.load().catch(function(){}),c--);return!0});this.logDebugInformation=d};b.prototype._forAllMapCollectionSources=function(a,b){for(var c=0,d=this.mapCollectionPaths;c<d.length;c++){var e="map."+d[c],f=this._ensureLoadedOwnersFromCollectionName(e);!1!==a(f)&&(f=f.owner,!f||f.isRejected&&f.isRejected()?this._debugLog("Collection "+e+" owner is invalid or rejected -\x3e skip"):(f=this.view.get(e))?this._forEachSource(f,b):this._debugLog("Collection "+e+" does not exist -\x3e skip"))}};
                b.prototype._forEachSource=function(a,b){var c=0;for(a=a.items;c<a.length;c++){var d=a[c];!1!==b(d)&&"layers"in d&&d.layers&&this._forEachSource(d.layers,b)}};b.prototype._processSpatialReferenceSource=function(a){var b=this._getSupportedSpatialReferences(a);if(0===b.length)return!1;this._spatialReferenceCandidates?(b=d.intersect(b,this._spatialReferenceCandidates,function(a,b){return a.equals(b)}),0<b.length?this._spatialReferenceCandidates=b:this._debugLog("Layer "+a.id+" is ignored because its supported spatial\n          references are not compatible with the previous candidates")):
                    this._spatialReferenceCandidates=b;return 1===this._spatialReferenceCandidates.length};b.prototype._findExtent=function(a,b){var c="fullExtents"in a&&a.fullExtents||(a.fullExtent?[a.fullExtent]:[]),e=d.find(c,function(a){return a.spatialReference.equals(b)});if(e)return this._set("extent",e),!0;0<this._getSupportedSpatialReferences(a).length&&(c=c.map(function(b){return{extent:b,layer:a}}),this._extentCandidates=(this._extentCandidates||[]).concat(c));return!1};b.prototype._projectExtentCandidate=
                    function(){return l(this,void 0,void 0,function(){var a,b,e,f,h;return m(this,function(k){switch(k.label){case 0:if(!this._extentCandidates||!this._extentCandidates.length)return[2];a=this.spatialReference;b=d.find(this._extentCandidates,function(b){return t.canProject(b.extent.spatialReference,a)});if(!b)return[3,1];this._set("extent",t.project(b.extent,a));return[3,7];case 1:return e=this._extentCandidates[0],this._extentProjectController=g.createAbortController(),[4,new Promise(function(a,b){c(["../../portal/support/geometryServiceUtils"],
                        a,b)})];case 2:f=k.sent(),k.label=3;case 3:return k.trys.push([3,5,,6]),[4,f.projectGeometry(e.extent,a,e.layer.portalItem,this._extentProjectController.signal)];case 4:return h=k.sent(),this._set("extent",h),[3,6];case 5:return k.sent(),[3,6];case 6:this._extentProjectController=null,k.label=7;case 7:return[2]}})})};b.prototype._getSupportedSpatialReferences=function(a){var b=this,c="supportedSpatialReferences"in a&&a.supportedSpatialReferences||(a.spatialReference?[a.spatialReference]:[]);if(0===
                    c.length)return this._debugLog("Layer "+a.id+" is ignored because it does not have any spatial references"),[];c=c.filter(function(c){return b.view.isSpatialReferenceSupported(c,a,function(a){return b._debugLog(a)})});0===c.length?this._debugLog("Layer "+a.id+" has spatial references but none of them are supported (or layer doesn't require locking)"):this._debugLog("Layer "+a.id+" has spatial references. Resulting candidate set: "+c.map(u).join(", "));return c};b.prototype._processHeightModelInfoSource=
                    function(a){var b=q.deriveHeightModelInfoFromLayer(a);return b?(this._set("heightModelInfo",b),this._set("isHeightModelInfoSearching",!1),a.spatialReference&&(this._set("vcsWkid",a.spatialReference.vcsWkid),this._set("latestVcsWkid",a.spatialReference.latestVcsWkid)),!0):!1};b.prototype._updateTileInfo=function(){if(null==this.tileInfo)if(!this.view.isTileInfoRequired())this._set("isTileInfoDone",!0);else if(this.isSpatialReferenceDone){var a=this.get("view.map");if(a){var b=a.basemap,a=a.get("layers.0"),
                    c=null;if(b&&"failed"!==b.loadStatus){if(!b.loaded){this._updateWhen(b.load());this._debugLog("updateTileInfo: basemap still loading");return}if((b=b&&b.get("baseLayers.0"))&&"failed"!==b.loadStatus)if(b.loaded)c="tileInfo"in b&&b.tileInfo;else{this._updateWhen(b.load());this._debugLog("updateTileInfo: first basemap layer still loading");return}else if(a&&"failed"!==a.loadStatus)if(a.loaded)c="tileInfo"in a&&a.tileInfo;else{this._updateWhen(a.load());this._debugLog("updateTileInfo: first operational layer still loading");
                    return}else{this._debugLog("updateTileInfo: no tileInfo");this._set("isTileInfoDone",!0);return}}else if(a&&"failed"!==a.loadStatus)if(a.loaded)c="tileInfo"in a&&a.tileInfo;else{this._updateWhen(a.load());this._debugLog("updateTileInfo: first operational layer still loading");return}c&&!c.spatialReference.equals(this.spatialReference)&&(c=null);this._debugLog("updateTileInfo: setting "+c);this._set("tileInfo",c);this._set("isTileInfoDone",!0)}else this._debugLog("updateTileInfo: no map")}};b.prototype._debugLog=
                    function(a){this.logDebugInformation&&v.info(a)};var h;b.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"];e([r.property()],b.prototype,"logDebugInformation",void 0);e([r.property({readOnly:!0})],b.prototype,"isSpatialReferenceDone",void 0);e([r.property({readOnly:!0})],b.prototype,"isTileInfoDone",void 0);e([r.property({readOnly:!0})],b.prototype,"isHeightModelInfoSearching",void 0);e([r.property({constructOnly:!0})],b.prototype,"view",void 0);e([r.property({readOnly:!0})],
                    b.prototype,"spatialReference",void 0);e([r.property({readOnly:!0})],b.prototype,"extent",void 0);e([r.property({readOnly:!0})],b.prototype,"heightModelInfo",void 0);e([r.property({readOnly:!0})],b.prototype,"vcsWkid",void 0);e([r.property({readOnly:!0})],b.prototype,"latestVcsWkid",void 0);e([r.property()],b.prototype,"mapCollectionPaths",void 0);e([r.property()],b.prototype,"defaultSpatialReference",void 0);e([r.property({readOnly:!0})],b.prototype,"tileInfo",void 0);return b=h=e([r.subclass("esri.views.support.DefaultsFromMap")],
                    b)}(r.declared(h))})},"esri/geometry/support/heightModelInfoUtils":function(){define("require exports ../../core/compilerUtils ../../core/Error ../HeightModelInfo ../../layers/support/arcgisLayerUrl".split(" "),function(c,b,n,e,m,l){function h(a,b,c){if(!d(a)||!d(b))return 4;if(null==a||null==b)return 0;if(!c&&a.heightUnit!==b.heightUnit)return 1;if(a.heightModel!==b.heightModel)return 2;switch(a.heightModel){case "gravity-related-height":return 0;case "ellipsoidal":return a.vertCRS===b.vertCRS?0:
            3;default:return 4}}function d(a){return null==a||null!=a.heightModel&&null!=a.heightUnit}function k(a){var b=a.url&&l.parse(a.url);return(null!=(a.spatialReference&&a.spatialReference.vcsWkid)||!b||"ImageServer"!==b.serverType)&&"heightModelInfo"in a&&a.heightModelInfo?a.heightModelInfo:g(a)?m.deriveUnitFromSR(r,a.spatialReference):null}function a(a){if("unknown"===a.type||!("capabilities"in a))return!1;switch(a.type){case "csv":case "feature":case "geojson":return!0;case "imagery":case "map-image":case "tile":case "vector-tile":case null:return!1;
            default:return n.neverReached(a),!1}}function g(b){return a(b)?!!(b.capabilities&&b.capabilities.data&&b.capabilities.data.supportsZ):f(b)}function f(a){switch(a.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":return!0;case "base-dynamic":case "base-elevation":case "base-tile":case "bing-maps":case "csv":case "geojson":case "feature":case "geo-rss":case "graphics":case "group":case "imagery":case "imagery-tile":case "kml":case "map-image":case "map-notes":case "open-street-map":case "route":case "stream":case "tile":case "unknown":case "unsupported":case "vector-tile":case "web-tile":case "wms":case "wmts":case null:break;
            default:n.neverReached(a)}return!1}Object.defineProperty(b,"__esModule",{value:!0});b.validateWebSceneError=function(a,b){if(!a)return null;if(!d(a))return new e("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:a});var c=a.heightUnit;a=m.deriveUnitFromSR(a,b).heightUnit;return c!==a?new e("webscene:incompatible-height-unit","The vertical units of the scene ("+c+") must match the horizontal units of the scene ("+a+")",{verticalUnit:c,
            horizontalUnit:a}):null};b.rejectLayerError=function(a,b,c){var d=k(a),f=h(d,b,c),l=null;if(d){var n=m.deriveUnitFromSR(d,a.spatialReference).heightUnit;c||n===d.heightUnit||(l=new e("layerview:unmatched-height-unit","The vertical units of the layer must match the horizontal units ("+n+")",{horizontalUnit:n}))}if(!("heightModelInfo"in a&&null!=a.heightModelInfo||null!=a.spatialReference)&&g(a)||4===f||l)return new e("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",
            {heightModelInfo:d,error:l});l=null;switch(f){case 1:a=d.heightUnit||"unknown";c=b.heightUnit||"unknown";l=new e("layerview:incompatible-height-unit","The vertical units of the layer ("+a+") must match the vertical units of the scene ("+c+")",{layerUnit:a,sceneUnit:c});break;case 2:a=d.heightModel||"unknown";c=b.heightModel||"unknown";l=new e("layerview:incompatible-height-model","The height model of the layer ("+a+") must match the height model of the scene ("+c+")",{layerHeightModel:a,sceneHeightModel:c});
            break;case 3:a=d.vertCRS||"unknown",c=b.vertCRS||"unknown",l=new e("layerview:incompatible-vertical-datum","The vertical datum of the layer ("+a+") must match the vertical datum of the scene ("+c+")",{layerDatum:a,sceneDatum:c})}return l?new e("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:d,sceneHeightModelInfo:b,error:l}):null};b.deriveHeightModelInfoFromLayer=k;b.mayHaveHeightModelInfo=function(b){return null!=
            b.layers||f(b)||a(b)||"heightModelInfo"in b};var r=new m({heightModel:"gravity-related-height"})})},"esri/views/ViewAnimation":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/has ../core/Promise ../core/promiseUtils ../core/promiseUtils ../core/scheduling ../core/accessorSupport/decorators".split(" "),function(c,b,n,e,m,l,h,d,k,a,g){c=function(b){function c(a){a=b.call(this,a)||this;a.state="running";a.target=null;return a}
            n(c,b);c.prototype.initialize=function(){var a=this;this.addResolvingPromise(d.create(function(b,c){return a._dfd={resolve:b,reject:c}}))};Object.defineProperty(c.prototype,"done",{get:function(){return"finished"===this.state||"stopped"===this.state},enumerable:!0,configurable:!0});c.prototype.stop=function(){var b=this;"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),l("esri-native-promise")?this._dfd.reject(new m("ViewAnimation stopped")):a.schedule(function(){return b._dfd.reject(new m("ViewAnimation stopped"))}))};
            c.prototype.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),l("esri-native-promise")?this._dfd.resolve():a.schedule(this._dfd.resolve))};c.prototype.update=function(a,b){b||(b=k.isPromiseLike(a)?"waiting-for-target":"running");this._set("target",a);this._set("state",b)};e([g.property({readOnly:!0,dependsOn:["state"]})],c.prototype,"done",null);e([g.property({readOnly:!0,type:String})],c.prototype,"state",void 0);e([g.property()],c.prototype,"target",
                void 0);return c=e([g.subclass("esri.views.ViewAnimation")],c)}(g.declared(h.EsriPromise));(c||(c={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return c})},"esri/views/layers/LayerView":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/Promise ../../core/accessorSupport/decorators".split(" "),
            function(c,b,n,e,m,l,h,d,k,a,g){return function(a){function b(b){b=a.call(this,b)||this;b.layer=null;b.parent=null;return b}n(b,a);b.prototype.initialize=function(){var a=this;this.when().catch(function(b){if("layerview:create-error"!==b.name){var c=a.layer&&a.layer.id||"no id",d=a.layer&&a.layer.title||"no title";k.getLogger(a.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '"+d+"', id: '"+c+"')",b);throw b;}})};b.prototype.destroy=function(){this.layer=this.parent=
                null};Object.defineProperty(b.prototype,"fullOpacity",{get:function(){var a=this.get("layer.opacity"),a=null==a?1:a,b=this.get("parent.fullOpacity");return a*(null==b?1:b)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"suspended",{get:function(){return!this.canResume()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"suspendInfo",{get:function(){return this.getSuspendInfo()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"updating",{get:function(){return!!(this.updatingHandles&&
                    this.updatingHandles.updating||this.isUpdating())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{get:function(){return!0===this.get("layer.visible")},set:function(a){void 0===a?this._clearOverride("visible"):this._override("visible",a)},enumerable:!0,configurable:!0});b.prototype.canResume=function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1};b.prototype.getSuspendInfo=function(){var a=this.parent&&this.parent.suspended?
                this.parent.suspendInfo:{};this.view&&this.view.ready||(a.viewNotReady=!0);this.layer&&this.layer.loaded||(a.layerNotLoaded=!0);this.visible||(a.layerInvisible=!0);return a};b.prototype.isUpdating=function(){return!1};e([g.property({dependsOn:["layer.opacity","parent.fullOpacity"]})],b.prototype,"fullOpacity",null);e([g.property()],b.prototype,"layer",void 0);e([g.property()],b.prototype,"parent",void 0);e([g.property({readOnly:!0,dependsOn:["visible","layer.loaded","parent.suspended","view?.ready"]})],
                b.prototype,"suspended",null);e([g.property({readOnly:!0,dependsOn:["visible","layer.loaded","parent.suspended","view?.ready"]})],b.prototype,"suspendInfo",null);e([g.property({type:Boolean,dependsOn:["updatingHandles.updating"],readOnly:!0})],b.prototype,"updating",null);e([g.property({dependsOn:["layer.visible"]})],b.prototype,"visible",null);return b=e([g.subclass("esri.views.layers.LayerView")],b)}(g.declared(h.HandleOwnerMixin(d.IdentifiableMixin(a.EsriPromiseMixin(l.EventedMixin(m))))))})},
        "*now":function(c){c(['dojo/i18n!*preload*dojo/nls/dojo*["ar","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});require.boot&&require.apply(null,require.boot);